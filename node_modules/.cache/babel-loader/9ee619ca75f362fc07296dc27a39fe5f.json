{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/contextmenu/plugin.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/contextmenu/plugin.js","mtime":1551936176000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var contextmenu = function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n\n      var get = function () {\n        return value;\n      };\n\n      var set = function (v) {\n        value = v;\n      };\n\n      var clone = function () {\n        return Cell(get());\n      };\n\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var get = function (visibleState) {\n      var isContextMenuVisible = function () {\n        return visibleState.get();\n      };\n\n      return {\n        isContextMenuVisible: isContextMenuVisible\n      };\n    };\n\n    var $_jnjhmasjnlpb104 = {\n      get: get\n    };\n\n    var shouldNeverUseNative = function (editor) {\n      return editor.settings.contextmenu_never_use_native;\n    };\n\n    var getContextMenu = function (editor) {\n      return editor.getParam('contextmenu', 'link openlink image inserttable | cell row column deletetable');\n    };\n\n    var $_3lx8x2aujnlpb106 = {\n      shouldNeverUseNative: shouldNeverUseNative,\n      getContextMenu: getContextMenu\n    };\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n    var getUiContainer = function (editor) {\n      return global$1.DOM.select(editor.settings.ui_container)[0];\n    };\n\n    var nu = function (x, y) {\n      return {\n        x: x,\n        y: y\n      };\n    };\n\n    var transpose = function (pos, dx, dy) {\n      return nu(pos.x + dx, pos.y + dy);\n    };\n\n    var fromPageXY = function (e) {\n      return nu(e.pageX, e.pageY);\n    };\n\n    var fromClientXY = function (e) {\n      return nu(e.clientX, e.clientY);\n    };\n\n    var transposeUiContainer = function (element, pos) {\n      if (element && global$1.DOM.getStyle(element, 'position', true) !== 'static') {\n        var containerPos = global$1.DOM.getPos(element);\n        var dx = containerPos.x - element.scrollLeft;\n        var dy = containerPos.y - element.scrollTop;\n        return transpose(pos, -dx, -dy);\n      } else {\n        return transpose(pos, 0, 0);\n      }\n    };\n\n    var transposeContentAreaContainer = function (element, pos) {\n      var containerPos = global$1.DOM.getPos(element);\n      return transpose(pos, containerPos.x, containerPos.y);\n    };\n\n    var getPos = function (editor, e) {\n      if (editor.inline) {\n        return transposeUiContainer(getUiContainer(editor), fromPageXY(e));\n      } else {\n        var iframePos = transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n        return transposeUiContainer(getUiContainer(editor), iframePos);\n      }\n    };\n\n    var $_fmy8vhavjnlpb108 = {\n      getPos: getPos\n    };\n    var global$2 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var renderMenu = function (editor, visibleState) {\n      var menu, contextmenu;\n      var items = [];\n      contextmenu = $_3lx8x2aujnlpb106.getContextMenu(editor);\n      global$3.each(contextmenu.split(/[ ,]/), function (name) {\n        var item = editor.menuItems[name];\n\n        if (name === '|') {\n          item = {\n            text: name\n          };\n        }\n\n        if (item) {\n          item.shortcut = '';\n          items.push(item);\n        }\n      });\n\n      for (var i = 0; i < items.length; i++) {\n        if (items[i].text === '|') {\n          if (i === 0 || i === items.length - 1) {\n            items.splice(i, 1);\n          }\n        }\n      }\n\n      menu = global$2.create('menu', {\n        items: items,\n        context: 'contextmenu',\n        classes: 'contextmenu'\n      });\n      menu.uiContainer = getUiContainer(editor);\n      menu.renderTo(getUiContainer(editor));\n      menu.on('hide', function (e) {\n        if (e.control === this) {\n          visibleState.set(false);\n        }\n      });\n      editor.on('remove', function () {\n        menu.remove();\n        menu = null;\n      });\n      return menu;\n    };\n\n    var show = function (editor, pos, visibleState, menu) {\n      if (menu.get() === null) {\n        menu.set(renderMenu(editor, visibleState));\n      } else {\n        menu.get().show();\n      }\n\n      menu.get().moveTo(pos.x, pos.y);\n      visibleState.set(true);\n    };\n\n    var $_3bkazwayjnlpb10i = {\n      show: show\n    };\n\n    var isNativeOverrideKeyEvent = function (editor, e) {\n      return e.ctrlKey && !$_3lx8x2aujnlpb106.shouldNeverUseNative(editor);\n    };\n\n    var setup = function (editor, visibleState, menu) {\n      editor.on('contextmenu', function (e) {\n        if (isNativeOverrideKeyEvent(editor, e)) {\n          return;\n        }\n\n        e.preventDefault();\n        $_3bkazwayjnlpb10i.show(editor, $_fmy8vhavjnlpb108.getPos(editor, e), visibleState, menu);\n      });\n    };\n\n    var $_a5yp2watjnlpb105 = {\n      setup: setup\n    };\n    global.add('contextmenu', function (editor) {\n      var menu = Cell(null),\n          visibleState = Cell(false);\n      $_a5yp2watjnlpb105.setup(editor, visibleState, menu);\n      return $_jnjhmasjnlpb104.get(visibleState);\n    });\n\n    function Plugin() {}\n\n    return Plugin;\n  }();\n})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/contextmenu/plugin.js"],"names":["contextmenu","Cell","initial","value","get","set","v","clone","global","tinymce","util","Tools","resolve","visibleState","isContextMenuVisible","$_jnjhmasjnlpb104","shouldNeverUseNative","editor","settings","contextmenu_never_use_native","getContextMenu","getParam","$_3lx8x2aujnlpb106","global$1","getUiContainer","DOM","select","ui_container","nu","x","y","transpose","pos","dx","dy","fromPageXY","e","pageX","pageY","fromClientXY","clientX","clientY","transposeUiContainer","element","getStyle","containerPos","getPos","scrollLeft","scrollTop","transposeContentAreaContainer","inline","iframePos","getContentAreaContainer","$_fmy8vhavjnlpb108","global$2","global$3","renderMenu","menu","items","each","split","name","item","menuItems","text","shortcut","push","i","length","splice","create","context","classes","uiContainer","renderTo","on","control","remove","show","moveTo","$_3bkazwayjnlpb10i","isNativeOverrideKeyEvent","ctrlKey","setup","preventDefault","$_a5yp2watjnlpb105","add","Plugin"],"mappings":"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","sourcesContent":["(function () {\nvar contextmenu = (function () {\n  'use strict';\n\n  var Cell = function (initial) {\n    var value = initial;\n    var get = function () {\n      return value;\n    };\n    var set = function (v) {\n      value = v;\n    };\n    var clone = function () {\n      return Cell(get());\n    };\n    return {\n      get: get,\n      set: set,\n      clone: clone\n    };\n  };\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var get = function (visibleState) {\n    var isContextMenuVisible = function () {\n      return visibleState.get();\n    };\n    return { isContextMenuVisible: isContextMenuVisible };\n  };\n  var $_jnjhmasjnlpb104 = { get: get };\n\n  var shouldNeverUseNative = function (editor) {\n    return editor.settings.contextmenu_never_use_native;\n  };\n  var getContextMenu = function (editor) {\n    return editor.getParam('contextmenu', 'link openlink image inserttable | cell row column deletetable');\n  };\n  var $_3lx8x2aujnlpb106 = {\n    shouldNeverUseNative: shouldNeverUseNative,\n    getContextMenu: getContextMenu\n  };\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n  var getUiContainer = function (editor) {\n    return global$1.DOM.select(editor.settings.ui_container)[0];\n  };\n\n  var nu = function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  };\n  var transpose = function (pos, dx, dy) {\n    return nu(pos.x + dx, pos.y + dy);\n  };\n  var fromPageXY = function (e) {\n    return nu(e.pageX, e.pageY);\n  };\n  var fromClientXY = function (e) {\n    return nu(e.clientX, e.clientY);\n  };\n  var transposeUiContainer = function (element, pos) {\n    if (element && global$1.DOM.getStyle(element, 'position', true) !== 'static') {\n      var containerPos = global$1.DOM.getPos(element);\n      var dx = containerPos.x - element.scrollLeft;\n      var dy = containerPos.y - element.scrollTop;\n      return transpose(pos, -dx, -dy);\n    } else {\n      return transpose(pos, 0, 0);\n    }\n  };\n  var transposeContentAreaContainer = function (element, pos) {\n    var containerPos = global$1.DOM.getPos(element);\n    return transpose(pos, containerPos.x, containerPos.y);\n  };\n  var getPos = function (editor, e) {\n    if (editor.inline) {\n      return transposeUiContainer(getUiContainer(editor), fromPageXY(e));\n    } else {\n      var iframePos = transposeContentAreaContainer(editor.getContentAreaContainer(), fromClientXY(e));\n      return transposeUiContainer(getUiContainer(editor), iframePos);\n    }\n  };\n  var $_fmy8vhavjnlpb108 = { getPos: getPos };\n\n  var global$2 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n  var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n  var renderMenu = function (editor, visibleState) {\n    var menu, contextmenu;\n    var items = [];\n    contextmenu = $_3lx8x2aujnlpb106.getContextMenu(editor);\n    global$3.each(contextmenu.split(/[ ,]/), function (name) {\n      var item = editor.menuItems[name];\n      if (name === '|') {\n        item = { text: name };\n      }\n      if (item) {\n        item.shortcut = '';\n        items.push(item);\n      }\n    });\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].text === '|') {\n        if (i === 0 || i === items.length - 1) {\n          items.splice(i, 1);\n        }\n      }\n    }\n    menu = global$2.create('menu', {\n      items: items,\n      context: 'contextmenu',\n      classes: 'contextmenu'\n    });\n    menu.uiContainer = getUiContainer(editor);\n    menu.renderTo(getUiContainer(editor));\n    menu.on('hide', function (e) {\n      if (e.control === this) {\n        visibleState.set(false);\n      }\n    });\n    editor.on('remove', function () {\n      menu.remove();\n      menu = null;\n    });\n    return menu;\n  };\n  var show = function (editor, pos, visibleState, menu) {\n    if (menu.get() === null) {\n      menu.set(renderMenu(editor, visibleState));\n    } else {\n      menu.get().show();\n    }\n    menu.get().moveTo(pos.x, pos.y);\n    visibleState.set(true);\n  };\n  var $_3bkazwayjnlpb10i = { show: show };\n\n  var isNativeOverrideKeyEvent = function (editor, e) {\n    return e.ctrlKey && !$_3lx8x2aujnlpb106.shouldNeverUseNative(editor);\n  };\n  var setup = function (editor, visibleState, menu) {\n    editor.on('contextmenu', function (e) {\n      if (isNativeOverrideKeyEvent(editor, e)) {\n        return;\n      }\n      e.preventDefault();\n      $_3bkazwayjnlpb10i.show(editor, $_fmy8vhavjnlpb108.getPos(editor, e), visibleState, menu);\n    });\n  };\n  var $_a5yp2watjnlpb105 = { setup: setup };\n\n  global.add('contextmenu', function (editor) {\n    var menu = Cell(null), visibleState = Cell(false);\n    $_a5yp2watjnlpb105.setup(editor, visibleState, menu);\n    return $_jnjhmasjnlpb104.get(visibleState);\n  });\n  function Plugin () {\n  }\n\n  return Plugin;\n\n}());\n})();\n"]}]}