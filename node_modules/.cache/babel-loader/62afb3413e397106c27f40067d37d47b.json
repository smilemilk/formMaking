{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/paste/plugin.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/paste/plugin.js","mtime":1551936176000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var paste = function () {\n    'use strict';\n\n    var Cell = function (initial) {\n      var value = initial;\n\n      var get = function () {\n        return value;\n      };\n\n      var set = function (v) {\n        value = v;\n      };\n\n      var clone = function () {\n        return Cell(get());\n      };\n\n      return {\n        get: get,\n        set: set,\n        clone: clone\n      };\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var hasProPlugin = function (editor) {\n      if (/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins) && global.get('powerpaste')) {\n        if (typeof window.console !== 'undefined' && window.console.log) {\n          window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n        }\n\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    var $_866zzmiejnlpb2cn = {\n      hasProPlugin: hasProPlugin\n    };\n\n    var get = function (clipboard, quirks) {\n      return {\n        clipboard: clipboard,\n        quirks: quirks\n      };\n    };\n\n    var $_6869etigjnlpb2d0 = {\n      get: get\n    };\n\n    var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n      return editor.fire('PastePreProcess', {\n        content: html,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n\n    var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n      return editor.fire('PastePostProcess', {\n        node: node,\n        internal: internal,\n        wordContent: isWordHtml\n      });\n    };\n\n    var firePastePlainTextToggle = function (editor, state) {\n      return editor.fire('PastePlainTextToggle', {\n        state: state\n      });\n    };\n\n    var firePaste = function (editor, ieFake) {\n      return editor.fire('paste', {\n        ieFake: ieFake\n      });\n    };\n\n    var $_co3z41ijjnlpb2d4 = {\n      firePastePreProcess: firePastePreProcess,\n      firePastePostProcess: firePastePostProcess,\n      firePastePlainTextToggle: firePastePlainTextToggle,\n      firePaste: firePaste\n    };\n\n    var shouldPlainTextInform = function (editor) {\n      return editor.getParam('paste_plaintext_inform', true);\n    };\n\n    var shouldBlockDrop = function (editor) {\n      return editor.getParam('paste_block_drop', false);\n    };\n\n    var shouldPasteDataImages = function (editor) {\n      return editor.getParam('paste_data_images', false);\n    };\n\n    var shouldFilterDrop = function (editor) {\n      return editor.getParam('paste_filter_drop', true);\n    };\n\n    var getPreProcess = function (editor) {\n      return editor.getParam('paste_preprocess');\n    };\n\n    var getPostProcess = function (editor) {\n      return editor.getParam('paste_postprocess');\n    };\n\n    var getWebkitStyles = function (editor) {\n      return editor.getParam('paste_webkit_styles');\n    };\n\n    var shouldRemoveWebKitStyles = function (editor) {\n      return editor.getParam('paste_remove_styles_if_webkit', true);\n    };\n\n    var shouldMergeFormats = function (editor) {\n      return editor.getParam('paste_merge_formats', true);\n    };\n\n    var isSmartPasteEnabled = function (editor) {\n      return editor.getParam('smart_paste', true);\n    };\n\n    var isPasteAsTextEnabled = function (editor) {\n      return editor.getParam('paste_as_text', false);\n    };\n\n    var getRetainStyleProps = function (editor) {\n      return editor.getParam('paste_retain_style_properties');\n    };\n\n    var getWordValidElements = function (editor) {\n      var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n      return editor.getParam('paste_word_valid_elements', defaultValidElements);\n    };\n\n    var shouldConvertWordFakeLists = function (editor) {\n      return editor.getParam('paste_convert_word_fake_lists', true);\n    };\n\n    var shouldUseDefaultFilters = function (editor) {\n      return editor.getParam('paste_enable_default_filters', true);\n    };\n\n    var $_5zjznuikjnlpb2d5 = {\n      shouldPlainTextInform: shouldPlainTextInform,\n      shouldBlockDrop: shouldBlockDrop,\n      shouldPasteDataImages: shouldPasteDataImages,\n      shouldFilterDrop: shouldFilterDrop,\n      getPreProcess: getPreProcess,\n      getPostProcess: getPostProcess,\n      getWebkitStyles: getWebkitStyles,\n      shouldRemoveWebKitStyles: shouldRemoveWebKitStyles,\n      shouldMergeFormats: shouldMergeFormats,\n      isSmartPasteEnabled: isSmartPasteEnabled,\n      isPasteAsTextEnabled: isPasteAsTextEnabled,\n      getRetainStyleProps: getRetainStyleProps,\n      getWordValidElements: getWordValidElements,\n      shouldConvertWordFakeLists: shouldConvertWordFakeLists,\n      shouldUseDefaultFilters: shouldUseDefaultFilters\n    };\n\n    var shouldInformUserAboutPlainText = function (editor, userIsInformedState) {\n      return userIsInformedState.get() === false && $_5zjznuikjnlpb2d5.shouldPlainTextInform(editor);\n    };\n\n    var displayNotification = function (editor, message) {\n      editor.notificationManager.open({\n        text: editor.translate(message),\n        type: 'info'\n      });\n    };\n\n    var togglePlainTextPaste = function (editor, clipboard, userIsInformedState) {\n      if (clipboard.pasteFormat.get() === 'text') {\n        clipboard.pasteFormat.set('html');\n        $_co3z41ijjnlpb2d4.firePastePlainTextToggle(editor, false);\n      } else {\n        clipboard.pasteFormat.set('text');\n        $_co3z41ijjnlpb2d4.firePastePlainTextToggle(editor, true);\n\n        if (shouldInformUserAboutPlainText(editor, userIsInformedState)) {\n          displayNotification(editor, 'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.');\n          userIsInformedState.set(true);\n        }\n      }\n\n      editor.focus();\n    };\n\n    var $_zd5w3iijnlpb2d2 = {\n      togglePlainTextPaste: togglePlainTextPaste\n    };\n\n    var register = function (editor, clipboard, userIsInformedState) {\n      editor.addCommand('mceTogglePlainTextPaste', function () {\n        $_zd5w3iijnlpb2d2.togglePlainTextPaste(editor, clipboard, userIsInformedState);\n      });\n      editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n        if (value.content) {\n          clipboard.pasteHtml(value.content, value.internal);\n        }\n\n        if (value.text) {\n          clipboard.pasteText(value.text);\n        }\n      });\n    };\n\n    var $_1zu5gaihjnlpb2d1 = {\n      register: register\n    };\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n    var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n    var internalMimeType = 'x-tinymce/html';\n    var internalMark = '<!-- ' + internalMimeType + ' -->';\n\n    var mark = function (html) {\n      return internalMark + html;\n    };\n\n    var unmark = function (html) {\n      return html.replace(internalMark, '');\n    };\n\n    var isMarked = function (html) {\n      return html.indexOf(internalMark) !== -1;\n    };\n\n    var $_3953hcirjnlpb2dl = {\n      mark: mark,\n      unmark: unmark,\n      isMarked: isMarked,\n      internalHtmlMime: function () {\n        return internalMimeType;\n      }\n    };\n    var global$5 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n    var isPlainText = function (text) {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n\n    var toBRs = function (text) {\n      return text.replace(/\\r?\\n/g, '<br>');\n    };\n\n    var openContainer = function (rootTag, rootAttrs) {\n      var key;\n      var attrs = [];\n      var tag = '<' + rootTag;\n\n      if (typeof rootAttrs === 'object') {\n        for (key in rootAttrs) {\n          if (rootAttrs.hasOwnProperty(key)) {\n            attrs.push(key + '=\"' + global$5.encodeAllRaw(rootAttrs[key]) + '\"');\n          }\n        }\n\n        if (attrs.length) {\n          tag += ' ' + attrs.join(' ');\n        }\n      }\n\n      return tag + '>';\n    };\n\n    var toBlockElements = function (text, rootTag, rootAttrs) {\n      var blocks = text.split(/\\n\\n/);\n      var tagOpen = openContainer(rootTag, rootAttrs);\n      var tagClose = '</' + rootTag + '>';\n      var paragraphs = global$3.map(blocks, function (p) {\n        return p.split(/\\n/).join('<br />');\n      });\n\n      var stitch = function (p) {\n        return tagOpen + p + tagClose;\n      };\n\n      return paragraphs.length === 1 ? paragraphs[0] : global$3.map(paragraphs, stitch).join('');\n    };\n\n    var convert = function (text, rootTag, rootAttrs) {\n      return rootTag ? toBlockElements(text, rootTag, rootAttrs) : toBRs(text);\n    };\n\n    var $_1r1niaisjnlpb2dm = {\n      isPlainText: isPlainText,\n      convert: convert,\n      toBRs: toBRs,\n      toBlockElements: toBlockElements\n    };\n    var global$6 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n    var global$7 = tinymce.util.Tools.resolve('tinymce.html.Node');\n    var global$8 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n    var global$9 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n    function filter(content, items) {\n      global$3.each(items, function (v) {\n        if (v.constructor === RegExp) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    }\n\n    function innerText(html) {\n      var schema = global$8();\n      var domParser = global$6({}, schema);\n      var text = '';\n      var shortEndedElements = schema.getShortEndedElements();\n      var ignoreElements = global$3.makeMap('script noscript style textarea video audio iframe object', ' ');\n      var blockElements = schema.getBlockElements();\n\n      function walk(node) {\n        var name$$1 = node.name,\n            currentNode = node;\n\n        if (name$$1 === 'br') {\n          text += '\\n';\n          return;\n        }\n\n        if (name$$1 === 'wbr') {\n          return;\n        }\n\n        if (shortEndedElements[name$$1]) {\n          text += ' ';\n        }\n\n        if (ignoreElements[name$$1]) {\n          text += ' ';\n          return;\n        }\n\n        if (node.type === 3) {\n          text += node.value;\n        }\n\n        if (!node.shortEnded) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n\n        if (blockElements[name$$1] && currentNode.next) {\n          text += '\\n';\n\n          if (name$$1 === 'p') {\n            text += '\\n';\n          }\n        }\n      }\n\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    }\n\n    function trimHtml(html) {\n      function trimSpaces(all, s1, s2) {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n\n        return '\\xA0';\n      }\n\n      html = filter(html, [/^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig, /<!--StartFragment-->|<!--EndFragment-->/g, [/( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g, trimSpaces], /<br class=\"Apple-interchange-newline\">/g, /<br>$/i]);\n      return html;\n    }\n\n    function createIdGenerator(prefix) {\n      var count = 0;\n      return function () {\n        return prefix + count++;\n      };\n    }\n\n    var isMsEdge = function () {\n      return navigator.userAgent.indexOf(' Edge/') !== -1;\n    };\n\n    var $_56bkmj0jnlpb2e1 = {\n      filter: filter,\n      innerText: innerText,\n      trimHtml: trimHtml,\n      createIdGenerator: createIdGenerator,\n      isMsEdge: isMsEdge\n    };\n\n    function isWordContent(content) {\n      return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n    }\n\n    function isNumericList(text) {\n      var found, patterns;\n      patterns = [/^[IVXLMCD]{1,2}\\.[ \\u00a0]/, /^[ivxlmcd]{1,2}\\.[ \\u00a0]/, /^[a-z]{1,2}[\\.\\)][ \\u00a0]/, /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/, /^[0-9]+\\.[ \\u00a0]/, /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/, /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/];\n      text = text.replace(/^[\\u00a0 ]+/, '');\n      global$3.each(patterns, function (pattern) {\n        if (pattern.test(text)) {\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    }\n\n    function isBulletList(text) {\n      return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n    }\n\n    function convertFakeListsToProperLists(node) {\n      var currentListNode,\n          prevListNode,\n          lastLevel = 1;\n\n      function getText(node) {\n        var txt = '';\n\n        if (node.type === 3) {\n          return node.value;\n        }\n\n        if (node = node.firstChild) {\n          do {\n            txt += getText(node);\n          } while (node = node.next);\n        }\n\n        return txt;\n      }\n\n      function trimListStart(node, regExp) {\n        if (node.type === 3) {\n          if (regExp.test(node.value)) {\n            node.value = node.value.replace(regExp, '');\n            return false;\n          }\n        }\n\n        if (node = node.firstChild) {\n          do {\n            if (!trimListStart(node, regExp)) {\n              return false;\n            }\n          } while (node = node.next);\n        }\n\n        return true;\n      }\n\n      function removeIgnoredNodes(node) {\n        if (node._listIgnore) {\n          node.remove();\n          return;\n        }\n\n        if (node = node.firstChild) {\n          do {\n            removeIgnoredNodes(node);\n          } while (node = node.next);\n        }\n      }\n\n      function convertParagraphToLi(paragraphNode, listName, start) {\n        var level = paragraphNode._listLevel || lastLevel;\n\n        if (level !== lastLevel) {\n          if (level < lastLevel) {\n            if (currentListNode) {\n              currentListNode = currentListNode.parent.parent;\n            }\n          } else {\n            prevListNode = currentListNode;\n            currentListNode = null;\n          }\n        }\n\n        if (!currentListNode || currentListNode.name !== listName) {\n          prevListNode = prevListNode || currentListNode;\n          currentListNode = new global$7(listName, 1);\n\n          if (start > 1) {\n            currentListNode.attr('start', '' + start);\n          }\n\n          paragraphNode.wrap(currentListNode);\n        } else {\n          currentListNode.append(paragraphNode);\n        }\n\n        paragraphNode.name = 'li';\n\n        if (level > lastLevel && prevListNode) {\n          prevListNode.lastChild.append(currentListNode);\n        }\n\n        lastLevel = level;\n        removeIgnoredNodes(paragraphNode);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n        trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n        trimListStart(paragraphNode, /^\\u00a0+/);\n      }\n\n      var elements = [];\n      var child = node.firstChild;\n\n      while (typeof child !== 'undefined' && child !== null) {\n        elements.push(child);\n        child = child.walk();\n\n        if (child !== null) {\n          while (typeof child !== 'undefined' && child.parent !== node) {\n            child = child.walk();\n          }\n        }\n      }\n\n      for (var i = 0; i < elements.length; i++) {\n        node = elements[i];\n\n        if (node.name === 'p' && node.firstChild) {\n          var nodeText = getText(node);\n\n          if (isBulletList(nodeText)) {\n            convertParagraphToLi(node, 'ul');\n            continue;\n          }\n\n          if (isNumericList(nodeText)) {\n            var matches = /([0-9]+)\\./.exec(nodeText);\n            var start = 1;\n\n            if (matches) {\n              start = parseInt(matches[1], 10);\n            }\n\n            convertParagraphToLi(node, 'ol', start);\n            continue;\n          }\n\n          if (node._listLevel) {\n            convertParagraphToLi(node, 'ul', 1);\n            continue;\n          }\n\n          currentListNode = null;\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n    }\n\n    function filterStyles(editor, validStyles, node, styleValue) {\n      var outputStyles = {},\n          matches;\n      var styles = editor.dom.parseStyle(styleValue);\n      global$3.each(styles, function (value, name) {\n        switch (name) {\n          case 'mso-list':\n            matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n\n            if (matches) {\n              node._listLevel = parseInt(matches[1], 10);\n            }\n\n            if (/Ignore/i.test(value) && node.firstChild) {\n              node._listIgnore = true;\n              node.firstChild._listIgnore = true;\n            }\n\n            break;\n\n          case 'horiz-align':\n            name = 'text-align';\n            break;\n\n          case 'vert-align':\n            name = 'vertical-align';\n            break;\n\n          case 'font-color':\n          case 'mso-foreground':\n            name = 'color';\n            break;\n\n          case 'mso-background':\n          case 'mso-highlight':\n            name = 'background';\n            break;\n\n          case 'font-weight':\n          case 'font-style':\n            if (value !== 'normal') {\n              outputStyles[name] = value;\n            }\n\n            return;\n\n          case 'mso-element':\n            if (/^(comment|comment-list)$/i.test(value)) {\n              node.remove();\n              return;\n            }\n\n            break;\n        }\n\n        if (name.indexOf('mso-comment') === 0) {\n          node.remove();\n          return;\n        }\n\n        if (name.indexOf('mso-') === 0) {\n          return;\n        }\n\n        if ($_5zjznuikjnlpb2d5.getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n          outputStyles[name] = value;\n        }\n      });\n\n      if (/(bold)/i.test(outputStyles['font-weight'])) {\n        delete outputStyles['font-weight'];\n        node.wrap(new global$7('b', 1));\n      }\n\n      if (/(italic)/i.test(outputStyles['font-style'])) {\n        delete outputStyles['font-style'];\n        node.wrap(new global$7('i', 1));\n      }\n\n      outputStyles = editor.dom.serializeStyle(outputStyles, node.name);\n\n      if (outputStyles) {\n        return outputStyles;\n      }\n\n      return null;\n    }\n\n    var filterWordContent = function (editor, content) {\n      var retainStyleProperties, validStyles;\n      retainStyleProperties = $_5zjznuikjnlpb2d5.getRetainStyleProps(editor);\n\n      if (retainStyleProperties) {\n        validStyles = global$3.makeMap(retainStyleProperties.split(/[, ]/));\n      }\n\n      content = $_56bkmj0jnlpb2e1.filter(content, [/<br class=\"?Apple-interchange-newline\"?>/gi, /<b[^>]+id=\"?docs-internal-[^>]*>/gi, /<!--[\\s\\S]+?-->/gi, /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi, [/<(\\/?)s>/gi, '<$1strike>'], [/&nbsp;/gi, '\\xA0'], [/<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi, function (str, spaces) {\n        return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join('\\xA0') : '';\n      }]]);\n      var validElements = $_5zjznuikjnlpb2d5.getWordValidElements(editor);\n      var schema = global$8({\n        valid_elements: validElements,\n        valid_children: '-li[p]'\n      });\n      global$3.each(schema.elements, function (rule) {\n        if (!rule.attributes.class) {\n          rule.attributes.class = {};\n          rule.attributesOrder.push('class');\n        }\n\n        if (!rule.attributes.style) {\n          rule.attributes.style = {};\n          rule.attributesOrder.push('style');\n        }\n      });\n      var domParser = global$6({}, schema);\n      domParser.addAttributeFilter('style', function (nodes) {\n        var i = nodes.length,\n            node;\n\n        while (i--) {\n          node = nodes[i];\n          node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n\n          if (node.name === 'span' && node.parent && !node.attributes.length) {\n            node.unwrap();\n          }\n        }\n      });\n      domParser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length,\n            node,\n            className;\n\n        while (i--) {\n          node = nodes[i];\n          className = node.attr('class');\n\n          if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n            node.remove();\n          }\n\n          node.attr('class', null);\n        }\n      });\n      domParser.addNodeFilter('del', function (nodes) {\n        var i = nodes.length;\n\n        while (i--) {\n          nodes[i].remove();\n        }\n      });\n      domParser.addNodeFilter('a', function (nodes) {\n        var i = nodes.length,\n            node,\n            href,\n            name;\n\n        while (i--) {\n          node = nodes[i];\n          href = node.attr('href');\n          name = node.attr('name');\n\n          if (href && href.indexOf('#_msocom_') !== -1) {\n            node.remove();\n            continue;\n          }\n\n          if (href && href.indexOf('file://') === 0) {\n            href = href.split('#')[1];\n\n            if (href) {\n              href = '#' + href;\n            }\n          }\n\n          if (!href && !name) {\n            node.unwrap();\n          } else {\n            if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n              node.unwrap();\n              continue;\n            }\n\n            node.attr({\n              href: href,\n              name: name\n            });\n          }\n        }\n      });\n      var rootNode = domParser.parse(content);\n\n      if ($_5zjznuikjnlpb2d5.shouldConvertWordFakeLists(editor)) {\n        convertFakeListsToProperLists(rootNode);\n      }\n\n      content = global$9({\n        validate: editor.settings.validate\n      }, schema).serialize(rootNode);\n      return content;\n    };\n\n    var preProcess = function (editor, content) {\n      return $_5zjznuikjnlpb2d5.shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n    };\n\n    var $_3diikcivjnlpb2dt = {\n      preProcess: preProcess,\n      isWordContent: isWordContent\n    };\n\n    var processResult = function (content, cancelled) {\n      return {\n        content: content,\n        cancelled: cancelled\n      };\n    };\n\n    var postProcessFilter = function (editor, html, internal, isWordHtml) {\n      var tempBody = editor.dom.create('div', {\n        style: 'display:none'\n      }, html);\n      var postProcessArgs = $_co3z41ijjnlpb2d4.firePastePostProcess(editor, tempBody, internal, isWordHtml);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n\n    var filterContent = function (editor, content, internal, isWordHtml) {\n      var preProcessArgs = $_co3z41ijjnlpb2d4.firePastePreProcess(editor, content, internal, isWordHtml);\n\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, preProcessArgs.content, internal, isWordHtml);\n      } else {\n        return processResult(preProcessArgs.content, preProcessArgs.isDefaultPrevented());\n      }\n    };\n\n    var process = function (editor, html, internal) {\n      var isWordHtml = $_3diikcivjnlpb2dt.isWordContent(html);\n      var content = isWordHtml ? $_3diikcivjnlpb2dt.preProcess(editor, html) : html;\n      return filterContent(editor, content, internal, isWordHtml);\n    };\n\n    var $_5wu4ykiujnlpb2do = {\n      process: process\n    };\n\n    var removeMeta = function (editor, html) {\n      var body = editor.dom.create('body', {}, html);\n      global$3.each(body.querySelectorAll('meta'), function (elm) {\n        return elm.parentNode.removeChild(elm);\n      });\n      return body.innerHTML;\n    };\n\n    var pasteHtml = function (editor, html) {\n      editor.insertContent(removeMeta(editor, html), {\n        merge: $_5zjznuikjnlpb2d5.shouldMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n\n    var isAbsoluteUrl = function (url) {\n      return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n    };\n\n    var isImageUrl = function (url) {\n      return isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);\n    };\n\n    var createImage = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n\n    var createLink = function (editor, url, pasteHtmlFn) {\n      editor.undoManager.extra(function () {\n        pasteHtmlFn(editor, url);\n      }, function () {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n\n    var linkSelection = function (editor, html, pasteHtmlFn) {\n      return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    };\n\n    var insertImage = function (editor, html, pasteHtmlFn) {\n      return isImageUrl(html) ? createImage(editor, html, pasteHtmlFn) : false;\n    };\n\n    var smartInsertContent = function (editor, html) {\n      global$3.each([linkSelection, insertImage, pasteHtml], function (action) {\n        return action(editor, html, pasteHtml) !== true;\n      });\n    };\n\n    var insertContent = function (editor, html) {\n      if ($_5zjznuikjnlpb2d5.isSmartPasteEnabled(editor) === false) {\n        pasteHtml(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    var $_ci2qz0j1jnlpb2e5 = {\n      isImageUrl: isImageUrl,\n      isAbsoluteUrl: isAbsoluteUrl,\n      insertContent: insertContent\n    };\n\n    var pasteHtml$1 = function (editor, html, internalFlag) {\n      var internal = internalFlag ? internalFlag : $_3953hcirjnlpb2dl.isMarked(html);\n      var args = $_5wu4ykiujnlpb2do.process(editor, $_3953hcirjnlpb2dl.unmark(html), internal);\n\n      if (args.cancelled === false) {\n        $_ci2qz0j1jnlpb2e5.insertContent(editor, args.content);\n      }\n    };\n\n    var pasteText = function (editor, text) {\n      text = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      text = $_1r1niaisjnlpb2dm.convert(text, editor.settings.forced_root_block, editor.settings.forced_root_block_attrs);\n      pasteHtml$1(editor, text, false);\n    };\n\n    var getDataTransferItems = function (dataTransfer) {\n      var items = {};\n      var mceInternalUrlPrefix = 'data:text/mce-internal,';\n\n      if (dataTransfer) {\n        if (dataTransfer.getData) {\n          var legacyText = dataTransfer.getData('Text');\n\n          if (legacyText && legacyText.length > 0) {\n            if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n              items['text/plain'] = legacyText;\n            }\n          }\n        }\n\n        if (dataTransfer.types) {\n          for (var i = 0; i < dataTransfer.types.length; i++) {\n            var contentType = dataTransfer.types[i];\n\n            try {\n              items[contentType] = dataTransfer.getData(contentType);\n            } catch (ex) {\n              items[contentType] = '';\n            }\n          }\n        }\n      }\n\n      return items;\n    };\n\n    var getClipboardContent = function (editor, clipboardEvent) {\n      var content = getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n      return $_56bkmj0jnlpb2e1.isMsEdge() ? global$3.extend(content, {\n        'text/html': ''\n      }) : content;\n    };\n\n    var hasContentType = function (clipboardContent, mimeType) {\n      return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    };\n\n    var hasHtmlOrText = function (content) {\n      return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    };\n\n    var getBase64FromUri = function (uri) {\n      var idx;\n      idx = uri.indexOf(',');\n\n      if (idx !== -1) {\n        return uri.substr(idx + 1);\n      }\n\n      return null;\n    };\n\n    var isValidDataUriImage = function (settings, imgElm) {\n      return settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\n    };\n\n    var extractFilename = function (editor, str) {\n      var m = str.match(/([\\s\\S]+?)\\.(?:jpeg|jpg|png|gif)$/i);\n      return m ? editor.dom.encode(m[1]) : null;\n    };\n\n    var uniqueId = $_56bkmj0jnlpb2e1.createIdGenerator('mceclip');\n\n    var pasteImage = function (editor, rng, reader, blob) {\n      if (rng) {\n        editor.selection.setRng(rng);\n        rng = null;\n      }\n\n      var dataUri = reader.result;\n      var base64 = getBase64FromUri(dataUri);\n      var id = uniqueId();\n      var name$$1 = editor.settings.images_reuse_filename && blob.name ? extractFilename(editor, blob.name) : id;\n      var img = new Image();\n      img.src = dataUri;\n\n      if (isValidDataUriImage(editor.settings, img)) {\n        var blobCache = editor.editorUpload.blobCache;\n        var blobInfo = void 0,\n            existingBlobInfo = void 0;\n        existingBlobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n          return cachedBlobInfo.base64() === base64;\n        });\n\n        if (!existingBlobInfo) {\n          blobInfo = blobCache.create(id, blob, base64, name$$1);\n          blobCache.add(blobInfo);\n        } else {\n          blobInfo = existingBlobInfo;\n        }\n\n        pasteHtml$1(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n      } else {\n        pasteHtml$1(editor, '<img src=\"' + dataUri + '\">', false);\n      }\n    };\n\n    var isClipboardEvent = function (event$$1) {\n      return event$$1.type === 'paste';\n    };\n\n    var pasteImageData = function (editor, e, rng) {\n      var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n\n      function processItems(items) {\n        var i,\n            item,\n            reader,\n            hadImage = false;\n\n        if (items) {\n          for (i = 0; i < items.length; i++) {\n            item = items[i];\n\n            if (/^image\\/(jpeg|png|gif|bmp)$/.test(item.type)) {\n              var blob = item.getAsFile ? item.getAsFile() : item;\n              reader = new window.FileReader();\n              reader.onload = pasteImage.bind(null, editor, rng, reader, blob);\n              reader.readAsDataURL(blob);\n              e.preventDefault();\n              hadImage = true;\n            }\n          }\n        }\n\n        return hadImage;\n      }\n\n      if (editor.settings.paste_data_images && dataTransfer) {\n        return processItems(dataTransfer.items) || processItems(dataTransfer.files);\n      }\n    };\n\n    var isBrokenAndroidClipboardEvent = function (e) {\n      var clipboardData = e.clipboardData;\n      return navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n    };\n\n    var isKeyboardPasteEvent = function (e) {\n      return global$4.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    };\n\n    var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n      var keyboardPasteTimeStamp = 0;\n      var keyboardPastePlainTextState;\n      editor.on('keydown', function (e) {\n        function removePasteBinOnKeyUp(e) {\n          if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n            pasteBin.remove();\n          }\n        }\n\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n\n          if (keyboardPastePlainTextState && global$1.webkit && navigator.userAgent.indexOf('Version/') !== -1) {\n            return;\n          }\n\n          e.stopImmediatePropagation();\n          keyboardPasteTimeStamp = new Date().getTime();\n\n          if (global$1.ie && keyboardPastePlainTextState) {\n            e.preventDefault();\n            $_co3z41ijjnlpb2d4.firePaste(editor, true);\n            return;\n          }\n\n          pasteBin.remove();\n          pasteBin.create();\n          editor.once('keyup', removePasteBinOnKeyUp);\n          editor.once('paste', function () {\n            editor.off('keyup', removePasteBinOnKeyUp);\n          });\n        }\n      });\n\n      function insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n        var content, isPlainTextHtml;\n\n        if (hasContentType(clipboardContent, 'text/html')) {\n          content = clipboardContent['text/html'];\n        } else {\n          content = pasteBin.getHtml();\n          internal = internal ? internal : $_3953hcirjnlpb2dl.isMarked(content);\n\n          if (pasteBin.isDefaultContent(content)) {\n            plainTextMode = true;\n          }\n        }\n\n        content = $_56bkmj0jnlpb2e1.trimHtml(content);\n        pasteBin.remove();\n        isPlainTextHtml = internal === false && $_1r1niaisjnlpb2dm.isPlainText(content);\n\n        if (!content.length || isPlainTextHtml) {\n          plainTextMode = true;\n        }\n\n        if (plainTextMode) {\n          if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n            content = clipboardContent['text/plain'];\n          } else {\n            content = $_56bkmj0jnlpb2e1.innerText(content);\n          }\n        }\n\n        if (pasteBin.isDefaultContent(content)) {\n          if (!isKeyBoardPaste) {\n            editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n          }\n\n          return;\n        }\n\n        if (plainTextMode) {\n          pasteText(editor, content);\n        } else {\n          pasteHtml$1(editor, content, internal);\n        }\n      }\n\n      var getLastRng = function () {\n        return pasteBin.getLastRng() || editor.selection.getRng();\n      };\n\n      editor.on('paste', function (e) {\n        var clipboardTimer = new Date().getTime();\n        var clipboardContent = getClipboardContent(editor, e);\n        var clipboardDelay = new Date().getTime() - clipboardTimer;\n        var isKeyBoardPaste = new Date().getTime() - keyboardPasteTimeStamp - clipboardDelay < 1000;\n        var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        var internal = hasContentType(clipboardContent, $_3953hcirjnlpb2dl.internalHtmlMime());\n        keyboardPastePlainTextState = false;\n\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          pasteBin.remove();\n          return;\n        }\n\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          pasteBin.remove();\n          return;\n        }\n\n        if (!isKeyBoardPaste) {\n          e.preventDefault();\n        }\n\n        if (global$1.ie && (!isKeyBoardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n          pasteBin.create();\n          editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n            e.stopPropagation();\n          });\n          editor.getDoc().execCommand('Paste', false, null);\n          clipboardContent['text/html'] = pasteBin.getHtml();\n        }\n\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n\n          if (!internal) {\n            internal = $_3953hcirjnlpb2dl.isMarked(clipboardContent['text/html']);\n          }\n\n          insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n        } else {\n          global$2.setEditorTimeout(editor, function () {\n            insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n          }, 0);\n        }\n      });\n    };\n\n    var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      var src;\n      editor.parser.addNodeFilter('img', function (nodes, name$$1, args) {\n        var isPasteInsert = function (args) {\n          return args.data && args.data.paste === true;\n        };\n\n        var remove = function (node) {\n          if (!node.attr('data-mce-object') && src !== global$1.transparentSrc) {\n            node.remove();\n          }\n        };\n\n        var isWebKitFakeUrl = function (src) {\n          return src.indexOf('webkit-fake-url') === 0;\n        };\n\n        var isDataUri = function (src) {\n          return src.indexOf('data:') === 0;\n        };\n\n        if (!editor.settings.paste_data_images && isPasteInsert(args)) {\n          var i = nodes.length;\n\n          while (i--) {\n            src = nodes[i].attributes.map.src;\n\n            if (!src) {\n              continue;\n            }\n\n            if (isWebKitFakeUrl(src)) {\n              remove(nodes[i]);\n            } else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {\n              remove(nodes[i]);\n            }\n          }\n        }\n      });\n    };\n\n    var getPasteBinParent = function (editor) {\n      return global$1.ie && editor.inline ? document.body : editor.getBody();\n    };\n\n    var isExternalPasteBin = function (editor) {\n      return getPasteBinParent(editor) !== editor.getBody();\n    };\n\n    var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n      if (isExternalPasteBin(editor)) {\n        editor.dom.bind(pasteBinElm, 'paste keyup', function (e) {\n          if (!isDefault(editor, pasteBinDefaultContent)) {\n            editor.fire('paste');\n          }\n        });\n      }\n    };\n\n    var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n      var dom = editor.dom,\n          body = editor.getBody();\n      var pasteBinElm;\n      lastRngCell.set(editor.selection.getRng());\n      pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n\n      if (global$1.ie || global$1.gecko) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n        e.stopPropagation();\n      });\n      delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n      pasteBinElm.focus();\n      editor.selection.select(pasteBinElm, true);\n    };\n\n    var remove = function (editor, lastRngCell) {\n      if (getEl(editor)) {\n        var pasteBinClone = void 0;\n        var lastRng = lastRngCell.get();\n\n        while (pasteBinClone = editor.dom.get('mcepastebin')) {\n          editor.dom.remove(pasteBinClone);\n          editor.dom.unbind(pasteBinClone);\n        }\n\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n\n      lastRngCell.set(null);\n    };\n\n    var getEl = function (editor) {\n      return editor.dom.get('mcepastebin');\n    };\n\n    var getHtml = function (editor) {\n      var pasteBinElm, pasteBinClones, i, dirtyWrappers, cleanWrapper;\n\n      var copyAndRemove = function (toElm, fromElm) {\n        toElm.appendChild(fromElm);\n        editor.dom.remove(fromElm, true);\n      };\n\n      pasteBinClones = global$3.grep(getPasteBinParent(editor).childNodes, function (elm) {\n        return elm.id === 'mcepastebin';\n      });\n      pasteBinElm = pasteBinClones.shift();\n      global$3.each(pasteBinClones, function (pasteBinClone) {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n\n      for (i = dirtyWrappers.length - 1; i >= 0; i--) {\n        cleanWrapper = editor.dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n\n    var getLastRng = function (lastRng) {\n      return lastRng.get();\n    };\n\n    var isDefaultContent = function (pasteBinDefaultContent, content) {\n      return content === pasteBinDefaultContent;\n    };\n\n    var isPasteBin = function (elm) {\n      return elm && elm.id === 'mcepastebin';\n    };\n\n    var isDefault = function (editor, pasteBinDefaultContent) {\n      var pasteBinElm = getEl(editor);\n      return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n    };\n\n    var PasteBin = function (editor) {\n      var lastRng = Cell(null);\n      var pasteBinDefaultContent = '%MCEPASTEBIN%';\n      return {\n        create: function () {\n          return create(editor, lastRng, pasteBinDefaultContent);\n        },\n        remove: function () {\n          return remove(editor, lastRng);\n        },\n        getEl: function () {\n          return getEl(editor);\n        },\n        getHtml: function () {\n          return getHtml(editor);\n        },\n        getLastRng: function () {\n          return getLastRng(lastRng);\n        },\n        isDefault: function () {\n          return isDefault(editor, pasteBinDefaultContent);\n        },\n        isDefaultContent: function (content) {\n          return isDefaultContent(pasteBinDefaultContent, content);\n        }\n      };\n    };\n\n    var Clipboard = function (editor, pasteFormat) {\n      var pasteBin = PasteBin(editor);\n      editor.on('preInit', function () {\n        return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n      return {\n        pasteFormat: pasteFormat,\n        pasteHtml: function (html, internalFlag) {\n          return pasteHtml$1(editor, html, internalFlag);\n        },\n        pasteText: function (text) {\n          return pasteText(editor, text);\n        },\n        pasteImageData: function (e, rng) {\n          return pasteImageData(editor, e, rng);\n        },\n        getDataTransferItems: getDataTransferItems,\n        hasHtmlOrText: hasHtmlOrText,\n        hasContentType: hasContentType\n      };\n    };\n\n    var noop = function () {};\n\n    var hasWorkingClipboardApi = function (clipboardData) {\n      return global$1.iOS === false && clipboardData !== undefined && typeof clipboardData.setData === 'function' && $_56bkmj0jnlpb2e1.isMsEdge() !== true;\n    };\n\n    var setHtml5Clipboard = function (clipboardData, html, text) {\n      if (hasWorkingClipboardApi(clipboardData)) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData($_3953hcirjnlpb2dl.internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n\n    var setClipboardData = function (evt, data, fallback, done) {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n\n    var fallback = function (editor) {\n      return function (html, done) {\n        var markedHtml = $_3953hcirjnlpb2dl.mark(html);\n        var outer = editor.dom.create('div', {\n          'contenteditable': 'false',\n          'data-mce-bogus': 'all'\n        });\n        var inner = editor.dom.create('div', {\n          contenteditable: 'true'\n        }, markedHtml);\n        editor.dom.setStyles(outer, {\n          position: 'fixed',\n          top: '0',\n          left: '-3000px',\n          width: '1000px',\n          overflow: 'hidden'\n        });\n        outer.appendChild(inner);\n        editor.dom.add(editor.getBody(), outer);\n        var range = editor.selection.getRng();\n        inner.focus();\n        var offscreenRange = editor.dom.createRng();\n        offscreenRange.selectNodeContents(inner);\n        editor.selection.setRng(offscreenRange);\n        setTimeout(function () {\n          editor.selection.setRng(range);\n          outer.parentNode.removeChild(outer);\n          done();\n        }, 0);\n      };\n    };\n\n    var getData = function (editor) {\n      return {\n        html: editor.selection.getContent({\n          contextual: true\n        }),\n        text: editor.selection.getContent({\n          format: 'text'\n        })\n      };\n    };\n\n    var cut = function (editor) {\n      return function (evt) {\n        if (editor.selection.isCollapsed() === false) {\n          setClipboardData(evt, getData(editor), fallback(editor), function () {\n            setTimeout(function () {\n              editor.execCommand('Delete');\n            }, 0);\n          });\n        }\n      };\n    };\n\n    var copy = function (editor) {\n      return function (evt) {\n        if (editor.selection.isCollapsed() === false) {\n          setClipboardData(evt, getData(editor), fallback(editor), noop);\n        }\n      };\n    };\n\n    var register$1 = function (editor) {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    var $_sczyjj3jnlpb2es = {\n      register: register$1\n    };\n    var global$10 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n    var getCaretRangeFromEvent = function (editor, e) {\n      return global$10.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n    };\n\n    var isPlainTextFileUrl = function (content) {\n      var plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n\n    var setFocusedRange = function (editor, rng) {\n      editor.focus();\n      editor.selection.setRng(rng);\n    };\n\n    var setup = function (editor, clipboard, draggingInternallyState) {\n      if ($_5zjznuikjnlpb2d5.shouldBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n\n      if (!$_5zjznuikjnlpb2d5.shouldPasteDataImages(editor)) {\n        editor.on('drop', function (e) {\n          var dataTransfer = e.dataTransfer;\n\n          if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n            e.preventDefault();\n          }\n        });\n      }\n\n      editor.on('drop', function (e) {\n        var dropContent, rng;\n        rng = getCaretRangeFromEvent(editor, e);\n\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n\n        dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n        var internal = clipboard.hasContentType(dropContent, $_3953hcirjnlpb2dl.internalHtmlMime());\n\n        if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n          return;\n        }\n\n        if (rng && $_5zjznuikjnlpb2d5.shouldFilterDrop(editor)) {\n          var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n\n          if (content_1) {\n            e.preventDefault();\n            global$2.setEditorTimeout(editor, function () {\n              editor.undoManager.transact(function () {\n                if (dropContent['mce-internal']) {\n                  editor.execCommand('Delete');\n                }\n\n                setFocusedRange(editor, rng);\n                content_1 = $_56bkmj0jnlpb2e1.trimHtml(content_1);\n\n                if (!dropContent['text/html']) {\n                  clipboard.pasteText(content_1);\n                } else {\n                  clipboard.pasteHtml(content_1, internal);\n                }\n              });\n            });\n          }\n        }\n      });\n      editor.on('dragstart', function (e) {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', function (e) {\n        if ($_5zjznuikjnlpb2d5.shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n\n    var $_50yn9jj4jnlpb2ev = {\n      setup: setup\n    };\n\n    var setup$1 = function (editor) {\n      var plugin = editor.plugins.paste;\n      var preProcess = $_5zjznuikjnlpb2d5.getPreProcess(editor);\n\n      if (preProcess) {\n        editor.on('PastePreProcess', function (e) {\n          preProcess.call(plugin, plugin, e);\n        });\n      }\n\n      var postProcess = $_5zjznuikjnlpb2d5.getPostProcess(editor);\n\n      if (postProcess) {\n        editor.on('PastePostProcess', function (e) {\n          postProcess.call(plugin, plugin, e);\n        });\n      }\n    };\n\n    var $_56gmkxj6jnlpb2ey = {\n      setup: setup$1\n    };\n\n    function addPreProcessFilter(editor, filterFunc) {\n      editor.on('PastePreProcess', function (e) {\n        e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n      });\n    }\n\n    function addPostProcessFilter(editor, filterFunc) {\n      editor.on('PastePostProcess', function (e) {\n        filterFunc(editor, e.node);\n      });\n    }\n\n    function removeExplorerBrElementsAfterBlocks(editor, html) {\n      if (!$_3diikcivjnlpb2dt.isWordContent(html)) {\n        return html;\n      }\n\n      var blockElements = [];\n      global$3.each(editor.schema.getBlockElements(), function (block, blockName) {\n        blockElements.push(blockName);\n      });\n      var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n      html = $_56bkmj0jnlpb2e1.filter(html, [[explorerBlocksRegExp, '$1']]);\n      html = $_56bkmj0jnlpb2e1.filter(html, [[/<br><br>/g, '<BR><BR>'], [/<br>/g, ' '], [/<BR><BR>/g, '<br>']]);\n      return html;\n    }\n\n    function removeWebKitStyles(editor, content, internal, isWordHtml) {\n      if (isWordHtml || internal) {\n        return content;\n      }\n\n      var webKitStylesSetting = $_5zjznuikjnlpb2d5.getWebkitStyles(editor);\n      var webKitStyles;\n\n      if ($_5zjznuikjnlpb2d5.shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n        return content;\n      }\n\n      if (webKitStylesSetting) {\n        webKitStyles = webKitStylesSetting.split(/[, ]/);\n      }\n\n      if (webKitStyles) {\n        var dom_1 = editor.dom,\n            node_1 = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n          var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n          var outputStyles = {};\n\n          if (webKitStyles === 'none') {\n            return before + after;\n          }\n\n          for (var i = 0; i < webKitStyles.length; i++) {\n            var inputValue = inputStyles[webKitStyles[i]],\n                currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n\n            if (/color/.test(webKitStyles[i])) {\n              inputValue = dom_1.toHex(inputValue);\n              currentValue = dom_1.toHex(currentValue);\n            }\n\n            if (currentValue !== inputValue) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n\n          outputStyles = dom_1.serializeStyle(outputStyles, 'span');\n\n          if (outputStyles) {\n            return before + ' style=\"' + outputStyles + '\"' + after;\n          }\n\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    }\n\n    function removeUnderlineAndFontInAnchor(editor, root) {\n      editor.$('a', root).find('font,u').each(function (i, node) {\n        editor.dom.remove(node, true);\n      });\n    }\n\n    var setup$2 = function (editor) {\n      if (global$1.webkit) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n\n      if (global$1.ie) {\n        addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n        addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n      }\n    };\n\n    var $_1e9xv6j7jnlpb2f0 = {\n      setup: setup$2\n    };\n\n    var curry = function (f) {\n      var x = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n\n      var args = new Array(arguments.length - 1);\n\n      for (var i = 1; i < arguments.length; i++) args[i - 1] = arguments[i];\n\n      return function () {\n        var x = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          x[_i] = arguments[_i];\n        }\n\n        var newArgs = new Array(arguments.length);\n\n        for (var j = 0; j < newArgs.length; j++) newArgs[j] = arguments[j];\n\n        var all = args.concat(newArgs);\n        return f.apply(null, all);\n      };\n    };\n\n    var stateChange = function (editor, clipboard, e) {\n      var ctrl = e.control;\n      ctrl.active(clipboard.pasteFormat.get() === 'text');\n      editor.on('PastePlainTextToggle', function (e) {\n        ctrl.active(e.state);\n      });\n    };\n\n    var register$2 = function (editor, clipboard) {\n      var postRender = curry(stateChange, editor, clipboard);\n      editor.addButton('pastetext', {\n        active: false,\n        icon: 'pastetext',\n        tooltip: 'Paste as text',\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n      editor.addMenuItem('pastetext', {\n        text: 'Paste as text',\n        selectable: true,\n        active: clipboard.pasteFormat,\n        cmd: 'mceTogglePlainTextPaste',\n        onPostRender: postRender\n      });\n    };\n\n    var $_6kzv73j8jnlpb2f7 = {\n      register: register$2\n    };\n    global.add('paste', function (editor) {\n      if ($_866zzmiejnlpb2cn.hasProPlugin(editor) === false) {\n        var userIsInformedState = Cell(false);\n        var draggingInternallyState = Cell(false);\n        var pasteFormat = Cell($_5zjznuikjnlpb2d5.isPasteAsTextEnabled(editor) ? 'text' : 'html');\n        var clipboard = Clipboard(editor, pasteFormat);\n        var quirks = $_1e9xv6j7jnlpb2f0.setup(editor);\n        $_6kzv73j8jnlpb2f7.register(editor, clipboard);\n        $_1zu5gaihjnlpb2d1.register(editor, clipboard, userIsInformedState);\n        $_56gmkxj6jnlpb2ey.setup(editor);\n        $_sczyjj3jnlpb2es.register(editor);\n        $_50yn9jj4jnlpb2ev.setup(editor, clipboard, draggingInternallyState);\n        return $_6869etigjnlpb2d0.get(clipboard, quirks);\n      }\n    });\n\n    function Plugin() {}\n\n    return Plugin;\n  }();\n})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/paste/plugin.js"],"names":["paste","Cell","initial","value","get","set","v","clone","global","tinymce","util","Tools","resolve","hasProPlugin","editor","test","settings","plugins","window","console","log","$_866zzmiejnlpb2cn","clipboard","quirks","$_6869etigjnlpb2d0","firePastePreProcess","html","internal","isWordHtml","fire","content","wordContent","firePastePostProcess","node","firePastePlainTextToggle","state","firePaste","ieFake","$_co3z41ijjnlpb2d4","shouldPlainTextInform","getParam","shouldBlockDrop","shouldPasteDataImages","shouldFilterDrop","getPreProcess","getPostProcess","getWebkitStyles","shouldRemoveWebKitStyles","shouldMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getRetainStyleProps","getWordValidElements","defaultValidElements","shouldConvertWordFakeLists","shouldUseDefaultFilters","$_5zjznuikjnlpb2d5","shouldInformUserAboutPlainText","userIsInformedState","displayNotification","message","notificationManager","open","text","translate","type","togglePlainTextPaste","pasteFormat","focus","$_zd5w3iijnlpb2d2","register","addCommand","ui","pasteHtml","pasteText","$_1zu5gaihjnlpb2d1","global$1","global$2","global$3","global$4","internalMimeType","internalMark","mark","unmark","replace","isMarked","indexOf","$_3953hcirjnlpb2dl","internalHtmlMime","global$5","isPlainText","toBRs","openContainer","rootTag","rootAttrs","key","attrs","tag","hasOwnProperty","push","encodeAllRaw","length","join","toBlockElements","blocks","split","tagOpen","tagClose","paragraphs","map","p","stitch","convert","$_1r1niaisjnlpb2dm","global$6","global$7","global$8","global$9","filter","items","each","constructor","RegExp","innerText","schema","domParser","shortEndedElements","getShortEndedElements","ignoreElements","makeMap","blockElements","getBlockElements","walk","name$$1","name","currentNode","shortEnded","firstChild","next","parse","trimHtml","trimSpaces","all","s1","s2","createIdGenerator","prefix","count","isMsEdge","navigator","userAgent","$_56bkmj0jnlpb2e1","isWordContent","isNumericList","found","patterns","pattern","isBulletList","convertFakeListsToProperLists","currentListNode","prevListNode","lastLevel","getText","txt","trimListStart","regExp","removeIgnoredNodes","_listIgnore","remove","convertParagraphToLi","paragraphNode","listName","start","level","_listLevel","parent","attr","wrap","append","lastChild","elements","child","i","nodeText","matches","exec","parseInt","filterStyles","validStyles","styleValue","outputStyles","styles","dom","parseStyle","serializeStyle","filterWordContent","retainStyleProperties","str","spaces","slice","Math","floor","validElements","valid_elements","valid_children","rule","attributes","class","attributesOrder","style","addAttributeFilter","nodes","unwrap","className","addNodeFilter","href","rootNode","validate","serialize","preProcess","$_3diikcivjnlpb2dt","processResult","cancelled","postProcessFilter","tempBody","create","postProcessArgs","innerHTML","isDefaultPrevented","filterContent","preProcessArgs","hasEventListeners","process","$_5wu4ykiujnlpb2do","removeMeta","body","querySelectorAll","elm","parentNode","removeChild","insertContent","merge","isAbsoluteUrl","url","isImageUrl","createImage","pasteHtmlFn","undoManager","extra","createLink","execCommand","linkSelection","selection","isCollapsed","insertImage","smartInsertContent","action","$_ci2qz0j1jnlpb2e5","pasteHtml$1","internalFlag","args","encode","forced_root_block","forced_root_block_attrs","getDataTransferItems","dataTransfer","mceInternalUrlPrefix","getData","legacyText","types","contentType","ex","getClipboardContent","clipboardEvent","clipboardData","getDoc","extend","hasContentType","clipboardContent","mimeType","hasHtmlOrText","getBase64FromUri","uri","idx","substr","isValidDataUriImage","imgElm","images_dataimg_filter","extractFilename","m","match","uniqueId","pasteImage","rng","reader","blob","setRng","dataUri","result","base64","id","images_reuse_filename","img","Image","src","blobCache","editorUpload","blobInfo","existingBlobInfo","findFirst","cachedBlobInfo","add","blobUri","isClipboardEvent","event$$1","pasteImageData","e","processItems","item","hadImage","getAsFile","FileReader","onload","bind","readAsDataURL","preventDefault","paste_data_images","files","isBrokenAndroidClipboardEvent","isKeyboardPasteEvent","metaKeyPressed","keyCode","shiftKey","registerEventHandlers","pasteBin","keyboardPasteTimeStamp","keyboardPastePlainTextState","on","removePasteBinOnKeyUp","webkit","stopImmediatePropagation","Date","getTime","ie","once","off","insertClipboardContent","isKeyBoardPaste","plainTextMode","isPlainTextHtml","getHtml","isDefaultContent","windowManager","alert","getLastRng","getRng","clipboardTimer","clipboardDelay","getEl","stopPropagation","setEditorTimeout","registerEventsAndFilters","parser","isPasteInsert","data","transparentSrc","isWebKitFakeUrl","isDataUri","allow_html_data_urls","getPasteBinParent","inline","document","getBody","isExternalPasteBin","delegatePasteEvents","pasteBinElm","pasteBinDefaultContent","isDefault","lastRngCell","gecko","setStyle","getStyle","select","pasteBinClone","lastRng","unbind","pasteBinClones","dirtyWrappers","cleanWrapper","copyAndRemove","toElm","fromElm","appendChild","grep","childNodes","shift","insertBefore","isPasteBin","PasteBin","Clipboard","noop","hasWorkingClipboardApi","iOS","undefined","setData","setHtml5Clipboard","clearData","setClipboardData","evt","fallback","done","markedHtml","outer","inner","contenteditable","setStyles","position","top","left","width","overflow","range","offscreenRange","createRng","selectNodeContents","setTimeout","getContent","contextual","format","cut","copy","register$1","$_sczyjj3jnlpb2es","global$10","getCaretRangeFromEvent","getCaretRangeFromPoint","clientX","clientY","isPlainTextFileUrl","plainTextContent","setFocusedRange","setup","draggingInternallyState","dropContent","content_1","transact","$_50yn9jj4jnlpb2ev","setup$1","plugin","call","postProcess","$_56gmkxj6jnlpb2ey","addPreProcessFilter","filterFunc","addPostProcessFilter","removeExplorerBrElementsAfterBlocks","block","blockName","explorerBlocksRegExp","removeWebKitStyles","webKitStylesSetting","webKitStyles","dom_1","node_1","getNode","before","after","inputStyles","decode","inputValue","currentValue","toHex","removeUnderlineAndFontInAnchor","root","$","find","setup$2","$_1e9xv6j7jnlpb2f0","curry","f","x","_i","arguments","Array","newArgs","j","concat","apply","stateChange","ctrl","control","active","register$2","postRender","addButton","icon","tooltip","cmd","onPostRender","addMenuItem","selectable","$_6kzv73j8jnlpb2f7","Plugin"],"mappings":"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","sourcesContent":["(function () {\nvar paste = (function () {\n  'use strict';\n\n  var Cell = function (initial) {\n    var value = initial;\n    var get = function () {\n      return value;\n    };\n    var set = function (v) {\n      value = v;\n    };\n    var clone = function () {\n      return Cell(get());\n    };\n    return {\n      get: get,\n      set: set,\n      clone: clone\n    };\n  };\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var hasProPlugin = function (editor) {\n    if (/(^|[ ,])powerpaste([, ]|$)/.test(editor.settings.plugins) && global.get('powerpaste')) {\n      if (typeof window.console !== 'undefined' && window.console.log) {\n        window.console.log('PowerPaste is incompatible with Paste plugin! Remove \\'paste\\' from the \\'plugins\\' option.');\n      }\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var $_866zzmiejnlpb2cn = { hasProPlugin: hasProPlugin };\n\n  var get = function (clipboard, quirks) {\n    return {\n      clipboard: clipboard,\n      quirks: quirks\n    };\n  };\n  var $_6869etigjnlpb2d0 = { get: get };\n\n  var firePastePreProcess = function (editor, html, internal, isWordHtml) {\n    return editor.fire('PastePreProcess', {\n      content: html,\n      internal: internal,\n      wordContent: isWordHtml\n    });\n  };\n  var firePastePostProcess = function (editor, node, internal, isWordHtml) {\n    return editor.fire('PastePostProcess', {\n      node: node,\n      internal: internal,\n      wordContent: isWordHtml\n    });\n  };\n  var firePastePlainTextToggle = function (editor, state) {\n    return editor.fire('PastePlainTextToggle', { state: state });\n  };\n  var firePaste = function (editor, ieFake) {\n    return editor.fire('paste', { ieFake: ieFake });\n  };\n  var $_co3z41ijjnlpb2d4 = {\n    firePastePreProcess: firePastePreProcess,\n    firePastePostProcess: firePastePostProcess,\n    firePastePlainTextToggle: firePastePlainTextToggle,\n    firePaste: firePaste\n  };\n\n  var shouldPlainTextInform = function (editor) {\n    return editor.getParam('paste_plaintext_inform', true);\n  };\n  var shouldBlockDrop = function (editor) {\n    return editor.getParam('paste_block_drop', false);\n  };\n  var shouldPasteDataImages = function (editor) {\n    return editor.getParam('paste_data_images', false);\n  };\n  var shouldFilterDrop = function (editor) {\n    return editor.getParam('paste_filter_drop', true);\n  };\n  var getPreProcess = function (editor) {\n    return editor.getParam('paste_preprocess');\n  };\n  var getPostProcess = function (editor) {\n    return editor.getParam('paste_postprocess');\n  };\n  var getWebkitStyles = function (editor) {\n    return editor.getParam('paste_webkit_styles');\n  };\n  var shouldRemoveWebKitStyles = function (editor) {\n    return editor.getParam('paste_remove_styles_if_webkit', true);\n  };\n  var shouldMergeFormats = function (editor) {\n    return editor.getParam('paste_merge_formats', true);\n  };\n  var isSmartPasteEnabled = function (editor) {\n    return editor.getParam('smart_paste', true);\n  };\n  var isPasteAsTextEnabled = function (editor) {\n    return editor.getParam('paste_as_text', false);\n  };\n  var getRetainStyleProps = function (editor) {\n    return editor.getParam('paste_retain_style_properties');\n  };\n  var getWordValidElements = function (editor) {\n    var defaultValidElements = '-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,' + '-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,' + 'td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody';\n    return editor.getParam('paste_word_valid_elements', defaultValidElements);\n  };\n  var shouldConvertWordFakeLists = function (editor) {\n    return editor.getParam('paste_convert_word_fake_lists', true);\n  };\n  var shouldUseDefaultFilters = function (editor) {\n    return editor.getParam('paste_enable_default_filters', true);\n  };\n  var $_5zjznuikjnlpb2d5 = {\n    shouldPlainTextInform: shouldPlainTextInform,\n    shouldBlockDrop: shouldBlockDrop,\n    shouldPasteDataImages: shouldPasteDataImages,\n    shouldFilterDrop: shouldFilterDrop,\n    getPreProcess: getPreProcess,\n    getPostProcess: getPostProcess,\n    getWebkitStyles: getWebkitStyles,\n    shouldRemoveWebKitStyles: shouldRemoveWebKitStyles,\n    shouldMergeFormats: shouldMergeFormats,\n    isSmartPasteEnabled: isSmartPasteEnabled,\n    isPasteAsTextEnabled: isPasteAsTextEnabled,\n    getRetainStyleProps: getRetainStyleProps,\n    getWordValidElements: getWordValidElements,\n    shouldConvertWordFakeLists: shouldConvertWordFakeLists,\n    shouldUseDefaultFilters: shouldUseDefaultFilters\n  };\n\n  var shouldInformUserAboutPlainText = function (editor, userIsInformedState) {\n    return userIsInformedState.get() === false && $_5zjznuikjnlpb2d5.shouldPlainTextInform(editor);\n  };\n  var displayNotification = function (editor, message) {\n    editor.notificationManager.open({\n      text: editor.translate(message),\n      type: 'info'\n    });\n  };\n  var togglePlainTextPaste = function (editor, clipboard, userIsInformedState) {\n    if (clipboard.pasteFormat.get() === 'text') {\n      clipboard.pasteFormat.set('html');\n      $_co3z41ijjnlpb2d4.firePastePlainTextToggle(editor, false);\n    } else {\n      clipboard.pasteFormat.set('text');\n      $_co3z41ijjnlpb2d4.firePastePlainTextToggle(editor, true);\n      if (shouldInformUserAboutPlainText(editor, userIsInformedState)) {\n        displayNotification(editor, 'Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.');\n        userIsInformedState.set(true);\n      }\n    }\n    editor.focus();\n  };\n  var $_zd5w3iijnlpb2d2 = { togglePlainTextPaste: togglePlainTextPaste };\n\n  var register = function (editor, clipboard, userIsInformedState) {\n    editor.addCommand('mceTogglePlainTextPaste', function () {\n      $_zd5w3iijnlpb2d2.togglePlainTextPaste(editor, clipboard, userIsInformedState);\n    });\n    editor.addCommand('mceInsertClipboardContent', function (ui, value) {\n      if (value.content) {\n        clipboard.pasteHtml(value.content, value.internal);\n      }\n      if (value.text) {\n        clipboard.pasteText(value.text);\n      }\n    });\n  };\n  var $_1zu5gaihjnlpb2d1 = { register: register };\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n  var global$2 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n  var global$3 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n  var global$4 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n  var internalMimeType = 'x-tinymce/html';\n  var internalMark = '<!-- ' + internalMimeType + ' -->';\n  var mark = function (html) {\n    return internalMark + html;\n  };\n  var unmark = function (html) {\n    return html.replace(internalMark, '');\n  };\n  var isMarked = function (html) {\n    return html.indexOf(internalMark) !== -1;\n  };\n  var $_3953hcirjnlpb2dl = {\n    mark: mark,\n    unmark: unmark,\n    isMarked: isMarked,\n    internalHtmlMime: function () {\n      return internalMimeType;\n    }\n  };\n\n  var global$5 = tinymce.util.Tools.resolve('tinymce.html.Entities');\n\n  var isPlainText = function (text) {\n    return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n  };\n  var toBRs = function (text) {\n    return text.replace(/\\r?\\n/g, '<br>');\n  };\n  var openContainer = function (rootTag, rootAttrs) {\n    var key;\n    var attrs = [];\n    var tag = '<' + rootTag;\n    if (typeof rootAttrs === 'object') {\n      for (key in rootAttrs) {\n        if (rootAttrs.hasOwnProperty(key)) {\n          attrs.push(key + '=\"' + global$5.encodeAllRaw(rootAttrs[key]) + '\"');\n        }\n      }\n      if (attrs.length) {\n        tag += ' ' + attrs.join(' ');\n      }\n    }\n    return tag + '>';\n  };\n  var toBlockElements = function (text, rootTag, rootAttrs) {\n    var blocks = text.split(/\\n\\n/);\n    var tagOpen = openContainer(rootTag, rootAttrs);\n    var tagClose = '</' + rootTag + '>';\n    var paragraphs = global$3.map(blocks, function (p) {\n      return p.split(/\\n/).join('<br />');\n    });\n    var stitch = function (p) {\n      return tagOpen + p + tagClose;\n    };\n    return paragraphs.length === 1 ? paragraphs[0] : global$3.map(paragraphs, stitch).join('');\n  };\n  var convert = function (text, rootTag, rootAttrs) {\n    return rootTag ? toBlockElements(text, rootTag, rootAttrs) : toBRs(text);\n  };\n  var $_1r1niaisjnlpb2dm = {\n    isPlainText: isPlainText,\n    convert: convert,\n    toBRs: toBRs,\n    toBlockElements: toBlockElements\n  };\n\n  var global$6 = tinymce.util.Tools.resolve('tinymce.html.DomParser');\n\n  var global$7 = tinymce.util.Tools.resolve('tinymce.html.Node');\n\n  var global$8 = tinymce.util.Tools.resolve('tinymce.html.Schema');\n\n  var global$9 = tinymce.util.Tools.resolve('tinymce.html.Serializer');\n\n  function filter(content, items) {\n    global$3.each(items, function (v) {\n      if (v.constructor === RegExp) {\n        content = content.replace(v, '');\n      } else {\n        content = content.replace(v[0], v[1]);\n      }\n    });\n    return content;\n  }\n  function innerText(html) {\n    var schema = global$8();\n    var domParser = global$6({}, schema);\n    var text = '';\n    var shortEndedElements = schema.getShortEndedElements();\n    var ignoreElements = global$3.makeMap('script noscript style textarea video audio iframe object', ' ');\n    var blockElements = schema.getBlockElements();\n    function walk(node) {\n      var name$$1 = node.name, currentNode = node;\n      if (name$$1 === 'br') {\n        text += '\\n';\n        return;\n      }\n      if (name$$1 === 'wbr') {\n        return;\n      }\n      if (shortEndedElements[name$$1]) {\n        text += ' ';\n      }\n      if (ignoreElements[name$$1]) {\n        text += ' ';\n        return;\n      }\n      if (node.type === 3) {\n        text += node.value;\n      }\n      if (!node.shortEnded) {\n        if (node = node.firstChild) {\n          do {\n            walk(node);\n          } while (node = node.next);\n        }\n      }\n      if (blockElements[name$$1] && currentNode.next) {\n        text += '\\n';\n        if (name$$1 === 'p') {\n          text += '\\n';\n        }\n      }\n    }\n    html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n    walk(domParser.parse(html));\n    return text;\n  }\n  function trimHtml(html) {\n    function trimSpaces(all, s1, s2) {\n      if (!s1 && !s2) {\n        return ' ';\n      }\n      return '\\xA0';\n    }\n    html = filter(html, [\n      /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n      /<!--StartFragment-->|<!--EndFragment-->/g,\n      [\n        /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n        trimSpaces\n      ],\n      /<br class=\"Apple-interchange-newline\">/g,\n      /<br>$/i\n    ]);\n    return html;\n  }\n  function createIdGenerator(prefix) {\n    var count = 0;\n    return function () {\n      return prefix + count++;\n    };\n  }\n  var isMsEdge = function () {\n    return navigator.userAgent.indexOf(' Edge/') !== -1;\n  };\n  var $_56bkmj0jnlpb2e1 = {\n    filter: filter,\n    innerText: innerText,\n    trimHtml: trimHtml,\n    createIdGenerator: createIdGenerator,\n    isMsEdge: isMsEdge\n  };\n\n  function isWordContent(content) {\n    return /<font face=\"Times New Roman\"|class=\"?Mso|style=\"[^\"]*\\bmso-|style='[^'']*\\bmso-|w:WordDocument/i.test(content) || /class=\"OutlineElement/.test(content) || /id=\"?docs\\-internal\\-guid\\-/.test(content);\n  }\n  function isNumericList(text) {\n    var found, patterns;\n    patterns = [\n      /^[IVXLMCD]{1,2}\\.[ \\u00a0]/,\n      /^[ivxlmcd]{1,2}\\.[ \\u00a0]/,\n      /^[a-z]{1,2}[\\.\\)][ \\u00a0]/,\n      /^[A-Z]{1,2}[\\.\\)][ \\u00a0]/,\n      /^[0-9]+\\.[ \\u00a0]/,\n      /^[\\u3007\\u4e00\\u4e8c\\u4e09\\u56db\\u4e94\\u516d\\u4e03\\u516b\\u4e5d]+\\.[ \\u00a0]/,\n      /^[\\u58f1\\u5f10\\u53c2\\u56db\\u4f0d\\u516d\\u4e03\\u516b\\u4e5d\\u62fe]+\\.[ \\u00a0]/\n    ];\n    text = text.replace(/^[\\u00a0 ]+/, '');\n    global$3.each(patterns, function (pattern) {\n      if (pattern.test(text)) {\n        found = true;\n        return false;\n      }\n    });\n    return found;\n  }\n  function isBulletList(text) {\n    return /^[\\s\\u00a0]*[\\u2022\\u00b7\\u00a7\\u25CF]\\s*/.test(text);\n  }\n  function convertFakeListsToProperLists(node) {\n    var currentListNode, prevListNode, lastLevel = 1;\n    function getText(node) {\n      var txt = '';\n      if (node.type === 3) {\n        return node.value;\n      }\n      if (node = node.firstChild) {\n        do {\n          txt += getText(node);\n        } while (node = node.next);\n      }\n      return txt;\n    }\n    function trimListStart(node, regExp) {\n      if (node.type === 3) {\n        if (regExp.test(node.value)) {\n          node.value = node.value.replace(regExp, '');\n          return false;\n        }\n      }\n      if (node = node.firstChild) {\n        do {\n          if (!trimListStart(node, regExp)) {\n            return false;\n          }\n        } while (node = node.next);\n      }\n      return true;\n    }\n    function removeIgnoredNodes(node) {\n      if (node._listIgnore) {\n        node.remove();\n        return;\n      }\n      if (node = node.firstChild) {\n        do {\n          removeIgnoredNodes(node);\n        } while (node = node.next);\n      }\n    }\n    function convertParagraphToLi(paragraphNode, listName, start) {\n      var level = paragraphNode._listLevel || lastLevel;\n      if (level !== lastLevel) {\n        if (level < lastLevel) {\n          if (currentListNode) {\n            currentListNode = currentListNode.parent.parent;\n          }\n        } else {\n          prevListNode = currentListNode;\n          currentListNode = null;\n        }\n      }\n      if (!currentListNode || currentListNode.name !== listName) {\n        prevListNode = prevListNode || currentListNode;\n        currentListNode = new global$7(listName, 1);\n        if (start > 1) {\n          currentListNode.attr('start', '' + start);\n        }\n        paragraphNode.wrap(currentListNode);\n      } else {\n        currentListNode.append(paragraphNode);\n      }\n      paragraphNode.name = 'li';\n      if (level > lastLevel && prevListNode) {\n        prevListNode.lastChild.append(currentListNode);\n      }\n      lastLevel = level;\n      removeIgnoredNodes(paragraphNode);\n      trimListStart(paragraphNode, /^\\u00a0+/);\n      trimListStart(paragraphNode, /^\\s*([\\u2022\\u00b7\\u00a7\\u25CF]|\\w+\\.)/);\n      trimListStart(paragraphNode, /^\\u00a0+/);\n    }\n    var elements = [];\n    var child = node.firstChild;\n    while (typeof child !== 'undefined' && child !== null) {\n      elements.push(child);\n      child = child.walk();\n      if (child !== null) {\n        while (typeof child !== 'undefined' && child.parent !== node) {\n          child = child.walk();\n        }\n      }\n    }\n    for (var i = 0; i < elements.length; i++) {\n      node = elements[i];\n      if (node.name === 'p' && node.firstChild) {\n        var nodeText = getText(node);\n        if (isBulletList(nodeText)) {\n          convertParagraphToLi(node, 'ul');\n          continue;\n        }\n        if (isNumericList(nodeText)) {\n          var matches = /([0-9]+)\\./.exec(nodeText);\n          var start = 1;\n          if (matches) {\n            start = parseInt(matches[1], 10);\n          }\n          convertParagraphToLi(node, 'ol', start);\n          continue;\n        }\n        if (node._listLevel) {\n          convertParagraphToLi(node, 'ul', 1);\n          continue;\n        }\n        currentListNode = null;\n      } else {\n        prevListNode = currentListNode;\n        currentListNode = null;\n      }\n    }\n  }\n  function filterStyles(editor, validStyles, node, styleValue) {\n    var outputStyles = {}, matches;\n    var styles = editor.dom.parseStyle(styleValue);\n    global$3.each(styles, function (value, name) {\n      switch (name) {\n      case 'mso-list':\n        matches = /\\w+ \\w+([0-9]+)/i.exec(styleValue);\n        if (matches) {\n          node._listLevel = parseInt(matches[1], 10);\n        }\n        if (/Ignore/i.test(value) && node.firstChild) {\n          node._listIgnore = true;\n          node.firstChild._listIgnore = true;\n        }\n        break;\n      case 'horiz-align':\n        name = 'text-align';\n        break;\n      case 'vert-align':\n        name = 'vertical-align';\n        break;\n      case 'font-color':\n      case 'mso-foreground':\n        name = 'color';\n        break;\n      case 'mso-background':\n      case 'mso-highlight':\n        name = 'background';\n        break;\n      case 'font-weight':\n      case 'font-style':\n        if (value !== 'normal') {\n          outputStyles[name] = value;\n        }\n        return;\n      case 'mso-element':\n        if (/^(comment|comment-list)$/i.test(value)) {\n          node.remove();\n          return;\n        }\n        break;\n      }\n      if (name.indexOf('mso-comment') === 0) {\n        node.remove();\n        return;\n      }\n      if (name.indexOf('mso-') === 0) {\n        return;\n      }\n      if ($_5zjznuikjnlpb2d5.getRetainStyleProps(editor) === 'all' || validStyles && validStyles[name]) {\n        outputStyles[name] = value;\n      }\n    });\n    if (/(bold)/i.test(outputStyles['font-weight'])) {\n      delete outputStyles['font-weight'];\n      node.wrap(new global$7('b', 1));\n    }\n    if (/(italic)/i.test(outputStyles['font-style'])) {\n      delete outputStyles['font-style'];\n      node.wrap(new global$7('i', 1));\n    }\n    outputStyles = editor.dom.serializeStyle(outputStyles, node.name);\n    if (outputStyles) {\n      return outputStyles;\n    }\n    return null;\n  }\n  var filterWordContent = function (editor, content) {\n    var retainStyleProperties, validStyles;\n    retainStyleProperties = $_5zjznuikjnlpb2d5.getRetainStyleProps(editor);\n    if (retainStyleProperties) {\n      validStyles = global$3.makeMap(retainStyleProperties.split(/[, ]/));\n    }\n    content = $_56bkmj0jnlpb2e1.filter(content, [\n      /<br class=\"?Apple-interchange-newline\"?>/gi,\n      /<b[^>]+id=\"?docs-internal-[^>]*>/gi,\n      /<!--[\\s\\S]+?-->/gi,\n      /<(!|script[^>]*>.*?<\\/script(?=[>\\s])|\\/?(\\?xml(:\\w+)?|img|meta|link|style|\\w:\\w+)(?=[\\s\\/>]))[^>]*>/gi,\n      [\n        /<(\\/?)s>/gi,\n        '<$1strike>'\n      ],\n      [\n        /&nbsp;/gi,\n        '\\xA0'\n      ],\n      [\n        /<span\\s+style\\s*=\\s*\"\\s*mso-spacerun\\s*:\\s*yes\\s*;?\\s*\"\\s*>([\\s\\u00a0]*)<\\/span>/gi,\n        function (str, spaces) {\n          return spaces.length > 0 ? spaces.replace(/./, ' ').slice(Math.floor(spaces.length / 2)).split('').join('\\xA0') : '';\n        }\n      ]\n    ]);\n    var validElements = $_5zjznuikjnlpb2d5.getWordValidElements(editor);\n    var schema = global$8({\n      valid_elements: validElements,\n      valid_children: '-li[p]'\n    });\n    global$3.each(schema.elements, function (rule) {\n      if (!rule.attributes.class) {\n        rule.attributes.class = {};\n        rule.attributesOrder.push('class');\n      }\n      if (!rule.attributes.style) {\n        rule.attributes.style = {};\n        rule.attributesOrder.push('style');\n      }\n    });\n    var domParser = global$6({}, schema);\n    domParser.addAttributeFilter('style', function (nodes) {\n      var i = nodes.length, node;\n      while (i--) {\n        node = nodes[i];\n        node.attr('style', filterStyles(editor, validStyles, node, node.attr('style')));\n        if (node.name === 'span' && node.parent && !node.attributes.length) {\n          node.unwrap();\n        }\n      }\n    });\n    domParser.addAttributeFilter('class', function (nodes) {\n      var i = nodes.length, node, className;\n      while (i--) {\n        node = nodes[i];\n        className = node.attr('class');\n        if (/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(className)) {\n          node.remove();\n        }\n        node.attr('class', null);\n      }\n    });\n    domParser.addNodeFilter('del', function (nodes) {\n      var i = nodes.length;\n      while (i--) {\n        nodes[i].remove();\n      }\n    });\n    domParser.addNodeFilter('a', function (nodes) {\n      var i = nodes.length, node, href, name;\n      while (i--) {\n        node = nodes[i];\n        href = node.attr('href');\n        name = node.attr('name');\n        if (href && href.indexOf('#_msocom_') !== -1) {\n          node.remove();\n          continue;\n        }\n        if (href && href.indexOf('file://') === 0) {\n          href = href.split('#')[1];\n          if (href) {\n            href = '#' + href;\n          }\n        }\n        if (!href && !name) {\n          node.unwrap();\n        } else {\n          if (name && !/^_?(?:toc|edn|ftn)/i.test(name)) {\n            node.unwrap();\n            continue;\n          }\n          node.attr({\n            href: href,\n            name: name\n          });\n        }\n      }\n    });\n    var rootNode = domParser.parse(content);\n    if ($_5zjznuikjnlpb2d5.shouldConvertWordFakeLists(editor)) {\n      convertFakeListsToProperLists(rootNode);\n    }\n    content = global$9({ validate: editor.settings.validate }, schema).serialize(rootNode);\n    return content;\n  };\n  var preProcess = function (editor, content) {\n    return $_5zjznuikjnlpb2d5.shouldUseDefaultFilters(editor) ? filterWordContent(editor, content) : content;\n  };\n  var $_3diikcivjnlpb2dt = {\n    preProcess: preProcess,\n    isWordContent: isWordContent\n  };\n\n  var processResult = function (content, cancelled) {\n    return {\n      content: content,\n      cancelled: cancelled\n    };\n  };\n  var postProcessFilter = function (editor, html, internal, isWordHtml) {\n    var tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n    var postProcessArgs = $_co3z41ijjnlpb2d4.firePastePostProcess(editor, tempBody, internal, isWordHtml);\n    return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n  };\n  var filterContent = function (editor, content, internal, isWordHtml) {\n    var preProcessArgs = $_co3z41ijjnlpb2d4.firePastePreProcess(editor, content, internal, isWordHtml);\n    if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n      return postProcessFilter(editor, preProcessArgs.content, internal, isWordHtml);\n    } else {\n      return processResult(preProcessArgs.content, preProcessArgs.isDefaultPrevented());\n    }\n  };\n  var process = function (editor, html, internal) {\n    var isWordHtml = $_3diikcivjnlpb2dt.isWordContent(html);\n    var content = isWordHtml ? $_3diikcivjnlpb2dt.preProcess(editor, html) : html;\n    return filterContent(editor, content, internal, isWordHtml);\n  };\n  var $_5wu4ykiujnlpb2do = { process: process };\n\n  var removeMeta = function (editor, html) {\n    var body = editor.dom.create('body', {}, html);\n    global$3.each(body.querySelectorAll('meta'), function (elm) {\n      return elm.parentNode.removeChild(elm);\n    });\n    return body.innerHTML;\n  };\n  var pasteHtml = function (editor, html) {\n    editor.insertContent(removeMeta(editor, html), {\n      merge: $_5zjznuikjnlpb2d5.shouldMergeFormats(editor),\n      paste: true\n    });\n    return true;\n  };\n  var isAbsoluteUrl = function (url) {\n    return /^https?:\\/\\/[\\w\\?\\-\\/+=.&%@~#]+$/i.test(url);\n  };\n  var isImageUrl = function (url) {\n    return isAbsoluteUrl(url) && /.(gif|jpe?g|png)$/.test(url);\n  };\n  var createImage = function (editor, url, pasteHtmlFn) {\n    editor.undoManager.extra(function () {\n      pasteHtmlFn(editor, url);\n    }, function () {\n      editor.insertContent('<img src=\"' + url + '\">');\n    });\n    return true;\n  };\n  var createLink = function (editor, url, pasteHtmlFn) {\n    editor.undoManager.extra(function () {\n      pasteHtmlFn(editor, url);\n    }, function () {\n      editor.execCommand('mceInsertLink', false, url);\n    });\n    return true;\n  };\n  var linkSelection = function (editor, html, pasteHtmlFn) {\n    return editor.selection.isCollapsed() === false && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n  };\n  var insertImage = function (editor, html, pasteHtmlFn) {\n    return isImageUrl(html) ? createImage(editor, html, pasteHtmlFn) : false;\n  };\n  var smartInsertContent = function (editor, html) {\n    global$3.each([\n      linkSelection,\n      insertImage,\n      pasteHtml\n    ], function (action) {\n      return action(editor, html, pasteHtml) !== true;\n    });\n  };\n  var insertContent = function (editor, html) {\n    if ($_5zjznuikjnlpb2d5.isSmartPasteEnabled(editor) === false) {\n      pasteHtml(editor, html);\n    } else {\n      smartInsertContent(editor, html);\n    }\n  };\n  var $_ci2qz0j1jnlpb2e5 = {\n    isImageUrl: isImageUrl,\n    isAbsoluteUrl: isAbsoluteUrl,\n    insertContent: insertContent\n  };\n\n  var pasteHtml$1 = function (editor, html, internalFlag) {\n    var internal = internalFlag ? internalFlag : $_3953hcirjnlpb2dl.isMarked(html);\n    var args = $_5wu4ykiujnlpb2do.process(editor, $_3953hcirjnlpb2dl.unmark(html), internal);\n    if (args.cancelled === false) {\n      $_ci2qz0j1jnlpb2e5.insertContent(editor, args.content);\n    }\n  };\n  var pasteText = function (editor, text) {\n    text = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n    text = $_1r1niaisjnlpb2dm.convert(text, editor.settings.forced_root_block, editor.settings.forced_root_block_attrs);\n    pasteHtml$1(editor, text, false);\n  };\n  var getDataTransferItems = function (dataTransfer) {\n    var items = {};\n    var mceInternalUrlPrefix = 'data:text/mce-internal,';\n    if (dataTransfer) {\n      if (dataTransfer.getData) {\n        var legacyText = dataTransfer.getData('Text');\n        if (legacyText && legacyText.length > 0) {\n          if (legacyText.indexOf(mceInternalUrlPrefix) === -1) {\n            items['text/plain'] = legacyText;\n          }\n        }\n      }\n      if (dataTransfer.types) {\n        for (var i = 0; i < dataTransfer.types.length; i++) {\n          var contentType = dataTransfer.types[i];\n          try {\n            items[contentType] = dataTransfer.getData(contentType);\n          } catch (ex) {\n            items[contentType] = '';\n          }\n        }\n      }\n    }\n    return items;\n  };\n  var getClipboardContent = function (editor, clipboardEvent) {\n    var content = getDataTransferItems(clipboardEvent.clipboardData || editor.getDoc().dataTransfer);\n    return $_56bkmj0jnlpb2e1.isMsEdge() ? global$3.extend(content, { 'text/html': '' }) : content;\n  };\n  var hasContentType = function (clipboardContent, mimeType) {\n    return mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n  };\n  var hasHtmlOrText = function (content) {\n    return hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n  };\n  var getBase64FromUri = function (uri) {\n    var idx;\n    idx = uri.indexOf(',');\n    if (idx !== -1) {\n      return uri.substr(idx + 1);\n    }\n    return null;\n  };\n  var isValidDataUriImage = function (settings, imgElm) {\n    return settings.images_dataimg_filter ? settings.images_dataimg_filter(imgElm) : true;\n  };\n  var extractFilename = function (editor, str) {\n    var m = str.match(/([\\s\\S]+?)\\.(?:jpeg|jpg|png|gif)$/i);\n    return m ? editor.dom.encode(m[1]) : null;\n  };\n  var uniqueId = $_56bkmj0jnlpb2e1.createIdGenerator('mceclip');\n  var pasteImage = function (editor, rng, reader, blob) {\n    if (rng) {\n      editor.selection.setRng(rng);\n      rng = null;\n    }\n    var dataUri = reader.result;\n    var base64 = getBase64FromUri(dataUri);\n    var id = uniqueId();\n    var name$$1 = editor.settings.images_reuse_filename && blob.name ? extractFilename(editor, blob.name) : id;\n    var img = new Image();\n    img.src = dataUri;\n    if (isValidDataUriImage(editor.settings, img)) {\n      var blobCache = editor.editorUpload.blobCache;\n      var blobInfo = void 0, existingBlobInfo = void 0;\n      existingBlobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n        return cachedBlobInfo.base64() === base64;\n      });\n      if (!existingBlobInfo) {\n        blobInfo = blobCache.create(id, blob, base64, name$$1);\n        blobCache.add(blobInfo);\n      } else {\n        blobInfo = existingBlobInfo;\n      }\n      pasteHtml$1(editor, '<img src=\"' + blobInfo.blobUri() + '\">', false);\n    } else {\n      pasteHtml$1(editor, '<img src=\"' + dataUri + '\">', false);\n    }\n  };\n  var isClipboardEvent = function (event$$1) {\n    return event$$1.type === 'paste';\n  };\n  var pasteImageData = function (editor, e, rng) {\n    var dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n    function processItems(items) {\n      var i, item, reader, hadImage = false;\n      if (items) {\n        for (i = 0; i < items.length; i++) {\n          item = items[i];\n          if (/^image\\/(jpeg|png|gif|bmp)$/.test(item.type)) {\n            var blob = item.getAsFile ? item.getAsFile() : item;\n            reader = new window.FileReader();\n            reader.onload = pasteImage.bind(null, editor, rng, reader, blob);\n            reader.readAsDataURL(blob);\n            e.preventDefault();\n            hadImage = true;\n          }\n        }\n      }\n      return hadImage;\n    }\n    if (editor.settings.paste_data_images && dataTransfer) {\n      return processItems(dataTransfer.items) || processItems(dataTransfer.files);\n    }\n  };\n  var isBrokenAndroidClipboardEvent = function (e) {\n    var clipboardData = e.clipboardData;\n    return navigator.userAgent.indexOf('Android') !== -1 && clipboardData && clipboardData.items && clipboardData.items.length === 0;\n  };\n  var isKeyboardPasteEvent = function (e) {\n    return global$4.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n  };\n  var registerEventHandlers = function (editor, pasteBin, pasteFormat) {\n    var keyboardPasteTimeStamp = 0;\n    var keyboardPastePlainTextState;\n    editor.on('keydown', function (e) {\n      function removePasteBinOnKeyUp(e) {\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          pasteBin.remove();\n        }\n      }\n      if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n        keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n        if (keyboardPastePlainTextState && global$1.webkit && navigator.userAgent.indexOf('Version/') !== -1) {\n          return;\n        }\n        e.stopImmediatePropagation();\n        keyboardPasteTimeStamp = new Date().getTime();\n        if (global$1.ie && keyboardPastePlainTextState) {\n          e.preventDefault();\n          $_co3z41ijjnlpb2d4.firePaste(editor, true);\n          return;\n        }\n        pasteBin.remove();\n        pasteBin.create();\n        editor.once('keyup', removePasteBinOnKeyUp);\n        editor.once('paste', function () {\n          editor.off('keyup', removePasteBinOnKeyUp);\n        });\n      }\n    });\n    function insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal) {\n      var content, isPlainTextHtml;\n      if (hasContentType(clipboardContent, 'text/html')) {\n        content = clipboardContent['text/html'];\n      } else {\n        content = pasteBin.getHtml();\n        internal = internal ? internal : $_3953hcirjnlpb2dl.isMarked(content);\n        if (pasteBin.isDefaultContent(content)) {\n          plainTextMode = true;\n        }\n      }\n      content = $_56bkmj0jnlpb2e1.trimHtml(content);\n      pasteBin.remove();\n      isPlainTextHtml = internal === false && $_1r1niaisjnlpb2dm.isPlainText(content);\n      if (!content.length || isPlainTextHtml) {\n        plainTextMode = true;\n      }\n      if (plainTextMode) {\n        if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n          content = clipboardContent['text/plain'];\n        } else {\n          content = $_56bkmj0jnlpb2e1.innerText(content);\n        }\n      }\n      if (pasteBin.isDefaultContent(content)) {\n        if (!isKeyBoardPaste) {\n          editor.windowManager.alert('Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.');\n        }\n        return;\n      }\n      if (plainTextMode) {\n        pasteText(editor, content);\n      } else {\n        pasteHtml$1(editor, content, internal);\n      }\n    }\n    var getLastRng = function () {\n      return pasteBin.getLastRng() || editor.selection.getRng();\n    };\n    editor.on('paste', function (e) {\n      var clipboardTimer = new Date().getTime();\n      var clipboardContent = getClipboardContent(editor, e);\n      var clipboardDelay = new Date().getTime() - clipboardTimer;\n      var isKeyBoardPaste = new Date().getTime() - keyboardPasteTimeStamp - clipboardDelay < 1000;\n      var plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n      var internal = hasContentType(clipboardContent, $_3953hcirjnlpb2dl.internalHtmlMime());\n      keyboardPastePlainTextState = false;\n      if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n        pasteBin.remove();\n        return;\n      }\n      if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n        pasteBin.remove();\n        return;\n      }\n      if (!isKeyBoardPaste) {\n        e.preventDefault();\n      }\n      if (global$1.ie && (!isKeyBoardPaste || e.ieFake) && !hasContentType(clipboardContent, 'text/html')) {\n        pasteBin.create();\n        editor.dom.bind(pasteBin.getEl(), 'paste', function (e) {\n          e.stopPropagation();\n        });\n        editor.getDoc().execCommand('Paste', false, null);\n        clipboardContent['text/html'] = pasteBin.getHtml();\n      }\n      if (hasContentType(clipboardContent, 'text/html')) {\n        e.preventDefault();\n        if (!internal) {\n          internal = $_3953hcirjnlpb2dl.isMarked(clipboardContent['text/html']);\n        }\n        insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n      } else {\n        global$2.setEditorTimeout(editor, function () {\n          insertClipboardContent(clipboardContent, isKeyBoardPaste, plainTextMode, internal);\n        }, 0);\n      }\n    });\n  };\n  var registerEventsAndFilters = function (editor, pasteBin, pasteFormat) {\n    registerEventHandlers(editor, pasteBin, pasteFormat);\n    var src;\n    editor.parser.addNodeFilter('img', function (nodes, name$$1, args) {\n      var isPasteInsert = function (args) {\n        return args.data && args.data.paste === true;\n      };\n      var remove = function (node) {\n        if (!node.attr('data-mce-object') && src !== global$1.transparentSrc) {\n          node.remove();\n        }\n      };\n      var isWebKitFakeUrl = function (src) {\n        return src.indexOf('webkit-fake-url') === 0;\n      };\n      var isDataUri = function (src) {\n        return src.indexOf('data:') === 0;\n      };\n      if (!editor.settings.paste_data_images && isPasteInsert(args)) {\n        var i = nodes.length;\n        while (i--) {\n          src = nodes[i].attributes.map.src;\n          if (!src) {\n            continue;\n          }\n          if (isWebKitFakeUrl(src)) {\n            remove(nodes[i]);\n          } else if (!editor.settings.allow_html_data_urls && isDataUri(src)) {\n            remove(nodes[i]);\n          }\n        }\n      }\n    });\n  };\n\n  var getPasteBinParent = function (editor) {\n    return global$1.ie && editor.inline ? document.body : editor.getBody();\n  };\n  var isExternalPasteBin = function (editor) {\n    return getPasteBinParent(editor) !== editor.getBody();\n  };\n  var delegatePasteEvents = function (editor, pasteBinElm, pasteBinDefaultContent) {\n    if (isExternalPasteBin(editor)) {\n      editor.dom.bind(pasteBinElm, 'paste keyup', function (e) {\n        if (!isDefault(editor, pasteBinDefaultContent)) {\n          editor.fire('paste');\n        }\n      });\n    }\n  };\n  var create = function (editor, lastRngCell, pasteBinDefaultContent) {\n    var dom = editor.dom, body = editor.getBody();\n    var pasteBinElm;\n    lastRngCell.set(editor.selection.getRng());\n    pasteBinElm = editor.dom.add(getPasteBinParent(editor), 'div', {\n      'id': 'mcepastebin',\n      'class': 'mce-pastebin',\n      'contentEditable': true,\n      'data-mce-bogus': 'all',\n      'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n    }, pasteBinDefaultContent);\n    if (global$1.ie || global$1.gecko) {\n      dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n    }\n    dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', function (e) {\n      e.stopPropagation();\n    });\n    delegatePasteEvents(editor, pasteBinElm, pasteBinDefaultContent);\n    pasteBinElm.focus();\n    editor.selection.select(pasteBinElm, true);\n  };\n  var remove = function (editor, lastRngCell) {\n    if (getEl(editor)) {\n      var pasteBinClone = void 0;\n      var lastRng = lastRngCell.get();\n      while (pasteBinClone = editor.dom.get('mcepastebin')) {\n        editor.dom.remove(pasteBinClone);\n        editor.dom.unbind(pasteBinClone);\n      }\n      if (lastRng) {\n        editor.selection.setRng(lastRng);\n      }\n    }\n    lastRngCell.set(null);\n  };\n  var getEl = function (editor) {\n    return editor.dom.get('mcepastebin');\n  };\n  var getHtml = function (editor) {\n    var pasteBinElm, pasteBinClones, i, dirtyWrappers, cleanWrapper;\n    var copyAndRemove = function (toElm, fromElm) {\n      toElm.appendChild(fromElm);\n      editor.dom.remove(fromElm, true);\n    };\n    pasteBinClones = global$3.grep(getPasteBinParent(editor).childNodes, function (elm) {\n      return elm.id === 'mcepastebin';\n    });\n    pasteBinElm = pasteBinClones.shift();\n    global$3.each(pasteBinClones, function (pasteBinClone) {\n      copyAndRemove(pasteBinElm, pasteBinClone);\n    });\n    dirtyWrappers = editor.dom.select('div[id=mcepastebin]', pasteBinElm);\n    for (i = dirtyWrappers.length - 1; i >= 0; i--) {\n      cleanWrapper = editor.dom.create('div');\n      pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n      copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n    }\n    return pasteBinElm ? pasteBinElm.innerHTML : '';\n  };\n  var getLastRng = function (lastRng) {\n    return lastRng.get();\n  };\n  var isDefaultContent = function (pasteBinDefaultContent, content) {\n    return content === pasteBinDefaultContent;\n  };\n  var isPasteBin = function (elm) {\n    return elm && elm.id === 'mcepastebin';\n  };\n  var isDefault = function (editor, pasteBinDefaultContent) {\n    var pasteBinElm = getEl(editor);\n    return isPasteBin(pasteBinElm) && isDefaultContent(pasteBinDefaultContent, pasteBinElm.innerHTML);\n  };\n  var PasteBin = function (editor) {\n    var lastRng = Cell(null);\n    var pasteBinDefaultContent = '%MCEPASTEBIN%';\n    return {\n      create: function () {\n        return create(editor, lastRng, pasteBinDefaultContent);\n      },\n      remove: function () {\n        return remove(editor, lastRng);\n      },\n      getEl: function () {\n        return getEl(editor);\n      },\n      getHtml: function () {\n        return getHtml(editor);\n      },\n      getLastRng: function () {\n        return getLastRng(lastRng);\n      },\n      isDefault: function () {\n        return isDefault(editor, pasteBinDefaultContent);\n      },\n      isDefaultContent: function (content) {\n        return isDefaultContent(pasteBinDefaultContent, content);\n      }\n    };\n  };\n\n  var Clipboard = function (editor, pasteFormat) {\n    var pasteBin = PasteBin(editor);\n    editor.on('preInit', function () {\n      return registerEventsAndFilters(editor, pasteBin, pasteFormat);\n    });\n    return {\n      pasteFormat: pasteFormat,\n      pasteHtml: function (html, internalFlag) {\n        return pasteHtml$1(editor, html, internalFlag);\n      },\n      pasteText: function (text) {\n        return pasteText(editor, text);\n      },\n      pasteImageData: function (e, rng) {\n        return pasteImageData(editor, e, rng);\n      },\n      getDataTransferItems: getDataTransferItems,\n      hasHtmlOrText: hasHtmlOrText,\n      hasContentType: hasContentType\n    };\n  };\n\n  var noop = function () {\n  };\n  var hasWorkingClipboardApi = function (clipboardData) {\n    return global$1.iOS === false && clipboardData !== undefined && typeof clipboardData.setData === 'function' && $_56bkmj0jnlpb2e1.isMsEdge() !== true;\n  };\n  var setHtml5Clipboard = function (clipboardData, html, text) {\n    if (hasWorkingClipboardApi(clipboardData)) {\n      try {\n        clipboardData.clearData();\n        clipboardData.setData('text/html', html);\n        clipboardData.setData('text/plain', text);\n        clipboardData.setData($_3953hcirjnlpb2dl.internalHtmlMime(), html);\n        return true;\n      } catch (e) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  };\n  var setClipboardData = function (evt, data, fallback, done) {\n    if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n      evt.preventDefault();\n      done();\n    } else {\n      fallback(data.html, done);\n    }\n  };\n  var fallback = function (editor) {\n    return function (html, done) {\n      var markedHtml = $_3953hcirjnlpb2dl.mark(html);\n      var outer = editor.dom.create('div', {\n        'contenteditable': 'false',\n        'data-mce-bogus': 'all'\n      });\n      var inner = editor.dom.create('div', { contenteditable: 'true' }, markedHtml);\n      editor.dom.setStyles(outer, {\n        position: 'fixed',\n        top: '0',\n        left: '-3000px',\n        width: '1000px',\n        overflow: 'hidden'\n      });\n      outer.appendChild(inner);\n      editor.dom.add(editor.getBody(), outer);\n      var range = editor.selection.getRng();\n      inner.focus();\n      var offscreenRange = editor.dom.createRng();\n      offscreenRange.selectNodeContents(inner);\n      editor.selection.setRng(offscreenRange);\n      setTimeout(function () {\n        editor.selection.setRng(range);\n        outer.parentNode.removeChild(outer);\n        done();\n      }, 0);\n    };\n  };\n  var getData = function (editor) {\n    return {\n      html: editor.selection.getContent({ contextual: true }),\n      text: editor.selection.getContent({ format: 'text' })\n    };\n  };\n  var cut = function (editor) {\n    return function (evt) {\n      if (editor.selection.isCollapsed() === false) {\n        setClipboardData(evt, getData(editor), fallback(editor), function () {\n          setTimeout(function () {\n            editor.execCommand('Delete');\n          }, 0);\n        });\n      }\n    };\n  };\n  var copy = function (editor) {\n    return function (evt) {\n      if (editor.selection.isCollapsed() === false) {\n        setClipboardData(evt, getData(editor), fallback(editor), noop);\n      }\n    };\n  };\n  var register$1 = function (editor) {\n    editor.on('cut', cut(editor));\n    editor.on('copy', copy(editor));\n  };\n  var $_sczyjj3jnlpb2es = { register: register$1 };\n\n  var global$10 = tinymce.util.Tools.resolve('tinymce.dom.RangeUtils');\n\n  var getCaretRangeFromEvent = function (editor, e) {\n    return global$10.getCaretRangeFromPoint(e.clientX, e.clientY, editor.getDoc());\n  };\n  var isPlainTextFileUrl = function (content) {\n    var plainTextContent = content['text/plain'];\n    return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n  };\n  var setFocusedRange = function (editor, rng) {\n    editor.focus();\n    editor.selection.setRng(rng);\n  };\n  var setup = function (editor, clipboard, draggingInternallyState) {\n    if ($_5zjznuikjnlpb2d5.shouldBlockDrop(editor)) {\n      editor.on('dragend dragover draggesture dragdrop drop drag', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n      });\n    }\n    if (!$_5zjznuikjnlpb2d5.shouldPasteDataImages(editor)) {\n      editor.on('drop', function (e) {\n        var dataTransfer = e.dataTransfer;\n        if (dataTransfer && dataTransfer.files && dataTransfer.files.length > 0) {\n          e.preventDefault();\n        }\n      });\n    }\n    editor.on('drop', function (e) {\n      var dropContent, rng;\n      rng = getCaretRangeFromEvent(editor, e);\n      if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n        return;\n      }\n      dropContent = clipboard.getDataTransferItems(e.dataTransfer);\n      var internal = clipboard.hasContentType(dropContent, $_3953hcirjnlpb2dl.internalHtmlMime());\n      if ((!clipboard.hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && clipboard.pasteImageData(e, rng)) {\n        return;\n      }\n      if (rng && $_5zjznuikjnlpb2d5.shouldFilterDrop(editor)) {\n        var content_1 = dropContent['mce-internal'] || dropContent['text/html'] || dropContent['text/plain'];\n        if (content_1) {\n          e.preventDefault();\n          global$2.setEditorTimeout(editor, function () {\n            editor.undoManager.transact(function () {\n              if (dropContent['mce-internal']) {\n                editor.execCommand('Delete');\n              }\n              setFocusedRange(editor, rng);\n              content_1 = $_56bkmj0jnlpb2e1.trimHtml(content_1);\n              if (!dropContent['text/html']) {\n                clipboard.pasteText(content_1);\n              } else {\n                clipboard.pasteHtml(content_1, internal);\n              }\n            });\n          });\n        }\n      }\n    });\n    editor.on('dragstart', function (e) {\n      draggingInternallyState.set(true);\n    });\n    editor.on('dragover dragend', function (e) {\n      if ($_5zjznuikjnlpb2d5.shouldPasteDataImages(editor) && draggingInternallyState.get() === false) {\n        e.preventDefault();\n        setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n      }\n      if (e.type === 'dragend') {\n        draggingInternallyState.set(false);\n      }\n    });\n  };\n  var $_50yn9jj4jnlpb2ev = { setup: setup };\n\n  var setup$1 = function (editor) {\n    var plugin = editor.plugins.paste;\n    var preProcess = $_5zjznuikjnlpb2d5.getPreProcess(editor);\n    if (preProcess) {\n      editor.on('PastePreProcess', function (e) {\n        preProcess.call(plugin, plugin, e);\n      });\n    }\n    var postProcess = $_5zjznuikjnlpb2d5.getPostProcess(editor);\n    if (postProcess) {\n      editor.on('PastePostProcess', function (e) {\n        postProcess.call(plugin, plugin, e);\n      });\n    }\n  };\n  var $_56gmkxj6jnlpb2ey = { setup: setup$1 };\n\n  function addPreProcessFilter(editor, filterFunc) {\n    editor.on('PastePreProcess', function (e) {\n      e.content = filterFunc(editor, e.content, e.internal, e.wordContent);\n    });\n  }\n  function addPostProcessFilter(editor, filterFunc) {\n    editor.on('PastePostProcess', function (e) {\n      filterFunc(editor, e.node);\n    });\n  }\n  function removeExplorerBrElementsAfterBlocks(editor, html) {\n    if (!$_3diikcivjnlpb2dt.isWordContent(html)) {\n      return html;\n    }\n    var blockElements = [];\n    global$3.each(editor.schema.getBlockElements(), function (block, blockName) {\n      blockElements.push(blockName);\n    });\n    var explorerBlocksRegExp = new RegExp('(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*(<\\\\/?(' + blockElements.join('|') + ')[^>]*>)(?:<br>&nbsp;[\\\\s\\\\r\\\\n]+|<br>)*', 'g');\n    html = $_56bkmj0jnlpb2e1.filter(html, [[\n        explorerBlocksRegExp,\n        '$1'\n      ]]);\n    html = $_56bkmj0jnlpb2e1.filter(html, [\n      [\n        /<br><br>/g,\n        '<BR><BR>'\n      ],\n      [\n        /<br>/g,\n        ' '\n      ],\n      [\n        /<BR><BR>/g,\n        '<br>'\n      ]\n    ]);\n    return html;\n  }\n  function removeWebKitStyles(editor, content, internal, isWordHtml) {\n    if (isWordHtml || internal) {\n      return content;\n    }\n    var webKitStylesSetting = $_5zjznuikjnlpb2d5.getWebkitStyles(editor);\n    var webKitStyles;\n    if ($_5zjznuikjnlpb2d5.shouldRemoveWebKitStyles(editor) === false || webKitStylesSetting === 'all') {\n      return content;\n    }\n    if (webKitStylesSetting) {\n      webKitStyles = webKitStylesSetting.split(/[, ]/);\n    }\n    if (webKitStyles) {\n      var dom_1 = editor.dom, node_1 = editor.selection.getNode();\n      content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, function (all, before, value, after) {\n        var inputStyles = dom_1.parseStyle(dom_1.decode(value));\n        var outputStyles = {};\n        if (webKitStyles === 'none') {\n          return before + after;\n        }\n        for (var i = 0; i < webKitStyles.length; i++) {\n          var inputValue = inputStyles[webKitStyles[i]], currentValue = dom_1.getStyle(node_1, webKitStyles[i], true);\n          if (/color/.test(webKitStyles[i])) {\n            inputValue = dom_1.toHex(inputValue);\n            currentValue = dom_1.toHex(currentValue);\n          }\n          if (currentValue !== inputValue) {\n            outputStyles[webKitStyles[i]] = inputValue;\n          }\n        }\n        outputStyles = dom_1.serializeStyle(outputStyles, 'span');\n        if (outputStyles) {\n          return before + ' style=\"' + outputStyles + '\"' + after;\n        }\n        return before + after;\n      });\n    } else {\n      content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n    }\n    content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, function (all, before, value, after) {\n      return before + ' style=\"' + value + '\"' + after;\n    });\n    return content;\n  }\n  function removeUnderlineAndFontInAnchor(editor, root) {\n    editor.$('a', root).find('font,u').each(function (i, node) {\n      editor.dom.remove(node, true);\n    });\n  }\n  var setup$2 = function (editor) {\n    if (global$1.webkit) {\n      addPreProcessFilter(editor, removeWebKitStyles);\n    }\n    if (global$1.ie) {\n      addPreProcessFilter(editor, removeExplorerBrElementsAfterBlocks);\n      addPostProcessFilter(editor, removeUnderlineAndFontInAnchor);\n    }\n  };\n  var $_1e9xv6j7jnlpb2f0 = { setup: setup$2 };\n\n  var curry = function (f) {\n    var x = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n    var args = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i++)\n      args[i - 1] = arguments[i];\n    return function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      var newArgs = new Array(arguments.length);\n      for (var j = 0; j < newArgs.length; j++)\n        newArgs[j] = arguments[j];\n      var all = args.concat(newArgs);\n      return f.apply(null, all);\n    };\n  };\n\n  var stateChange = function (editor, clipboard, e) {\n    var ctrl = e.control;\n    ctrl.active(clipboard.pasteFormat.get() === 'text');\n    editor.on('PastePlainTextToggle', function (e) {\n      ctrl.active(e.state);\n    });\n  };\n  var register$2 = function (editor, clipboard) {\n    var postRender = curry(stateChange, editor, clipboard);\n    editor.addButton('pastetext', {\n      active: false,\n      icon: 'pastetext',\n      tooltip: 'Paste as text',\n      cmd: 'mceTogglePlainTextPaste',\n      onPostRender: postRender\n    });\n    editor.addMenuItem('pastetext', {\n      text: 'Paste as text',\n      selectable: true,\n      active: clipboard.pasteFormat,\n      cmd: 'mceTogglePlainTextPaste',\n      onPostRender: postRender\n    });\n  };\n  var $_6kzv73j8jnlpb2f7 = { register: register$2 };\n\n  global.add('paste', function (editor) {\n    if ($_866zzmiejnlpb2cn.hasProPlugin(editor) === false) {\n      var userIsInformedState = Cell(false);\n      var draggingInternallyState = Cell(false);\n      var pasteFormat = Cell($_5zjznuikjnlpb2d5.isPasteAsTextEnabled(editor) ? 'text' : 'html');\n      var clipboard = Clipboard(editor, pasteFormat);\n      var quirks = $_1e9xv6j7jnlpb2f0.setup(editor);\n      $_6kzv73j8jnlpb2f7.register(editor, clipboard);\n      $_1zu5gaihjnlpb2d1.register(editor, clipboard, userIsInformedState);\n      $_56gmkxj6jnlpb2ey.setup(editor);\n      $_sczyjj3jnlpb2es.register(editor);\n      $_50yn9jj4jnlpb2ev.setup(editor, clipboard, draggingInternallyState);\n      return $_6869etigjnlpb2d0.get(clipboard, quirks);\n    }\n  });\n  function Plugin () {\n  }\n\n  return Plugin;\n\n}());\n})();\n"]}]}