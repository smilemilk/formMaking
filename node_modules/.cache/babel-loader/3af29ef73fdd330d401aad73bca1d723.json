{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/textcolor/plugin.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/textcolor/plugin.js","mtime":1551936177000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var textcolor = function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var getCurrentColor = function (editor, format) {\n      var color;\n      editor.dom.getParents(editor.selection.getStart(), function (elm) {\n        var value;\n\n        if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n          color = color ? color : value;\n        }\n      });\n      return color;\n    };\n\n    var mapColors = function (colorMap) {\n      var i;\n      var colors = [];\n\n      for (i = 0; i < colorMap.length; i += 2) {\n        colors.push({\n          text: colorMap[i + 1],\n          color: '#' + colorMap[i]\n        });\n      }\n\n      return colors;\n    };\n\n    var applyFormat = function (editor, format, value) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.apply(format, {\n          value: value\n        });\n        editor.nodeChanged();\n      });\n    };\n\n    var removeFormat = function (editor, format) {\n      editor.undoManager.transact(function () {\n        editor.focus();\n        editor.formatter.remove(format, {\n          value: null\n        }, null, true);\n        editor.nodeChanged();\n      });\n    };\n\n    var $_9f1skrrijnlpb4sm = {\n      getCurrentColor: getCurrentColor,\n      mapColors: mapColors,\n      applyFormat: applyFormat,\n      removeFormat: removeFormat\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceApplyTextcolor', function (format, value) {\n        $_9f1skrrijnlpb4sm.applyFormat(editor, format, value);\n      });\n      editor.addCommand('mceRemoveTextcolor', function (format) {\n        $_9f1skrrijnlpb4sm.removeFormat(editor, format);\n      });\n    };\n\n    var $_80ds76rhjnlpb4sl = {\n      register: register\n    };\n    var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n    var defaultColorMap = ['000000', 'Black', '993300', 'Burnt orange', '333300', 'Dark olive', '003300', 'Dark green', '003366', 'Dark azure', '000080', 'Navy Blue', '333399', 'Indigo', '333333', 'Very dark gray', '800000', 'Maroon', 'FF6600', 'Orange', '808000', 'Olive', '008000', 'Green', '008080', 'Teal', '0000FF', 'Blue', '666699', 'Grayish blue', '808080', 'Gray', 'FF0000', 'Red', 'FF9900', 'Amber', '99CC00', 'Yellow green', '339966', 'Sea green', '33CCCC', 'Turquoise', '3366FF', 'Royal blue', '800080', 'Purple', '999999', 'Medium gray', 'FF00FF', 'Magenta', 'FFCC00', 'Gold', 'FFFF00', 'Yellow', '00FF00', 'Lime', '00FFFF', 'Aqua', '00CCFF', 'Sky blue', '993366', 'Red violet', 'FFFFFF', 'White', 'FF99CC', 'Pink', 'FFCC99', 'Peach', 'FFFF99', 'Light yellow', 'CCFFCC', 'Pale green', 'CCFFFF', 'Pale cyan', '99CCFF', 'Light sky blue', 'CC99FF', 'Plum'];\n\n    var getTextColorMap = function (editor) {\n      return editor.getParam('textcolor_map', defaultColorMap);\n    };\n\n    var getForeColorMap = function (editor) {\n      return editor.getParam('forecolor_map', getTextColorMap(editor));\n    };\n\n    var getBackColorMap = function (editor) {\n      return editor.getParam('backcolor_map', getTextColorMap(editor));\n    };\n\n    var getTextColorRows = function (editor) {\n      return editor.getParam('textcolor_rows', 5);\n    };\n\n    var getTextColorCols = function (editor) {\n      return editor.getParam('textcolor_cols', 8);\n    };\n\n    var getForeColorRows = function (editor) {\n      return editor.getParam('forecolor_rows', getTextColorRows(editor));\n    };\n\n    var getBackColorRows = function (editor) {\n      return editor.getParam('backcolor_rows', getTextColorRows(editor));\n    };\n\n    var getForeColorCols = function (editor) {\n      return editor.getParam('forecolor_cols', getTextColorCols(editor));\n    };\n\n    var getBackColorCols = function (editor) {\n      return editor.getParam('backcolor_cols', getTextColorCols(editor));\n    };\n\n    var getColorPickerCallback = function (editor) {\n      return editor.getParam('color_picker_callback', null);\n    };\n\n    var hasColorPicker = function (editor) {\n      return typeof getColorPickerCallback(editor) === 'function';\n    };\n\n    var $_8qnuf8rmjnlpb4st = {\n      getForeColorMap: getForeColorMap,\n      getBackColorMap: getBackColorMap,\n      getForeColorRows: getForeColorRows,\n      getBackColorRows: getBackColorRows,\n      getForeColorCols: getForeColorCols,\n      getBackColorCols: getBackColorCols,\n      getColorPickerCallback: getColorPickerCallback,\n      hasColorPicker: hasColorPicker\n    };\n    var global$3 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var getHtml = function (cols, rows, colorMap, hasColorPicker) {\n      var colors,\n          color,\n          html,\n          last,\n          x,\n          y,\n          i,\n          count = 0;\n      var id = global$1.DOM.uniqueId('mcearia');\n\n      var getColorCellHtml = function (color, title) {\n        var isNoColor = color === 'transparent';\n        return '<td class=\"mce-grid-cell' + (isNoColor ? ' mce-colorbtn-trans' : '') + '\">' + '<div id=\"' + id + '-' + count++ + '\"' + ' data-mce-color=\"' + (color ? color : '') + '\"' + ' role=\"option\"' + ' tabIndex=\"-1\"' + ' style=\"' + (color ? 'background-color: ' + color : '') + '\"' + ' title=\"' + global$3.translate(title) + '\">' + (isNoColor ? '&#215;' : '') + '</div>' + '</td>';\n      };\n\n      colors = $_9f1skrrijnlpb4sm.mapColors(colorMap);\n      colors.push({\n        text: global$3.translate('No color'),\n        color: 'transparent'\n      });\n      html = '<table class=\"mce-grid mce-grid-border mce-colorbutton-grid\" role=\"list\" cellspacing=\"0\"><tbody>';\n      last = colors.length - 1;\n\n      for (y = 0; y < rows; y++) {\n        html += '<tr>';\n\n        for (x = 0; x < cols; x++) {\n          i = y * cols + x;\n\n          if (i > last) {\n            html += '<td></td>';\n          } else {\n            color = colors[i];\n            html += getColorCellHtml(color.color, color.text);\n          }\n        }\n\n        html += '</tr>';\n      }\n\n      if (hasColorPicker) {\n        html += '<tr>' + '<td colspan=\"' + cols + '\" class=\"mce-custom-color-btn\">' + '<div id=\"' + id + '-c\" class=\"mce-widget mce-btn mce-btn-small mce-btn-flat\" ' + 'role=\"button\" tabindex=\"-1\" aria-labelledby=\"' + id + '-c\" style=\"width: 100%\">' + '<button type=\"button\" role=\"presentation\" tabindex=\"-1\">' + global$3.translate('Custom...') + '</button>' + '</div>' + '</td>' + '</tr>';\n        html += '<tr>';\n\n        for (x = 0; x < cols; x++) {\n          html += getColorCellHtml('', 'Custom color');\n        }\n\n        html += '</tr>';\n      }\n\n      html += '</tbody></table>';\n      return html;\n    };\n\n    var $_dwsr2vrnjnlpb4sv = {\n      getHtml: getHtml\n    };\n\n    var setDivColor = function setDivColor(div, value) {\n      div.style.background = value;\n      div.setAttribute('data-mce-color', value);\n    };\n\n    var onButtonClick = function (editor) {\n      return function (e) {\n        var ctrl = e.control;\n\n        if (ctrl._color) {\n          editor.execCommand('mceApplyTextcolor', ctrl.settings.format, ctrl._color);\n        } else {\n          editor.execCommand('mceRemoveTextcolor', ctrl.settings.format);\n        }\n      };\n    };\n\n    var onPanelClick = function (editor, cols) {\n      return function (e) {\n        var buttonCtrl = this.parent();\n        var value;\n        var currentColor = $_9f1skrrijnlpb4sm.getCurrentColor(editor, buttonCtrl.settings.format);\n\n        var selectColor = function (value) {\n          editor.execCommand('mceApplyTextcolor', buttonCtrl.settings.format, value);\n          buttonCtrl.hidePanel();\n          buttonCtrl.color(value);\n        };\n\n        var resetColor = function () {\n          editor.execCommand('mceRemoveTextcolor', buttonCtrl.settings.format);\n          buttonCtrl.hidePanel();\n          buttonCtrl.resetColor();\n        };\n\n        if (global$1.DOM.getParent(e.target, '.mce-custom-color-btn')) {\n          buttonCtrl.hidePanel();\n          var colorPickerCallback = $_8qnuf8rmjnlpb4st.getColorPickerCallback(editor);\n          colorPickerCallback.call(editor, function (value) {\n            var tableElm = buttonCtrl.panel.getEl().getElementsByTagName('table')[0];\n            var customColorCells, div, i;\n            customColorCells = global$2.map(tableElm.rows[tableElm.rows.length - 1].childNodes, function (elm) {\n              return elm.firstChild;\n            });\n\n            for (i = 0; i < customColorCells.length; i++) {\n              div = customColorCells[i];\n\n              if (!div.getAttribute('data-mce-color')) {\n                break;\n              }\n            }\n\n            if (i === cols) {\n              for (i = 0; i < cols - 1; i++) {\n                setDivColor(customColorCells[i], customColorCells[i + 1].getAttribute('data-mce-color'));\n              }\n            }\n\n            setDivColor(div, value);\n            selectColor(value);\n          }, currentColor);\n        }\n\n        value = e.target.getAttribute('data-mce-color');\n\n        if (value) {\n          if (this.lastId) {\n            global$1.DOM.get(this.lastId).setAttribute('aria-selected', 'false');\n          }\n\n          e.target.setAttribute('aria-selected', true);\n          this.lastId = e.target.id;\n\n          if (value === 'transparent') {\n            resetColor();\n          } else {\n            selectColor(value);\n          }\n        } else if (value !== null) {\n          buttonCtrl.hidePanel();\n        }\n      };\n    };\n\n    var renderColorPicker = function (editor, foreColor) {\n      return function () {\n        var cols = foreColor ? $_8qnuf8rmjnlpb4st.getForeColorCols(editor) : $_8qnuf8rmjnlpb4st.getBackColorCols(editor);\n        var rows = foreColor ? $_8qnuf8rmjnlpb4st.getForeColorRows(editor) : $_8qnuf8rmjnlpb4st.getBackColorRows(editor);\n        var colorMap = foreColor ? $_8qnuf8rmjnlpb4st.getForeColorMap(editor) : $_8qnuf8rmjnlpb4st.getBackColorMap(editor);\n        var hasColorPicker = $_8qnuf8rmjnlpb4st.hasColorPicker(editor);\n        return $_dwsr2vrnjnlpb4sv.getHtml(cols, rows, colorMap, hasColorPicker);\n      };\n    };\n\n    var register$1 = function (editor) {\n      editor.addButton('forecolor', {\n        type: 'colorbutton',\n        tooltip: 'Text color',\n        format: 'forecolor',\n        panel: {\n          role: 'application',\n          ariaRemember: true,\n          html: renderColorPicker(editor, true),\n          onclick: onPanelClick(editor, $_8qnuf8rmjnlpb4st.getForeColorCols(editor))\n        },\n        onclick: onButtonClick(editor)\n      });\n      editor.addButton('backcolor', {\n        type: 'colorbutton',\n        tooltip: 'Background color',\n        format: 'hilitecolor',\n        panel: {\n          role: 'application',\n          ariaRemember: true,\n          html: renderColorPicker(editor, false),\n          onclick: onPanelClick(editor, $_8qnuf8rmjnlpb4st.getBackColorCols(editor))\n        },\n        onclick: onButtonClick(editor)\n      });\n    };\n\n    var $_bn6z8rrjjnlpb4so = {\n      register: register$1\n    };\n    global.add('textcolor', function (editor) {\n      $_80ds76rhjnlpb4sl.register(editor);\n      $_bn6z8rrjjnlpb4so.register(editor);\n    });\n\n    function Plugin() {}\n\n    return Plugin;\n  }();\n})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/textcolor/plugin.js"],"names":["textcolor","global","tinymce","util","Tools","resolve","getCurrentColor","editor","format","color","dom","getParents","selection","getStart","elm","value","style","mapColors","colorMap","i","colors","length","push","text","applyFormat","undoManager","transact","focus","formatter","apply","nodeChanged","removeFormat","remove","$_9f1skrrijnlpb4sm","register","addCommand","$_80ds76rhjnlpb4sl","global$1","global$2","defaultColorMap","getTextColorMap","getParam","getForeColorMap","getBackColorMap","getTextColorRows","getTextColorCols","getForeColorRows","getBackColorRows","getForeColorCols","getBackColorCols","getColorPickerCallback","hasColorPicker","$_8qnuf8rmjnlpb4st","global$3","getHtml","cols","rows","html","last","x","y","count","id","DOM","uniqueId","getColorCellHtml","title","isNoColor","translate","$_dwsr2vrnjnlpb4sv","setDivColor","div","background","setAttribute","onButtonClick","e","ctrl","control","_color","execCommand","settings","onPanelClick","buttonCtrl","parent","currentColor","selectColor","hidePanel","resetColor","getParent","target","colorPickerCallback","call","tableElm","panel","getEl","getElementsByTagName","customColorCells","map","childNodes","firstChild","getAttribute","lastId","get","renderColorPicker","foreColor","register$1","addButton","type","tooltip","role","ariaRemember","onclick","$_bn6z8rrjjnlpb4so","add","Plugin"],"mappings":"AAAA,CAAC,YAAY;AACb,MAAIA,SAAS,GAAI,YAAY;AAC3B;;AAEA,QAAIC,MAAM,GAAGC,OAAO,CAACC,IAAR,CAAaC,KAAb,CAAmBC,OAAnB,CAA2B,uBAA3B,CAAb;;AAEA,QAAIC,eAAe,GAAG,UAAUC,MAAV,EAAkBC,MAAlB,EAA0B;AAC9C,UAAIC,KAAJ;AACAF,MAAAA,MAAM,CAACG,GAAP,CAAWC,UAAX,CAAsBJ,MAAM,CAACK,SAAP,CAAiBC,QAAjB,EAAtB,EAAmD,UAAUC,GAAV,EAAe;AAChE,YAAIC,KAAJ;;AACA,YAAIA,KAAK,GAAGD,GAAG,CAACE,KAAJ,CAAUR,MAAM,KAAK,WAAX,GAAyB,OAAzB,GAAmC,kBAA7C,CAAZ,EAA8E;AAC5EC,UAAAA,KAAK,GAAGA,KAAK,GAAGA,KAAH,GAAWM,KAAxB;AACD;AACF,OALD;AAMA,aAAON,KAAP;AACD,KATD;;AAUA,QAAIQ,SAAS,GAAG,UAAUC,QAAV,EAAoB;AAClC,UAAIC,CAAJ;AACA,UAAIC,MAAM,GAAG,EAAb;;AACA,WAAKD,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,QAAQ,CAACG,MAAzB,EAAiCF,CAAC,IAAI,CAAtC,EAAyC;AACvCC,QAAAA,MAAM,CAACE,IAAP,CAAY;AACVC,UAAAA,IAAI,EAAEL,QAAQ,CAACC,CAAC,GAAG,CAAL,CADJ;AAEVV,UAAAA,KAAK,EAAE,MAAMS,QAAQ,CAACC,CAAD;AAFX,SAAZ;AAID;;AACD,aAAOC,MAAP;AACD,KAVD;;AAWA,QAAII,WAAW,GAAG,UAAUjB,MAAV,EAAkBC,MAAlB,EAA0BO,KAA1B,EAAiC;AACjDR,MAAAA,MAAM,CAACkB,WAAP,CAAmBC,QAAnB,CAA4B,YAAY;AACtCnB,QAAAA,MAAM,CAACoB,KAAP;AACApB,QAAAA,MAAM,CAACqB,SAAP,CAAiBC,KAAjB,CAAuBrB,MAAvB,EAA+B;AAAEO,UAAAA,KAAK,EAAEA;AAAT,SAA/B;AACAR,QAAAA,MAAM,CAACuB,WAAP;AACD,OAJD;AAKD,KAND;;AAOA,QAAIC,YAAY,GAAG,UAAUxB,MAAV,EAAkBC,MAAlB,EAA0B;AAC3CD,MAAAA,MAAM,CAACkB,WAAP,CAAmBC,QAAnB,CAA4B,YAAY;AACtCnB,QAAAA,MAAM,CAACoB,KAAP;AACApB,QAAAA,MAAM,CAACqB,SAAP,CAAiBI,MAAjB,CAAwBxB,MAAxB,EAAgC;AAAEO,UAAAA,KAAK,EAAE;AAAT,SAAhC,EAAiD,IAAjD,EAAuD,IAAvD;AACAR,QAAAA,MAAM,CAACuB,WAAP;AACD,OAJD;AAKD,KAND;;AAOA,QAAIG,kBAAkB,GAAG;AACvB3B,MAAAA,eAAe,EAAEA,eADM;AAEvBW,MAAAA,SAAS,EAAEA,SAFY;AAGvBO,MAAAA,WAAW,EAAEA,WAHU;AAIvBO,MAAAA,YAAY,EAAEA;AAJS,KAAzB;;AAOA,QAAIG,QAAQ,GAAG,UAAU3B,MAAV,EAAkB;AAC/BA,MAAAA,MAAM,CAAC4B,UAAP,CAAkB,mBAAlB,EAAuC,UAAU3B,MAAV,EAAkBO,KAAlB,EAAyB;AAC9DkB,QAAAA,kBAAkB,CAACT,WAAnB,CAA+BjB,MAA/B,EAAuCC,MAAvC,EAA+CO,KAA/C;AACD,OAFD;AAGAR,MAAAA,MAAM,CAAC4B,UAAP,CAAkB,oBAAlB,EAAwC,UAAU3B,MAAV,EAAkB;AACxDyB,QAAAA,kBAAkB,CAACF,YAAnB,CAAgCxB,MAAhC,EAAwCC,MAAxC;AACD,OAFD;AAGD,KAPD;;AAQA,QAAI4B,kBAAkB,GAAG;AAAEF,MAAAA,QAAQ,EAAEA;AAAZ,KAAzB;AAEA,QAAIG,QAAQ,GAAGnC,OAAO,CAACC,IAAR,CAAaC,KAAb,CAAmBC,OAAnB,CAA2B,sBAA3B,CAAf;AAEA,QAAIiC,QAAQ,GAAGpC,OAAO,CAACC,IAAR,CAAaC,KAAb,CAAmBC,OAAnB,CAA2B,oBAA3B,CAAf;AAEA,QAAIkC,eAAe,GAAG,CACpB,QADoB,EAEpB,OAFoB,EAGpB,QAHoB,EAIpB,cAJoB,EAKpB,QALoB,EAMpB,YANoB,EAOpB,QAPoB,EAQpB,YARoB,EASpB,QAToB,EAUpB,YAVoB,EAWpB,QAXoB,EAYpB,WAZoB,EAapB,QAboB,EAcpB,QAdoB,EAepB,QAfoB,EAgBpB,gBAhBoB,EAiBpB,QAjBoB,EAkBpB,QAlBoB,EAmBpB,QAnBoB,EAoBpB,QApBoB,EAqBpB,QArBoB,EAsBpB,OAtBoB,EAuBpB,QAvBoB,EAwBpB,OAxBoB,EAyBpB,QAzBoB,EA0BpB,MA1BoB,EA2BpB,QA3BoB,EA4BpB,MA5BoB,EA6BpB,QA7BoB,EA8BpB,cA9BoB,EA+BpB,QA/BoB,EAgCpB,MAhCoB,EAiCpB,QAjCoB,EAkCpB,KAlCoB,EAmCpB,QAnCoB,EAoCpB,OApCoB,EAqCpB,QArCoB,EAsCpB,cAtCoB,EAuCpB,QAvCoB,EAwCpB,WAxCoB,EAyCpB,QAzCoB,EA0CpB,WA1CoB,EA2CpB,QA3CoB,EA4CpB,YA5CoB,EA6CpB,QA7CoB,EA8CpB,QA9CoB,EA+CpB,QA/CoB,EAgDpB,aAhDoB,EAiDpB,QAjDoB,EAkDpB,SAlDoB,EAmDpB,QAnDoB,EAoDpB,MApDoB,EAqDpB,QArDoB,EAsDpB,QAtDoB,EAuDpB,QAvDoB,EAwDpB,MAxDoB,EAyDpB,QAzDoB,EA0DpB,MA1DoB,EA2DpB,QA3DoB,EA4DpB,UA5DoB,EA6DpB,QA7DoB,EA8DpB,YA9DoB,EA+DpB,QA/DoB,EAgEpB,OAhEoB,EAiEpB,QAjEoB,EAkEpB,MAlEoB,EAmEpB,QAnEoB,EAoEpB,OApEoB,EAqEpB,QArEoB,EAsEpB,cAtEoB,EAuEpB,QAvEoB,EAwEpB,YAxEoB,EAyEpB,QAzEoB,EA0EpB,WA1EoB,EA2EpB,QA3EoB,EA4EpB,gBA5EoB,EA6EpB,QA7EoB,EA8EpB,MA9EoB,CAAtB;;AAgFA,QAAIC,eAAe,GAAG,UAAUjC,MAAV,EAAkB;AACtC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,eAAhB,EAAiCF,eAAjC,CAAP;AACD,KAFD;;AAGA,QAAIG,eAAe,GAAG,UAAUnC,MAAV,EAAkB;AACtC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,eAAhB,EAAiCD,eAAe,CAACjC,MAAD,CAAhD,CAAP;AACD,KAFD;;AAGA,QAAIoC,eAAe,GAAG,UAAUpC,MAAV,EAAkB;AACtC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,eAAhB,EAAiCD,eAAe,CAACjC,MAAD,CAAhD,CAAP;AACD,KAFD;;AAGA,QAAIqC,gBAAgB,GAAG,UAAUrC,MAAV,EAAkB;AACvC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,gBAAhB,EAAkC,CAAlC,CAAP;AACD,KAFD;;AAGA,QAAII,gBAAgB,GAAG,UAAUtC,MAAV,EAAkB;AACvC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,gBAAhB,EAAkC,CAAlC,CAAP;AACD,KAFD;;AAGA,QAAIK,gBAAgB,GAAG,UAAUvC,MAAV,EAAkB;AACvC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,gBAAhB,EAAkCG,gBAAgB,CAACrC,MAAD,CAAlD,CAAP;AACD,KAFD;;AAGA,QAAIwC,gBAAgB,GAAG,UAAUxC,MAAV,EAAkB;AACvC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,gBAAhB,EAAkCG,gBAAgB,CAACrC,MAAD,CAAlD,CAAP;AACD,KAFD;;AAGA,QAAIyC,gBAAgB,GAAG,UAAUzC,MAAV,EAAkB;AACvC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,gBAAhB,EAAkCI,gBAAgB,CAACtC,MAAD,CAAlD,CAAP;AACD,KAFD;;AAGA,QAAI0C,gBAAgB,GAAG,UAAU1C,MAAV,EAAkB;AACvC,aAAOA,MAAM,CAACkC,QAAP,CAAgB,gBAAhB,EAAkCI,gBAAgB,CAACtC,MAAD,CAAlD,CAAP;AACD,KAFD;;AAGA,QAAI2C,sBAAsB,GAAG,UAAU3C,MAAV,EAAkB;AAC7C,aAAOA,MAAM,CAACkC,QAAP,CAAgB,uBAAhB,EAAyC,IAAzC,CAAP;AACD,KAFD;;AAGA,QAAIU,cAAc,GAAG,UAAU5C,MAAV,EAAkB;AACrC,aAAO,OAAO2C,sBAAsB,CAAC3C,MAAD,CAA7B,KAA0C,UAAjD;AACD,KAFD;;AAGA,QAAI6C,kBAAkB,GAAG;AACvBV,MAAAA,eAAe,EAAEA,eADM;AAEvBC,MAAAA,eAAe,EAAEA,eAFM;AAGvBG,MAAAA,gBAAgB,EAAEA,gBAHK;AAIvBC,MAAAA,gBAAgB,EAAEA,gBAJK;AAKvBC,MAAAA,gBAAgB,EAAEA,gBALK;AAMvBC,MAAAA,gBAAgB,EAAEA,gBANK;AAOvBC,MAAAA,sBAAsB,EAAEA,sBAPD;AAQvBC,MAAAA,cAAc,EAAEA;AARO,KAAzB;AAWA,QAAIE,QAAQ,GAAGnD,OAAO,CAACC,IAAR,CAAaC,KAAb,CAAmBC,OAAnB,CAA2B,mBAA3B,CAAf;;AAEA,QAAIiD,OAAO,GAAG,UAAUC,IAAV,EAAgBC,IAAhB,EAAsBtC,QAAtB,EAAgCiC,cAAhC,EAAgD;AAC5D,UAAI/B,MAAJ;AAAA,UAAYX,KAAZ;AAAA,UAAmBgD,IAAnB;AAAA,UAAyBC,IAAzB;AAAA,UAA+BC,CAA/B;AAAA,UAAkCC,CAAlC;AAAA,UAAqCzC,CAArC;AAAA,UAAwC0C,KAAK,GAAG,CAAhD;AACA,UAAIC,EAAE,GAAGzB,QAAQ,CAAC0B,GAAT,CAAaC,QAAb,CAAsB,SAAtB,CAAT;;AACA,UAAIC,gBAAgB,GAAG,UAAUxD,KAAV,EAAiByD,KAAjB,EAAwB;AAC7C,YAAIC,SAAS,GAAG1D,KAAK,KAAK,aAA1B;AACA,eAAO,8BAA8B0D,SAAS,GAAG,qBAAH,GAA2B,EAAlE,IAAwE,IAAxE,GAA+E,WAA/E,GAA6FL,EAA7F,GAAkG,GAAlG,GAAwGD,KAAK,EAA7G,GAAkH,GAAlH,GAAwH,mBAAxH,IAA+IpD,KAAK,GAAGA,KAAH,GAAW,EAA/J,IAAqK,GAArK,GAA2K,gBAA3K,GAA8L,gBAA9L,GAAiN,UAAjN,IAA+NA,KAAK,GAAG,uBAAuBA,KAA1B,GAAkC,EAAtQ,IAA4Q,GAA5Q,GAAkR,UAAlR,GAA+R4C,QAAQ,CAACe,SAAT,CAAmBF,KAAnB,CAA/R,GAA2T,IAA3T,IAAmUC,SAAS,GAAG,QAAH,GAAc,EAA1V,IAAgW,QAAhW,GAA2W,OAAlX;AACD,OAHD;;AAIA/C,MAAAA,MAAM,GAAGa,kBAAkB,CAAChB,SAAnB,CAA6BC,QAA7B,CAAT;AACAE,MAAAA,MAAM,CAACE,IAAP,CAAY;AACVC,QAAAA,IAAI,EAAE8B,QAAQ,CAACe,SAAT,CAAmB,UAAnB,CADI;AAEV3D,QAAAA,KAAK,EAAE;AAFG,OAAZ;AAIAgD,MAAAA,IAAI,GAAG,kGAAP;AACAC,MAAAA,IAAI,GAAGtC,MAAM,CAACC,MAAP,GAAgB,CAAvB;;AACA,WAAKuC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGJ,IAAhB,EAAsBI,CAAC,EAAvB,EAA2B;AACzBH,QAAAA,IAAI,IAAI,MAAR;;AACA,aAAKE,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGJ,IAAhB,EAAsBI,CAAC,EAAvB,EAA2B;AACzBxC,UAAAA,CAAC,GAAGyC,CAAC,GAAGL,IAAJ,GAAWI,CAAf;;AACA,cAAIxC,CAAC,GAAGuC,IAAR,EAAc;AACZD,YAAAA,IAAI,IAAI,WAAR;AACD,WAFD,MAEO;AACLhD,YAAAA,KAAK,GAAGW,MAAM,CAACD,CAAD,CAAd;AACAsC,YAAAA,IAAI,IAAIQ,gBAAgB,CAACxD,KAAK,CAACA,KAAP,EAAcA,KAAK,CAACc,IAApB,CAAxB;AACD;AACF;;AACDkC,QAAAA,IAAI,IAAI,OAAR;AACD;;AACD,UAAIN,cAAJ,EAAoB;AAClBM,QAAAA,IAAI,IAAI,SAAS,eAAT,GAA2BF,IAA3B,GAAkC,iCAAlC,GAAsE,WAAtE,GAAoFO,EAApF,GAAyF,4DAAzF,GAAwJ,+CAAxJ,GAA0MA,EAA1M,GAA+M,0BAA/M,GAA4O,0DAA5O,GAAyST,QAAQ,CAACe,SAAT,CAAmB,WAAnB,CAAzS,GAA2U,WAA3U,GAAyV,QAAzV,GAAoW,OAApW,GAA8W,OAAtX;AACAX,QAAAA,IAAI,IAAI,MAAR;;AACA,aAAKE,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGJ,IAAhB,EAAsBI,CAAC,EAAvB,EAA2B;AACzBF,UAAAA,IAAI,IAAIQ,gBAAgB,CAAC,EAAD,EAAK,cAAL,CAAxB;AACD;;AACDR,QAAAA,IAAI,IAAI,OAAR;AACD;;AACDA,MAAAA,IAAI,IAAI,kBAAR;AACA,aAAOA,IAAP;AACD,KArCD;;AAsCA,QAAIY,kBAAkB,GAAG;AAAEf,MAAAA,OAAO,EAAEA;AAAX,KAAzB;;AAEA,QAAIgB,WAAW,GAAG,SAASA,WAAT,CAAqBC,GAArB,EAA0BxD,KAA1B,EAAiC;AACjDwD,MAAAA,GAAG,CAACvD,KAAJ,CAAUwD,UAAV,GAAuBzD,KAAvB;AACAwD,MAAAA,GAAG,CAACE,YAAJ,CAAiB,gBAAjB,EAAmC1D,KAAnC;AACD,KAHD;;AAIA,QAAI2D,aAAa,GAAG,UAAUnE,MAAV,EAAkB;AACpC,aAAO,UAAUoE,CAAV,EAAa;AAClB,YAAIC,IAAI,GAAGD,CAAC,CAACE,OAAb;;AACA,YAAID,IAAI,CAACE,MAAT,EAAiB;AACfvE,UAAAA,MAAM,CAACwE,WAAP,CAAmB,mBAAnB,EAAwCH,IAAI,CAACI,QAAL,CAAcxE,MAAtD,EAA8DoE,IAAI,CAACE,MAAnE;AACD,SAFD,MAEO;AACLvE,UAAAA,MAAM,CAACwE,WAAP,CAAmB,oBAAnB,EAAyCH,IAAI,CAACI,QAAL,CAAcxE,MAAvD;AACD;AACF,OAPD;AAQD,KATD;;AAUA,QAAIyE,YAAY,GAAG,UAAU1E,MAAV,EAAkBgD,IAAlB,EAAwB;AACzC,aAAO,UAAUoB,CAAV,EAAa;AAClB,YAAIO,UAAU,GAAG,KAAKC,MAAL,EAAjB;AACA,YAAIpE,KAAJ;AACA,YAAIqE,YAAY,GAAGnD,kBAAkB,CAAC3B,eAAnB,CAAmCC,MAAnC,EAA2C2E,UAAU,CAACF,QAAX,CAAoBxE,MAA/D,CAAnB;;AACA,YAAI6E,WAAW,GAAG,UAAUtE,KAAV,EAAiB;AACjCR,UAAAA,MAAM,CAACwE,WAAP,CAAmB,mBAAnB,EAAwCG,UAAU,CAACF,QAAX,CAAoBxE,MAA5D,EAAoEO,KAApE;AACAmE,UAAAA,UAAU,CAACI,SAAX;AACAJ,UAAAA,UAAU,CAACzE,KAAX,CAAiBM,KAAjB;AACD,SAJD;;AAKA,YAAIwE,UAAU,GAAG,YAAY;AAC3BhF,UAAAA,MAAM,CAACwE,WAAP,CAAmB,oBAAnB,EAAyCG,UAAU,CAACF,QAAX,CAAoBxE,MAA7D;AACA0E,UAAAA,UAAU,CAACI,SAAX;AACAJ,UAAAA,UAAU,CAACK,UAAX;AACD,SAJD;;AAKA,YAAIlD,QAAQ,CAAC0B,GAAT,CAAayB,SAAb,CAAuBb,CAAC,CAACc,MAAzB,EAAiC,uBAAjC,CAAJ,EAA+D;AAC7DP,UAAAA,UAAU,CAACI,SAAX;AACA,cAAII,mBAAmB,GAAGtC,kBAAkB,CAACF,sBAAnB,CAA0C3C,MAA1C,CAA1B;AACAmF,UAAAA,mBAAmB,CAACC,IAApB,CAAyBpF,MAAzB,EAAiC,UAAUQ,KAAV,EAAiB;AAChD,gBAAI6E,QAAQ,GAAGV,UAAU,CAACW,KAAX,CAAiBC,KAAjB,GAAyBC,oBAAzB,CAA8C,OAA9C,EAAuD,CAAvD,CAAf;AACA,gBAAIC,gBAAJ,EAAsBzB,GAAtB,EAA2BpD,CAA3B;AACA6E,YAAAA,gBAAgB,GAAG1D,QAAQ,CAAC2D,GAAT,CAAaL,QAAQ,CAACpC,IAAT,CAAcoC,QAAQ,CAACpC,IAAT,CAAcnC,MAAd,GAAuB,CAArC,EAAwC6E,UAArD,EAAiE,UAAUpF,GAAV,EAAe;AACjG,qBAAOA,GAAG,CAACqF,UAAX;AACD,aAFkB,CAAnB;;AAGA,iBAAKhF,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG6E,gBAAgB,CAAC3E,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAC5CoD,cAAAA,GAAG,GAAGyB,gBAAgB,CAAC7E,CAAD,CAAtB;;AACA,kBAAI,CAACoD,GAAG,CAAC6B,YAAJ,CAAiB,gBAAjB,CAAL,EAAyC;AACvC;AACD;AACF;;AACD,gBAAIjF,CAAC,KAAKoC,IAAV,EAAgB;AACd,mBAAKpC,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGoC,IAAI,GAAG,CAAvB,EAA0BpC,CAAC,EAA3B,EAA+B;AAC7BmD,gBAAAA,WAAW,CAAC0B,gBAAgB,CAAC7E,CAAD,CAAjB,EAAsB6E,gBAAgB,CAAC7E,CAAC,GAAG,CAAL,CAAhB,CAAwBiF,YAAxB,CAAqC,gBAArC,CAAtB,CAAX;AACD;AACF;;AACD9B,YAAAA,WAAW,CAACC,GAAD,EAAMxD,KAAN,CAAX;AACAsE,YAAAA,WAAW,CAACtE,KAAD,CAAX;AACD,WAnBD,EAmBGqE,YAnBH;AAoBD;;AACDrE,QAAAA,KAAK,GAAG4D,CAAC,CAACc,MAAF,CAASW,YAAT,CAAsB,gBAAtB,CAAR;;AACA,YAAIrF,KAAJ,EAAW;AACT,cAAI,KAAKsF,MAAT,EAAiB;AACfhE,YAAAA,QAAQ,CAAC0B,GAAT,CAAauC,GAAb,CAAiB,KAAKD,MAAtB,EAA8B5B,YAA9B,CAA2C,eAA3C,EAA4D,OAA5D;AACD;;AACDE,UAAAA,CAAC,CAACc,MAAF,CAAShB,YAAT,CAAsB,eAAtB,EAAuC,IAAvC;AACA,eAAK4B,MAAL,GAAc1B,CAAC,CAACc,MAAF,CAAS3B,EAAvB;;AACA,cAAI/C,KAAK,KAAK,aAAd,EAA6B;AAC3BwE,YAAAA,UAAU;AACX,WAFD,MAEO;AACLF,YAAAA,WAAW,CAACtE,KAAD,CAAX;AACD;AACF,SAXD,MAWO,IAAIA,KAAK,KAAK,IAAd,EAAoB;AACzBmE,UAAAA,UAAU,CAACI,SAAX;AACD;AACF,OArDD;AAsDD,KAvDD;;AAwDA,QAAIiB,iBAAiB,GAAG,UAAUhG,MAAV,EAAkBiG,SAAlB,EAA6B;AACnD,aAAO,YAAY;AACjB,YAAIjD,IAAI,GAAGiD,SAAS,GAAGpD,kBAAkB,CAACJ,gBAAnB,CAAoCzC,MAApC,CAAH,GAAiD6C,kBAAkB,CAACH,gBAAnB,CAAoC1C,MAApC,CAArE;AACA,YAAIiD,IAAI,GAAGgD,SAAS,GAAGpD,kBAAkB,CAACN,gBAAnB,CAAoCvC,MAApC,CAAH,GAAiD6C,kBAAkB,CAACL,gBAAnB,CAAoCxC,MAApC,CAArE;AACA,YAAIW,QAAQ,GAAGsF,SAAS,GAAGpD,kBAAkB,CAACV,eAAnB,CAAmCnC,MAAnC,CAAH,GAAgD6C,kBAAkB,CAACT,eAAnB,CAAmCpC,MAAnC,CAAxE;AACA,YAAI4C,cAAc,GAAGC,kBAAkB,CAACD,cAAnB,CAAkC5C,MAAlC,CAArB;AACA,eAAO8D,kBAAkB,CAACf,OAAnB,CAA2BC,IAA3B,EAAiCC,IAAjC,EAAuCtC,QAAvC,EAAiDiC,cAAjD,CAAP;AACD,OAND;AAOD,KARD;;AASA,QAAIsD,UAAU,GAAG,UAAUlG,MAAV,EAAkB;AACjCA,MAAAA,MAAM,CAACmG,SAAP,CAAiB,WAAjB,EAA8B;AAC5BC,QAAAA,IAAI,EAAE,aADsB;AAE5BC,QAAAA,OAAO,EAAE,YAFmB;AAG5BpG,QAAAA,MAAM,EAAE,WAHoB;AAI5BqF,QAAAA,KAAK,EAAE;AACLgB,UAAAA,IAAI,EAAE,aADD;AAELC,UAAAA,YAAY,EAAE,IAFT;AAGLrD,UAAAA,IAAI,EAAE8C,iBAAiB,CAAChG,MAAD,EAAS,IAAT,CAHlB;AAILwG,UAAAA,OAAO,EAAE9B,YAAY,CAAC1E,MAAD,EAAS6C,kBAAkB,CAACJ,gBAAnB,CAAoCzC,MAApC,CAAT;AAJhB,SAJqB;AAU5BwG,QAAAA,OAAO,EAAErC,aAAa,CAACnE,MAAD;AAVM,OAA9B;AAYAA,MAAAA,MAAM,CAACmG,SAAP,CAAiB,WAAjB,EAA8B;AAC5BC,QAAAA,IAAI,EAAE,aADsB;AAE5BC,QAAAA,OAAO,EAAE,kBAFmB;AAG5BpG,QAAAA,MAAM,EAAE,aAHoB;AAI5BqF,QAAAA,KAAK,EAAE;AACLgB,UAAAA,IAAI,EAAE,aADD;AAELC,UAAAA,YAAY,EAAE,IAFT;AAGLrD,UAAAA,IAAI,EAAE8C,iBAAiB,CAAChG,MAAD,EAAS,KAAT,CAHlB;AAILwG,UAAAA,OAAO,EAAE9B,YAAY,CAAC1E,MAAD,EAAS6C,kBAAkB,CAACH,gBAAnB,CAAoC1C,MAApC,CAAT;AAJhB,SAJqB;AAU5BwG,QAAAA,OAAO,EAAErC,aAAa,CAACnE,MAAD;AAVM,OAA9B;AAYD,KAzBD;;AA0BA,QAAIyG,kBAAkB,GAAG;AAAE9E,MAAAA,QAAQ,EAAEuE;AAAZ,KAAzB;AAEAxG,IAAAA,MAAM,CAACgH,GAAP,CAAW,WAAX,EAAwB,UAAU1G,MAAV,EAAkB;AACxC6B,MAAAA,kBAAkB,CAACF,QAAnB,CAA4B3B,MAA5B;AACAyG,MAAAA,kBAAkB,CAAC9E,QAAnB,CAA4B3B,MAA5B;AACD,KAHD;;AAIA,aAAS2G,MAAT,GAAmB,CAClB;;AAED,WAAOA,MAAP;AAED,GAvVgB,EAAjB;AAwVC,CAzVD","sourcesContent":["(function () {\nvar textcolor = (function () {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var getCurrentColor = function (editor, format) {\n    var color;\n    editor.dom.getParents(editor.selection.getStart(), function (elm) {\n      var value;\n      if (value = elm.style[format === 'forecolor' ? 'color' : 'background-color']) {\n        color = color ? color : value;\n      }\n    });\n    return color;\n  };\n  var mapColors = function (colorMap) {\n    var i;\n    var colors = [];\n    for (i = 0; i < colorMap.length; i += 2) {\n      colors.push({\n        text: colorMap[i + 1],\n        color: '#' + colorMap[i]\n      });\n    }\n    return colors;\n  };\n  var applyFormat = function (editor, format, value) {\n    editor.undoManager.transact(function () {\n      editor.focus();\n      editor.formatter.apply(format, { value: value });\n      editor.nodeChanged();\n    });\n  };\n  var removeFormat = function (editor, format) {\n    editor.undoManager.transact(function () {\n      editor.focus();\n      editor.formatter.remove(format, { value: null }, null, true);\n      editor.nodeChanged();\n    });\n  };\n  var $_9f1skrrijnlpb4sm = {\n    getCurrentColor: getCurrentColor,\n    mapColors: mapColors,\n    applyFormat: applyFormat,\n    removeFormat: removeFormat\n  };\n\n  var register = function (editor) {\n    editor.addCommand('mceApplyTextcolor', function (format, value) {\n      $_9f1skrrijnlpb4sm.applyFormat(editor, format, value);\n    });\n    editor.addCommand('mceRemoveTextcolor', function (format) {\n      $_9f1skrrijnlpb4sm.removeFormat(editor, format);\n    });\n  };\n  var $_80ds76rhjnlpb4sl = { register: register };\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n  var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n  var defaultColorMap = [\n    '000000',\n    'Black',\n    '993300',\n    'Burnt orange',\n    '333300',\n    'Dark olive',\n    '003300',\n    'Dark green',\n    '003366',\n    'Dark azure',\n    '000080',\n    'Navy Blue',\n    '333399',\n    'Indigo',\n    '333333',\n    'Very dark gray',\n    '800000',\n    'Maroon',\n    'FF6600',\n    'Orange',\n    '808000',\n    'Olive',\n    '008000',\n    'Green',\n    '008080',\n    'Teal',\n    '0000FF',\n    'Blue',\n    '666699',\n    'Grayish blue',\n    '808080',\n    'Gray',\n    'FF0000',\n    'Red',\n    'FF9900',\n    'Amber',\n    '99CC00',\n    'Yellow green',\n    '339966',\n    'Sea green',\n    '33CCCC',\n    'Turquoise',\n    '3366FF',\n    'Royal blue',\n    '800080',\n    'Purple',\n    '999999',\n    'Medium gray',\n    'FF00FF',\n    'Magenta',\n    'FFCC00',\n    'Gold',\n    'FFFF00',\n    'Yellow',\n    '00FF00',\n    'Lime',\n    '00FFFF',\n    'Aqua',\n    '00CCFF',\n    'Sky blue',\n    '993366',\n    'Red violet',\n    'FFFFFF',\n    'White',\n    'FF99CC',\n    'Pink',\n    'FFCC99',\n    'Peach',\n    'FFFF99',\n    'Light yellow',\n    'CCFFCC',\n    'Pale green',\n    'CCFFFF',\n    'Pale cyan',\n    '99CCFF',\n    'Light sky blue',\n    'CC99FF',\n    'Plum'\n  ];\n  var getTextColorMap = function (editor) {\n    return editor.getParam('textcolor_map', defaultColorMap);\n  };\n  var getForeColorMap = function (editor) {\n    return editor.getParam('forecolor_map', getTextColorMap(editor));\n  };\n  var getBackColorMap = function (editor) {\n    return editor.getParam('backcolor_map', getTextColorMap(editor));\n  };\n  var getTextColorRows = function (editor) {\n    return editor.getParam('textcolor_rows', 5);\n  };\n  var getTextColorCols = function (editor) {\n    return editor.getParam('textcolor_cols', 8);\n  };\n  var getForeColorRows = function (editor) {\n    return editor.getParam('forecolor_rows', getTextColorRows(editor));\n  };\n  var getBackColorRows = function (editor) {\n    return editor.getParam('backcolor_rows', getTextColorRows(editor));\n  };\n  var getForeColorCols = function (editor) {\n    return editor.getParam('forecolor_cols', getTextColorCols(editor));\n  };\n  var getBackColorCols = function (editor) {\n    return editor.getParam('backcolor_cols', getTextColorCols(editor));\n  };\n  var getColorPickerCallback = function (editor) {\n    return editor.getParam('color_picker_callback', null);\n  };\n  var hasColorPicker = function (editor) {\n    return typeof getColorPickerCallback(editor) === 'function';\n  };\n  var $_8qnuf8rmjnlpb4st = {\n    getForeColorMap: getForeColorMap,\n    getBackColorMap: getBackColorMap,\n    getForeColorRows: getForeColorRows,\n    getBackColorRows: getBackColorRows,\n    getForeColorCols: getForeColorCols,\n    getBackColorCols: getBackColorCols,\n    getColorPickerCallback: getColorPickerCallback,\n    hasColorPicker: hasColorPicker\n  };\n\n  var global$3 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n  var getHtml = function (cols, rows, colorMap, hasColorPicker) {\n    var colors, color, html, last, x, y, i, count = 0;\n    var id = global$1.DOM.uniqueId('mcearia');\n    var getColorCellHtml = function (color, title) {\n      var isNoColor = color === 'transparent';\n      return '<td class=\"mce-grid-cell' + (isNoColor ? ' mce-colorbtn-trans' : '') + '\">' + '<div id=\"' + id + '-' + count++ + '\"' + ' data-mce-color=\"' + (color ? color : '') + '\"' + ' role=\"option\"' + ' tabIndex=\"-1\"' + ' style=\"' + (color ? 'background-color: ' + color : '') + '\"' + ' title=\"' + global$3.translate(title) + '\">' + (isNoColor ? '&#215;' : '') + '</div>' + '</td>';\n    };\n    colors = $_9f1skrrijnlpb4sm.mapColors(colorMap);\n    colors.push({\n      text: global$3.translate('No color'),\n      color: 'transparent'\n    });\n    html = '<table class=\"mce-grid mce-grid-border mce-colorbutton-grid\" role=\"list\" cellspacing=\"0\"><tbody>';\n    last = colors.length - 1;\n    for (y = 0; y < rows; y++) {\n      html += '<tr>';\n      for (x = 0; x < cols; x++) {\n        i = y * cols + x;\n        if (i > last) {\n          html += '<td></td>';\n        } else {\n          color = colors[i];\n          html += getColorCellHtml(color.color, color.text);\n        }\n      }\n      html += '</tr>';\n    }\n    if (hasColorPicker) {\n      html += '<tr>' + '<td colspan=\"' + cols + '\" class=\"mce-custom-color-btn\">' + '<div id=\"' + id + '-c\" class=\"mce-widget mce-btn mce-btn-small mce-btn-flat\" ' + 'role=\"button\" tabindex=\"-1\" aria-labelledby=\"' + id + '-c\" style=\"width: 100%\">' + '<button type=\"button\" role=\"presentation\" tabindex=\"-1\">' + global$3.translate('Custom...') + '</button>' + '</div>' + '</td>' + '</tr>';\n      html += '<tr>';\n      for (x = 0; x < cols; x++) {\n        html += getColorCellHtml('', 'Custom color');\n      }\n      html += '</tr>';\n    }\n    html += '</tbody></table>';\n    return html;\n  };\n  var $_dwsr2vrnjnlpb4sv = { getHtml: getHtml };\n\n  var setDivColor = function setDivColor(div, value) {\n    div.style.background = value;\n    div.setAttribute('data-mce-color', value);\n  };\n  var onButtonClick = function (editor) {\n    return function (e) {\n      var ctrl = e.control;\n      if (ctrl._color) {\n        editor.execCommand('mceApplyTextcolor', ctrl.settings.format, ctrl._color);\n      } else {\n        editor.execCommand('mceRemoveTextcolor', ctrl.settings.format);\n      }\n    };\n  };\n  var onPanelClick = function (editor, cols) {\n    return function (e) {\n      var buttonCtrl = this.parent();\n      var value;\n      var currentColor = $_9f1skrrijnlpb4sm.getCurrentColor(editor, buttonCtrl.settings.format);\n      var selectColor = function (value) {\n        editor.execCommand('mceApplyTextcolor', buttonCtrl.settings.format, value);\n        buttonCtrl.hidePanel();\n        buttonCtrl.color(value);\n      };\n      var resetColor = function () {\n        editor.execCommand('mceRemoveTextcolor', buttonCtrl.settings.format);\n        buttonCtrl.hidePanel();\n        buttonCtrl.resetColor();\n      };\n      if (global$1.DOM.getParent(e.target, '.mce-custom-color-btn')) {\n        buttonCtrl.hidePanel();\n        var colorPickerCallback = $_8qnuf8rmjnlpb4st.getColorPickerCallback(editor);\n        colorPickerCallback.call(editor, function (value) {\n          var tableElm = buttonCtrl.panel.getEl().getElementsByTagName('table')[0];\n          var customColorCells, div, i;\n          customColorCells = global$2.map(tableElm.rows[tableElm.rows.length - 1].childNodes, function (elm) {\n            return elm.firstChild;\n          });\n          for (i = 0; i < customColorCells.length; i++) {\n            div = customColorCells[i];\n            if (!div.getAttribute('data-mce-color')) {\n              break;\n            }\n          }\n          if (i === cols) {\n            for (i = 0; i < cols - 1; i++) {\n              setDivColor(customColorCells[i], customColorCells[i + 1].getAttribute('data-mce-color'));\n            }\n          }\n          setDivColor(div, value);\n          selectColor(value);\n        }, currentColor);\n      }\n      value = e.target.getAttribute('data-mce-color');\n      if (value) {\n        if (this.lastId) {\n          global$1.DOM.get(this.lastId).setAttribute('aria-selected', 'false');\n        }\n        e.target.setAttribute('aria-selected', true);\n        this.lastId = e.target.id;\n        if (value === 'transparent') {\n          resetColor();\n        } else {\n          selectColor(value);\n        }\n      } else if (value !== null) {\n        buttonCtrl.hidePanel();\n      }\n    };\n  };\n  var renderColorPicker = function (editor, foreColor) {\n    return function () {\n      var cols = foreColor ? $_8qnuf8rmjnlpb4st.getForeColorCols(editor) : $_8qnuf8rmjnlpb4st.getBackColorCols(editor);\n      var rows = foreColor ? $_8qnuf8rmjnlpb4st.getForeColorRows(editor) : $_8qnuf8rmjnlpb4st.getBackColorRows(editor);\n      var colorMap = foreColor ? $_8qnuf8rmjnlpb4st.getForeColorMap(editor) : $_8qnuf8rmjnlpb4st.getBackColorMap(editor);\n      var hasColorPicker = $_8qnuf8rmjnlpb4st.hasColorPicker(editor);\n      return $_dwsr2vrnjnlpb4sv.getHtml(cols, rows, colorMap, hasColorPicker);\n    };\n  };\n  var register$1 = function (editor) {\n    editor.addButton('forecolor', {\n      type: 'colorbutton',\n      tooltip: 'Text color',\n      format: 'forecolor',\n      panel: {\n        role: 'application',\n        ariaRemember: true,\n        html: renderColorPicker(editor, true),\n        onclick: onPanelClick(editor, $_8qnuf8rmjnlpb4st.getForeColorCols(editor))\n      },\n      onclick: onButtonClick(editor)\n    });\n    editor.addButton('backcolor', {\n      type: 'colorbutton',\n      tooltip: 'Background color',\n      format: 'hilitecolor',\n      panel: {\n        role: 'application',\n        ariaRemember: true,\n        html: renderColorPicker(editor, false),\n        onclick: onPanelClick(editor, $_8qnuf8rmjnlpb4st.getBackColorCols(editor))\n      },\n      onclick: onButtonClick(editor)\n    });\n  };\n  var $_bn6z8rrjjnlpb4so = { register: register$1 };\n\n  global.add('textcolor', function (editor) {\n    $_80ds76rhjnlpb4sl.register(editor);\n    $_bn6z8rrjjnlpb4so.register(editor);\n  });\n  function Plugin () {\n  }\n\n  return Plugin;\n\n}());\n})();\n"]}]}