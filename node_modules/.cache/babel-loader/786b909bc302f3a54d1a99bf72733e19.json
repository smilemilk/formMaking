{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/preview/plugin.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/preview/plugin.js","mtime":1551936177000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var preview = function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getPreviewDialogWidth = function (editor) {\n      return parseInt(editor.getParam('plugin_preview_width', '650'), 10);\n    };\n\n    var getPreviewDialogHeight = function (editor) {\n      return parseInt(editor.getParam('plugin_preview_height', '500'), 10);\n    };\n\n    var getContentStyle = function (editor) {\n      return editor.getParam('content_style', '');\n    };\n\n    var $_ffk79jjfjnlpb2ix = {\n      getPreviewDialogWidth: getPreviewDialogWidth,\n      getPreviewDialogHeight: getPreviewDialogHeight,\n      getContentStyle: getContentStyle\n    };\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getPreviewHtml = function (editor) {\n      var previewHtml;\n      var headHtml = '';\n      var encode = editor.dom.encode;\n      var contentStyle = $_ffk79jjfjnlpb2ix.getContentStyle(editor);\n      headHtml += '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">';\n\n      if (contentStyle) {\n        headHtml += '<style type=\"text/css\">' + contentStyle + '</style>';\n      }\n\n      global$2.each(editor.contentCSS, function (url) {\n        headHtml += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + encode(editor.documentBaseURI.toAbsolute(url)) + '\">';\n      });\n      var bodyId = editor.settings.body_id || 'tinymce';\n\n      if (bodyId.indexOf('=') !== -1) {\n        bodyId = editor.getParam('body_id', '', 'hash');\n        bodyId = bodyId[editor.id] || bodyId;\n      }\n\n      var bodyClass = editor.settings.body_class || '';\n\n      if (bodyClass.indexOf('=') !== -1) {\n        bodyClass = editor.getParam('body_class', '', 'hash');\n        bodyClass = bodyClass[editor.id] || '';\n      }\n\n      var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\") {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n      var dirAttr = editor.settings.directionality ? ' dir=\"' + editor.settings.directionality + '\"' : '';\n      previewHtml = '<!DOCTYPE html>' + '<html>' + '<head>' + headHtml + '</head>' + '<body id=\"' + encode(bodyId) + '\" class=\"mce-content-body ' + encode(bodyClass) + '\"' + encode(dirAttr) + '>' + editor.getContent() + preventClicksOnLinksScript + '</body>' + '</html>';\n      return previewHtml;\n    };\n\n    var injectIframeContent = function (editor, iframe, sandbox) {\n      var previewHtml = getPreviewHtml(editor);\n\n      if (!sandbox) {\n        var doc = iframe.contentWindow.document;\n        doc.open();\n        doc.write(previewHtml);\n        doc.close();\n      } else {\n        iframe.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(previewHtml);\n      }\n    };\n\n    var $_5yhtiwjgjnlpb2iy = {\n      getPreviewHtml: getPreviewHtml,\n      injectIframeContent: injectIframeContent\n    };\n\n    var open = function (editor) {\n      var sandbox = !global$1.ie;\n      var dialogHtml = '<iframe src=\"\" frameborder=\"0\"' + (sandbox ? ' sandbox=\"allow-scripts\"' : '') + '></iframe>';\n      var dialogWidth = $_ffk79jjfjnlpb2ix.getPreviewDialogWidth(editor);\n      var dialogHeight = $_ffk79jjfjnlpb2ix.getPreviewDialogHeight(editor);\n      editor.windowManager.open({\n        title: 'Preview',\n        width: dialogWidth,\n        height: dialogHeight,\n        html: dialogHtml,\n        buttons: {\n          text: 'Close',\n          onclick: function (e) {\n            e.control.parent().parent().close();\n          }\n        },\n        onPostRender: function (e) {\n          var iframeElm = e.control.getEl('body').firstChild;\n          $_5yhtiwjgjnlpb2iy.injectIframeContent(editor, iframeElm, sandbox);\n        }\n      });\n    };\n\n    var $_5zz6kjjdjnlpb2iv = {\n      open: open\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mcePreview', function () {\n        $_5zz6kjjdjnlpb2iv.open(editor);\n      });\n    };\n\n    var $_aj65e1jcjnlpb2it = {\n      register: register\n    };\n\n    var register$1 = function (editor) {\n      editor.addButton('preview', {\n        title: 'Preview',\n        cmd: 'mcePreview'\n      });\n      editor.addMenuItem('preview', {\n        text: 'Preview',\n        cmd: 'mcePreview',\n        context: 'view'\n      });\n    };\n\n    var $_e8rxhijijnlpb2j4 = {\n      register: register$1\n    };\n    global.add('preview', function (editor) {\n      $_aj65e1jcjnlpb2it.register(editor);\n      $_e8rxhijijnlpb2j4.register(editor);\n    });\n\n    function Plugin() {}\n\n    return Plugin;\n  }();\n})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/preview/plugin.js"],"names":["preview","global","tinymce","util","Tools","resolve","global$1","getPreviewDialogWidth","editor","parseInt","getParam","getPreviewDialogHeight","getContentStyle","$_ffk79jjfjnlpb2ix","global$2","getPreviewHtml","previewHtml","headHtml","encode","dom","contentStyle","documentBaseURI","getURI","each","contentCSS","url","toAbsolute","bodyId","settings","body_id","indexOf","id","bodyClass","body_class","preventClicksOnLinksScript","dirAttr","directionality","getContent","injectIframeContent","iframe","sandbox","doc","contentWindow","document","open","write","close","src","encodeURIComponent","$_5yhtiwjgjnlpb2iy","ie","dialogHtml","dialogWidth","dialogHeight","windowManager","title","width","height","html","buttons","text","onclick","e","control","parent","onPostRender","iframeElm","getEl","firstChild","$_5zz6kjjdjnlpb2iv","register","addCommand","$_aj65e1jcjnlpb2it","register$1","addButton","cmd","addMenuItem","context","$_e8rxhijijnlpb2j4","add","Plugin"],"mappings":"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","sourcesContent":["(function () {\nvar preview = (function () {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n  var getPreviewDialogWidth = function (editor) {\n    return parseInt(editor.getParam('plugin_preview_width', '650'), 10);\n  };\n  var getPreviewDialogHeight = function (editor) {\n    return parseInt(editor.getParam('plugin_preview_height', '500'), 10);\n  };\n  var getContentStyle = function (editor) {\n    return editor.getParam('content_style', '');\n  };\n  var $_ffk79jjfjnlpb2ix = {\n    getPreviewDialogWidth: getPreviewDialogWidth,\n    getPreviewDialogHeight: getPreviewDialogHeight,\n    getContentStyle: getContentStyle\n  };\n\n  var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n  var getPreviewHtml = function (editor) {\n    var previewHtml;\n    var headHtml = '';\n    var encode = editor.dom.encode;\n    var contentStyle = $_ffk79jjfjnlpb2ix.getContentStyle(editor);\n    headHtml += '<base href=\"' + encode(editor.documentBaseURI.getURI()) + '\">';\n    if (contentStyle) {\n      headHtml += '<style type=\"text/css\">' + contentStyle + '</style>';\n    }\n    global$2.each(editor.contentCSS, function (url) {\n      headHtml += '<link type=\"text/css\" rel=\"stylesheet\" href=\"' + encode(editor.documentBaseURI.toAbsolute(url)) + '\">';\n    });\n    var bodyId = editor.settings.body_id || 'tinymce';\n    if (bodyId.indexOf('=') !== -1) {\n      bodyId = editor.getParam('body_id', '', 'hash');\n      bodyId = bodyId[editor.id] || bodyId;\n    }\n    var bodyClass = editor.settings.body_class || '';\n    if (bodyClass.indexOf('=') !== -1) {\n      bodyClass = editor.getParam('body_class', '', 'hash');\n      bodyClass = bodyClass[editor.id] || '';\n    }\n    var preventClicksOnLinksScript = '<script>' + 'document.addEventListener && document.addEventListener(\"click\", function(e) {' + 'for (var elm = e.target; elm; elm = elm.parentNode) {' + 'if (elm.nodeName === \"A\") {' + 'e.preventDefault();' + '}' + '}' + '}, false);' + '</script> ';\n    var dirAttr = editor.settings.directionality ? ' dir=\"' + editor.settings.directionality + '\"' : '';\n    previewHtml = '<!DOCTYPE html>' + '<html>' + '<head>' + headHtml + '</head>' + '<body id=\"' + encode(bodyId) + '\" class=\"mce-content-body ' + encode(bodyClass) + '\"' + encode(dirAttr) + '>' + editor.getContent() + preventClicksOnLinksScript + '</body>' + '</html>';\n    return previewHtml;\n  };\n  var injectIframeContent = function (editor, iframe, sandbox) {\n    var previewHtml = getPreviewHtml(editor);\n    if (!sandbox) {\n      var doc = iframe.contentWindow.document;\n      doc.open();\n      doc.write(previewHtml);\n      doc.close();\n    } else {\n      iframe.src = 'data:text/html;charset=utf-8,' + encodeURIComponent(previewHtml);\n    }\n  };\n  var $_5yhtiwjgjnlpb2iy = {\n    getPreviewHtml: getPreviewHtml,\n    injectIframeContent: injectIframeContent\n  };\n\n  var open = function (editor) {\n    var sandbox = !global$1.ie;\n    var dialogHtml = '<iframe src=\"\" frameborder=\"0\"' + (sandbox ? ' sandbox=\"allow-scripts\"' : '') + '></iframe>';\n    var dialogWidth = $_ffk79jjfjnlpb2ix.getPreviewDialogWidth(editor);\n    var dialogHeight = $_ffk79jjfjnlpb2ix.getPreviewDialogHeight(editor);\n    editor.windowManager.open({\n      title: 'Preview',\n      width: dialogWidth,\n      height: dialogHeight,\n      html: dialogHtml,\n      buttons: {\n        text: 'Close',\n        onclick: function (e) {\n          e.control.parent().parent().close();\n        }\n      },\n      onPostRender: function (e) {\n        var iframeElm = e.control.getEl('body').firstChild;\n        $_5yhtiwjgjnlpb2iy.injectIframeContent(editor, iframeElm, sandbox);\n      }\n    });\n  };\n  var $_5zz6kjjdjnlpb2iv = { open: open };\n\n  var register = function (editor) {\n    editor.addCommand('mcePreview', function () {\n      $_5zz6kjjdjnlpb2iv.open(editor);\n    });\n  };\n  var $_aj65e1jcjnlpb2it = { register: register };\n\n  var register$1 = function (editor) {\n    editor.addButton('preview', {\n      title: 'Preview',\n      cmd: 'mcePreview'\n    });\n    editor.addMenuItem('preview', {\n      text: 'Preview',\n      cmd: 'mcePreview',\n      context: 'view'\n    });\n  };\n  var $_e8rxhijijnlpb2j4 = { register: register$1 };\n\n  global.add('preview', function (editor) {\n    $_aj65e1jcjnlpb2it.register(editor);\n    $_e8rxhijijnlpb2j4.register(editor);\n  });\n  function Plugin () {\n  }\n\n  return Plugin;\n\n}());\n})();\n"]}]}