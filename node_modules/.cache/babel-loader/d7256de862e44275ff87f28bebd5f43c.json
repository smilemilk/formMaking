{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/themes/modern/theme.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/themes/modern/theme.js","mtime":1551936177000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var modern = function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n    var global$1 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n    var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var isBrandingEnabled = function (editor) {\n      return editor.getParam('branding', true, 'boolean');\n    };\n\n    var hasMenubar = function (editor) {\n      return getMenubar(editor) !== false;\n    };\n\n    var getMenubar = function (editor) {\n      return editor.getParam('menubar');\n    };\n\n    var hasStatusbar = function (editor) {\n      return editor.getParam('statusbar', true, 'boolean');\n    };\n\n    var getToolbarSize = function (editor) {\n      return editor.getParam('toolbar_items_size');\n    };\n\n    var isReadOnly = function (editor) {\n      return editor.getParam('readonly', false, 'boolean');\n    };\n\n    var getFixedToolbarContainer = function (editor) {\n      return editor.getParam('fixed_toolbar_container');\n    };\n\n    var getInlineToolbarPositionHandler = function (editor) {\n      return editor.getParam('inline_toolbar_position_handler');\n    };\n\n    var getMenu = function (editor) {\n      return editor.getParam('menu');\n    };\n\n    var getRemovedMenuItems = function (editor) {\n      return editor.getParam('removed_menuitems', '');\n    };\n\n    var getMinWidth = function (editor) {\n      return editor.getParam('min_width', 100, 'number');\n    };\n\n    var getMinHeight = function (editor) {\n      return editor.getParam('min_height', 100, 'number');\n    };\n\n    var getMaxWidth = function (editor) {\n      return editor.getParam('max_width', 65535, 'number');\n    };\n\n    var getMaxHeight = function (editor) {\n      return editor.getParam('max_height', 65535, 'number');\n    };\n\n    var isSkinDisabled = function (editor) {\n      return editor.settings.skin === false;\n    };\n\n    var isInline = function (editor) {\n      return editor.getParam('inline', false, 'boolean');\n    };\n\n    var getResize = function (editor) {\n      var resize = editor.getParam('resize', 'vertical');\n\n      if (resize === false) {\n        return 'none';\n      } else if (resize === 'both') {\n        return 'both';\n      } else {\n        return 'vertical';\n      }\n    };\n\n    var getSkinUrl = function (editor) {\n      var settings = editor.settings;\n      var skin = settings.skin;\n      var skinUrl = settings.skin_url;\n\n      if (skin !== false) {\n        var skinName = skin ? skin : 'lightgray';\n\n        if (skinUrl) {\n          skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n        } else {\n          skinUrl = global$1.baseURL + '/skins/' + skinName;\n        }\n      }\n\n      return skinUrl;\n    };\n\n    var getIndexedToolbars = function (settings, defaultToolbar) {\n      var toolbars = [];\n\n      for (var i = 1; i < 10; i++) {\n        var toolbar = settings['toolbar' + i];\n\n        if (!toolbar) {\n          break;\n        }\n\n        toolbars.push(toolbar);\n      }\n\n      var mainToolbar = settings.toolbar ? [settings.toolbar] : [defaultToolbar];\n      return toolbars.length > 0 ? toolbars : mainToolbar;\n    };\n\n    var getToolbars = function (editor) {\n      var toolbar = editor.getParam('toolbar');\n      var defaultToolbar = 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image';\n\n      if (toolbar === false) {\n        return [];\n      } else if (global$2.isArray(toolbar)) {\n        return global$2.grep(toolbar, function (toolbar) {\n          return toolbar.length > 0;\n        });\n      } else {\n        return getIndexedToolbars(editor.settings, defaultToolbar);\n      }\n    };\n\n    var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n    var global$4 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n    var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n    var fireSkinLoaded = function (editor) {\n      return editor.fire('SkinLoaded');\n    };\n\n    var fireResizeEditor = function (editor) {\n      return editor.fire('ResizeEditor');\n    };\n\n    var fireBeforeRenderUI = function (editor) {\n      return editor.fire('BeforeRenderUI');\n    };\n\n    var $_byi2i4u1jnlpb52o = {\n      fireSkinLoaded: fireSkinLoaded,\n      fireResizeEditor: fireResizeEditor,\n      fireBeforeRenderUI: fireBeforeRenderUI\n    };\n\n    var focus = function (panel, type) {\n      return function () {\n        var item = panel.find(type)[0];\n\n        if (item) {\n          item.focus(true);\n        }\n      };\n    };\n\n    var addKeys = function (editor, panel) {\n      editor.shortcuts.add('Alt+F9', '', focus(panel, 'menubar'));\n      editor.shortcuts.add('Alt+F10,F10', '', focus(panel, 'toolbar'));\n      editor.shortcuts.add('Alt+F11', '', focus(panel, 'elementpath'));\n      panel.on('cancel', function () {\n        editor.focus();\n      });\n    };\n\n    var $_6kcut5u2jnlpb52p = {\n      addKeys: addKeys\n    };\n    var global$6 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n    var global$7 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n    var noop = function () {\n      var x = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n    };\n\n    var compose = function (fa, fb) {\n      return function () {\n        var x = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          x[_i] = arguments[_i];\n        }\n\n        return fa(fb.apply(null, arguments));\n      };\n    };\n\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n\n    var curry = function (f) {\n      var x = [];\n\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n\n      var args = new Array(arguments.length - 1);\n\n      for (var i = 1; i < arguments.length; i++) args[i - 1] = arguments[i];\n\n      return function () {\n        var x = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          x[_i] = arguments[_i];\n        }\n\n        var newArgs = new Array(arguments.length);\n\n        for (var j = 0; j < newArgs.length; j++) newArgs[j] = arguments[j];\n\n        var all = args.concat(newArgs);\n        return f.apply(null, all);\n      };\n    };\n\n    var never = constant(false);\n    var always = constant(true);\n    var never$1 = never;\n    var always$1 = always;\n\n    var none = function () {\n      return NONE;\n    };\n\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n\n      var call$$1 = function (thunk) {\n        return thunk();\n      };\n\n      var id = function (n) {\n        return n;\n      };\n\n      var noop$$1 = function () {};\n\n      var nul = function () {\n        return null;\n      };\n\n      var undef = function () {\n        return undefined;\n      };\n\n      var me = {\n        fold: function (n, s) {\n          return n();\n        },\n        is: never$1,\n        isSome: never$1,\n        isNone: always$1,\n        getOr: id,\n        getOrThunk: call$$1,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: nul,\n        getOrUndefined: undef,\n        or: id,\n        orThunk: call$$1,\n        map: none,\n        ap: none,\n        each: noop$$1,\n        bind: none,\n        flatten: none,\n        exists: never$1,\n        forall: always$1,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      if (Object.freeze) Object.freeze(me);\n      return me;\n    }();\n\n    var some = function (a) {\n      var constant_a = function () {\n        return a;\n      };\n\n      var self = function () {\n        return me;\n      };\n\n      var map = function (f) {\n        return some(f(a));\n      };\n\n      var bind = function (f) {\n        return f(a);\n      };\n\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always$1,\n        isNone: never$1,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: map,\n        ap: function (optfab) {\n          return optfab.fold(none, function (fab) {\n            return some(fab(a));\n          });\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        flatten: constant_a,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never$1, function (b) {\n            return elementEq(a, b);\n          });\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        }\n      };\n      return me;\n    };\n\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n\n    var Option = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var getUiContainerDelta = function (ctrl) {\n      var uiContainer = getUiContainer(ctrl);\n\n      if (uiContainer && global$3.DOM.getStyle(uiContainer, 'position', true) !== 'static') {\n        var containerPos = global$3.DOM.getPos(uiContainer);\n        var dx = uiContainer.scrollLeft - containerPos.x;\n        var dy = uiContainer.scrollTop - containerPos.y;\n        return Option.some({\n          x: dx,\n          y: dy\n        });\n      } else {\n        return Option.none();\n      }\n    };\n\n    var setUiContainer = function (editor, ctrl) {\n      var uiContainer = global$3.DOM.select(editor.settings.ui_container)[0];\n      ctrl.getRoot().uiContainer = uiContainer;\n    };\n\n    var getUiContainer = function (ctrl) {\n      return ctrl ? ctrl.getRoot().uiContainer : null;\n    };\n\n    var inheritUiContainer = function (fromCtrl, toCtrl) {\n      return toCtrl.uiContainer = getUiContainer(fromCtrl);\n    };\n\n    var $_4ygtt4u6jnlpb52y = {\n      getUiContainerDelta: getUiContainerDelta,\n      setUiContainer: setUiContainer,\n      getUiContainer: getUiContainer,\n      inheritUiContainer: inheritUiContainer\n    };\n\n    var createToolbar = function (editor, items, size) {\n      var toolbarItems = [];\n      var buttonGroup;\n\n      if (!items) {\n        return;\n      }\n\n      global$2.each(items.split(/[ ,]/), function (item) {\n        var itemName;\n\n        var bindSelectorChanged = function () {\n          var selection = editor.selection;\n\n          if (item.settings.stateSelector) {\n            selection.selectorChanged(item.settings.stateSelector, function (state) {\n              item.active(state);\n            }, true);\n          }\n\n          if (item.settings.disabledStateSelector) {\n            selection.selectorChanged(item.settings.disabledStateSelector, function (state) {\n              item.disabled(state);\n            });\n          }\n        };\n\n        if (item === '|') {\n          buttonGroup = null;\n        } else {\n          if (!buttonGroup) {\n            buttonGroup = {\n              type: 'buttongroup',\n              items: []\n            };\n            toolbarItems.push(buttonGroup);\n          }\n\n          if (editor.buttons[item]) {\n            itemName = item;\n            item = editor.buttons[itemName];\n\n            if (typeof item === 'function') {\n              item = item();\n            }\n\n            item.type = item.type || 'button';\n            item.size = size;\n            item = global$4.create(item);\n            buttonGroup.items.push(item);\n\n            if (editor.initialized) {\n              bindSelectorChanged();\n            } else {\n              editor.on('init', bindSelectorChanged);\n            }\n          }\n        }\n      });\n      return {\n        type: 'toolbar',\n        layout: 'flow',\n        items: toolbarItems\n      };\n    };\n\n    var createToolbars = function (editor, size) {\n      var toolbars = [];\n\n      var addToolbar = function (items) {\n        if (items) {\n          toolbars.push(createToolbar(editor, items, size));\n        }\n      };\n\n      global$2.each(getToolbars(editor), function (toolbar) {\n        addToolbar(toolbar);\n      });\n\n      if (toolbars.length) {\n        return {\n          type: 'panel',\n          layout: 'stack',\n          classes: 'toolbar-grp',\n          ariaRoot: true,\n          ariaRemember: true,\n          items: toolbars\n        };\n      }\n    };\n\n    var $_cqt2pxu9jnlpb538 = {\n      createToolbar: createToolbar,\n      createToolbars: createToolbars\n    };\n    var DOM = global$3.DOM;\n\n    var toClientRect = function (geomRect) {\n      return {\n        left: geomRect.x,\n        top: geomRect.y,\n        width: geomRect.w,\n        height: geomRect.h,\n        right: geomRect.x + geomRect.w,\n        bottom: geomRect.y + geomRect.h\n      };\n    };\n\n    var hideAllFloatingPanels = function (editor) {\n      global$2.each(editor.contextToolbars, function (toolbar) {\n        if (toolbar.panel) {\n          toolbar.panel.hide();\n        }\n      });\n    };\n\n    var movePanelTo = function (panel, pos) {\n      panel.moveTo(pos.left, pos.top);\n    };\n\n    var togglePositionClass = function (panel, relPos, predicate) {\n      relPos = relPos ? relPos.substr(0, 2) : '';\n      global$2.each({\n        t: 'down',\n        b: 'up'\n      }, function (cls, pos) {\n        panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(0, 1)));\n      });\n      global$2.each({\n        l: 'left',\n        r: 'right'\n      }, function (cls, pos) {\n        panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(1, 1)));\n      });\n    };\n\n    var userConstrain = function (handler, x, y, elementRect, contentAreaRect, panelRect) {\n      panelRect = toClientRect({\n        x: x,\n        y: y,\n        w: panelRect.w,\n        h: panelRect.h\n      });\n\n      if (handler) {\n        panelRect = handler({\n          elementRect: toClientRect(elementRect),\n          contentAreaRect: toClientRect(contentAreaRect),\n          panelRect: panelRect\n        });\n      }\n\n      return panelRect;\n    };\n\n    var addContextualToolbars = function (editor) {\n      var scrollContainer;\n\n      var getContextToolbars = function () {\n        return editor.contextToolbars || [];\n      };\n\n      var getElementRect = function (elm) {\n        var pos, targetRect, root;\n        pos = DOM.getPos(editor.getContentAreaContainer());\n        targetRect = editor.dom.getRect(elm);\n        root = editor.dom.getRoot();\n\n        if (root.nodeName === 'BODY') {\n          targetRect.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;\n          targetRect.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;\n        }\n\n        targetRect.x += pos.x;\n        targetRect.y += pos.y;\n        return targetRect;\n      };\n\n      var reposition = function (match, shouldShow) {\n        var relPos, panelRect, elementRect, contentAreaRect, panel, relRect, testPositions, smallElementWidthThreshold;\n        var handler = getInlineToolbarPositionHandler(editor);\n\n        if (editor.removed) {\n          return;\n        }\n\n        if (!match || !match.toolbar.panel) {\n          hideAllFloatingPanels(editor);\n          return;\n        }\n\n        testPositions = ['bc-tc', 'tc-bc', 'tl-bl', 'bl-tl', 'tr-br', 'br-tr'];\n        panel = match.toolbar.panel;\n\n        if (shouldShow) {\n          panel.show();\n        }\n\n        elementRect = getElementRect(match.element);\n        panelRect = DOM.getRect(panel.getEl());\n        contentAreaRect = DOM.getRect(editor.getContentAreaContainer() || editor.getBody());\n        var delta = $_4ygtt4u6jnlpb52y.getUiContainerDelta(panel).getOr({\n          x: 0,\n          y: 0\n        });\n        elementRect.x += delta.x;\n        elementRect.y += delta.y;\n        panelRect.x += delta.x;\n        panelRect.y += delta.y;\n        contentAreaRect.x += delta.x;\n        contentAreaRect.y += delta.y;\n        smallElementWidthThreshold = 25;\n\n        if (DOM.getStyle(match.element, 'display', true) !== 'inline') {\n          var clientRect = match.element.getBoundingClientRect();\n          elementRect.w = clientRect.width;\n          elementRect.h = clientRect.height;\n        }\n\n        if (!editor.inline) {\n          contentAreaRect.w = editor.getDoc().documentElement.offsetWidth;\n        }\n\n        if (editor.selection.controlSelection.isResizable(match.element) && elementRect.w < smallElementWidthThreshold) {\n          elementRect = global$6.inflate(elementRect, 0, 8);\n        }\n\n        relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, testPositions);\n        elementRect = global$6.clamp(elementRect, contentAreaRect);\n\n        if (relPos) {\n          relRect = global$6.relativePosition(panelRect, elementRect, relPos);\n          movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\n        } else {\n          contentAreaRect.h += panelRect.h;\n          elementRect = global$6.intersect(contentAreaRect, elementRect);\n\n          if (elementRect) {\n            relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, ['bc-tc', 'bl-tl', 'br-tr']);\n\n            if (relPos) {\n              relRect = global$6.relativePosition(panelRect, elementRect, relPos);\n              movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\n            } else {\n              movePanelTo(panel, userConstrain(handler, elementRect.x, elementRect.y, elementRect, contentAreaRect, panelRect));\n            }\n          } else {\n            panel.hide();\n          }\n        }\n\n        togglePositionClass(panel, relPos, function (pos1, pos2) {\n          return pos1 === pos2;\n        });\n      };\n\n      var repositionHandler = function (show) {\n        return function () {\n          var execute = function () {\n            if (editor.selection) {\n              reposition(findFrontMostMatch(editor.selection.getNode()), show);\n            }\n          };\n\n          global$7.requestAnimationFrame(execute);\n        };\n      };\n\n      var bindScrollEvent = function (panel) {\n        if (!scrollContainer) {\n          var reposition_1 = repositionHandler(true);\n          var uiContainer_1 = $_4ygtt4u6jnlpb52y.getUiContainer(panel);\n          scrollContainer = editor.selection.getScrollContainer() || editor.getWin();\n          DOM.bind(scrollContainer, 'scroll', reposition_1);\n          DOM.bind(uiContainer_1, 'scroll', reposition_1);\n          editor.on('remove', function () {\n            DOM.unbind(scrollContainer, 'scroll', reposition_1);\n            DOM.unbind(uiContainer_1, 'scroll', reposition_1);\n          });\n        }\n      };\n\n      var showContextToolbar = function (match) {\n        var panel;\n\n        if (match.toolbar.panel) {\n          match.toolbar.panel.show();\n          reposition(match);\n          return;\n        }\n\n        panel = global$4.create({\n          type: 'floatpanel',\n          role: 'dialog',\n          classes: 'tinymce tinymce-inline arrow',\n          ariaLabel: 'Inline toolbar',\n          layout: 'flex',\n          direction: 'column',\n          align: 'stretch',\n          autohide: false,\n          autofix: true,\n          fixed: true,\n          border: 1,\n          items: $_cqt2pxu9jnlpb538.createToolbar(editor, match.toolbar.items),\n          oncancel: function () {\n            editor.focus();\n          }\n        });\n        $_4ygtt4u6jnlpb52y.setUiContainer(editor, panel);\n        bindScrollEvent(panel);\n        match.toolbar.panel = panel;\n        panel.renderTo().reflow();\n        reposition(match);\n      };\n\n      var hideAllContextToolbars = function () {\n        global$2.each(getContextToolbars(), function (toolbar) {\n          if (toolbar.panel) {\n            toolbar.panel.hide();\n          }\n        });\n      };\n\n      var findFrontMostMatch = function (targetElm) {\n        var i, y, parentsAndSelf;\n        var toolbars = getContextToolbars();\n        parentsAndSelf = editor.$(targetElm).parents().add(targetElm);\n\n        for (i = parentsAndSelf.length - 1; i >= 0; i--) {\n          for (y = toolbars.length - 1; y >= 0; y--) {\n            if (toolbars[y].predicate(parentsAndSelf[i])) {\n              return {\n                toolbar: toolbars[y],\n                element: parentsAndSelf[i]\n              };\n            }\n          }\n        }\n\n        return null;\n      };\n\n      editor.on('click keyup setContent ObjectResized', function (e) {\n        if (e.type === 'setcontent' && !e.selection) {\n          return;\n        }\n\n        global$7.setEditorTimeout(editor, function () {\n          var match;\n          match = findFrontMostMatch(editor.selection.getNode());\n\n          if (match) {\n            hideAllContextToolbars();\n            showContextToolbar(match);\n          } else {\n            hideAllContextToolbars();\n          }\n        });\n      });\n      editor.on('blur hide contextmenu', hideAllContextToolbars);\n      editor.on('ObjectResizeStart', function () {\n        var match = findFrontMostMatch(editor.selection.getNode());\n\n        if (match && match.toolbar.panel) {\n          match.toolbar.panel.hide();\n        }\n      });\n      editor.on('ResizeEditor ResizeWindow', repositionHandler(true));\n      editor.on('nodeChange', repositionHandler(false));\n      editor.on('remove', function () {\n        global$2.each(getContextToolbars(), function (toolbar) {\n          if (toolbar.panel) {\n            toolbar.panel.remove();\n          }\n        });\n        editor.contextToolbars = {};\n      });\n      editor.shortcuts.add('ctrl+F9', '', function () {\n        var match = findFrontMostMatch(editor.selection.getNode());\n\n        if (match && match.toolbar.panel) {\n          match.toolbar.panel.items()[0].focus();\n        }\n      });\n    };\n\n    var $_6dgfu4u3jnlpb52s = {\n      addContextualToolbars: addContextualToolbars\n    };\n\n    var typeOf = function (x) {\n      if (x === null) return 'null';\n      var t = typeof x;\n      if (t === 'object' && Array.prototype.isPrototypeOf(x)) return 'array';\n      if (t === 'object' && String.prototype.isPrototypeOf(x)) return 'string';\n      return t;\n    };\n\n    var isType = function (type) {\n      return function (value) {\n        return typeOf(value) === type;\n      };\n    };\n\n    var isFunction = isType('function');\n    var isNumber = isType('number');\n\n    var rawIndexOf = function () {\n      var pIndexOf = Array.prototype.indexOf;\n\n      var fastIndex = function (xs, x) {\n        return pIndexOf.call(xs, x);\n      };\n\n      var slowIndex = function (xs, x) {\n        return slowIndexOf(xs, x);\n      };\n\n      return pIndexOf === undefined ? slowIndex : fastIndex;\n    }();\n\n    var indexOf = function (xs, x) {\n      var r = rawIndexOf(xs, x);\n      return r === -1 ? Option.none() : Option.some(r);\n    };\n\n    var exists = function (xs, pred) {\n      return findIndex(xs, pred).isSome();\n    };\n\n    var map = function (xs, f) {\n      var len = xs.length;\n      var r = new Array(len);\n\n      for (var i = 0; i < len; i++) {\n        var x = xs[i];\n        r[i] = f(x, i, xs);\n      }\n\n      return r;\n    };\n\n    var each = function (xs, f) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n        f(x, i, xs);\n      }\n    };\n\n    var filter = function (xs, pred) {\n      var r = [];\n\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n\n        if (pred(x, i, xs)) {\n          r.push(x);\n        }\n      }\n\n      return r;\n    };\n\n    var foldl = function (xs, f, acc) {\n      each(xs, function (x) {\n        acc = f(acc, x);\n      });\n      return acc;\n    };\n\n    var find = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n\n        if (pred(x, i, xs)) {\n          return Option.some(x);\n        }\n      }\n\n      return Option.none();\n    };\n\n    var findIndex = function (xs, pred) {\n      for (var i = 0, len = xs.length; i < len; i++) {\n        var x = xs[i];\n\n        if (pred(x, i, xs)) {\n          return Option.some(i);\n        }\n      }\n\n      return Option.none();\n    };\n\n    var slowIndexOf = function (xs, x) {\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (xs[i] === x) {\n          return i;\n        }\n      }\n\n      return -1;\n    };\n\n    var push = Array.prototype.push;\n\n    var flatten = function (xs) {\n      var r = [];\n\n      for (var i = 0, len = xs.length; i < len; ++i) {\n        if (!Array.prototype.isPrototypeOf(xs[i])) throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        push.apply(r, xs[i]);\n      }\n\n      return r;\n    };\n\n    var slice = Array.prototype.slice;\n\n    var reverse = function (xs) {\n      var r = slice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n\n    var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n      return slice.call(x);\n    };\n    var defaultMenus = {\n      file: {\n        title: 'File',\n        items: 'newdocument restoredraft | preview | print'\n      },\n      edit: {\n        title: 'Edit',\n        items: 'undo redo | cut copy paste pastetext | selectall'\n      },\n      view: {\n        title: 'View',\n        items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen'\n      },\n      insert: {\n        title: 'Insert',\n        items: 'image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime'\n      },\n      format: {\n        title: 'Format',\n        items: 'bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat'\n      },\n      tools: {\n        title: 'Tools',\n        items: 'spellchecker spellcheckerlanguage | a11ycheck code'\n      },\n      table: {\n        title: 'Table'\n      },\n      help: {\n        title: 'Help'\n      }\n    };\n\n    var delimiterMenuNamePair = function () {\n      return {\n        name: '|',\n        item: {\n          text: '|'\n        }\n      };\n    };\n\n    var createMenuNameItemPair = function (name, item) {\n      var menuItem = item ? {\n        name: name,\n        item: item\n      } : null;\n      return name === '|' ? delimiterMenuNamePair() : menuItem;\n    };\n\n    var hasItemName = function (namedMenuItems, name) {\n      return findIndex(namedMenuItems, function (namedMenuItem) {\n        return namedMenuItem.name === name;\n      }).isSome();\n    };\n\n    var isSeparator = function (namedMenuItem) {\n      return namedMenuItem && namedMenuItem.item.text === '|';\n    };\n\n    var cleanupMenu = function (namedMenuItems, removedMenuItems) {\n      var menuItemsPass1 = filter(namedMenuItems, function (namedMenuItem) {\n        return removedMenuItems.hasOwnProperty(namedMenuItem.name) === false;\n      });\n      var menuItemsPass2 = filter(menuItemsPass1, function (namedMenuItem, i, namedMenuItems) {\n        return !isSeparator(namedMenuItem) || !isSeparator(namedMenuItems[i - 1]);\n      });\n      return filter(menuItemsPass2, function (namedMenuItem, i, namedMenuItems) {\n        return !isSeparator(namedMenuItem) || i > 0 && i < namedMenuItems.length - 1;\n      });\n    };\n\n    var createMenu = function (editorMenuItems, menus, removedMenuItems, context) {\n      var menuButton, menu, namedMenuItems, isUserDefined;\n\n      if (menus) {\n        menu = menus[context];\n        isUserDefined = true;\n      } else {\n        menu = defaultMenus[context];\n      }\n\n      if (menu) {\n        menuButton = {\n          text: menu.title\n        };\n        namedMenuItems = [];\n        global$2.each((menu.items || '').split(/[ ,]/), function (name) {\n          var namedMenuItem = createMenuNameItemPair(name, editorMenuItems[name]);\n\n          if (namedMenuItem) {\n            namedMenuItems.push(namedMenuItem);\n          }\n        });\n\n        if (!isUserDefined) {\n          global$2.each(editorMenuItems, function (item, name) {\n            if (item.context === context && !hasItemName(namedMenuItems, name)) {\n              if (item.separator === 'before') {\n                namedMenuItems.push(delimiterMenuNamePair());\n              }\n\n              if (item.prependToContext) {\n                namedMenuItems.unshift(createMenuNameItemPair(name, item));\n              } else {\n                namedMenuItems.push(createMenuNameItemPair(name, item));\n              }\n\n              if (item.separator === 'after') {\n                namedMenuItems.push(delimiterMenuNamePair());\n              }\n            }\n          });\n        }\n\n        menuButton.menu = map(cleanupMenu(namedMenuItems, removedMenuItems), function (menuItem) {\n          return menuItem.item;\n        });\n\n        if (!menuButton.menu.length) {\n          return null;\n        }\n      }\n\n      return menuButton;\n    };\n\n    var getDefaultMenubar = function (editor) {\n      var name;\n      var defaultMenuBar = [];\n      var menu = getMenu(editor);\n\n      if (menu) {\n        for (name in menu) {\n          defaultMenuBar.push(name);\n        }\n      } else {\n        for (name in defaultMenus) {\n          defaultMenuBar.push(name);\n        }\n      }\n\n      return defaultMenuBar;\n    };\n\n    var createMenuButtons = function (editor) {\n      var menuButtons = [];\n      var defaultMenuBar = getDefaultMenubar(editor);\n      var removedMenuItems = global$2.makeMap(getRemovedMenuItems(editor).split(/[ ,]/));\n      var menubar = getMenubar(editor);\n      var enabledMenuNames = typeof menubar === 'string' ? menubar.split(/[ ,]/) : defaultMenuBar;\n\n      for (var i = 0; i < enabledMenuNames.length; i++) {\n        var menuItems = enabledMenuNames[i];\n        var menu = createMenu(editor.menuItems, getMenu(editor), removedMenuItems, menuItems);\n\n        if (menu) {\n          menuButtons.push(menu);\n        }\n      }\n\n      return menuButtons;\n    };\n\n    var $_bt6b25uajnlpb53b = {\n      createMenuButtons: createMenuButtons\n    };\n    var DOM$1 = global$3.DOM;\n\n    var getSize = function (elm) {\n      return {\n        width: elm.clientWidth,\n        height: elm.clientHeight\n      };\n    };\n\n    var resizeTo = function (editor, width, height) {\n      var containerElm, iframeElm, containerSize, iframeSize;\n      containerElm = editor.getContainer();\n      iframeElm = editor.getContentAreaContainer().firstChild;\n      containerSize = getSize(containerElm);\n      iframeSize = getSize(iframeElm);\n\n      if (width !== null) {\n        width = Math.max(getMinWidth(editor), width);\n        width = Math.min(getMaxWidth(editor), width);\n        DOM$1.setStyle(containerElm, 'width', width + (containerSize.width - iframeSize.width));\n        DOM$1.setStyle(iframeElm, 'width', width);\n      }\n\n      height = Math.max(getMinHeight(editor), height);\n      height = Math.min(getMaxHeight(editor), height);\n      DOM$1.setStyle(iframeElm, 'height', height);\n      $_byi2i4u1jnlpb52o.fireResizeEditor(editor);\n    };\n\n    var resizeBy = function (editor, dw, dh) {\n      var elm = editor.getContentAreaContainer();\n      resizeTo(editor, elm.clientWidth + dw, elm.clientHeight + dh);\n    };\n\n    var $_ao1a4hudjnlpb53o = {\n      resizeTo: resizeTo,\n      resizeBy: resizeBy\n    };\n    var global$8 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var api = function (elm) {\n      return {\n        element: function () {\n          return elm;\n        }\n      };\n    };\n\n    var trigger = function (sidebar, panel, callbackName) {\n      var callback = sidebar.settings[callbackName];\n\n      if (callback) {\n        callback(api(panel.getEl('body')));\n      }\n    };\n\n    var hidePanels = function (name, container, sidebars) {\n      global$2.each(sidebars, function (sidebar) {\n        var panel = container.items().filter('#' + sidebar.name)[0];\n\n        if (panel && panel.visible() && sidebar.name !== name) {\n          trigger(sidebar, panel, 'onhide');\n          panel.visible(false);\n        }\n      });\n    };\n\n    var deactivateButtons = function (toolbar) {\n      toolbar.items().each(function (ctrl) {\n        ctrl.active(false);\n      });\n    };\n\n    var findSidebar = function (sidebars, name) {\n      return global$2.grep(sidebars, function (sidebar) {\n        return sidebar.name === name;\n      })[0];\n    };\n\n    var showPanel = function (editor, name, sidebars) {\n      return function (e) {\n        var btnCtrl = e.control;\n        var container = btnCtrl.parents().filter('panel')[0];\n        var panel = container.find('#' + name)[0];\n        var sidebar = findSidebar(sidebars, name);\n        hidePanels(name, container, sidebars);\n        deactivateButtons(btnCtrl.parent());\n\n        if (panel && panel.visible()) {\n          trigger(sidebar, panel, 'onhide');\n          panel.hide();\n          btnCtrl.active(false);\n        } else {\n          if (panel) {\n            panel.show();\n            trigger(sidebar, panel, 'onshow');\n          } else {\n            panel = global$4.create({\n              type: 'container',\n              name: name,\n              layout: 'stack',\n              classes: 'sidebar-panel',\n              html: ''\n            });\n            container.prepend(panel);\n            trigger(sidebar, panel, 'onrender');\n            trigger(sidebar, panel, 'onshow');\n          }\n\n          btnCtrl.active(true);\n        }\n\n        $_byi2i4u1jnlpb52o.fireResizeEditor(editor);\n      };\n    };\n\n    var isModernBrowser = function () {\n      return !global$8.ie || global$8.ie >= 11;\n    };\n\n    var hasSidebar = function (editor) {\n      return isModernBrowser() && editor.sidebars ? editor.sidebars.length > 0 : false;\n    };\n\n    var createSidebar = function (editor) {\n      var buttons = global$2.map(editor.sidebars, function (sidebar) {\n        var settings = sidebar.settings;\n        return {\n          type: 'button',\n          icon: settings.icon,\n          image: settings.image,\n          tooltip: settings.tooltip,\n          onclick: showPanel(editor, sidebar.name, editor.sidebars)\n        };\n      });\n      return {\n        type: 'panel',\n        name: 'sidebar',\n        layout: 'stack',\n        classes: 'sidebar',\n        items: [{\n          type: 'toolbar',\n          layout: 'stack',\n          classes: 'sidebar-toolbar',\n          items: buttons\n        }]\n      };\n    };\n\n    var $_ep7vgsuejnlpb53q = {\n      hasSidebar: hasSidebar,\n      createSidebar: createSidebar\n    };\n\n    var fireSkinLoaded$1 = function (editor) {\n      var done = function () {\n        editor._skinLoaded = true;\n        $_byi2i4u1jnlpb52o.fireSkinLoaded(editor);\n      };\n\n      return function () {\n        if (editor.initialized) {\n          done();\n        } else {\n          editor.on('init', done);\n        }\n      };\n    };\n\n    var $_2vr92vugjnlpb542 = {\n      fireSkinLoaded: fireSkinLoaded$1\n    };\n    var DOM$2 = global$3.DOM;\n\n    var switchMode = function (panel) {\n      return function (e) {\n        panel.find('*').disabled(e.mode === 'readonly');\n      };\n    };\n\n    var editArea = function (border) {\n      return {\n        type: 'panel',\n        name: 'iframe',\n        layout: 'stack',\n        classes: 'edit-area',\n        border: border,\n        html: ''\n      };\n    };\n\n    var editAreaContainer = function (editor) {\n      return {\n        type: 'panel',\n        layout: 'stack',\n        classes: 'edit-aria-container',\n        border: '1 0 0 0',\n        items: [editArea('0'), $_ep7vgsuejnlpb53q.createSidebar(editor)]\n      };\n    };\n\n    var render = function (editor, theme, args) {\n      var panel, resizeHandleCtrl, startSize;\n\n      if (isSkinDisabled(editor) === false && args.skinUiCss) {\n        DOM$2.styleSheetLoader.load(args.skinUiCss, $_2vr92vugjnlpb542.fireSkinLoaded(editor));\n      } else {\n        $_2vr92vugjnlpb542.fireSkinLoaded(editor)();\n      }\n\n      panel = theme.panel = global$4.create({\n        type: 'panel',\n        role: 'application',\n        classes: 'tinymce',\n        style: 'visibility: hidden',\n        layout: 'stack',\n        border: 1,\n        items: [{\n          type: 'container',\n          classes: 'top-part',\n          items: [hasMenubar(editor) === false ? null : {\n            type: 'menubar',\n            border: '0 0 1 0',\n            items: $_bt6b25uajnlpb53b.createMenuButtons(editor)\n          }, $_cqt2pxu9jnlpb538.createToolbars(editor, getToolbarSize(editor))]\n        }, $_ep7vgsuejnlpb53q.hasSidebar(editor) ? editAreaContainer(editor) : editArea('1 0 0 0')]\n      });\n      $_4ygtt4u6jnlpb52y.setUiContainer(editor, panel);\n\n      if (getResize(editor) !== 'none') {\n        resizeHandleCtrl = {\n          type: 'resizehandle',\n          direction: getResize(editor),\n          onResizeStart: function () {\n            var elm = editor.getContentAreaContainer().firstChild;\n            startSize = {\n              width: elm.clientWidth,\n              height: elm.clientHeight\n            };\n          },\n          onResize: function (e) {\n            if (getResize(editor) === 'both') {\n              $_ao1a4hudjnlpb53o.resizeTo(editor, startSize.width + e.deltaX, startSize.height + e.deltaY);\n            } else {\n              $_ao1a4hudjnlpb53o.resizeTo(editor, null, startSize.height + e.deltaY);\n            }\n          }\n        };\n      }\n\n      if (hasStatusbar(editor)) {\n        var linkHtml = '<a href=\"https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce\" rel=\"noopener\" target=\"_blank\" role=\"presentation\" tabindex=\"-1\">tinymce</a>';\n        var html = global$5.translate(['Powered by {0}', linkHtml]);\n        var brandingLabel = isBrandingEnabled(editor) ? {\n          type: 'label',\n          classes: 'branding',\n          html: ' ' + html\n        } : null;\n        panel.add({\n          type: 'panel',\n          name: 'statusbar',\n          classes: 'statusbar',\n          layout: 'flow',\n          border: '1 0 0 0',\n          ariaRoot: true,\n          items: [{\n            type: 'elementpath',\n            editor: editor\n          }, resizeHandleCtrl, brandingLabel]\n        });\n      }\n\n      $_byi2i4u1jnlpb52o.fireBeforeRenderUI(editor);\n      editor.on('SwitchMode', switchMode(panel));\n      panel.renderBefore(args.targetNode).reflow();\n\n      if (isReadOnly(editor)) {\n        editor.setMode('readonly');\n      }\n\n      if (args.width) {\n        DOM$2.setStyle(panel.getEl(), 'width', args.width);\n      }\n\n      editor.on('remove', function () {\n        panel.remove();\n        panel = null;\n      });\n      $_6kcut5u2jnlpb52p.addKeys(editor, panel);\n      $_6dgfu4u3jnlpb52s.addContextualToolbars(editor);\n      return {\n        iframeContainer: panel.find('#iframe')[0].getEl(),\n        editorContainer: panel.getEl()\n      };\n    };\n\n    var $_2rsj5otxjnlpb52j = {\n      render: render\n    };\n    var global$9 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n    var count = 0;\n    var funcs = {\n      id: function () {\n        return 'mceu_' + count++;\n      },\n      create: function (name$$1, attrs, children) {\n        var elm = document.createElement(name$$1);\n        global$3.DOM.setAttribs(elm, attrs);\n\n        if (typeof children === 'string') {\n          elm.innerHTML = children;\n        } else {\n          global$2.each(children, function (child) {\n            if (child.nodeType) {\n              elm.appendChild(child);\n            }\n          });\n        }\n\n        return elm;\n      },\n      createFragment: function (html) {\n        return global$3.DOM.createFragment(html);\n      },\n      getWindowSize: function () {\n        return global$3.DOM.getViewPort();\n      },\n      getSize: function (elm) {\n        var width, height;\n\n        if (elm.getBoundingClientRect) {\n          var rect = elm.getBoundingClientRect();\n          width = Math.max(rect.width || rect.right - rect.left, elm.offsetWidth);\n          height = Math.max(rect.height || rect.bottom - rect.bottom, elm.offsetHeight);\n        } else {\n          width = elm.offsetWidth;\n          height = elm.offsetHeight;\n        }\n\n        return {\n          width: width,\n          height: height\n        };\n      },\n      getPos: function (elm, root) {\n        return global$3.DOM.getPos(elm, root || funcs.getContainer());\n      },\n      getContainer: function () {\n        return global$8.container ? global$8.container : document.body;\n      },\n      getViewPort: function (win) {\n        return global$3.DOM.getViewPort(win);\n      },\n      get: function (id) {\n        return document.getElementById(id);\n      },\n      addClass: function (elm, cls) {\n        return global$3.DOM.addClass(elm, cls);\n      },\n      removeClass: function (elm, cls) {\n        return global$3.DOM.removeClass(elm, cls);\n      },\n      hasClass: function (elm, cls) {\n        return global$3.DOM.hasClass(elm, cls);\n      },\n      toggleClass: function (elm, cls, state) {\n        return global$3.DOM.toggleClass(elm, cls, state);\n      },\n      css: function (elm, name$$1, value) {\n        return global$3.DOM.setStyle(elm, name$$1, value);\n      },\n      getRuntimeStyle: function (elm, name$$1) {\n        return global$3.DOM.getStyle(elm, name$$1, true);\n      },\n      on: function (target, name$$1, callback, scope) {\n        return global$3.DOM.bind(target, name$$1, callback, scope);\n      },\n      off: function (target, name$$1, callback) {\n        return global$3.DOM.unbind(target, name$$1, callback);\n      },\n      fire: function (target, name$$1, args) {\n        return global$3.DOM.fire(target, name$$1, args);\n      },\n      innerHtml: function (elm, html) {\n        global$3.DOM.setHTML(elm, html);\n      }\n    };\n\n    var isStatic = function (elm) {\n      return funcs.getRuntimeStyle(elm, 'position') === 'static';\n    };\n\n    var isFixed = function (ctrl) {\n      return ctrl.state.get('fixed');\n    };\n\n    function calculateRelativePosition(ctrl, targetElm, rel) {\n      var ctrlElm, pos, x, y, selfW, selfH, targetW, targetH, viewport, size;\n      viewport = getWindowViewPort();\n      pos = funcs.getPos(targetElm, $_4ygtt4u6jnlpb52y.getUiContainer(ctrl));\n      x = pos.x;\n      y = pos.y;\n\n      if (isFixed(ctrl) && isStatic(document.body)) {\n        x -= viewport.x;\n        y -= viewport.y;\n      }\n\n      ctrlElm = ctrl.getEl();\n      size = funcs.getSize(ctrlElm);\n      selfW = size.width;\n      selfH = size.height;\n      size = funcs.getSize(targetElm);\n      targetW = size.width;\n      targetH = size.height;\n      rel = (rel || '').split('');\n\n      if (rel[0] === 'b') {\n        y += targetH;\n      }\n\n      if (rel[1] === 'r') {\n        x += targetW;\n      }\n\n      if (rel[0] === 'c') {\n        y += Math.round(targetH / 2);\n      }\n\n      if (rel[1] === 'c') {\n        x += Math.round(targetW / 2);\n      }\n\n      if (rel[3] === 'b') {\n        y -= selfH;\n      }\n\n      if (rel[4] === 'r') {\n        x -= selfW;\n      }\n\n      if (rel[3] === 'c') {\n        y -= Math.round(selfH / 2);\n      }\n\n      if (rel[4] === 'c') {\n        x -= Math.round(selfW / 2);\n      }\n\n      return {\n        x: x,\n        y: y,\n        w: selfW,\n        h: selfH\n      };\n    }\n\n    var getUiContainerViewPort = function (customUiContainer) {\n      return {\n        x: 0,\n        y: 0,\n        w: customUiContainer.scrollWidth - 1,\n        h: customUiContainer.scrollHeight - 1\n      };\n    };\n\n    var getWindowViewPort = function () {\n      var win = window;\n      var x = Math.max(win.pageXOffset, document.body.scrollLeft, document.documentElement.scrollLeft);\n      var y = Math.max(win.pageYOffset, document.body.scrollTop, document.documentElement.scrollTop);\n      var w = win.innerWidth || document.documentElement.clientWidth;\n      var h = win.innerHeight || document.documentElement.clientHeight;\n      return {\n        x: x,\n        y: y,\n        w: x + w,\n        h: y + h\n      };\n    };\n\n    var getViewPortRect = function (ctrl) {\n      var customUiContainer = $_4ygtt4u6jnlpb52y.getUiContainer(ctrl);\n      return customUiContainer && !isFixed(ctrl) ? getUiContainerViewPort(customUiContainer) : getWindowViewPort();\n    };\n\n    var $_9hbasgumjnlpb54u = {\n      testMoveRel: function (elm, rels) {\n        var viewPortRect = getViewPortRect(this);\n\n        for (var i = 0; i < rels.length; i++) {\n          var pos = calculateRelativePosition(this, elm, rels[i]);\n\n          if (isFixed(this)) {\n            if (pos.x > 0 && pos.x + pos.w < viewPortRect.w && pos.y > 0 && pos.y + pos.h < viewPortRect.h) {\n              return rels[i];\n            }\n          } else {\n            if (pos.x > viewPortRect.x && pos.x + pos.w < viewPortRect.w && pos.y > viewPortRect.y && pos.y + pos.h < viewPortRect.h) {\n              return rels[i];\n            }\n          }\n        }\n\n        return rels[0];\n      },\n      moveRel: function (elm, rel) {\n        if (typeof rel !== 'string') {\n          rel = this.testMoveRel(elm, rel);\n        }\n\n        var pos = calculateRelativePosition(this, elm, rel);\n        return this.moveTo(pos.x, pos.y);\n      },\n      moveBy: function (dx, dy) {\n        var self$$1 = this,\n            rect = self$$1.layoutRect();\n        self$$1.moveTo(rect.x + dx, rect.y + dy);\n        return self$$1;\n      },\n      moveTo: function (x, y) {\n        var self$$1 = this;\n\n        function constrain(value, max, size) {\n          if (value < 0) {\n            return 0;\n          }\n\n          if (value + size > max) {\n            value = max - size;\n            return value < 0 ? 0 : value;\n          }\n\n          return value;\n        }\n\n        if (self$$1.settings.constrainToViewport) {\n          var viewPortRect = getViewPortRect(this);\n          var layoutRect = self$$1.layoutRect();\n          x = constrain(x, viewPortRect.w, layoutRect.w);\n          y = constrain(y, viewPortRect.h, layoutRect.h);\n        }\n\n        var uiContainer = $_4ygtt4u6jnlpb52y.getUiContainer(self$$1);\n\n        if (uiContainer && isStatic(uiContainer) && !isFixed(self$$1)) {\n          x -= uiContainer.scrollLeft;\n          y -= uiContainer.scrollTop;\n        }\n\n        if (uiContainer) {\n          x += 1;\n          y += 1;\n        }\n\n        if (self$$1.state.get('rendered')) {\n          self$$1.layoutRect({\n            x: x,\n            y: y\n          }).repaint();\n        } else {\n          self$$1.settings.x = x;\n          self$$1.settings.y = y;\n        }\n\n        self$$1.fire('move', {\n          x: x,\n          y: y\n        });\n        return self$$1;\n      }\n    };\n    var global$10 = tinymce.util.Tools.resolve('tinymce.util.Class');\n    var global$11 = tinymce.util.Tools.resolve('tinymce.util.EventDispatcher');\n    var $_62etjpusjnlpb560 = {\n      parseBox: function (value) {\n        var len;\n        var radix = 10;\n\n        if (!value) {\n          return;\n        }\n\n        if (typeof value === 'number') {\n          value = value || 0;\n          return {\n            top: value,\n            left: value,\n            bottom: value,\n            right: value\n          };\n        }\n\n        value = value.split(' ');\n        len = value.length;\n\n        if (len === 1) {\n          value[1] = value[2] = value[3] = value[0];\n        } else if (len === 2) {\n          value[2] = value[0];\n          value[3] = value[1];\n        } else if (len === 3) {\n          value[3] = value[1];\n        }\n\n        return {\n          top: parseInt(value[0], radix) || 0,\n          right: parseInt(value[1], radix) || 0,\n          bottom: parseInt(value[2], radix) || 0,\n          left: parseInt(value[3], radix) || 0\n        };\n      },\n      measureBox: function (elm, prefix) {\n        function getStyle(name) {\n          var defaultView = elm.ownerDocument.defaultView;\n\n          if (defaultView) {\n            var computedStyle = defaultView.getComputedStyle(elm, null);\n\n            if (computedStyle) {\n              name = name.replace(/[A-Z]/g, function (a) {\n                return '-' + a;\n              });\n              return computedStyle.getPropertyValue(name);\n            } else {\n              return null;\n            }\n          }\n\n          return elm.currentStyle[name];\n        }\n\n        function getSide(name) {\n          var val = parseFloat(getStyle(name));\n          return isNaN(val) ? 0 : val;\n        }\n\n        return {\n          top: getSide(prefix + 'TopWidth'),\n          right: getSide(prefix + 'RightWidth'),\n          bottom: getSide(prefix + 'BottomWidth'),\n          left: getSide(prefix + 'LeftWidth')\n        };\n      }\n    };\n\n    function noop$1() {}\n\n    function ClassList(onchange) {\n      this.cls = [];\n      this.cls._map = {};\n      this.onchange = onchange || noop$1;\n      this.prefix = '';\n    }\n\n    global$2.extend(ClassList.prototype, {\n      add: function (cls) {\n        if (cls && !this.contains(cls)) {\n          this.cls._map[cls] = true;\n          this.cls.push(cls);\n\n          this._change();\n        }\n\n        return this;\n      },\n      remove: function (cls) {\n        if (this.contains(cls)) {\n          var i = void 0;\n\n          for (i = 0; i < this.cls.length; i++) {\n            if (this.cls[i] === cls) {\n              break;\n            }\n          }\n\n          this.cls.splice(i, 1);\n          delete this.cls._map[cls];\n\n          this._change();\n        }\n\n        return this;\n      },\n      toggle: function (cls, state) {\n        var curState = this.contains(cls);\n\n        if (curState !== state) {\n          if (curState) {\n            this.remove(cls);\n          } else {\n            this.add(cls);\n          }\n\n          this._change();\n        }\n\n        return this;\n      },\n      contains: function (cls) {\n        return !!this.cls._map[cls];\n      },\n      _change: function () {\n        delete this.clsValue;\n        this.onchange.call(this);\n      }\n    });\n\n    ClassList.prototype.toString = function () {\n      var value;\n\n      if (this.clsValue) {\n        return this.clsValue;\n      }\n\n      value = '';\n\n      for (var i = 0; i < this.cls.length; i++) {\n        if (i > 0) {\n          value += ' ';\n        }\n\n        value += this.prefix + this.cls[i];\n      }\n\n      return value;\n    };\n\n    function unique(array) {\n      var uniqueItems = [];\n      var i = array.length,\n          item;\n\n      while (i--) {\n        item = array[i];\n\n        if (!item.__checked) {\n          uniqueItems.push(item);\n          item.__checked = 1;\n        }\n      }\n\n      i = uniqueItems.length;\n\n      while (i--) {\n        delete uniqueItems[i].__checked;\n      }\n\n      return uniqueItems;\n    }\n\n    var expression = /^([\\w\\\\*]+)?(?:#([\\w\\-\\\\]+))?(?:\\.([\\w\\\\\\.]+))?(?:\\[\\@?([\\w\\\\]+)([\\^\\$\\*!~]?=)([\\w\\\\]+)\\])?(?:\\:(.+))?/i;\n    var chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n    var whiteSpace = /^\\s*|\\s*$/g;\n    var Collection;\n    var Selector = global$10.extend({\n      init: function (selector) {\n        var match = this.match;\n\n        function compileNameFilter(name) {\n          if (name) {\n            name = name.toLowerCase();\n            return function (item) {\n              return name === '*' || item.type === name;\n            };\n          }\n        }\n\n        function compileIdFilter(id) {\n          if (id) {\n            return function (item) {\n              return item._name === id;\n            };\n          }\n        }\n\n        function compileClassesFilter(classes) {\n          if (classes) {\n            classes = classes.split('.');\n            return function (item) {\n              var i = classes.length;\n\n              while (i--) {\n                if (!item.classes.contains(classes[i])) {\n                  return false;\n                }\n              }\n\n              return true;\n            };\n          }\n        }\n\n        function compileAttrFilter(name, cmp, check) {\n          if (name) {\n            return function (item) {\n              var value = item[name] ? item[name]() : '';\n              return !cmp ? !!check : cmp === '=' ? value === check : cmp === '*=' ? value.indexOf(check) >= 0 : cmp === '~=' ? (' ' + value + ' ').indexOf(' ' + check + ' ') >= 0 : cmp === '!=' ? value !== check : cmp === '^=' ? value.indexOf(check) === 0 : cmp === '$=' ? value.substr(value.length - check.length) === check : false;\n            };\n          }\n        }\n\n        function compilePsuedoFilter(name) {\n          var notSelectors;\n\n          if (name) {\n            name = /(?:not\\((.+)\\))|(.+)/i.exec(name);\n\n            if (!name[1]) {\n              name = name[2];\n              return function (item, index, length) {\n                return name === 'first' ? index === 0 : name === 'last' ? index === length - 1 : name === 'even' ? index % 2 === 0 : name === 'odd' ? index % 2 === 1 : item[name] ? item[name]() : false;\n              };\n            }\n\n            notSelectors = parseChunks(name[1], []);\n            return function (item) {\n              return !match(item, notSelectors);\n            };\n          }\n        }\n\n        function compile(selector, filters, direct) {\n          var parts;\n\n          function add(filter) {\n            if (filter) {\n              filters.push(filter);\n            }\n          }\n\n          parts = expression.exec(selector.replace(whiteSpace, ''));\n          add(compileNameFilter(parts[1]));\n          add(compileIdFilter(parts[2]));\n          add(compileClassesFilter(parts[3]));\n          add(compileAttrFilter(parts[4], parts[5], parts[6]));\n          add(compilePsuedoFilter(parts[7]));\n          filters.pseudo = !!parts[7];\n          filters.direct = direct;\n          return filters;\n        }\n\n        function parseChunks(selector, selectors) {\n          var parts = [];\n          var extra, matches, i;\n\n          do {\n            chunker.exec('');\n            matches = chunker.exec(selector);\n\n            if (matches) {\n              selector = matches[3];\n              parts.push(matches[1]);\n\n              if (matches[2]) {\n                extra = matches[3];\n                break;\n              }\n            }\n          } while (matches);\n\n          if (extra) {\n            parseChunks(extra, selectors);\n          }\n\n          selector = [];\n\n          for (i = 0; i < parts.length; i++) {\n            if (parts[i] !== '>') {\n              selector.push(compile(parts[i], [], parts[i - 1] === '>'));\n            }\n          }\n\n          selectors.push(selector);\n          return selectors;\n        }\n\n        this._selectors = parseChunks(selector, []);\n      },\n      match: function (control, selectors) {\n        var i, l, si, sl, selector, fi, fl, filters, index, length, siblings, count, item;\n        selectors = selectors || this._selectors;\n\n        for (i = 0, l = selectors.length; i < l; i++) {\n          selector = selectors[i];\n          sl = selector.length;\n          item = control;\n          count = 0;\n\n          for (si = sl - 1; si >= 0; si--) {\n            filters = selector[si];\n\n            while (item) {\n              if (filters.pseudo) {\n                siblings = item.parent().items();\n                index = length = siblings.length;\n\n                while (index--) {\n                  if (siblings[index] === item) {\n                    break;\n                  }\n                }\n              }\n\n              for (fi = 0, fl = filters.length; fi < fl; fi++) {\n                if (!filters[fi](item, index, length)) {\n                  fi = fl + 1;\n                  break;\n                }\n              }\n\n              if (fi === fl) {\n                count++;\n                break;\n              } else {\n                if (si === sl - 1) {\n                  break;\n                }\n              }\n\n              item = item.parent();\n            }\n          }\n\n          if (count === sl) {\n            return true;\n          }\n        }\n\n        return false;\n      },\n      find: function (container) {\n        var matches = [],\n            i,\n            l;\n        var selectors = this._selectors;\n\n        function collect(items, selector, index) {\n          var i, l, fi, fl, item;\n          var filters = selector[index];\n\n          for (i = 0, l = items.length; i < l; i++) {\n            item = items[i];\n\n            for (fi = 0, fl = filters.length; fi < fl; fi++) {\n              if (!filters[fi](item, i, l)) {\n                fi = fl + 1;\n                break;\n              }\n            }\n\n            if (fi === fl) {\n              if (index === selector.length - 1) {\n                matches.push(item);\n              } else {\n                if (item.items) {\n                  collect(item.items(), selector, index + 1);\n                }\n              }\n            } else if (filters.direct) {\n              return;\n            }\n\n            if (item.items) {\n              collect(item.items(), selector, index);\n            }\n          }\n        }\n\n        if (container.items) {\n          for (i = 0, l = selectors.length; i < l; i++) {\n            collect(container.items(), selectors[i], 0);\n          }\n\n          if (l > 1) {\n            matches = unique(matches);\n          }\n        }\n\n        if (!Collection) {\n          Collection = Selector.Collection;\n        }\n\n        return new Collection(matches);\n      }\n    });\n    var Collection$1;\n    var proto;\n    var push$1 = Array.prototype.push;\n    var slice$1 = Array.prototype.slice;\n    proto = {\n      length: 0,\n      init: function (items) {\n        if (items) {\n          this.add(items);\n        }\n      },\n      add: function (items) {\n        var self = this;\n\n        if (!global$2.isArray(items)) {\n          if (items instanceof Collection$1) {\n            self.add(items.toArray());\n          } else {\n            push$1.call(self, items);\n          }\n        } else {\n          push$1.apply(self, items);\n        }\n\n        return self;\n      },\n      set: function (items) {\n        var self = this;\n        var len = self.length;\n        var i;\n        self.length = 0;\n        self.add(items);\n\n        for (i = self.length; i < len; i++) {\n          delete self[i];\n        }\n\n        return self;\n      },\n      filter: function (selector) {\n        var self = this;\n        var i, l;\n        var matches = [];\n        var item, match;\n\n        if (typeof selector === 'string') {\n          selector = new Selector(selector);\n\n          match = function (item) {\n            return selector.match(item);\n          };\n        } else {\n          match = selector;\n        }\n\n        for (i = 0, l = self.length; i < l; i++) {\n          item = self[i];\n\n          if (match(item)) {\n            matches.push(item);\n          }\n        }\n\n        return new Collection$1(matches);\n      },\n      slice: function () {\n        return new Collection$1(slice$1.apply(this, arguments));\n      },\n      eq: function (index) {\n        return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n      },\n      each: function (callback) {\n        global$2.each(this, callback);\n        return this;\n      },\n      toArray: function () {\n        return global$2.toArray(this);\n      },\n      indexOf: function (ctrl) {\n        var self = this;\n        var i = self.length;\n\n        while (i--) {\n          if (self[i] === ctrl) {\n            break;\n          }\n        }\n\n        return i;\n      },\n      reverse: function () {\n        return new Collection$1(global$2.toArray(this).reverse());\n      },\n      hasClass: function (cls) {\n        return this[0] ? this[0].classes.contains(cls) : false;\n      },\n      prop: function (name, value) {\n        var self = this;\n        var item;\n\n        if (value !== undefined) {\n          self.each(function (item) {\n            if (item[name]) {\n              item[name](value);\n            }\n          });\n          return self;\n        }\n\n        item = self[0];\n\n        if (item && item[name]) {\n          return item[name]();\n        }\n      },\n      exec: function (name) {\n        var self = this,\n            args = global$2.toArray(arguments).slice(1);\n        self.each(function (item) {\n          if (item[name]) {\n            item[name].apply(item, args);\n          }\n        });\n        return self;\n      },\n      remove: function () {\n        var i = this.length;\n\n        while (i--) {\n          this[i].remove();\n        }\n\n        return this;\n      },\n      addClass: function (cls) {\n        return this.each(function (item) {\n          item.classes.add(cls);\n        });\n      },\n      removeClass: function (cls) {\n        return this.each(function (item) {\n          item.classes.remove(cls);\n        });\n      }\n    };\n    global$2.each('fire on off show hide append prepend before after reflow'.split(' '), function (name) {\n      proto[name] = function () {\n        var args = global$2.toArray(arguments);\n        this.each(function (ctrl) {\n          if (name in ctrl) {\n            ctrl[name].apply(ctrl, args);\n          }\n        });\n        return this;\n      };\n    });\n    global$2.each('text name disabled active selected checked visible parent value data'.split(' '), function (name) {\n      proto[name] = function (value) {\n        return this.prop(name, value);\n      };\n    });\n    Collection$1 = global$10.extend(proto);\n    Selector.Collection = Collection$1;\n    var Collection$2 = Collection$1;\n\n    var Binding = function (settings) {\n      this.create = settings.create;\n    };\n\n    Binding.create = function (model, name) {\n      return new Binding({\n        create: function (otherModel, otherName) {\n          var bindings;\n\n          var fromSelfToOther = function (e) {\n            otherModel.set(otherName, e.value);\n          };\n\n          var fromOtherToSelf = function (e) {\n            model.set(name, e.value);\n          };\n\n          otherModel.on('change:' + otherName, fromOtherToSelf);\n          model.on('change:' + name, fromSelfToOther);\n          bindings = otherModel._bindings;\n\n          if (!bindings) {\n            bindings = otherModel._bindings = [];\n            otherModel.on('destroy', function () {\n              var i = bindings.length;\n\n              while (i--) {\n                bindings[i]();\n              }\n            });\n          }\n\n          bindings.push(function () {\n            model.off('change:' + name, fromSelfToOther);\n          });\n          return model.get(name);\n        }\n      });\n    };\n\n    var global$12 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n    function isNode(node) {\n      return node.nodeType > 0;\n    }\n\n    function isEqual(a, b) {\n      var k, checked;\n\n      if (a === b) {\n        return true;\n      }\n\n      if (a === null || b === null) {\n        return a === b;\n      }\n\n      if (typeof a !== 'object' || typeof b !== 'object') {\n        return a === b;\n      }\n\n      if (global$2.isArray(b)) {\n        if (a.length !== b.length) {\n          return false;\n        }\n\n        k = a.length;\n\n        while (k--) {\n          if (!isEqual(a[k], b[k])) {\n            return false;\n          }\n        }\n      }\n\n      if (isNode(a) || isNode(b)) {\n        return a === b;\n      }\n\n      checked = {};\n\n      for (k in b) {\n        if (!isEqual(a[k], b[k])) {\n          return false;\n        }\n\n        checked[k] = true;\n      }\n\n      for (k in a) {\n        if (!checked[k] && !isEqual(a[k], b[k])) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    var ObservableObject = global$10.extend({\n      Mixins: [global$12],\n      init: function (data) {\n        var name, value;\n        data = data || {};\n\n        for (name in data) {\n          value = data[name];\n\n          if (value instanceof Binding) {\n            data[name] = value.create(this, name);\n          }\n        }\n\n        this.data = data;\n      },\n      set: function (name, value) {\n        var key, args;\n        var oldValue = this.data[name];\n\n        if (value instanceof Binding) {\n          value = value.create(this, name);\n        }\n\n        if (typeof name === 'object') {\n          for (key in name) {\n            this.set(key, name[key]);\n          }\n\n          return this;\n        }\n\n        if (!isEqual(oldValue, value)) {\n          this.data[name] = value;\n          args = {\n            target: this,\n            name: name,\n            value: value,\n            oldValue: oldValue\n          };\n          this.fire('change:' + name, args);\n          this.fire('change', args);\n        }\n\n        return this;\n      },\n      get: function (name) {\n        return this.data[name];\n      },\n      has: function (name) {\n        return name in this.data;\n      },\n      bind: function (name) {\n        return Binding.create(this, name);\n      },\n      destroy: function () {\n        this.fire('destroy');\n      }\n    });\n    var dirtyCtrls = {};\n    var animationFrameRequested;\n    var $_6dtmktuzjnlpb56i = {\n      add: function (ctrl) {\n        var parent$$1 = ctrl.parent();\n\n        if (parent$$1) {\n          if (!parent$$1._layout || parent$$1._layout.isNative()) {\n            return;\n          }\n\n          if (!dirtyCtrls[parent$$1._id]) {\n            dirtyCtrls[parent$$1._id] = parent$$1;\n          }\n\n          if (!animationFrameRequested) {\n            animationFrameRequested = true;\n            global$7.requestAnimationFrame(function () {\n              var id, ctrl;\n              animationFrameRequested = false;\n\n              for (id in dirtyCtrls) {\n                ctrl = dirtyCtrls[id];\n\n                if (ctrl.state.get('rendered')) {\n                  ctrl.reflow();\n                }\n              }\n\n              dirtyCtrls = {};\n            }, document.body);\n          }\n        }\n      },\n      remove: function (ctrl) {\n        if (dirtyCtrls[ctrl._id]) {\n          delete dirtyCtrls[ctrl._id];\n        }\n      }\n    };\n    var hasMouseWheelEventSupport = 'onmousewheel' in document;\n    var hasWheelEventSupport = false;\n    var classPrefix = 'mce-';\n    var Control;\n    var idCounter = 0;\n    var proto$1 = {\n      Statics: {\n        classPrefix: classPrefix\n      },\n      isRtl: function () {\n        return Control.rtl;\n      },\n      classPrefix: classPrefix,\n      init: function (settings) {\n        var self$$1 = this;\n        var classes, defaultClasses;\n\n        function applyClasses(classes) {\n          var i;\n          classes = classes.split(' ');\n\n          for (i = 0; i < classes.length; i++) {\n            self$$1.classes.add(classes[i]);\n          }\n        }\n\n        self$$1.settings = settings = global$2.extend({}, self$$1.Defaults, settings);\n        self$$1._id = settings.id || 'mceu_' + idCounter++;\n        self$$1._aria = {\n          role: settings.role\n        };\n        self$$1._elmCache = {};\n        self$$1.$ = global$9;\n        self$$1.state = new ObservableObject({\n          visible: true,\n          active: false,\n          disabled: false,\n          value: ''\n        });\n        self$$1.data = new ObservableObject(settings.data);\n        self$$1.classes = new ClassList(function () {\n          if (self$$1.state.get('rendered')) {\n            self$$1.getEl().className = this.toString();\n          }\n        });\n        self$$1.classes.prefix = self$$1.classPrefix;\n        classes = settings.classes;\n\n        if (classes) {\n          if (self$$1.Defaults) {\n            defaultClasses = self$$1.Defaults.classes;\n\n            if (defaultClasses && classes !== defaultClasses) {\n              applyClasses(defaultClasses);\n            }\n          }\n\n          applyClasses(classes);\n        }\n\n        global$2.each('title text name visible disabled active value'.split(' '), function (name$$1) {\n          if (name$$1 in settings) {\n            self$$1[name$$1](settings[name$$1]);\n          }\n        });\n        self$$1.on('click', function () {\n          if (self$$1.disabled()) {\n            return false;\n          }\n        });\n        self$$1.settings = settings;\n        self$$1.borderBox = $_62etjpusjnlpb560.parseBox(settings.border);\n        self$$1.paddingBox = $_62etjpusjnlpb560.parseBox(settings.padding);\n        self$$1.marginBox = $_62etjpusjnlpb560.parseBox(settings.margin);\n\n        if (settings.hidden) {\n          self$$1.hide();\n        }\n      },\n      Properties: 'parent,name',\n      getContainerElm: function () {\n        var uiContainer = $_4ygtt4u6jnlpb52y.getUiContainer(this);\n        return uiContainer ? uiContainer : funcs.getContainer();\n      },\n      getParentCtrl: function (elm) {\n        var ctrl;\n        var lookup = this.getRoot().controlIdLookup;\n\n        while (elm && lookup) {\n          ctrl = lookup[elm.id];\n\n          if (ctrl) {\n            break;\n          }\n\n          elm = elm.parentNode;\n        }\n\n        return ctrl;\n      },\n      initLayoutRect: function () {\n        var self$$1 = this;\n        var settings = self$$1.settings;\n        var borderBox, layoutRect;\n        var elm = self$$1.getEl();\n        var width, height, minWidth, minHeight, autoResize;\n        var startMinWidth, startMinHeight, initialSize;\n        borderBox = self$$1.borderBox = self$$1.borderBox || $_62etjpusjnlpb560.measureBox(elm, 'border');\n        self$$1.paddingBox = self$$1.paddingBox || $_62etjpusjnlpb560.measureBox(elm, 'padding');\n        self$$1.marginBox = self$$1.marginBox || $_62etjpusjnlpb560.measureBox(elm, 'margin');\n        initialSize = funcs.getSize(elm);\n        startMinWidth = settings.minWidth;\n        startMinHeight = settings.minHeight;\n        minWidth = startMinWidth || initialSize.width;\n        minHeight = startMinHeight || initialSize.height;\n        width = settings.width;\n        height = settings.height;\n        autoResize = settings.autoResize;\n        autoResize = typeof autoResize !== 'undefined' ? autoResize : !width && !height;\n        width = width || minWidth;\n        height = height || minHeight;\n        var deltaW = borderBox.left + borderBox.right;\n        var deltaH = borderBox.top + borderBox.bottom;\n        var maxW = settings.maxWidth || 65535;\n        var maxH = settings.maxHeight || 65535;\n        self$$1._layoutRect = layoutRect = {\n          x: settings.x || 0,\n          y: settings.y || 0,\n          w: width,\n          h: height,\n          deltaW: deltaW,\n          deltaH: deltaH,\n          contentW: width - deltaW,\n          contentH: height - deltaH,\n          innerW: width - deltaW,\n          innerH: height - deltaH,\n          startMinWidth: startMinWidth || 0,\n          startMinHeight: startMinHeight || 0,\n          minW: Math.min(minWidth, maxW),\n          minH: Math.min(minHeight, maxH),\n          maxW: maxW,\n          maxH: maxH,\n          autoResize: autoResize,\n          scrollW: 0\n        };\n        self$$1._lastLayoutRect = {};\n        return layoutRect;\n      },\n      layoutRect: function (newRect) {\n        var self$$1 = this;\n        var curRect = self$$1._layoutRect,\n            lastLayoutRect,\n            size,\n            deltaWidth,\n            deltaHeight,\n            repaintControls;\n\n        if (!curRect) {\n          curRect = self$$1.initLayoutRect();\n        }\n\n        if (newRect) {\n          deltaWidth = curRect.deltaW;\n          deltaHeight = curRect.deltaH;\n\n          if (newRect.x !== undefined) {\n            curRect.x = newRect.x;\n          }\n\n          if (newRect.y !== undefined) {\n            curRect.y = newRect.y;\n          }\n\n          if (newRect.minW !== undefined) {\n            curRect.minW = newRect.minW;\n          }\n\n          if (newRect.minH !== undefined) {\n            curRect.minH = newRect.minH;\n          }\n\n          size = newRect.w;\n\n          if (size !== undefined) {\n            size = size < curRect.minW ? curRect.minW : size;\n            size = size > curRect.maxW ? curRect.maxW : size;\n            curRect.w = size;\n            curRect.innerW = size - deltaWidth;\n          }\n\n          size = newRect.h;\n\n          if (size !== undefined) {\n            size = size < curRect.minH ? curRect.minH : size;\n            size = size > curRect.maxH ? curRect.maxH : size;\n            curRect.h = size;\n            curRect.innerH = size - deltaHeight;\n          }\n\n          size = newRect.innerW;\n\n          if (size !== undefined) {\n            size = size < curRect.minW - deltaWidth ? curRect.minW - deltaWidth : size;\n            size = size > curRect.maxW - deltaWidth ? curRect.maxW - deltaWidth : size;\n            curRect.innerW = size;\n            curRect.w = size + deltaWidth;\n          }\n\n          size = newRect.innerH;\n\n          if (size !== undefined) {\n            size = size < curRect.minH - deltaHeight ? curRect.minH - deltaHeight : size;\n            size = size > curRect.maxH - deltaHeight ? curRect.maxH - deltaHeight : size;\n            curRect.innerH = size;\n            curRect.h = size + deltaHeight;\n          }\n\n          if (newRect.contentW !== undefined) {\n            curRect.contentW = newRect.contentW;\n          }\n\n          if (newRect.contentH !== undefined) {\n            curRect.contentH = newRect.contentH;\n          }\n\n          lastLayoutRect = self$$1._lastLayoutRect;\n\n          if (lastLayoutRect.x !== curRect.x || lastLayoutRect.y !== curRect.y || lastLayoutRect.w !== curRect.w || lastLayoutRect.h !== curRect.h) {\n            repaintControls = Control.repaintControls;\n\n            if (repaintControls) {\n              if (repaintControls.map && !repaintControls.map[self$$1._id]) {\n                repaintControls.push(self$$1);\n                repaintControls.map[self$$1._id] = true;\n              }\n            }\n\n            lastLayoutRect.x = curRect.x;\n            lastLayoutRect.y = curRect.y;\n            lastLayoutRect.w = curRect.w;\n            lastLayoutRect.h = curRect.h;\n          }\n\n          return self$$1;\n        }\n\n        return curRect;\n      },\n      repaint: function () {\n        var self$$1 = this;\n        var style, bodyStyle, bodyElm, rect, borderBox;\n        var borderW, borderH, lastRepaintRect, round, value;\n        round = !document.createRange ? Math.round : function (value) {\n          return value;\n        };\n        style = self$$1.getEl().style;\n        rect = self$$1._layoutRect;\n        lastRepaintRect = self$$1._lastRepaintRect || {};\n        borderBox = self$$1.borderBox;\n        borderW = borderBox.left + borderBox.right;\n        borderH = borderBox.top + borderBox.bottom;\n\n        if (rect.x !== lastRepaintRect.x) {\n          style.left = round(rect.x) + 'px';\n          lastRepaintRect.x = rect.x;\n        }\n\n        if (rect.y !== lastRepaintRect.y) {\n          style.top = round(rect.y) + 'px';\n          lastRepaintRect.y = rect.y;\n        }\n\n        if (rect.w !== lastRepaintRect.w) {\n          value = round(rect.w - borderW);\n          style.width = (value >= 0 ? value : 0) + 'px';\n          lastRepaintRect.w = rect.w;\n        }\n\n        if (rect.h !== lastRepaintRect.h) {\n          value = round(rect.h - borderH);\n          style.height = (value >= 0 ? value : 0) + 'px';\n          lastRepaintRect.h = rect.h;\n        }\n\n        if (self$$1._hasBody && rect.innerW !== lastRepaintRect.innerW) {\n          value = round(rect.innerW);\n          bodyElm = self$$1.getEl('body');\n\n          if (bodyElm) {\n            bodyStyle = bodyElm.style;\n            bodyStyle.width = (value >= 0 ? value : 0) + 'px';\n          }\n\n          lastRepaintRect.innerW = rect.innerW;\n        }\n\n        if (self$$1._hasBody && rect.innerH !== lastRepaintRect.innerH) {\n          value = round(rect.innerH);\n          bodyElm = bodyElm || self$$1.getEl('body');\n\n          if (bodyElm) {\n            bodyStyle = bodyStyle || bodyElm.style;\n            bodyStyle.height = (value >= 0 ? value : 0) + 'px';\n          }\n\n          lastRepaintRect.innerH = rect.innerH;\n        }\n\n        self$$1._lastRepaintRect = lastRepaintRect;\n        self$$1.fire('repaint', {}, false);\n      },\n      updateLayoutRect: function () {\n        var self$$1 = this;\n        self$$1.parent()._lastRect = null;\n        funcs.css(self$$1.getEl(), {\n          width: '',\n          height: ''\n        });\n        self$$1._layoutRect = self$$1._lastRepaintRect = self$$1._lastLayoutRect = null;\n        self$$1.initLayoutRect();\n      },\n      on: function (name$$1, callback) {\n        var self$$1 = this;\n\n        function resolveCallbackName(name$$1) {\n          var callback, scope;\n\n          if (typeof name$$1 !== 'string') {\n            return name$$1;\n          }\n\n          return function (e) {\n            if (!callback) {\n              self$$1.parentsAndSelf().each(function (ctrl) {\n                var callbacks = ctrl.settings.callbacks;\n\n                if (callbacks && (callback = callbacks[name$$1])) {\n                  scope = ctrl;\n                  return false;\n                }\n              });\n            }\n\n            if (!callback) {\n              e.action = name$$1;\n              this.fire('execute', e);\n              return;\n            }\n\n            return callback.call(scope, e);\n          };\n        }\n\n        getEventDispatcher(self$$1).on(name$$1, resolveCallbackName(callback));\n        return self$$1;\n      },\n      off: function (name$$1, callback) {\n        getEventDispatcher(this).off(name$$1, callback);\n        return this;\n      },\n      fire: function (name$$1, args, bubble) {\n        var self$$1 = this;\n        args = args || {};\n\n        if (!args.control) {\n          args.control = self$$1;\n        }\n\n        args = getEventDispatcher(self$$1).fire(name$$1, args);\n\n        if (bubble !== false && self$$1.parent) {\n          var parent$$1 = self$$1.parent();\n\n          while (parent$$1 && !args.isPropagationStopped()) {\n            parent$$1.fire(name$$1, args, false);\n            parent$$1 = parent$$1.parent();\n          }\n        }\n\n        return args;\n      },\n      hasEventListeners: function (name$$1) {\n        return getEventDispatcher(this).has(name$$1);\n      },\n      parents: function (selector) {\n        var self$$1 = this;\n        var ctrl,\n            parents = new Collection$2();\n\n        for (ctrl = self$$1.parent(); ctrl; ctrl = ctrl.parent()) {\n          parents.add(ctrl);\n        }\n\n        if (selector) {\n          parents = parents.filter(selector);\n        }\n\n        return parents;\n      },\n      parentsAndSelf: function (selector) {\n        return new Collection$2(this).add(this.parents(selector));\n      },\n      next: function () {\n        var parentControls = this.parent().items();\n        return parentControls[parentControls.indexOf(this) + 1];\n      },\n      prev: function () {\n        var parentControls = this.parent().items();\n        return parentControls[parentControls.indexOf(this) - 1];\n      },\n      innerHtml: function (html) {\n        this.$el.html(html);\n        return this;\n      },\n      getEl: function (suffix) {\n        var id = suffix ? this._id + '-' + suffix : this._id;\n\n        if (!this._elmCache[id]) {\n          this._elmCache[id] = global$9('#' + id)[0];\n        }\n\n        return this._elmCache[id];\n      },\n      show: function () {\n        return this.visible(true);\n      },\n      hide: function () {\n        return this.visible(false);\n      },\n      focus: function () {\n        try {\n          this.getEl().focus();\n        } catch (ex) {}\n\n        return this;\n      },\n      blur: function () {\n        this.getEl().blur();\n        return this;\n      },\n      aria: function (name$$1, value) {\n        var self$$1 = this,\n            elm = self$$1.getEl(self$$1.ariaTarget);\n\n        if (typeof value === 'undefined') {\n          return self$$1._aria[name$$1];\n        }\n\n        self$$1._aria[name$$1] = value;\n\n        if (self$$1.state.get('rendered')) {\n          elm.setAttribute(name$$1 === 'role' ? name$$1 : 'aria-' + name$$1, value);\n        }\n\n        return self$$1;\n      },\n      encode: function (text, translate) {\n        if (translate !== false) {\n          text = this.translate(text);\n        }\n\n        return (text || '').replace(/[&<>\"]/g, function (match) {\n          return '&#' + match.charCodeAt(0) + ';';\n        });\n      },\n      translate: function (text) {\n        return Control.translate ? Control.translate(text) : text;\n      },\n      before: function (items) {\n        var self$$1 = this,\n            parent$$1 = self$$1.parent();\n\n        if (parent$$1) {\n          parent$$1.insert(items, parent$$1.items().indexOf(self$$1), true);\n        }\n\n        return self$$1;\n      },\n      after: function (items) {\n        var self$$1 = this,\n            parent$$1 = self$$1.parent();\n\n        if (parent$$1) {\n          parent$$1.insert(items, parent$$1.items().indexOf(self$$1));\n        }\n\n        return self$$1;\n      },\n      remove: function () {\n        var self$$1 = this;\n        var elm = self$$1.getEl();\n        var parent$$1 = self$$1.parent();\n        var newItems, i;\n\n        if (self$$1.items) {\n          var controls = self$$1.items().toArray();\n          i = controls.length;\n\n          while (i--) {\n            controls[i].remove();\n          }\n        }\n\n        if (parent$$1 && parent$$1.items) {\n          newItems = [];\n          parent$$1.items().each(function (item) {\n            if (item !== self$$1) {\n              newItems.push(item);\n            }\n          });\n          parent$$1.items().set(newItems);\n          parent$$1._lastRect = null;\n        }\n\n        if (self$$1._eventsRoot && self$$1._eventsRoot === self$$1) {\n          global$9(elm).off();\n        }\n\n        var lookup = self$$1.getRoot().controlIdLookup;\n\n        if (lookup) {\n          delete lookup[self$$1._id];\n        }\n\n        if (elm && elm.parentNode) {\n          elm.parentNode.removeChild(elm);\n        }\n\n        self$$1.state.set('rendered', false);\n        self$$1.state.destroy();\n        self$$1.fire('remove');\n        return self$$1;\n      },\n      renderBefore: function (elm) {\n        global$9(elm).before(this.renderHtml());\n        this.postRender();\n        return this;\n      },\n      renderTo: function (elm) {\n        global$9(elm || this.getContainerElm()).append(this.renderHtml());\n        this.postRender();\n        return this;\n      },\n      preRender: function () {},\n      render: function () {},\n      renderHtml: function () {\n        return '<div id=\"' + this._id + '\" class=\"' + this.classes + '\"></div>';\n      },\n      postRender: function () {\n        var self$$1 = this;\n        var settings = self$$1.settings;\n        var elm, box, parent$$1, name$$1, parentEventsRoot;\n        self$$1.$el = global$9(self$$1.getEl());\n        self$$1.state.set('rendered', true);\n\n        for (name$$1 in settings) {\n          if (name$$1.indexOf('on') === 0) {\n            self$$1.on(name$$1.substr(2), settings[name$$1]);\n          }\n        }\n\n        if (self$$1._eventsRoot) {\n          for (parent$$1 = self$$1.parent(); !parentEventsRoot && parent$$1; parent$$1 = parent$$1.parent()) {\n            parentEventsRoot = parent$$1._eventsRoot;\n          }\n\n          if (parentEventsRoot) {\n            for (name$$1 in parentEventsRoot._nativeEvents) {\n              self$$1._nativeEvents[name$$1] = true;\n            }\n          }\n        }\n\n        bindPendingEvents(self$$1);\n\n        if (settings.style) {\n          elm = self$$1.getEl();\n\n          if (elm) {\n            elm.setAttribute('style', settings.style);\n            elm.style.cssText = settings.style;\n          }\n        }\n\n        if (self$$1.settings.border) {\n          box = self$$1.borderBox;\n          self$$1.$el.css({\n            'border-top-width': box.top,\n            'border-right-width': box.right,\n            'border-bottom-width': box.bottom,\n            'border-left-width': box.left\n          });\n        }\n\n        var root = self$$1.getRoot();\n\n        if (!root.controlIdLookup) {\n          root.controlIdLookup = {};\n        }\n\n        root.controlIdLookup[self$$1._id] = self$$1;\n\n        for (var key in self$$1._aria) {\n          self$$1.aria(key, self$$1._aria[key]);\n        }\n\n        if (self$$1.state.get('visible') === false) {\n          self$$1.getEl().style.display = 'none';\n        }\n\n        self$$1.bindStates();\n        self$$1.state.on('change:visible', function (e) {\n          var state = e.value;\n          var parentCtrl;\n\n          if (self$$1.state.get('rendered')) {\n            self$$1.getEl().style.display = state === false ? 'none' : '';\n            self$$1.getEl().getBoundingClientRect();\n          }\n\n          parentCtrl = self$$1.parent();\n\n          if (parentCtrl) {\n            parentCtrl._lastRect = null;\n          }\n\n          self$$1.fire(state ? 'show' : 'hide');\n          $_6dtmktuzjnlpb56i.add(self$$1);\n        });\n        self$$1.fire('postrender', {}, false);\n      },\n      bindStates: function () {},\n      scrollIntoView: function (align) {\n        function getOffset(elm, rootElm) {\n          var x,\n              y,\n              parent$$1 = elm;\n          x = y = 0;\n\n          while (parent$$1 && parent$$1 !== rootElm && parent$$1.nodeType) {\n            x += parent$$1.offsetLeft || 0;\n            y += parent$$1.offsetTop || 0;\n            parent$$1 = parent$$1.offsetParent;\n          }\n\n          return {\n            x: x,\n            y: y\n          };\n        }\n\n        var elm = this.getEl(),\n            parentElm = elm.parentNode;\n        var x, y, width, height, parentWidth, parentHeight;\n        var pos = getOffset(elm, parentElm);\n        x = pos.x;\n        y = pos.y;\n        width = elm.offsetWidth;\n        height = elm.offsetHeight;\n        parentWidth = parentElm.clientWidth;\n        parentHeight = parentElm.clientHeight;\n\n        if (align === 'end') {\n          x -= parentWidth - width;\n          y -= parentHeight - height;\n        } else if (align === 'center') {\n          x -= parentWidth / 2 - width / 2;\n          y -= parentHeight / 2 - height / 2;\n        }\n\n        parentElm.scrollLeft = x;\n        parentElm.scrollTop = y;\n        return this;\n      },\n      getRoot: function () {\n        var ctrl = this,\n            rootControl;\n        var parents = [];\n\n        while (ctrl) {\n          if (ctrl.rootControl) {\n            rootControl = ctrl.rootControl;\n            break;\n          }\n\n          parents.push(ctrl);\n          rootControl = ctrl;\n          ctrl = ctrl.parent();\n        }\n\n        if (!rootControl) {\n          rootControl = this;\n        }\n\n        var i = parents.length;\n\n        while (i--) {\n          parents[i].rootControl = rootControl;\n        }\n\n        return rootControl;\n      },\n      reflow: function () {\n        $_6dtmktuzjnlpb56i.remove(this);\n        var parent$$1 = this.parent();\n\n        if (parent$$1 && parent$$1._layout && !parent$$1._layout.isNative()) {\n          parent$$1.reflow();\n        }\n\n        return this;\n      }\n    };\n    global$2.each('text title visible disabled active value'.split(' '), function (name$$1) {\n      proto$1[name$$1] = function (value) {\n        if (arguments.length === 0) {\n          return this.state.get(name$$1);\n        }\n\n        if (typeof value !== 'undefined') {\n          this.state.set(name$$1, value);\n        }\n\n        return this;\n      };\n    });\n    Control = global$10.extend(proto$1);\n\n    function getEventDispatcher(obj) {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new global$11({\n          scope: obj,\n          toggleEvent: function (name$$1, state) {\n            if (state && global$11.isNative(name$$1)) {\n              if (!obj._nativeEvents) {\n                obj._nativeEvents = {};\n              }\n\n              obj._nativeEvents[name$$1] = true;\n\n              if (obj.state.get('rendered')) {\n                bindPendingEvents(obj);\n              }\n            }\n          }\n        });\n      }\n\n      return obj._eventDispatcher;\n    }\n\n    function bindPendingEvents(eventCtrl) {\n      var i, l, parents, eventRootCtrl, nativeEvents, name$$1;\n\n      function delegate(e) {\n        var control = eventCtrl.getParentCtrl(e.target);\n\n        if (control) {\n          control.fire(e.type, e);\n        }\n      }\n\n      function mouseLeaveHandler() {\n        var ctrl = eventRootCtrl._lastHoverCtrl;\n\n        if (ctrl) {\n          ctrl.fire('mouseleave', {\n            target: ctrl.getEl()\n          });\n          ctrl.parents().each(function (ctrl) {\n            ctrl.fire('mouseleave', {\n              target: ctrl.getEl()\n            });\n          });\n          eventRootCtrl._lastHoverCtrl = null;\n        }\n      }\n\n      function mouseEnterHandler(e) {\n        var ctrl = eventCtrl.getParentCtrl(e.target),\n            lastCtrl = eventRootCtrl._lastHoverCtrl,\n            idx = 0,\n            i,\n            parents,\n            lastParents;\n\n        if (ctrl !== lastCtrl) {\n          eventRootCtrl._lastHoverCtrl = ctrl;\n          parents = ctrl.parents().toArray().reverse();\n          parents.push(ctrl);\n\n          if (lastCtrl) {\n            lastParents = lastCtrl.parents().toArray().reverse();\n            lastParents.push(lastCtrl);\n\n            for (idx = 0; idx < lastParents.length; idx++) {\n              if (parents[idx] !== lastParents[idx]) {\n                break;\n              }\n            }\n\n            for (i = lastParents.length - 1; i >= idx; i--) {\n              lastCtrl = lastParents[i];\n              lastCtrl.fire('mouseleave', {\n                target: lastCtrl.getEl()\n              });\n            }\n          }\n\n          for (i = idx; i < parents.length; i++) {\n            ctrl = parents[i];\n            ctrl.fire('mouseenter', {\n              target: ctrl.getEl()\n            });\n          }\n        }\n      }\n\n      function fixWheelEvent(e) {\n        e.preventDefault();\n\n        if (e.type === 'mousewheel') {\n          e.deltaY = -1 / 40 * e.wheelDelta;\n\n          if (e.wheelDeltaX) {\n            e.deltaX = -1 / 40 * e.wheelDeltaX;\n          }\n        } else {\n          e.deltaX = 0;\n          e.deltaY = e.detail;\n        }\n\n        e = eventCtrl.fire('wheel', e);\n      }\n\n      nativeEvents = eventCtrl._nativeEvents;\n\n      if (nativeEvents) {\n        parents = eventCtrl.parents().toArray();\n        parents.unshift(eventCtrl);\n\n        for (i = 0, l = parents.length; !eventRootCtrl && i < l; i++) {\n          eventRootCtrl = parents[i]._eventsRoot;\n        }\n\n        if (!eventRootCtrl) {\n          eventRootCtrl = parents[parents.length - 1] || eventCtrl;\n        }\n\n        eventCtrl._eventsRoot = eventRootCtrl;\n\n        for (l = i, i = 0; i < l; i++) {\n          parents[i]._eventsRoot = eventRootCtrl;\n        }\n\n        var eventRootDelegates = eventRootCtrl._delegates;\n\n        if (!eventRootDelegates) {\n          eventRootDelegates = eventRootCtrl._delegates = {};\n        }\n\n        for (name$$1 in nativeEvents) {\n          if (!nativeEvents) {\n            return false;\n          }\n\n          if (name$$1 === 'wheel' && !hasWheelEventSupport) {\n            if (hasMouseWheelEventSupport) {\n              global$9(eventCtrl.getEl()).on('mousewheel', fixWheelEvent);\n            } else {\n              global$9(eventCtrl.getEl()).on('DOMMouseScroll', fixWheelEvent);\n            }\n\n            continue;\n          }\n\n          if (name$$1 === 'mouseenter' || name$$1 === 'mouseleave') {\n            if (!eventRootCtrl._hasMouseEnter) {\n              global$9(eventRootCtrl.getEl()).on('mouseleave', mouseLeaveHandler).on('mouseover', mouseEnterHandler);\n              eventRootCtrl._hasMouseEnter = 1;\n            }\n          } else if (!eventRootDelegates[name$$1]) {\n            global$9(eventRootCtrl.getEl()).on(name$$1, delegate);\n            eventRootDelegates[name$$1] = true;\n          }\n\n          nativeEvents[name$$1] = false;\n        }\n      }\n    }\n\n    var Control$1 = Control;\n\n    var hasTabstopData = function (elm) {\n      return elm.getAttribute('data-mce-tabstop') ? true : false;\n    };\n\n    function KeyboardNavigation(settings) {\n      var root = settings.root;\n      var focusedElement, focusedControl;\n\n      function isElement(node) {\n        return node && node.nodeType === 1;\n      }\n\n      try {\n        focusedElement = document.activeElement;\n      } catch (ex) {\n        focusedElement = document.body;\n      }\n\n      focusedControl = root.getParentCtrl(focusedElement);\n\n      function getRole(elm) {\n        elm = elm || focusedElement;\n\n        if (isElement(elm)) {\n          return elm.getAttribute('role');\n        }\n\n        return null;\n      }\n\n      function getParentRole(elm) {\n        var role,\n            parent$$1 = elm || focusedElement;\n\n        while (parent$$1 = parent$$1.parentNode) {\n          if (role = getRole(parent$$1)) {\n            return role;\n          }\n        }\n      }\n\n      function getAriaProp(name$$1) {\n        var elm = focusedElement;\n\n        if (isElement(elm)) {\n          return elm.getAttribute('aria-' + name$$1);\n        }\n      }\n\n      function isTextInputElement(elm) {\n        var tagName = elm.tagName.toUpperCase();\n        return tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT';\n      }\n\n      function canFocus(elm) {\n        if (isTextInputElement(elm) && !elm.hidden) {\n          return true;\n        }\n\n        if (hasTabstopData(elm)) {\n          return true;\n        }\n\n        if (/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(elm))) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function getFocusElements(elm) {\n        var elements = [];\n\n        function collect(elm) {\n          if (elm.nodeType !== 1 || elm.style.display === 'none' || elm.disabled) {\n            return;\n          }\n\n          if (canFocus(elm)) {\n            elements.push(elm);\n          }\n\n          for (var i = 0; i < elm.childNodes.length; i++) {\n            collect(elm.childNodes[i]);\n          }\n        }\n\n        collect(elm || root.getEl());\n        return elements;\n      }\n\n      function getNavigationRoot(targetControl) {\n        var navigationRoot, controls;\n        targetControl = targetControl || focusedControl;\n        controls = targetControl.parents().toArray();\n        controls.unshift(targetControl);\n\n        for (var i = 0; i < controls.length; i++) {\n          navigationRoot = controls[i];\n\n          if (navigationRoot.settings.ariaRoot) {\n            break;\n          }\n        }\n\n        return navigationRoot;\n      }\n\n      function focusFirst(targetControl) {\n        var navigationRoot = getNavigationRoot(targetControl);\n        var focusElements = getFocusElements(navigationRoot.getEl());\n\n        if (navigationRoot.settings.ariaRemember && 'lastAriaIndex' in navigationRoot) {\n          moveFocusToIndex(navigationRoot.lastAriaIndex, focusElements);\n        } else {\n          moveFocusToIndex(0, focusElements);\n        }\n      }\n\n      function moveFocusToIndex(idx, elements) {\n        if (idx < 0) {\n          idx = elements.length - 1;\n        } else if (idx >= elements.length) {\n          idx = 0;\n        }\n\n        if (elements[idx]) {\n          elements[idx].focus();\n        }\n\n        return idx;\n      }\n\n      function moveFocus(dir, elements) {\n        var idx = -1;\n        var navigationRoot = getNavigationRoot();\n        elements = elements || getFocusElements(navigationRoot.getEl());\n\n        for (var i = 0; i < elements.length; i++) {\n          if (elements[i] === focusedElement) {\n            idx = i;\n          }\n        }\n\n        idx += dir;\n        navigationRoot.lastAriaIndex = moveFocusToIndex(idx, elements);\n      }\n\n      function left() {\n        var parentRole = getParentRole();\n\n        if (parentRole === 'tablist') {\n          moveFocus(-1, getFocusElements(focusedElement.parentNode));\n        } else if (focusedControl.parent().submenu) {\n          cancel();\n        } else {\n          moveFocus(-1);\n        }\n      }\n\n      function right() {\n        var role = getRole(),\n            parentRole = getParentRole();\n\n        if (parentRole === 'tablist') {\n          moveFocus(1, getFocusElements(focusedElement.parentNode));\n        } else if (role === 'menuitem' && parentRole === 'menu' && getAriaProp('haspopup')) {\n          enter();\n        } else {\n          moveFocus(1);\n        }\n      }\n\n      function up() {\n        moveFocus(-1);\n      }\n\n      function down() {\n        var role = getRole(),\n            parentRole = getParentRole();\n\n        if (role === 'menuitem' && parentRole === 'menubar') {\n          enter();\n        } else if (role === 'button' && getAriaProp('haspopup')) {\n          enter({\n            key: 'down'\n          });\n        } else {\n          moveFocus(1);\n        }\n      }\n\n      function tab(e) {\n        var parentRole = getParentRole();\n\n        if (parentRole === 'tablist') {\n          var elm = getFocusElements(focusedControl.getEl('body'))[0];\n\n          if (elm) {\n            elm.focus();\n          }\n        } else {\n          moveFocus(e.shiftKey ? -1 : 1);\n        }\n      }\n\n      function cancel() {\n        focusedControl.fire('cancel');\n      }\n\n      function enter(aria) {\n        aria = aria || {};\n        focusedControl.fire('click', {\n          target: focusedElement,\n          aria: aria\n        });\n      }\n\n      root.on('keydown', function (e) {\n        function handleNonTabOrEscEvent(e, handler) {\n          if (isTextInputElement(focusedElement) || hasTabstopData(focusedElement)) {\n            return;\n          }\n\n          if (getRole(focusedElement) === 'slider') {\n            return;\n          }\n\n          if (handler(e) !== false) {\n            e.preventDefault();\n          }\n        }\n\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n\n        switch (e.keyCode) {\n          case 37:\n            handleNonTabOrEscEvent(e, left);\n            break;\n\n          case 39:\n            handleNonTabOrEscEvent(e, right);\n            break;\n\n          case 38:\n            handleNonTabOrEscEvent(e, up);\n            break;\n\n          case 40:\n            handleNonTabOrEscEvent(e, down);\n            break;\n\n          case 27:\n            cancel();\n            break;\n\n          case 14:\n          case 13:\n          case 32:\n            handleNonTabOrEscEvent(e, enter);\n            break;\n\n          case 9:\n            tab(e);\n            e.preventDefault();\n            break;\n        }\n      });\n      root.on('focusin', function (e) {\n        focusedElement = e.target;\n        focusedControl = e.control;\n      });\n      return {\n        focusFirst: focusFirst\n      };\n    }\n\n    var selectorCache = {};\n    var Container = Control$1.extend({\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        settings = self.settings;\n\n        if (settings.fixed) {\n          self.state.set('fixed', true);\n        }\n\n        self._items = new Collection$2();\n\n        if (self.isRtl()) {\n          self.classes.add('rtl');\n        }\n\n        self.bodyClasses = new ClassList(function () {\n          if (self.state.get('rendered')) {\n            self.getEl('body').className = this.toString();\n          }\n        });\n        self.bodyClasses.prefix = self.classPrefix;\n        self.classes.add('container');\n        self.bodyClasses.add('container-body');\n\n        if (settings.containerCls) {\n          self.classes.add(settings.containerCls);\n        }\n\n        self._layout = global$4.create((settings.layout || '') + 'layout');\n\n        if (self.settings.items) {\n          self.add(self.settings.items);\n        } else {\n          self.add(self.render());\n        }\n\n        self._hasBody = true;\n      },\n      items: function () {\n        return this._items;\n      },\n      find: function (selector) {\n        selector = selectorCache[selector] = selectorCache[selector] || new Selector(selector);\n        return selector.find(this);\n      },\n      add: function (items) {\n        var self = this;\n        self.items().add(self.create(items)).parent(self);\n        return self;\n      },\n      focus: function (keyboard) {\n        var self = this;\n        var focusCtrl, keyboardNav, items;\n\n        if (keyboard) {\n          keyboardNav = self.keyboardNav || self.parents().eq(-1)[0].keyboardNav;\n\n          if (keyboardNav) {\n            keyboardNav.focusFirst(self);\n            return;\n          }\n        }\n\n        items = self.find('*');\n\n        if (self.statusbar) {\n          items.add(self.statusbar.items());\n        }\n\n        items.each(function (ctrl) {\n          if (ctrl.settings.autofocus) {\n            focusCtrl = null;\n            return false;\n          }\n\n          if (ctrl.canFocus) {\n            focusCtrl = focusCtrl || ctrl;\n          }\n        });\n\n        if (focusCtrl) {\n          focusCtrl.focus();\n        }\n\n        return self;\n      },\n      replace: function (oldItem, newItem) {\n        var ctrlElm;\n        var items = this.items();\n        var i = items.length;\n\n        while (i--) {\n          if (items[i] === oldItem) {\n            items[i] = newItem;\n            break;\n          }\n        }\n\n        if (i >= 0) {\n          ctrlElm = newItem.getEl();\n\n          if (ctrlElm) {\n            ctrlElm.parentNode.removeChild(ctrlElm);\n          }\n\n          ctrlElm = oldItem.getEl();\n\n          if (ctrlElm) {\n            ctrlElm.parentNode.removeChild(ctrlElm);\n          }\n        }\n\n        newItem.parent(this);\n      },\n      create: function (items) {\n        var self = this;\n        var settings;\n        var ctrlItems = [];\n\n        if (!global$2.isArray(items)) {\n          items = [items];\n        }\n\n        global$2.each(items, function (item) {\n          if (item) {\n            if (!(item instanceof Control$1)) {\n              if (typeof item === 'string') {\n                item = {\n                  type: item\n                };\n              }\n\n              settings = global$2.extend({}, self.settings.defaults, item);\n              item.type = settings.type = settings.type || item.type || self.settings.defaultType || (settings.defaults ? settings.defaults.type : null);\n              item = global$4.create(settings);\n            }\n\n            ctrlItems.push(item);\n          }\n        });\n        return ctrlItems;\n      },\n      renderNew: function () {\n        var self = this;\n        self.items().each(function (ctrl, index) {\n          var containerElm;\n          ctrl.parent(self);\n\n          if (!ctrl.state.get('rendered')) {\n            containerElm = self.getEl('body');\n\n            if (containerElm.hasChildNodes() && index <= containerElm.childNodes.length - 1) {\n              global$9(containerElm.childNodes[index]).before(ctrl.renderHtml());\n            } else {\n              global$9(containerElm).append(ctrl.renderHtml());\n            }\n\n            ctrl.postRender();\n            $_6dtmktuzjnlpb56i.add(ctrl);\n          }\n        });\n\n        self._layout.applyClasses(self.items().filter(':visible'));\n\n        self._lastRect = null;\n        return self;\n      },\n      append: function (items) {\n        return this.add(items).renderNew();\n      },\n      prepend: function (items) {\n        var self = this;\n        self.items().set(self.create(items).concat(self.items().toArray()));\n        return self.renderNew();\n      },\n      insert: function (items, index, before) {\n        var self = this;\n        var curItems, beforeItems, afterItems;\n        items = self.create(items);\n        curItems = self.items();\n\n        if (!before && index < curItems.length - 1) {\n          index += 1;\n        }\n\n        if (index >= 0 && index < curItems.length) {\n          beforeItems = curItems.slice(0, index).toArray();\n          afterItems = curItems.slice(index).toArray();\n          curItems.set(beforeItems.concat(items, afterItems));\n        }\n\n        return self.renderNew();\n      },\n      fromJSON: function (data) {\n        var self = this;\n\n        for (var name in data) {\n          self.find('#' + name).value(data[name]);\n        }\n\n        return self;\n      },\n      toJSON: function () {\n        var self = this,\n            data = {};\n        self.find('*').each(function (ctrl) {\n          var name = ctrl.name(),\n              value = ctrl.value();\n\n          if (name && typeof value !== 'undefined') {\n            data[name] = value;\n          }\n        });\n        return data;\n      },\n      renderHtml: function () {\n        var self = this,\n            layout = self._layout,\n            role = this.settings.role;\n        self.preRender();\n        layout.preRender(self);\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (role ? ' role=\"' + this.settings.role + '\"' : '') + '>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        var box;\n        self.items().exec('postRender');\n\n        self._super();\n\n        self._layout.postRender(self);\n\n        self.state.set('rendered', true);\n\n        if (self.settings.style) {\n          self.$el.css(self.settings.style);\n        }\n\n        if (self.settings.border) {\n          box = self.borderBox;\n          self.$el.css({\n            'border-top-width': box.top,\n            'border-right-width': box.right,\n            'border-bottom-width': box.bottom,\n            'border-left-width': box.left\n          });\n        }\n\n        if (!self.parent()) {\n          self.keyboardNav = KeyboardNavigation({\n            root: self\n          });\n        }\n\n        return self;\n      },\n      initLayoutRect: function () {\n        var self = this,\n            layoutRect = self._super();\n\n        self._layout.recalc(self);\n\n        return layoutRect;\n      },\n      recalc: function () {\n        var self = this;\n        var rect = self._layoutRect;\n        var lastRect = self._lastRect;\n\n        if (!lastRect || lastRect.w !== rect.w || lastRect.h !== rect.h) {\n          self._layout.recalc(self);\n\n          rect = self.layoutRect();\n          self._lastRect = {\n            x: rect.x,\n            y: rect.y,\n            w: rect.w,\n            h: rect.h\n          };\n          return true;\n        }\n      },\n      reflow: function () {\n        var i;\n        $_6dtmktuzjnlpb56i.remove(this);\n\n        if (this.visible()) {\n          Control$1.repaintControls = [];\n          Control$1.repaintControls.map = {};\n          this.recalc();\n          i = Control$1.repaintControls.length;\n\n          while (i--) {\n            Control$1.repaintControls[i].repaint();\n          }\n\n          if (this.settings.layout !== 'flow' && this.settings.layout !== 'stack') {\n            this.repaint();\n          }\n\n          Control$1.repaintControls = [];\n        }\n\n        return this;\n      }\n    });\n\n    function getDocumentSize(doc) {\n      var documentElement, body, scrollWidth, clientWidth;\n      var offsetWidth, scrollHeight, clientHeight, offsetHeight;\n      var max = Math.max;\n      documentElement = doc.documentElement;\n      body = doc.body;\n      scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n      clientWidth = max(documentElement.clientWidth, body.clientWidth);\n      offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n      scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n      clientHeight = max(documentElement.clientHeight, body.clientHeight);\n      offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n      return {\n        width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n        height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n      };\n    }\n\n    function updateWithTouchData(e) {\n      var keys, i;\n\n      if (e.changedTouches) {\n        keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n\n        for (i = 0; i < keys.length; i++) {\n          e[keys[i]] = e.changedTouches[0][keys[i]];\n        }\n      }\n    }\n\n    function DragHelper(id, settings) {\n      var $eventOverlay;\n      var doc = settings.document || document;\n      var downButton;\n      var start, stop$$1, drag, startX, startY;\n      settings = settings || {};\n      var handleElement = doc.getElementById(settings.handle || id);\n\n      start = function (e) {\n        var docSize = getDocumentSize(doc);\n        var handleElm, cursor;\n        updateWithTouchData(e);\n        e.preventDefault();\n        downButton = e.button;\n        handleElm = handleElement;\n        startX = e.screenX;\n        startY = e.screenY;\n\n        if (window.getComputedStyle) {\n          cursor = window.getComputedStyle(handleElm, null).getPropertyValue('cursor');\n        } else {\n          cursor = handleElm.runtimeStyle.cursor;\n        }\n\n        $eventOverlay = global$9('<div></div>').css({\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          width: docSize.width,\n          height: docSize.height,\n          zIndex: 2147483647,\n          opacity: 0.0001,\n          cursor: cursor\n        }).appendTo(doc.body);\n        global$9(doc).on('mousemove touchmove', drag).on('mouseup touchend', stop$$1);\n        settings.start(e);\n      };\n\n      drag = function (e) {\n        updateWithTouchData(e);\n\n        if (e.button !== downButton) {\n          return stop$$1(e);\n        }\n\n        e.deltaX = e.screenX - startX;\n        e.deltaY = e.screenY - startY;\n        e.preventDefault();\n        settings.drag(e);\n      };\n\n      stop$$1 = function (e) {\n        updateWithTouchData(e);\n        global$9(doc).off('mousemove touchmove', drag).off('mouseup touchend', stop$$1);\n        $eventOverlay.remove();\n\n        if (settings.stop) {\n          settings.stop(e);\n        }\n      };\n\n      this.destroy = function () {\n        global$9(handleElement).off();\n      };\n\n      global$9(handleElement).on('mousedown touchstart', start);\n    }\n\n    var $_2rcmydv1jnlpb56r = {\n      init: function () {\n        var self = this;\n        self.on('repaint', self.renderScroll);\n      },\n      renderScroll: function () {\n        var self = this,\n            margin = 2;\n\n        function repaintScroll() {\n          var hasScrollH, hasScrollV, bodyElm;\n\n          function repaintAxis(axisName, posName, sizeName, contentSizeName, hasScroll, ax) {\n            var containerElm, scrollBarElm, scrollThumbElm;\n            var containerSize, scrollSize, ratio, rect;\n            var posNameLower, sizeNameLower;\n            scrollBarElm = self.getEl('scroll' + axisName);\n\n            if (scrollBarElm) {\n              posNameLower = posName.toLowerCase();\n              sizeNameLower = sizeName.toLowerCase();\n              global$9(self.getEl('absend')).css(posNameLower, self.layoutRect()[contentSizeName] - 1);\n\n              if (!hasScroll) {\n                global$9(scrollBarElm).css('display', 'none');\n                return;\n              }\n\n              global$9(scrollBarElm).css('display', 'block');\n              containerElm = self.getEl('body');\n              scrollThumbElm = self.getEl('scroll' + axisName + 't');\n              containerSize = containerElm['client' + sizeName] - margin * 2;\n              containerSize -= hasScrollH && hasScrollV ? scrollBarElm['client' + ax] : 0;\n              scrollSize = containerElm['scroll' + sizeName];\n              ratio = containerSize / scrollSize;\n              rect = {};\n              rect[posNameLower] = containerElm['offset' + posName] + margin;\n              rect[sizeNameLower] = containerSize;\n              global$9(scrollBarElm).css(rect);\n              rect = {};\n              rect[posNameLower] = containerElm['scroll' + posName] * ratio;\n              rect[sizeNameLower] = containerSize * ratio;\n              global$9(scrollThumbElm).css(rect);\n            }\n          }\n\n          bodyElm = self.getEl('body');\n          hasScrollH = bodyElm.scrollWidth > bodyElm.clientWidth;\n          hasScrollV = bodyElm.scrollHeight > bodyElm.clientHeight;\n          repaintAxis('h', 'Left', 'Width', 'contentW', hasScrollH, 'Height');\n          repaintAxis('v', 'Top', 'Height', 'contentH', hasScrollV, 'Width');\n        }\n\n        function addScroll() {\n          function addScrollAxis(axisName, posName, sizeName, deltaPosName, ax) {\n            var scrollStart;\n            var axisId = self._id + '-scroll' + axisName,\n                prefix = self.classPrefix;\n            global$9(self.getEl()).append('<div id=\"' + axisId + '\" class=\"' + prefix + 'scrollbar ' + prefix + 'scrollbar-' + axisName + '\">' + '<div id=\"' + axisId + 't\" class=\"' + prefix + 'scrollbar-thumb\"></div>' + '</div>');\n            self.draghelper = new DragHelper(axisId + 't', {\n              start: function () {\n                scrollStart = self.getEl('body')['scroll' + posName];\n                global$9('#' + axisId).addClass(prefix + 'active');\n              },\n              drag: function (e) {\n                var ratio, hasScrollH, hasScrollV, containerSize;\n                var layoutRect = self.layoutRect();\n                hasScrollH = layoutRect.contentW > layoutRect.innerW;\n                hasScrollV = layoutRect.contentH > layoutRect.innerH;\n                containerSize = self.getEl('body')['client' + sizeName] - margin * 2;\n                containerSize -= hasScrollH && hasScrollV ? self.getEl('scroll' + axisName)['client' + ax] : 0;\n                ratio = containerSize / self.getEl('body')['scroll' + sizeName];\n                self.getEl('body')['scroll' + posName] = scrollStart + e['delta' + deltaPosName] / ratio;\n              },\n              stop: function () {\n                global$9('#' + axisId).removeClass(prefix + 'active');\n              }\n            });\n          }\n\n          self.classes.add('scroll');\n          addScrollAxis('v', 'Top', 'Height', 'Y', 'Width');\n          addScrollAxis('h', 'Left', 'Width', 'X', 'Height');\n        }\n\n        if (self.settings.autoScroll) {\n          if (!self._hasScroll) {\n            self._hasScroll = true;\n            addScroll();\n            self.on('wheel', function (e) {\n              var bodyEl = self.getEl('body');\n              bodyEl.scrollLeft += (e.deltaX || 0) * 10;\n              bodyEl.scrollTop += e.deltaY * 10;\n              repaintScroll();\n            });\n            global$9(self.getEl('body')).on('scroll', repaintScroll);\n          }\n\n          repaintScroll();\n        }\n      }\n    };\n    var Panel = Container.extend({\n      Defaults: {\n        layout: 'fit',\n        containerCls: 'panel'\n      },\n      Mixins: [$_2rcmydv1jnlpb56r],\n      renderHtml: function () {\n        var self = this;\n        var layout = self._layout;\n        var innerHtml = self.settings.html;\n        self.preRender();\n        layout.preRender(self);\n\n        if (typeof innerHtml === 'undefined') {\n          innerHtml = '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>';\n        } else {\n          if (typeof innerHtml === 'function') {\n            innerHtml = innerHtml.call(self);\n          }\n\n          self._hasBody = false;\n        }\n\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\" role=\"group\">' + (self._preBodyHtml || '') + innerHtml + '</div>';\n      }\n    });\n    var $_f2nebnv3jnlpb56x = {\n      resizeToContent: function () {\n        this._layoutRect.autoResize = true;\n        this._lastRect = null;\n        this.reflow();\n      },\n      resizeTo: function (w, h) {\n        if (w <= 1 || h <= 1) {\n          var rect = funcs.getWindowSize();\n          w = w <= 1 ? w * rect.w : w;\n          h = h <= 1 ? h * rect.h : h;\n        }\n\n        this._layoutRect.autoResize = false;\n        return this.layoutRect({\n          minW: w,\n          minH: h,\n          w: w,\n          h: h\n        }).reflow();\n      },\n      resizeBy: function (dw, dh) {\n        var self = this,\n            rect = self.layoutRect();\n        return self.resizeTo(rect.w + dw, rect.h + dh);\n      }\n    };\n    var documentClickHandler;\n    var documentScrollHandler;\n    var windowResizeHandler;\n    var visiblePanels = [];\n    var zOrder = [];\n    var hasModal;\n\n    function isChildOf(ctrl, parent$$1) {\n      while (ctrl) {\n        if (ctrl === parent$$1) {\n          return true;\n        }\n\n        ctrl = ctrl.parent();\n      }\n    }\n\n    function skipOrHidePanels(e) {\n      var i = visiblePanels.length;\n\n      while (i--) {\n        var panel = visiblePanels[i],\n            clickCtrl = panel.getParentCtrl(e.target);\n\n        if (panel.settings.autohide) {\n          if (clickCtrl) {\n            if (isChildOf(clickCtrl, panel) || panel.parent() === clickCtrl) {\n              continue;\n            }\n          }\n\n          e = panel.fire('autohide', {\n            target: e.target\n          });\n\n          if (!e.isDefaultPrevented()) {\n            panel.hide();\n          }\n        }\n      }\n    }\n\n    function bindDocumentClickHandler() {\n      if (!documentClickHandler) {\n        documentClickHandler = function (e) {\n          if (e.button === 2) {\n            return;\n          }\n\n          skipOrHidePanels(e);\n        };\n\n        global$9(document).on('click touchstart', documentClickHandler);\n      }\n    }\n\n    function bindDocumentScrollHandler() {\n      if (!documentScrollHandler) {\n        documentScrollHandler = function () {\n          var i;\n          i = visiblePanels.length;\n\n          while (i--) {\n            repositionPanel(visiblePanels[i]);\n          }\n        };\n\n        global$9(window).on('scroll', documentScrollHandler);\n      }\n    }\n\n    function bindWindowResizeHandler() {\n      if (!windowResizeHandler) {\n        var docElm_1 = document.documentElement;\n        var clientWidth_1 = docElm_1.clientWidth,\n            clientHeight_1 = docElm_1.clientHeight;\n\n        windowResizeHandler = function () {\n          if (!document.all || clientWidth_1 !== docElm_1.clientWidth || clientHeight_1 !== docElm_1.clientHeight) {\n            clientWidth_1 = docElm_1.clientWidth;\n            clientHeight_1 = docElm_1.clientHeight;\n            FloatPanel.hideAll();\n          }\n        };\n\n        global$9(window).on('resize', windowResizeHandler);\n      }\n    }\n\n    function repositionPanel(panel) {\n      var scrollY$$1 = funcs.getViewPort().y;\n\n      function toggleFixedChildPanels(fixed, deltaY) {\n        var parent$$1;\n\n        for (var i = 0; i < visiblePanels.length; i++) {\n          if (visiblePanels[i] !== panel) {\n            parent$$1 = visiblePanels[i].parent();\n\n            while (parent$$1 && (parent$$1 = parent$$1.parent())) {\n              if (parent$$1 === panel) {\n                visiblePanels[i].fixed(fixed).moveBy(0, deltaY).repaint();\n              }\n            }\n          }\n        }\n      }\n\n      if (panel.settings.autofix) {\n        if (!panel.state.get('fixed')) {\n          panel._autoFixY = panel.layoutRect().y;\n\n          if (panel._autoFixY < scrollY$$1) {\n            panel.fixed(true).layoutRect({\n              y: 0\n            }).repaint();\n            toggleFixedChildPanels(true, scrollY$$1 - panel._autoFixY);\n          }\n        } else {\n          if (panel._autoFixY > scrollY$$1) {\n            panel.fixed(false).layoutRect({\n              y: panel._autoFixY\n            }).repaint();\n            toggleFixedChildPanels(false, panel._autoFixY - scrollY$$1);\n          }\n        }\n      }\n    }\n\n    function addRemove(add, ctrl) {\n      var i,\n          zIndex = FloatPanel.zIndex || 65535,\n          topModal;\n\n      if (add) {\n        zOrder.push(ctrl);\n      } else {\n        i = zOrder.length;\n\n        while (i--) {\n          if (zOrder[i] === ctrl) {\n            zOrder.splice(i, 1);\n          }\n        }\n      }\n\n      if (zOrder.length) {\n        for (i = 0; i < zOrder.length; i++) {\n          if (zOrder[i].modal) {\n            zIndex++;\n            topModal = zOrder[i];\n          }\n\n          zOrder[i].getEl().style.zIndex = zIndex;\n          zOrder[i].zIndex = zIndex;\n          zIndex++;\n        }\n      }\n\n      var modalBlockEl = global$9('#' + ctrl.classPrefix + 'modal-block', ctrl.getContainerElm())[0];\n\n      if (topModal) {\n        global$9(modalBlockEl).css('z-index', topModal.zIndex - 1);\n      } else if (modalBlockEl) {\n        modalBlockEl.parentNode.removeChild(modalBlockEl);\n        hasModal = false;\n      }\n\n      FloatPanel.currentZIndex = zIndex;\n    }\n\n    var FloatPanel = Panel.extend({\n      Mixins: [$_9hbasgumjnlpb54u, $_f2nebnv3jnlpb56x],\n      init: function (settings) {\n        var self$$1 = this;\n\n        self$$1._super(settings);\n\n        self$$1._eventsRoot = self$$1;\n        self$$1.classes.add('floatpanel');\n\n        if (settings.autohide) {\n          bindDocumentClickHandler();\n          bindWindowResizeHandler();\n          visiblePanels.push(self$$1);\n        }\n\n        if (settings.autofix) {\n          bindDocumentScrollHandler();\n          self$$1.on('move', function () {\n            repositionPanel(this);\n          });\n        }\n\n        self$$1.on('postrender show', function (e) {\n          if (e.control === self$$1) {\n            var $modalBlockEl_1;\n            var prefix_1 = self$$1.classPrefix;\n\n            if (self$$1.modal && !hasModal) {\n              $modalBlockEl_1 = global$9('#' + prefix_1 + 'modal-block', self$$1.getContainerElm());\n\n              if (!$modalBlockEl_1[0]) {\n                $modalBlockEl_1 = global$9('<div id=\"' + prefix_1 + 'modal-block\" class=\"' + prefix_1 + 'reset ' + prefix_1 + 'fade\"></div>').appendTo(self$$1.getContainerElm());\n              }\n\n              global$7.setTimeout(function () {\n                $modalBlockEl_1.addClass(prefix_1 + 'in');\n                global$9(self$$1.getEl()).addClass(prefix_1 + 'in');\n              });\n              hasModal = true;\n            }\n\n            addRemove(true, self$$1);\n          }\n        });\n        self$$1.on('show', function () {\n          self$$1.parents().each(function (ctrl) {\n            if (ctrl.state.get('fixed')) {\n              self$$1.fixed(true);\n              return false;\n            }\n          });\n        });\n\n        if (settings.popover) {\n          self$$1._preBodyHtml = '<div class=\"' + self$$1.classPrefix + 'arrow\"></div>';\n          self$$1.classes.add('popover').add('bottom').add(self$$1.isRtl() ? 'end' : 'start');\n        }\n\n        self$$1.aria('label', settings.ariaLabel);\n        self$$1.aria('labelledby', self$$1._id);\n        self$$1.aria('describedby', self$$1.describedBy || self$$1._id + '-none');\n      },\n      fixed: function (state) {\n        var self$$1 = this;\n\n        if (self$$1.state.get('fixed') !== state) {\n          if (self$$1.state.get('rendered')) {\n            var viewport = funcs.getViewPort();\n\n            if (state) {\n              self$$1.layoutRect().y -= viewport.y;\n            } else {\n              self$$1.layoutRect().y += viewport.y;\n            }\n          }\n\n          self$$1.classes.toggle('fixed', state);\n          self$$1.state.set('fixed', state);\n        }\n\n        return self$$1;\n      },\n      show: function () {\n        var self$$1 = this;\n        var i;\n\n        var state = self$$1._super();\n\n        i = visiblePanels.length;\n\n        while (i--) {\n          if (visiblePanels[i] === self$$1) {\n            break;\n          }\n        }\n\n        if (i === -1) {\n          visiblePanels.push(self$$1);\n        }\n\n        return state;\n      },\n      hide: function () {\n        removeVisiblePanel(this);\n        addRemove(false, this);\n        return this._super();\n      },\n      hideAll: function () {\n        FloatPanel.hideAll();\n      },\n      close: function () {\n        var self$$1 = this;\n\n        if (!self$$1.fire('close').isDefaultPrevented()) {\n          self$$1.remove();\n          addRemove(false, self$$1);\n        }\n\n        return self$$1;\n      },\n      remove: function () {\n        removeVisiblePanel(this);\n\n        this._super();\n      },\n      postRender: function () {\n        var self$$1 = this;\n\n        if (self$$1.settings.bodyRole) {\n          this.getEl('body').setAttribute('role', self$$1.settings.bodyRole);\n        }\n\n        return self$$1._super();\n      }\n    });\n\n    FloatPanel.hideAll = function () {\n      var i = visiblePanels.length;\n\n      while (i--) {\n        var panel = visiblePanels[i];\n\n        if (panel && panel.settings.autohide) {\n          panel.hide();\n          visiblePanels.splice(i, 1);\n        }\n      }\n    };\n\n    function removeVisiblePanel(panel) {\n      var i;\n      i = visiblePanels.length;\n\n      while (i--) {\n        if (visiblePanels[i] === panel) {\n          visiblePanels.splice(i, 1);\n        }\n      }\n\n      i = zOrder.length;\n\n      while (i--) {\n        if (zOrder[i] === panel) {\n          zOrder.splice(i, 1);\n        }\n      }\n    }\n\n    var isFixed$1 = function (inlineToolbarContainer, editor) {\n      return !!(inlineToolbarContainer && !editor.settings.ui_container);\n    };\n\n    var render$1 = function (editor, theme, args) {\n      var panel, inlineToolbarContainer;\n      var DOM = global$3.DOM;\n      var fixedToolbarContainer = getFixedToolbarContainer(editor);\n\n      if (fixedToolbarContainer) {\n        inlineToolbarContainer = DOM.select(fixedToolbarContainer)[0];\n      }\n\n      var reposition = function () {\n        if (panel && panel.moveRel && panel.visible() && !panel._fixed) {\n          var scrollContainer = editor.selection.getScrollContainer(),\n              body = editor.getBody();\n          var deltaX = 0,\n              deltaY = 0;\n\n          if (scrollContainer) {\n            var bodyPos = DOM.getPos(body),\n                scrollContainerPos = DOM.getPos(scrollContainer);\n            deltaX = Math.max(0, scrollContainerPos.x - bodyPos.x);\n            deltaY = Math.max(0, scrollContainerPos.y - bodyPos.y);\n          }\n\n          panel.fixed(false).moveRel(body, editor.rtl ? ['tr-br', 'br-tr'] : ['tl-bl', 'bl-tl', 'tr-br']).moveBy(deltaX, deltaY);\n        }\n      };\n\n      var show = function () {\n        if (panel) {\n          panel.show();\n          reposition();\n          DOM.addClass(editor.getBody(), 'mce-edit-focus');\n        }\n      };\n\n      var hide = function () {\n        if (panel) {\n          panel.hide();\n          FloatPanel.hideAll();\n          DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n        }\n      };\n\n      var render = function () {\n        if (panel) {\n          if (!panel.visible()) {\n            show();\n          }\n\n          return;\n        }\n\n        panel = theme.panel = global$4.create({\n          type: inlineToolbarContainer ? 'panel' : 'floatpanel',\n          role: 'application',\n          classes: 'tinymce tinymce-inline',\n          layout: 'flex',\n          direction: 'column',\n          align: 'stretch',\n          autohide: false,\n          autofix: true,\n          fixed: isFixed$1(inlineToolbarContainer, editor),\n          border: 1,\n          items: [hasMenubar(editor) === false ? null : {\n            type: 'menubar',\n            border: '0 0 1 0',\n            items: $_bt6b25uajnlpb53b.createMenuButtons(editor)\n          }, $_cqt2pxu9jnlpb538.createToolbars(editor, getToolbarSize(editor))]\n        });\n        $_4ygtt4u6jnlpb52y.setUiContainer(editor, panel);\n        $_byi2i4u1jnlpb52o.fireBeforeRenderUI(editor);\n\n        if (inlineToolbarContainer) {\n          panel.renderTo(inlineToolbarContainer).reflow();\n        } else {\n          panel.renderTo().reflow();\n        }\n\n        $_6kcut5u2jnlpb52p.addKeys(editor, panel);\n        show();\n        $_6dgfu4u3jnlpb52s.addContextualToolbars(editor);\n        editor.on('nodeChange', reposition);\n        editor.on('ResizeWindow', reposition);\n        editor.on('activate', show);\n        editor.on('deactivate', hide);\n        editor.nodeChanged();\n      };\n\n      editor.settings.content_editable = true;\n      editor.on('focus', function () {\n        if (isSkinDisabled(editor) === false && args.skinUiCss) {\n          DOM.styleSheetLoader.load(args.skinUiCss, render, render);\n        } else {\n          render();\n        }\n      });\n      editor.on('blur hide', hide);\n      editor.on('remove', function () {\n        if (panel) {\n          panel.remove();\n          panel = null;\n        }\n      });\n\n      if (isSkinDisabled(editor) === false && args.skinUiCss) {\n        DOM.styleSheetLoader.load(args.skinUiCss, $_2vr92vugjnlpb542.fireSkinLoaded(editor));\n      } else {\n        $_2vr92vugjnlpb542.fireSkinLoaded(editor)();\n      }\n\n      return {};\n    };\n\n    var $_1sdv25uhjnlpb543 = {\n      render: render$1\n    };\n\n    function Throbber(elm, inline) {\n      var self = this;\n      var state;\n      var classPrefix = Control$1.classPrefix;\n      var timer;\n\n      self.show = function (time, callback) {\n        function render() {\n          if (state) {\n            global$9(elm).append('<div class=\"' + classPrefix + 'throbber' + (inline ? ' ' + classPrefix + 'throbber-inline' : '') + '\"></div>');\n\n            if (callback) {\n              callback();\n            }\n          }\n        }\n\n        self.hide();\n        state = true;\n\n        if (time) {\n          timer = global$7.setTimeout(render, time);\n        } else {\n          render();\n        }\n\n        return self;\n      };\n\n      self.hide = function () {\n        var child = elm.lastChild;\n        global$7.clearTimeout(timer);\n\n        if (child && child.className.indexOf('throbber') !== -1) {\n          child.parentNode.removeChild(child);\n        }\n\n        state = false;\n        return self;\n      };\n    }\n\n    var setup = function (editor, theme) {\n      var throbber;\n      editor.on('ProgressState', function (e) {\n        throbber = throbber || new Throbber(theme.panel.getEl('body'));\n\n        if (e.state) {\n          throbber.show(e.time);\n        } else {\n          throbber.hide();\n        }\n      });\n    };\n\n    var $_e94x2wv4jnlpb56z = {\n      setup: setup\n    };\n\n    var renderUI = function (editor, theme, args) {\n      var skinUrl = getSkinUrl(editor);\n\n      if (skinUrl) {\n        args.skinUiCss = skinUrl + '/skin.min.css';\n        editor.contentCSS.push(skinUrl + '/content' + (editor.inline ? '.inline' : '') + '.min.css');\n      }\n\n      $_e94x2wv4jnlpb56z.setup(editor, theme);\n      return isInline(editor) ? $_1sdv25uhjnlpb543.render(editor, theme, args) : $_2rsj5otxjnlpb52j.render(editor, theme, args);\n    };\n\n    var $_ebquldttjnlpb52d = {\n      renderUI: renderUI\n    };\n    var Tooltip = Control$1.extend({\n      Mixins: [$_9hbasgumjnlpb54u],\n      Defaults: {\n        classes: 'widget tooltip tooltip-n'\n      },\n      renderHtml: function () {\n        var self = this,\n            prefix = self.classPrefix;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" role=\"presentation\">' + '<div class=\"' + prefix + 'tooltip-arrow\"></div>' + '<div class=\"' + prefix + 'tooltip-inner\">' + self.encode(self.state.get('text')) + '</div>' + '</div>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.getEl().lastChild.innerHTML = self.encode(e.value);\n        });\n        return self._super();\n      },\n      repaint: function () {\n        var self = this;\n        var style, rect;\n        style = self.getEl().style;\n        rect = self._layoutRect;\n        style.left = rect.x + 'px';\n        style.top = rect.y + 'px';\n        style.zIndex = 65535 + 65535;\n      }\n    });\n    var Widget = Control$1.extend({\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        settings = self.settings;\n        self.canFocus = true;\n\n        if (settings.tooltip && Widget.tooltips !== false) {\n          self.on('mouseenter', function (e) {\n            var tooltip = self.tooltip().moveTo(-65535);\n\n            if (e.control === self) {\n              var rel = tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(), ['bc-tc', 'bc-tl', 'bc-tr']);\n              tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\n              tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\n              tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\n              tooltip.moveRel(self.getEl(), rel);\n            } else {\n              tooltip.hide();\n            }\n          });\n          self.on('mouseleave mousedown click', function () {\n            self.tooltip().remove();\n            self._tooltip = null;\n          });\n        }\n\n        self.aria('label', settings.ariaLabel || settings.tooltip);\n      },\n      tooltip: function () {\n        if (!this._tooltip) {\n          this._tooltip = new Tooltip({\n            type: 'tooltip'\n          });\n          $_4ygtt4u6jnlpb52y.inheritUiContainer(this, this._tooltip);\n\n          this._tooltip.renderTo();\n        }\n\n        return this._tooltip;\n      },\n      postRender: function () {\n        var self = this,\n            settings = self.settings;\n\n        self._super();\n\n        if (!self.parent() && (settings.width || settings.height)) {\n          self.initLayoutRect();\n          self.repaint();\n        }\n\n        if (settings.autofocus) {\n          self.focus();\n        }\n      },\n      bindStates: function () {\n        var self = this;\n\n        function disable(state) {\n          self.aria('disabled', state);\n          self.classes.toggle('disabled', state);\n        }\n\n        function active(state) {\n          self.aria('pressed', state);\n          self.classes.toggle('active', state);\n        }\n\n        self.state.on('change:disabled', function (e) {\n          disable(e.value);\n        });\n        self.state.on('change:active', function (e) {\n          active(e.value);\n        });\n\n        if (self.state.get('disabled')) {\n          disable(true);\n        }\n\n        if (self.state.get('active')) {\n          active(true);\n        }\n\n        return self._super();\n      },\n      remove: function () {\n        this._super();\n\n        if (this._tooltip) {\n          this._tooltip.remove();\n\n          this._tooltip = null;\n        }\n      }\n    });\n    var Progress = Widget.extend({\n      Defaults: {\n        value: 0\n      },\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        self.classes.add('progress');\n\n        if (!self.settings.filter) {\n          self.settings.filter = function (value) {\n            return Math.round(value);\n          };\n        }\n      },\n      renderHtml: function () {\n        var self = this,\n            id = self._id,\n            prefix = this.classPrefix;\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div class=\"' + prefix + 'bar-container\">' + '<div class=\"' + prefix + 'bar\"></div>' + '</div>' + '<div class=\"' + prefix + 'text\">0%</div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n\n        self._super();\n\n        self.value(self.settings.value);\n        return self;\n      },\n      bindStates: function () {\n        var self = this;\n\n        function setValue(value) {\n          value = self.settings.filter(value);\n          self.getEl().lastChild.innerHTML = value + '%';\n          self.getEl().firstChild.firstChild.style.width = value + '%';\n        }\n\n        self.state.on('change:value', function (e) {\n          setValue(e.value);\n        });\n        setValue(self.state.get('value'));\n        return self._super();\n      }\n    });\n\n    var updateLiveRegion = function (ctx, text) {\n      ctx.getEl().lastChild.textContent = text + (ctx.progressBar ? ' ' + ctx.progressBar.value() + '%' : '');\n    };\n\n    var Notification = Control$1.extend({\n      Mixins: [$_9hbasgumjnlpb54u],\n      Defaults: {\n        classes: 'widget notification'\n      },\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        self.maxWidth = settings.maxWidth;\n\n        if (settings.text) {\n          self.text(settings.text);\n        }\n\n        if (settings.icon) {\n          self.icon = settings.icon;\n        }\n\n        if (settings.color) {\n          self.color = settings.color;\n        }\n\n        if (settings.type) {\n          self.classes.add('notification-' + settings.type);\n        }\n\n        if (settings.timeout && (settings.timeout < 0 || settings.timeout > 0) && !settings.closeButton) {\n          self.closeButton = false;\n        } else {\n          self.classes.add('has-close');\n          self.closeButton = true;\n        }\n\n        if (settings.progressBar) {\n          self.progressBar = new Progress();\n        }\n\n        self.on('click', function (e) {\n          if (e.target.className.indexOf(self.classPrefix + 'close') !== -1) {\n            self.close();\n          }\n        });\n      },\n      renderHtml: function () {\n        var self = this;\n        var prefix = self.classPrefix;\n        var icon = '',\n            closeButton = '',\n            progressBar = '',\n            notificationStyle = '';\n\n        if (self.icon) {\n          icon = '<i class=\"' + prefix + 'ico' + ' ' + prefix + 'i-' + self.icon + '\"></i>';\n        }\n\n        notificationStyle = ' style=\"max-width: ' + self.maxWidth + 'px;' + (self.color ? 'background-color: ' + self.color + ';\"' : '\"');\n\n        if (self.closeButton) {\n          closeButton = '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">\\xD7</button>';\n        }\n\n        if (self.progressBar) {\n          progressBar = self.progressBar.renderHtml();\n        }\n\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + notificationStyle + ' role=\"presentation\">' + icon + '<div class=\"' + prefix + 'notification-inner\">' + self.state.get('text') + '</div>' + progressBar + closeButton + '<div style=\"clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;\"' + ' aria-live=\"assertive\" aria-relevant=\"additions\" aria-atomic=\"true\"></div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n        global$7.setTimeout(function () {\n          self.$el.addClass(self.classPrefix + 'in');\n          updateLiveRegion(self, self.state.get('text'));\n        }, 100);\n        return self._super();\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.getEl().firstChild.innerHTML = e.value;\n          updateLiveRegion(self, e.value);\n        });\n\n        if (self.progressBar) {\n          self.progressBar.bindStates();\n          self.progressBar.state.on('change:value', function (e) {\n            updateLiveRegion(self, self.state.get('text'));\n          });\n        }\n\n        return self._super();\n      },\n      close: function () {\n        var self = this;\n\n        if (!self.fire('close').isDefaultPrevented()) {\n          self.remove();\n        }\n\n        return self;\n      },\n      repaint: function () {\n        var self = this;\n        var style, rect;\n        style = self.getEl().style;\n        rect = self._layoutRect;\n        style.left = rect.x + 'px';\n        style.top = rect.y + 'px';\n        style.zIndex = 65535 - 1;\n      }\n    });\n\n    function NotificationManagerImpl(editor) {\n      var getEditorContainer = function (editor) {\n        return editor.inline ? editor.getElement() : editor.getContentAreaContainer();\n      };\n\n      var getContainerWidth = function () {\n        var container = getEditorContainer(editor);\n        return funcs.getSize(container).width;\n      };\n\n      var prePositionNotifications = function (notifications) {\n        each(notifications, function (notification) {\n          notification.moveTo(0, 0);\n        });\n      };\n\n      var positionNotifications = function (notifications) {\n        if (notifications.length > 0) {\n          var firstItem = notifications.slice(0, 1)[0];\n          var container = getEditorContainer(editor);\n          firstItem.moveRel(container, 'tc-tc');\n          each(notifications, function (notification, index) {\n            if (index > 0) {\n              notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n            }\n          });\n        }\n      };\n\n      var reposition = function (notifications) {\n        prePositionNotifications(notifications);\n        positionNotifications(notifications);\n      };\n\n      var open = function (args, closeCallback) {\n        var extendedArgs = global$2.extend(args, {\n          maxWidth: getContainerWidth()\n        });\n        var notif = new Notification(extendedArgs);\n        notif.args = extendedArgs;\n\n        if (extendedArgs.timeout > 0) {\n          notif.timer = setTimeout(function () {\n            notif.close();\n            closeCallback();\n          }, extendedArgs.timeout);\n        }\n\n        notif.on('close', function () {\n          closeCallback();\n        });\n        notif.renderTo();\n        return notif;\n      };\n\n      var close = function (notification) {\n        notification.close();\n      };\n\n      var getArgs = function (notification) {\n        return notification.args;\n      };\n\n      return {\n        open: open,\n        close: close,\n        reposition: reposition,\n        getArgs: getArgs\n      };\n    }\n\n    var windows = [];\n    var oldMetaValue = '';\n\n    function toggleFullScreenState(state) {\n      var noScaleMetaValue = 'width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0';\n      var viewport = global$9('meta[name=viewport]')[0],\n          contentValue;\n\n      if (global$8.overrideViewPort === false) {\n        return;\n      }\n\n      if (!viewport) {\n        viewport = document.createElement('meta');\n        viewport.setAttribute('name', 'viewport');\n        document.getElementsByTagName('head')[0].appendChild(viewport);\n      }\n\n      contentValue = viewport.getAttribute('content');\n\n      if (contentValue && typeof oldMetaValue !== 'undefined') {\n        oldMetaValue = contentValue;\n      }\n\n      viewport.setAttribute('content', state ? noScaleMetaValue : oldMetaValue);\n    }\n\n    function toggleBodyFullScreenClasses(classPrefix, state) {\n      if (checkFullscreenWindows() && state === false) {\n        global$9([document.documentElement, document.body]).removeClass(classPrefix + 'fullscreen');\n      }\n    }\n\n    function checkFullscreenWindows() {\n      for (var i = 0; i < windows.length; i++) {\n        if (windows[i]._fullscreen) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    function handleWindowResize() {\n      if (!global$8.desktop) {\n        var lastSize_1 = {\n          w: window.innerWidth,\n          h: window.innerHeight\n        };\n        global$7.setInterval(function () {\n          var w = window.innerWidth,\n              h = window.innerHeight;\n\n          if (lastSize_1.w !== w || lastSize_1.h !== h) {\n            lastSize_1 = {\n              w: w,\n              h: h\n            };\n            global$9(window).trigger('resize');\n          }\n        }, 100);\n      }\n\n      function reposition() {\n        var i;\n        var rect = funcs.getWindowSize();\n        var layoutRect;\n\n        for (i = 0; i < windows.length; i++) {\n          layoutRect = windows[i].layoutRect();\n          windows[i].moveTo(windows[i].settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2), windows[i].settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2));\n        }\n      }\n\n      global$9(window).on('resize', reposition);\n    }\n\n    var Window$$1 = FloatPanel.extend({\n      modal: true,\n      Defaults: {\n        border: 1,\n        layout: 'flex',\n        containerCls: 'panel',\n        role: 'dialog',\n        callbacks: {\n          submit: function () {\n            this.fire('submit', {\n              data: this.toJSON()\n            });\n          },\n          close: function () {\n            this.close();\n          }\n        }\n      },\n      init: function (settings) {\n        var self$$1 = this;\n\n        self$$1._super(settings);\n\n        if (self$$1.isRtl()) {\n          self$$1.classes.add('rtl');\n        }\n\n        self$$1.classes.add('window');\n        self$$1.bodyClasses.add('window-body');\n        self$$1.state.set('fixed', true);\n\n        if (settings.buttons) {\n          self$$1.statusbar = new Panel({\n            layout: 'flex',\n            border: '1 0 0 0',\n            spacing: 3,\n            padding: 10,\n            align: 'center',\n            pack: self$$1.isRtl() ? 'start' : 'end',\n            defaults: {\n              type: 'button'\n            },\n            items: settings.buttons\n          });\n          self$$1.statusbar.classes.add('foot');\n          self$$1.statusbar.parent(self$$1);\n        }\n\n        self$$1.on('click', function (e) {\n          var closeClass = self$$1.classPrefix + 'close';\n\n          if (funcs.hasClass(e.target, closeClass) || funcs.hasClass(e.target.parentNode, closeClass)) {\n            self$$1.close();\n          }\n        });\n        self$$1.on('cancel', function () {\n          self$$1.close();\n        });\n        self$$1.on('move', function (e) {\n          if (e.control === self$$1) {\n            FloatPanel.hideAll();\n          }\n        });\n        self$$1.aria('describedby', self$$1.describedBy || self$$1._id + '-none');\n        self$$1.aria('label', settings.title);\n        self$$1._fullscreen = false;\n      },\n      recalc: function () {\n        var self$$1 = this;\n        var statusbar$$1 = self$$1.statusbar;\n        var layoutRect, width, x, needsRecalc;\n\n        if (self$$1._fullscreen) {\n          self$$1.layoutRect(funcs.getWindowSize());\n          self$$1.layoutRect().contentH = self$$1.layoutRect().innerH;\n        }\n\n        self$$1._super();\n\n        layoutRect = self$$1.layoutRect();\n\n        if (self$$1.settings.title && !self$$1._fullscreen) {\n          width = layoutRect.headerW;\n\n          if (width > layoutRect.w) {\n            x = layoutRect.x - Math.max(0, width / 2);\n            self$$1.layoutRect({\n              w: width,\n              x: x\n            });\n            needsRecalc = true;\n          }\n        }\n\n        if (statusbar$$1) {\n          statusbar$$1.layoutRect({\n            w: self$$1.layoutRect().innerW\n          }).recalc();\n          width = statusbar$$1.layoutRect().minW + layoutRect.deltaW;\n\n          if (width > layoutRect.w) {\n            x = layoutRect.x - Math.max(0, width - layoutRect.w);\n            self$$1.layoutRect({\n              w: width,\n              x: x\n            });\n            needsRecalc = true;\n          }\n        }\n\n        if (needsRecalc) {\n          self$$1.recalc();\n        }\n      },\n      initLayoutRect: function () {\n        var self$$1 = this;\n\n        var layoutRect = self$$1._super();\n\n        var deltaH = 0,\n            headEl;\n\n        if (self$$1.settings.title && !self$$1._fullscreen) {\n          headEl = self$$1.getEl('head');\n          var size = funcs.getSize(headEl);\n          layoutRect.headerW = size.width;\n          layoutRect.headerH = size.height;\n          deltaH += layoutRect.headerH;\n        }\n\n        if (self$$1.statusbar) {\n          deltaH += self$$1.statusbar.layoutRect().h;\n        }\n\n        layoutRect.deltaH += deltaH;\n        layoutRect.minH += deltaH;\n        layoutRect.h += deltaH;\n        var rect = funcs.getWindowSize();\n        layoutRect.x = self$$1.settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2);\n        layoutRect.y = self$$1.settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2);\n        return layoutRect;\n      },\n      renderHtml: function () {\n        var self$$1 = this,\n            layout = self$$1._layout,\n            id = self$$1._id,\n            prefix = self$$1.classPrefix;\n        var settings = self$$1.settings;\n        var headerHtml = '',\n            footerHtml = '',\n            html = settings.html;\n        self$$1.preRender();\n        layout.preRender(self$$1);\n\n        if (settings.title) {\n          headerHtml = '<div id=\"' + id + '-head\" class=\"' + prefix + 'window-head\">' + '<div id=\"' + id + '-title\" class=\"' + prefix + 'title\">' + self$$1.encode(settings.title) + '</div>' + '<div id=\"' + id + '-dragh\" class=\"' + prefix + 'dragh\"></div>' + '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">' + '<i class=\"mce-ico mce-i-remove\"></i>' + '</button>' + '</div>';\n        }\n\n        if (settings.url) {\n          html = '<iframe src=\"' + settings.url + '\" tabindex=\"-1\"></iframe>';\n        }\n\n        if (typeof html === 'undefined') {\n          html = layout.renderHtml(self$$1);\n        }\n\n        if (self$$1.statusbar) {\n          footerHtml = self$$1.statusbar.renderHtml();\n        }\n\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" hidefocus=\"1\">' + '<div class=\"' + self$$1.classPrefix + 'reset\" role=\"application\">' + headerHtml + '<div id=\"' + id + '-body\" class=\"' + self$$1.bodyClasses + '\">' + html + '</div>' + footerHtml + '</div>' + '</div>';\n      },\n      fullscreen: function (state) {\n        var self$$1 = this;\n        var documentElement = document.documentElement;\n        var slowRendering;\n        var prefix = self$$1.classPrefix;\n        var layoutRect;\n\n        if (state !== self$$1._fullscreen) {\n          global$9(window).on('resize', function () {\n            var time;\n\n            if (self$$1._fullscreen) {\n              if (!slowRendering) {\n                time = new Date().getTime();\n                var rect = funcs.getWindowSize();\n                self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\n\n                if (new Date().getTime() - time > 50) {\n                  slowRendering = true;\n                }\n              } else {\n                if (!self$$1._timer) {\n                  self$$1._timer = global$7.setTimeout(function () {\n                    var rect = funcs.getWindowSize();\n                    self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\n                    self$$1._timer = 0;\n                  }, 50);\n                }\n              }\n            }\n          });\n          layoutRect = self$$1.layoutRect();\n          self$$1._fullscreen = state;\n\n          if (!state) {\n            self$$1.borderBox = $_62etjpusjnlpb560.parseBox(self$$1.settings.border);\n            self$$1.getEl('head').style.display = '';\n            layoutRect.deltaH += layoutRect.headerH;\n            global$9([documentElement, document.body]).removeClass(prefix + 'fullscreen');\n            self$$1.classes.remove('fullscreen');\n            self$$1.moveTo(self$$1._initial.x, self$$1._initial.y).resizeTo(self$$1._initial.w, self$$1._initial.h);\n          } else {\n            self$$1._initial = {\n              x: layoutRect.x,\n              y: layoutRect.y,\n              w: layoutRect.w,\n              h: layoutRect.h\n            };\n            self$$1.borderBox = $_62etjpusjnlpb560.parseBox('0');\n            self$$1.getEl('head').style.display = 'none';\n            layoutRect.deltaH -= layoutRect.headerH + 2;\n            global$9([documentElement, document.body]).addClass(prefix + 'fullscreen');\n            self$$1.classes.add('fullscreen');\n            var rect = funcs.getWindowSize();\n            self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\n          }\n        }\n\n        return self$$1.reflow();\n      },\n      postRender: function () {\n        var self$$1 = this;\n        var startPos;\n        setTimeout(function () {\n          self$$1.classes.add('in');\n          self$$1.fire('open');\n        }, 0);\n\n        self$$1._super();\n\n        if (self$$1.statusbar) {\n          self$$1.statusbar.postRender();\n        }\n\n        self$$1.focus();\n        this.dragHelper = new DragHelper(self$$1._id + '-dragh', {\n          start: function () {\n            startPos = {\n              x: self$$1.layoutRect().x,\n              y: self$$1.layoutRect().y\n            };\n          },\n          drag: function (e) {\n            self$$1.moveTo(startPos.x + e.deltaX, startPos.y + e.deltaY);\n          }\n        });\n        self$$1.on('submit', function (e) {\n          if (!e.isDefaultPrevented()) {\n            self$$1.close();\n          }\n        });\n        windows.push(self$$1);\n        toggleFullScreenState(true);\n      },\n      submit: function () {\n        return this.fire('submit', {\n          data: this.toJSON()\n        });\n      },\n      remove: function () {\n        var self$$1 = this;\n        var i;\n        self$$1.dragHelper.destroy();\n\n        self$$1._super();\n\n        if (self$$1.statusbar) {\n          this.statusbar.remove();\n        }\n\n        toggleBodyFullScreenClasses(self$$1.classPrefix, false);\n        i = windows.length;\n\n        while (i--) {\n          if (windows[i] === self$$1) {\n            windows.splice(i, 1);\n          }\n        }\n\n        toggleFullScreenState(windows.length > 0);\n      },\n      getContentWindow: function () {\n        var ifr = this.getEl().getElementsByTagName('iframe')[0];\n        return ifr ? ifr.contentWindow : null;\n      }\n    });\n    handleWindowResize();\n    var MessageBox = Window$$1.extend({\n      init: function (settings) {\n        settings = {\n          border: 1,\n          padding: 20,\n          layout: 'flex',\n          pack: 'center',\n          align: 'center',\n          containerCls: 'panel',\n          autoScroll: true,\n          buttons: {\n            type: 'button',\n            text: 'Ok',\n            action: 'ok'\n          },\n          items: {\n            type: 'label',\n            multiline: true,\n            maxWidth: 500,\n            maxHeight: 200\n          }\n        };\n\n        this._super(settings);\n      },\n      Statics: {\n        OK: 1,\n        OK_CANCEL: 2,\n        YES_NO: 3,\n        YES_NO_CANCEL: 4,\n        msgBox: function (settings) {\n          var buttons;\n\n          var callback = settings.callback || function () {};\n\n          function createButton(text, status$$1, primary) {\n            return {\n              type: 'button',\n              text: text,\n              subtype: primary ? 'primary' : '',\n              onClick: function (e) {\n                e.control.parents()[1].close();\n                callback(status$$1);\n              }\n            };\n          }\n\n          switch (settings.buttons) {\n            case MessageBox.OK_CANCEL:\n              buttons = [createButton('Ok', true, true), createButton('Cancel', false)];\n              break;\n\n            case MessageBox.YES_NO:\n            case MessageBox.YES_NO_CANCEL:\n              buttons = [createButton('Yes', 1, true), createButton('No', 0)];\n\n              if (settings.buttons === MessageBox.YES_NO_CANCEL) {\n                buttons.push(createButton('Cancel', -1));\n              }\n\n              break;\n\n            default:\n              buttons = [createButton('Ok', true, true)];\n              break;\n          }\n\n          return new Window$$1({\n            padding: 20,\n            x: settings.x,\n            y: settings.y,\n            minWidth: 300,\n            minHeight: 100,\n            layout: 'flex',\n            pack: 'center',\n            align: 'center',\n            buttons: buttons,\n            title: settings.title,\n            role: 'alertdialog',\n            items: {\n              type: 'label',\n              multiline: true,\n              maxWidth: 500,\n              maxHeight: 200,\n              text: settings.text\n            },\n            onPostRender: function () {\n              this.aria('describedby', this.items()[0]._id);\n            },\n            onClose: settings.onClose,\n            onCancel: function () {\n              callback(false);\n            }\n          }).renderTo(document.body).reflow();\n        },\n        alert: function (settings, callback) {\n          if (typeof settings === 'string') {\n            settings = {\n              text: settings\n            };\n          }\n\n          settings.callback = callback;\n          return MessageBox.msgBox(settings);\n        },\n        confirm: function (settings, callback) {\n          if (typeof settings === 'string') {\n            settings = {\n              text: settings\n            };\n          }\n\n          settings.callback = callback;\n          settings.buttons = MessageBox.OK_CANCEL;\n          return MessageBox.msgBox(settings);\n        }\n      }\n    });\n\n    function WindowManagerImpl(editor) {\n      var open$$1 = function (args, params, closeCallback) {\n        var win;\n        args.title = args.title || ' ';\n        args.url = args.url || args.file;\n\n        if (args.url) {\n          args.width = parseInt(args.width || 320, 10);\n          args.height = parseInt(args.height || 240, 10);\n        }\n\n        if (args.body) {\n          args.items = {\n            defaults: args.defaults,\n            type: args.bodyType || 'form',\n            items: args.body,\n            data: args.data,\n            callbacks: args.commands\n          };\n        }\n\n        if (!args.url && !args.buttons) {\n          args.buttons = [{\n            text: 'Ok',\n            subtype: 'primary',\n            onclick: function () {\n              win.find('form')[0].submit();\n            }\n          }, {\n            text: 'Cancel',\n            onclick: function () {\n              win.close();\n            }\n          }];\n        }\n\n        win = new Window$$1(args);\n        win.on('close', function () {\n          closeCallback(win);\n        });\n\n        if (args.data) {\n          win.on('postRender', function () {\n            this.find('*').each(function (ctrl) {\n              var name$$1 = ctrl.name();\n\n              if (name$$1 in args.data) {\n                ctrl.value(args.data[name$$1]);\n              }\n            });\n          });\n        }\n\n        win.features = args || {};\n        win.params = params || {};\n        win = win.renderTo(document.body).reflow();\n        return win;\n      };\n\n      var alert$$1 = function (message, choiceCallback, closeCallback) {\n        var win;\n        win = MessageBox.alert(message, function () {\n          choiceCallback();\n        });\n        win.on('close', function () {\n          closeCallback(win);\n        });\n        return win;\n      };\n\n      var confirm$$1 = function (message, choiceCallback, closeCallback) {\n        var win;\n        win = MessageBox.confirm(message, function (state) {\n          choiceCallback(state);\n        });\n        win.on('close', function () {\n          closeCallback(win);\n        });\n        return win;\n      };\n\n      var close$$1 = function (window$$1) {\n        window$$1.close();\n      };\n\n      var getParams = function (window$$1) {\n        return window$$1.params;\n      };\n\n      var setParams = function (window$$1, params) {\n        window$$1.params = params;\n      };\n\n      return {\n        open: open$$1,\n        alert: alert$$1,\n        confirm: confirm$$1,\n        close: close$$1,\n        getParams: getParams,\n        setParams: setParams\n      };\n    }\n\n    var get = function (editor) {\n      var renderUI = function (args) {\n        return $_ebquldttjnlpb52d.renderUI(editor, this, args);\n      };\n\n      var resizeTo = function (w, h) {\n        return $_ao1a4hudjnlpb53o.resizeTo(editor, w, h);\n      };\n\n      var resizeBy = function (dw, dh) {\n        return $_ao1a4hudjnlpb53o.resizeBy(editor, dw, dh);\n      };\n\n      var getNotificationManagerImpl = function () {\n        return NotificationManagerImpl(editor);\n      };\n\n      var getWindowManagerImpl = function () {\n        return WindowManagerImpl(editor);\n      };\n\n      return {\n        renderUI: renderUI,\n        resizeTo: resizeTo,\n        resizeBy: resizeBy,\n        getNotificationManagerImpl: getNotificationManagerImpl,\n        getWindowManagerImpl: getWindowManagerImpl\n      };\n    };\n\n    var $_3xnbd6tsjnlpb52c = {\n      get: get\n    };\n    var Layout = global$10.extend({\n      Defaults: {\n        firstControlClass: 'first',\n        lastControlClass: 'last'\n      },\n      init: function (settings) {\n        this.settings = global$2.extend({}, this.Defaults, settings);\n      },\n      preRender: function (container) {\n        container.bodyClasses.add(this.settings.containerClass);\n      },\n      applyClasses: function (items) {\n        var self = this;\n        var settings = self.settings;\n        var firstClass, lastClass, firstItem, lastItem;\n        firstClass = settings.firstControlClass;\n        lastClass = settings.lastControlClass;\n        items.each(function (item) {\n          item.classes.remove(firstClass).remove(lastClass).add(settings.controlClass);\n\n          if (item.visible()) {\n            if (!firstItem) {\n              firstItem = item;\n            }\n\n            lastItem = item;\n          }\n        });\n\n        if (firstItem) {\n          firstItem.classes.add(firstClass);\n        }\n\n        if (lastItem) {\n          lastItem.classes.add(lastClass);\n        }\n      },\n      renderHtml: function (container) {\n        var self = this;\n        var html = '';\n        self.applyClasses(container.items());\n        container.items().each(function (item) {\n          html += item.renderHtml();\n        });\n        return html;\n      },\n      recalc: function () {},\n      postRender: function () {},\n      isNative: function () {\n        return false;\n      }\n    });\n    var AbsoluteLayout = Layout.extend({\n      Defaults: {\n        containerClass: 'abs-layout',\n        controlClass: 'abs-layout-item'\n      },\n      recalc: function (container) {\n        container.items().filter(':visible').each(function (ctrl) {\n          var settings = ctrl.settings;\n          ctrl.layoutRect({\n            x: settings.x,\n            y: settings.y,\n            w: settings.w,\n            h: settings.h\n          });\n\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n        });\n      },\n      renderHtml: function (container) {\n        return '<div id=\"' + container._id + '-absend\" class=\"' + container.classPrefix + 'abs-end\"></div>' + this._super(container);\n      }\n    });\n    var Button = Widget.extend({\n      Defaults: {\n        classes: 'widget btn',\n        role: 'button'\n      },\n      init: function (settings) {\n        var self$$1 = this;\n        var size;\n\n        self$$1._super(settings);\n\n        settings = self$$1.settings;\n        size = self$$1.settings.size;\n        self$$1.on('click mousedown', function (e) {\n          e.preventDefault();\n        });\n        self$$1.on('touchstart', function (e) {\n          self$$1.fire('click', e);\n          e.preventDefault();\n        });\n\n        if (settings.subtype) {\n          self$$1.classes.add(settings.subtype);\n        }\n\n        if (size) {\n          self$$1.classes.add('btn-' + size);\n        }\n\n        if (settings.icon) {\n          self$$1.icon(settings.icon);\n        }\n      },\n      icon: function (icon) {\n        if (!arguments.length) {\n          return this.state.get('icon');\n        }\n\n        this.state.set('icon', icon);\n        return this;\n      },\n      repaint: function () {\n        var btnElm = this.getEl().firstChild;\n        var btnStyle;\n\n        if (btnElm) {\n          btnStyle = btnElm.style;\n          btnStyle.width = btnStyle.height = '100%';\n        }\n\n        this._super();\n      },\n      renderHtml: function () {\n        var self$$1 = this,\n            id = self$$1._id,\n            prefix = self$$1.classPrefix;\n        var icon = self$$1.state.get('icon'),\n            image;\n        var text = self$$1.state.get('text');\n        var textHtml = '';\n        var ariaPressed;\n        var settings = self$$1.settings;\n        image = settings.image;\n\n        if (image) {\n          icon = 'none';\n\n          if (typeof image !== 'string') {\n            image = window.getSelection ? image[0] : image[1];\n          }\n\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n        } else {\n          image = '';\n        }\n\n        if (text) {\n          self$$1.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\n        }\n\n        icon = icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n        ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" tabindex=\"-1\"' + ariaPressed + '>' + '<button id=\"' + id + '-button\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '</div>';\n      },\n      bindStates: function () {\n        var self$$1 = this,\n            $ = self$$1.$,\n            textCls = self$$1.classPrefix + 'txt';\n\n        function setButtonText(text) {\n          var $span = $('span.' + textCls, self$$1.getEl());\n\n          if (text) {\n            if (!$span[0]) {\n              $('button:first', self$$1.getEl()).append('<span class=\"' + textCls + '\"></span>');\n              $span = $('span.' + textCls, self$$1.getEl());\n            }\n\n            $span.html(self$$1.encode(text));\n          } else {\n            $span.remove();\n          }\n\n          self$$1.classes.toggle('btn-has-text', !!text);\n        }\n\n        self$$1.state.on('change:text', function (e) {\n          setButtonText(e.value);\n        });\n        self$$1.state.on('change:icon', function (e) {\n          var icon = e.value;\n          var prefix = self$$1.classPrefix;\n          self$$1.settings.icon = icon;\n          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self$$1.settings.icon : '';\n          var btnElm = self$$1.getEl().firstChild;\n          var iconElm = btnElm.getElementsByTagName('i')[0];\n\n          if (icon) {\n            if (!iconElm || iconElm !== btnElm.firstChild) {\n              iconElm = document.createElement('i');\n              btnElm.insertBefore(iconElm, btnElm.firstChild);\n            }\n\n            iconElm.className = icon;\n          } else if (iconElm) {\n            btnElm.removeChild(iconElm);\n          }\n\n          setButtonText(self$$1.state.get('text'));\n        });\n        return self$$1._super();\n      }\n    });\n    var BrowseButton = Button.extend({\n      init: function (settings) {\n        var self = this;\n        settings = global$2.extend({\n          text: 'Browse...',\n          multiple: false,\n          accept: null\n        }, settings);\n\n        self._super(settings);\n\n        self.classes.add('browsebutton');\n\n        if (settings.multiple) {\n          self.classes.add('multiple');\n        }\n      },\n      postRender: function () {\n        var self = this;\n        var input = funcs.create('input', {\n          type: 'file',\n          id: self._id + '-browse',\n          accept: self.settings.accept\n        });\n\n        self._super();\n\n        global$9(input).on('change', function (e) {\n          var files = e.target.files;\n\n          self.value = function () {\n            if (!files.length) {\n              return null;\n            } else if (self.settings.multiple) {\n              return files;\n            } else {\n              return files[0];\n            }\n          };\n\n          e.preventDefault();\n\n          if (files.length) {\n            self.fire('change', e);\n          }\n        });\n        global$9(input).on('click', function (e) {\n          e.stopPropagation();\n        });\n        global$9(self.getEl('button')).on('click', function (e) {\n          e.stopPropagation();\n          input.click();\n        });\n        self.getEl().appendChild(input);\n      },\n      remove: function () {\n        global$9(this.getEl('button')).off();\n        global$9(this.getEl('input')).off();\n\n        this._super();\n      }\n    });\n    var ButtonGroup = Container.extend({\n      Defaults: {\n        defaultType: 'button',\n        role: 'group'\n      },\n      renderHtml: function () {\n        var self = this,\n            layout = self._layout;\n        self.classes.add('btn-group');\n        self.preRender();\n        layout.preRender(self);\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n      }\n    });\n    var Checkbox = Widget.extend({\n      Defaults: {\n        classes: 'checkbox',\n        role: 'checkbox',\n        checked: false\n      },\n      init: function (settings) {\n        var self$$1 = this;\n\n        self$$1._super(settings);\n\n        self$$1.on('click mousedown', function (e) {\n          e.preventDefault();\n        });\n        self$$1.on('click', function (e) {\n          e.preventDefault();\n\n          if (!self$$1.disabled()) {\n            self$$1.checked(!self$$1.checked());\n          }\n        });\n        self$$1.checked(self$$1.settings.checked);\n      },\n      checked: function (state) {\n        if (!arguments.length) {\n          return this.state.get('checked');\n        }\n\n        this.state.set('checked', state);\n        return this;\n      },\n      value: function (state) {\n        if (!arguments.length) {\n          return this.checked();\n        }\n\n        return this.checked(state);\n      },\n      renderHtml: function () {\n        var self$$1 = this,\n            id = self$$1._id,\n            prefix = self$$1.classPrefix;\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" unselectable=\"on\" aria-labelledby=\"' + id + '-al\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-checkbox\"></i>' + '<span id=\"' + id + '-al\" class=\"' + prefix + 'label\">' + self$$1.encode(self$$1.state.get('text')) + '</span>' + '</div>';\n      },\n      bindStates: function () {\n        var self$$1 = this;\n\n        function checked(state) {\n          self$$1.classes.toggle('checked', state);\n          self$$1.aria('checked', state);\n        }\n\n        self$$1.state.on('change:text', function (e) {\n          self$$1.getEl('al').firstChild.data = self$$1.translate(e.value);\n        });\n        self$$1.state.on('change:checked change:value', function (e) {\n          self$$1.fire('change');\n          checked(e.value);\n        });\n        self$$1.state.on('change:icon', function (e) {\n          var icon = e.value;\n          var prefix = self$$1.classPrefix;\n\n          if (typeof icon === 'undefined') {\n            return self$$1.settings.icon;\n          }\n\n          self$$1.settings.icon = icon;\n          icon = icon ? prefix + 'ico ' + prefix + 'i-' + self$$1.settings.icon : '';\n          var btnElm = self$$1.getEl().firstChild;\n          var iconElm = btnElm.getElementsByTagName('i')[0];\n\n          if (icon) {\n            if (!iconElm || iconElm !== btnElm.firstChild) {\n              iconElm = document.createElement('i');\n              btnElm.insertBefore(iconElm, btnElm.firstChild);\n            }\n\n            iconElm.className = icon;\n          } else if (iconElm) {\n            btnElm.removeChild(iconElm);\n          }\n        });\n\n        if (self$$1.state.get('checked')) {\n          checked(true);\n        }\n\n        return self$$1._super();\n      }\n    });\n    var global$13 = tinymce.util.Tools.resolve('tinymce.util.VK');\n    var ComboBox = Widget.extend({\n      init: function (settings) {\n        var self$$1 = this;\n\n        self$$1._super(settings);\n\n        settings = self$$1.settings;\n        self$$1.classes.add('combobox');\n        self$$1.subinput = true;\n        self$$1.ariaTarget = 'inp';\n        settings.menu = settings.menu || settings.values;\n\n        if (settings.menu) {\n          settings.icon = 'caret';\n        }\n\n        self$$1.on('click', function (e) {\n          var elm = e.target;\n          var root = self$$1.getEl();\n\n          if (!global$9.contains(root, elm) && elm !== root) {\n            return;\n          }\n\n          while (elm && elm !== root) {\n            if (elm.id && elm.id.indexOf('-open') !== -1) {\n              self$$1.fire('action');\n\n              if (settings.menu) {\n                self$$1.showMenu();\n\n                if (e.aria) {\n                  self$$1.menu.items()[0].focus();\n                }\n              }\n            }\n\n            elm = elm.parentNode;\n          }\n        });\n        self$$1.on('keydown', function (e) {\n          var rootControl;\n\n          if (e.keyCode === 13 && e.target.nodeName === 'INPUT') {\n            e.preventDefault();\n            self$$1.parents().reverse().each(function (ctrl) {\n              if (ctrl.toJSON) {\n                rootControl = ctrl;\n                return false;\n              }\n            });\n            self$$1.fire('submit', {\n              data: rootControl.toJSON()\n            });\n          }\n        });\n        self$$1.on('keyup', function (e) {\n          if (e.target.nodeName === 'INPUT') {\n            var oldValue = self$$1.state.get('value');\n            var newValue = e.target.value;\n\n            if (newValue !== oldValue) {\n              self$$1.state.set('value', newValue);\n              self$$1.fire('autocomplete', e);\n            }\n          }\n        });\n        self$$1.on('mouseover', function (e) {\n          var tooltip = self$$1.tooltip().moveTo(-65535);\n\n          if (self$$1.statusLevel() && e.target.className.indexOf(self$$1.classPrefix + 'status') !== -1) {\n            var statusMessage = self$$1.statusMessage() || 'Ok';\n            var rel = tooltip.text(statusMessage).show().testMoveRel(e.target, ['bc-tc', 'bc-tl', 'bc-tr']);\n            tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\n            tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\n            tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\n            tooltip.moveRel(e.target, rel);\n          }\n        });\n      },\n      statusLevel: function (value) {\n        if (arguments.length > 0) {\n          this.state.set('statusLevel', value);\n        }\n\n        return this.state.get('statusLevel');\n      },\n      statusMessage: function (value) {\n        if (arguments.length > 0) {\n          this.state.set('statusMessage', value);\n        }\n\n        return this.state.get('statusMessage');\n      },\n      showMenu: function () {\n        var self$$1 = this;\n        var settings = self$$1.settings;\n        var menu;\n\n        if (!self$$1.menu) {\n          menu = settings.menu || [];\n\n          if (menu.length) {\n            menu = {\n              type: 'menu',\n              items: menu\n            };\n          } else {\n            menu.type = menu.type || 'menu';\n          }\n\n          self$$1.menu = global$4.create(menu).parent(self$$1).renderTo(self$$1.getContainerElm());\n          self$$1.fire('createmenu');\n          self$$1.menu.reflow();\n          self$$1.menu.on('cancel', function (e) {\n            if (e.control === self$$1.menu) {\n              self$$1.focus();\n            }\n          });\n          self$$1.menu.on('show hide', function (e) {\n            e.control.items().each(function (ctrl) {\n              ctrl.active(ctrl.value() === self$$1.value());\n            });\n          }).fire('show');\n          self$$1.menu.on('select', function (e) {\n            self$$1.value(e.control.value());\n          });\n          self$$1.on('focusin', function (e) {\n            if (e.target.tagName.toUpperCase() === 'INPUT') {\n              self$$1.menu.hide();\n            }\n          });\n          self$$1.aria('expanded', true);\n        }\n\n        self$$1.menu.show();\n        self$$1.menu.layoutRect({\n          w: self$$1.layoutRect().w\n        });\n        self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);\n      },\n      focus: function () {\n        this.getEl('inp').focus();\n      },\n      repaint: function () {\n        var self$$1 = this,\n            elm = self$$1.getEl(),\n            openElm = self$$1.getEl('open'),\n            rect = self$$1.layoutRect();\n        var width,\n            lineHeight,\n            innerPadding = 0;\n        var inputElm = elm.firstChild;\n\n        if (self$$1.statusLevel() && self$$1.statusLevel() !== 'none') {\n          innerPadding = parseInt(funcs.getRuntimeStyle(inputElm, 'padding-right'), 10) - parseInt(funcs.getRuntimeStyle(inputElm, 'padding-left'), 10);\n        }\n\n        if (openElm) {\n          width = rect.w - funcs.getSize(openElm).width - 10;\n        } else {\n          width = rect.w - 10;\n        }\n\n        var doc = document;\n\n        if (doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\n          lineHeight = self$$1.layoutRect().h - 2 + 'px';\n        }\n\n        global$9(inputElm).css({\n          width: width - innerPadding,\n          lineHeight: lineHeight\n        });\n\n        self$$1._super();\n\n        return self$$1;\n      },\n      postRender: function () {\n        var self$$1 = this;\n        global$9(this.getEl('inp')).on('change', function (e) {\n          self$$1.state.set('value', e.target.value);\n          self$$1.fire('change', e);\n        });\n        return self$$1._super();\n      },\n      renderHtml: function () {\n        var self$$1 = this,\n            id = self$$1._id,\n            settings = self$$1.settings,\n            prefix = self$$1.classPrefix;\n        var value = self$$1.state.get('value') || '';\n        var icon,\n            text,\n            openBtnHtml = '',\n            extraAttrs = '',\n            statusHtml = '';\n\n        if ('spellcheck' in settings) {\n          extraAttrs += ' spellcheck=\"' + settings.spellcheck + '\"';\n        }\n\n        if (settings.maxLength) {\n          extraAttrs += ' maxlength=\"' + settings.maxLength + '\"';\n        }\n\n        if (settings.size) {\n          extraAttrs += ' size=\"' + settings.size + '\"';\n        }\n\n        if (settings.subtype) {\n          extraAttrs += ' type=\"' + settings.subtype + '\"';\n        }\n\n        statusHtml = '<i id=\"' + id + '-status\" class=\"mce-status mce-ico\" style=\"display: none\"></i>';\n\n        if (self$$1.disabled()) {\n          extraAttrs += ' disabled=\"disabled\"';\n        }\n\n        icon = settings.icon;\n\n        if (icon && icon !== 'caret') {\n          icon = prefix + 'ico ' + prefix + 'i-' + settings.icon;\n        }\n\n        text = self$$1.state.get('text');\n\n        if (icon || text) {\n          openBtnHtml = '<div id=\"' + id + '-open\" class=\"' + prefix + 'btn ' + prefix + 'open\" tabIndex=\"-1\" role=\"button\">' + '<button id=\"' + id + '-action\" type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon !== 'caret' ? '<i class=\"' + icon + '\"></i>' : '<i class=\"' + prefix + 'caret\"></i>') + (text ? (icon ? ' ' : '') + text : '') + '</button>' + '</div>';\n          self$$1.classes.add('has-open');\n        }\n\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\">' + '<input id=\"' + id + '-inp\" class=\"' + prefix + 'textbox\" value=\"' + self$$1.encode(value, false) + '\" hidefocus=\"1\"' + extraAttrs + ' placeholder=\"' + self$$1.encode(settings.placeholder) + '\" />' + statusHtml + openBtnHtml + '</div>';\n      },\n      value: function (value) {\n        if (arguments.length) {\n          this.state.set('value', value);\n          return this;\n        }\n\n        if (this.state.get('rendered')) {\n          this.state.set('value', this.getEl('inp').value);\n        }\n\n        return this.state.get('value');\n      },\n      showAutoComplete: function (items, term) {\n        var self$$1 = this;\n\n        if (items.length === 0) {\n          self$$1.hideMenu();\n          return;\n        }\n\n        var insert = function (value, title) {\n          return function () {\n            self$$1.fire('selectitem', {\n              title: title,\n              value: value\n            });\n          };\n        };\n\n        if (self$$1.menu) {\n          self$$1.menu.items().remove();\n        } else {\n          self$$1.menu = global$4.create({\n            type: 'menu',\n            classes: 'combobox-menu',\n            layout: 'flow'\n          }).parent(self$$1).renderTo();\n        }\n\n        global$2.each(items, function (item) {\n          self$$1.menu.add({\n            text: item.title,\n            url: item.previewUrl,\n            match: term,\n            classes: 'menu-item-ellipsis',\n            onclick: insert(item.value, item.title)\n          });\n        });\n        self$$1.menu.renderNew();\n        self$$1.hideMenu();\n        self$$1.menu.on('cancel', function (e) {\n          if (e.control.parent() === self$$1.menu) {\n            e.stopPropagation();\n            self$$1.focus();\n            self$$1.hideMenu();\n          }\n        });\n        self$$1.menu.on('select', function () {\n          self$$1.focus();\n        });\n        var maxW = self$$1.layoutRect().w;\n        self$$1.menu.layoutRect({\n          w: maxW,\n          minW: 0,\n          maxW: maxW\n        });\n        self$$1.menu.repaint();\n        self$$1.menu.reflow();\n        self$$1.menu.show();\n        self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);\n      },\n      hideMenu: function () {\n        if (this.menu) {\n          this.menu.hide();\n        }\n      },\n      bindStates: function () {\n        var self$$1 = this;\n        self$$1.state.on('change:value', function (e) {\n          if (self$$1.getEl('inp').value !== e.value) {\n            self$$1.getEl('inp').value = e.value;\n          }\n        });\n        self$$1.state.on('change:disabled', function (e) {\n          self$$1.getEl('inp').disabled = e.value;\n        });\n        self$$1.state.on('change:statusLevel', function (e) {\n          var statusIconElm = self$$1.getEl('status');\n          var prefix = self$$1.classPrefix,\n              value = e.value;\n          funcs.css(statusIconElm, 'display', value === 'none' ? 'none' : '');\n          funcs.toggleClass(statusIconElm, prefix + 'i-checkmark', value === 'ok');\n          funcs.toggleClass(statusIconElm, prefix + 'i-warning', value === 'warn');\n          funcs.toggleClass(statusIconElm, prefix + 'i-error', value === 'error');\n          self$$1.classes.toggle('has-status', value !== 'none');\n          self$$1.repaint();\n        });\n        funcs.on(self$$1.getEl('status'), 'mouseleave', function () {\n          self$$1.tooltip().hide();\n        });\n        self$$1.on('cancel', function (e) {\n          if (self$$1.menu && self$$1.menu.visible()) {\n            e.stopPropagation();\n            self$$1.hideMenu();\n          }\n        });\n\n        var focusIdx = function (idx, menu) {\n          if (menu && menu.items().length > 0) {\n            menu.items().eq(idx)[0].focus();\n          }\n        };\n\n        self$$1.on('keydown', function (e) {\n          var keyCode = e.keyCode;\n\n          if (e.target.nodeName === 'INPUT') {\n            if (keyCode === global$13.DOWN) {\n              e.preventDefault();\n              self$$1.fire('autocomplete');\n              focusIdx(0, self$$1.menu);\n            } else if (keyCode === global$13.UP) {\n              e.preventDefault();\n              focusIdx(-1, self$$1.menu);\n            }\n          }\n        });\n        return self$$1._super();\n      },\n      remove: function () {\n        global$9(this.getEl('inp')).off();\n\n        if (this.menu) {\n          this.menu.remove();\n        }\n\n        this._super();\n      }\n    });\n    var ColorBox = ComboBox.extend({\n      init: function (settings) {\n        var self = this;\n        settings.spellcheck = false;\n\n        if (settings.onaction) {\n          settings.icon = 'none';\n        }\n\n        self._super(settings);\n\n        self.classes.add('colorbox');\n        self.on('change keyup postrender', function () {\n          self.repaintColor(self.value());\n        });\n      },\n      repaintColor: function (value) {\n        var openElm = this.getEl('open');\n        var elm = openElm ? openElm.getElementsByTagName('i')[0] : null;\n\n        if (elm) {\n          try {\n            elm.style.background = value;\n          } catch (ex) {}\n        }\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:value', function (e) {\n          if (self.state.get('rendered')) {\n            self.repaintColor(e.value);\n          }\n        });\n        return self._super();\n      }\n    });\n    var PanelButton = Button.extend({\n      showPanel: function () {\n        var self = this,\n            settings = self.settings;\n        self.classes.add('opened');\n\n        if (!self.panel) {\n          var panelSettings = settings.panel;\n\n          if (panelSettings.type) {\n            panelSettings = {\n              layout: 'grid',\n              items: panelSettings\n            };\n          }\n\n          panelSettings.role = panelSettings.role || 'dialog';\n          panelSettings.popover = true;\n          panelSettings.autohide = true;\n          panelSettings.ariaRoot = true;\n          self.panel = new FloatPanel(panelSettings).on('hide', function () {\n            self.classes.remove('opened');\n          }).on('cancel', function (e) {\n            e.stopPropagation();\n            self.focus();\n            self.hidePanel();\n          }).parent(self).renderTo(self.getContainerElm());\n          self.panel.fire('show');\n          self.panel.reflow();\n        } else {\n          self.panel.show();\n        }\n\n        var rtlRels = ['bc-tc', 'bc-tl', 'bc-tr'];\n        var ltrRels = ['bc-tc', 'bc-tr', 'bc-tl', 'tc-bc', 'tc-br', 'tc-bl'];\n        var rel = self.panel.testMoveRel(self.getEl(), settings.popoverAlign || (self.isRtl() ? rtlRels : ltrRels));\n        self.panel.classes.toggle('start', rel.substr(-1) === 'l');\n        self.panel.classes.toggle('end', rel.substr(-1) === 'r');\n        var isTop = rel.substr(0, 1) === 't';\n        self.panel.classes.toggle('bottom', !isTop);\n        self.panel.classes.toggle('top', isTop);\n        self.panel.moveRel(self.getEl(), rel);\n      },\n      hidePanel: function () {\n        var self = this;\n\n        if (self.panel) {\n          self.panel.hide();\n        }\n      },\n      postRender: function () {\n        var self = this;\n        self.aria('haspopup', true);\n        self.on('click', function (e) {\n          if (e.control === self) {\n            if (self.panel && self.panel.visible()) {\n              self.hidePanel();\n            } else {\n              self.showPanel();\n              self.panel.focus(!!e.aria);\n            }\n          }\n        });\n        return self._super();\n      },\n      remove: function () {\n        if (this.panel) {\n          this.panel.remove();\n          this.panel = null;\n        }\n\n        return this._super();\n      }\n    });\n    var DOM$3 = global$3.DOM;\n    var ColorButton = PanelButton.extend({\n      init: function (settings) {\n        this._super(settings);\n\n        this.classes.add('splitbtn');\n        this.classes.add('colorbutton');\n      },\n      color: function (color) {\n        if (color) {\n          this._color = color;\n          this.getEl('preview').style.backgroundColor = color;\n          return this;\n        }\n\n        return this._color;\n      },\n      resetColor: function () {\n        this._color = null;\n        this.getEl('preview').style.backgroundColor = null;\n        return this;\n      },\n      renderHtml: function () {\n        var self = this,\n            id = self._id,\n            prefix = self.classPrefix,\n            text = self.state.get('text');\n        var icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\n        var image = self.settings.image ? ' style=\"background-image: url(\\'' + self.settings.image + '\\')\"' : '';\n        var textHtml = '';\n\n        if (text) {\n          self.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self.encode(text) + '</span>';\n        }\n\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" role=\"button\" tabindex=\"-1\" aria-haspopup=\"true\">' + '<button role=\"presentation\" hidefocus=\"1\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + '<span id=\"' + id + '-preview\" class=\"' + prefix + 'preview\"></span>' + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n      },\n      postRender: function () {\n        var self = this,\n            onClickHandler = self.settings.onclick;\n        self.on('click', function (e) {\n          if (e.aria && e.aria.key === 'down') {\n            return;\n          }\n\n          if (e.control === self && !DOM$3.getParent(e.target, '.' + self.classPrefix + 'open')) {\n            e.stopImmediatePropagation();\n            onClickHandler.call(self, e);\n          }\n        });\n        delete self.settings.onclick;\n        return self._super();\n      }\n    });\n    var global$14 = tinymce.util.Tools.resolve('tinymce.util.Color');\n    var ColorPicker = Widget.extend({\n      Defaults: {\n        classes: 'widget colorpicker'\n      },\n      init: function (settings) {\n        this._super(settings);\n      },\n      postRender: function () {\n        var self = this;\n        var color = self.color();\n        var hsv, hueRootElm, huePointElm, svRootElm, svPointElm;\n        hueRootElm = self.getEl('h');\n        huePointElm = self.getEl('hp');\n        svRootElm = self.getEl('sv');\n        svPointElm = self.getEl('svp');\n\n        function getPos(elm, event) {\n          var pos = funcs.getPos(elm);\n          var x, y;\n          x = event.pageX - pos.x;\n          y = event.pageY - pos.y;\n          x = Math.max(0, Math.min(x / elm.clientWidth, 1));\n          y = Math.max(0, Math.min(y / elm.clientHeight, 1));\n          return {\n            x: x,\n            y: y\n          };\n        }\n\n        function updateColor(hsv, hueUpdate) {\n          var hue = (360 - hsv.h) / 360;\n          funcs.css(huePointElm, {\n            top: hue * 100 + '%'\n          });\n\n          if (!hueUpdate) {\n            funcs.css(svPointElm, {\n              left: hsv.s + '%',\n              top: 100 - hsv.v + '%'\n            });\n          }\n\n          svRootElm.style.background = global$14({\n            s: 100,\n            v: 100,\n            h: hsv.h\n          }).toHex();\n          self.color().parse({\n            s: hsv.s,\n            v: hsv.v,\n            h: hsv.h\n          });\n        }\n\n        function updateSaturationAndValue(e) {\n          var pos;\n          pos = getPos(svRootElm, e);\n          hsv.s = pos.x * 100;\n          hsv.v = (1 - pos.y) * 100;\n          updateColor(hsv);\n          self.fire('change');\n        }\n\n        function updateHue(e) {\n          var pos;\n          pos = getPos(hueRootElm, e);\n          hsv = color.toHsv();\n          hsv.h = (1 - pos.y) * 360;\n          updateColor(hsv, true);\n          self.fire('change');\n        }\n\n        self._repaint = function () {\n          hsv = color.toHsv();\n          updateColor(hsv);\n        };\n\n        self._super();\n\n        self._svdraghelper = new DragHelper(self._id + '-sv', {\n          start: updateSaturationAndValue,\n          drag: updateSaturationAndValue\n        });\n        self._hdraghelper = new DragHelper(self._id + '-h', {\n          start: updateHue,\n          drag: updateHue\n        });\n\n        self._repaint();\n      },\n      rgb: function () {\n        return this.color().toRgb();\n      },\n      value: function (value) {\n        var self = this;\n\n        if (arguments.length) {\n          self.color().parse(value);\n\n          if (self._rendered) {\n            self._repaint();\n          }\n        } else {\n          return self.color().toHex();\n        }\n      },\n      color: function () {\n        if (!this._color) {\n          this._color = global$14();\n        }\n\n        return this._color;\n      },\n      renderHtml: function () {\n        var self = this;\n        var id = self._id;\n        var prefix = self.classPrefix;\n        var hueHtml;\n        var stops = '#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';\n\n        function getOldIeFallbackHtml() {\n          var i,\n              l,\n              html = '',\n              gradientPrefix,\n              stopsList;\n          gradientPrefix = 'filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';\n          stopsList = stops.split(',');\n\n          for (i = 0, l = stopsList.length - 1; i < l; i++) {\n            html += '<div class=\"' + prefix + 'colorpicker-h-chunk\" style=\"' + 'height:' + 100 / l + '%;' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ');' + '-ms-' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ')' + '\"></div>';\n          }\n\n          return html;\n        }\n\n        var gradientCssText = 'background: -ms-linear-gradient(top,' + stops + ');' + 'background: linear-gradient(to bottom,' + stops + ');';\n        hueHtml = '<div id=\"' + id + '-h\" class=\"' + prefix + 'colorpicker-h\" style=\"' + gradientCssText + '\">' + getOldIeFallbackHtml() + '<div id=\"' + id + '-hp\" class=\"' + prefix + 'colorpicker-h-marker\"></div>' + '</div>';\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-sv\" class=\"' + prefix + 'colorpicker-sv\">' + '<div class=\"' + prefix + 'colorpicker-overlay1\">' + '<div class=\"' + prefix + 'colorpicker-overlay2\">' + '<div id=\"' + id + '-svp\" class=\"' + prefix + 'colorpicker-selector1\">' + '<div class=\"' + prefix + 'colorpicker-selector2\"></div>' + '</div>' + '</div>' + '</div>' + '</div>' + hueHtml + '</div>';\n      }\n    });\n    var DropZone = Widget.extend({\n      init: function (settings) {\n        var self = this;\n        settings = global$2.extend({\n          height: 100,\n          text: 'Drop an image here',\n          multiple: false,\n          accept: null\n        }, settings);\n\n        self._super(settings);\n\n        self.classes.add('dropzone');\n\n        if (settings.multiple) {\n          self.classes.add('multiple');\n        }\n      },\n      renderHtml: function () {\n        var self = this;\n        var attrs, elm;\n        var cfg = self.settings;\n        attrs = {\n          id: self._id,\n          hidefocus: '1'\n        };\n        elm = funcs.create('div', attrs, '<span>' + this.translate(cfg.text) + '</span>');\n\n        if (cfg.height) {\n          funcs.css(elm, 'height', cfg.height + 'px');\n        }\n\n        if (cfg.width) {\n          funcs.css(elm, 'width', cfg.width + 'px');\n        }\n\n        elm.className = self.classes;\n        return elm.outerHTML;\n      },\n      postRender: function () {\n        var self = this;\n\n        var toggleDragClass = function (e) {\n          e.preventDefault();\n          self.classes.toggle('dragenter');\n          self.getEl().className = self.classes;\n        };\n\n        var filter = function (files) {\n          var accept = self.settings.accept;\n\n          if (typeof accept !== 'string') {\n            return files;\n          }\n\n          var re = new RegExp('(' + accept.split(/\\s*,\\s*/).join('|') + ')$', 'i');\n          return global$2.grep(files, function (file) {\n            return re.test(file.name);\n          });\n        };\n\n        self._super();\n\n        self.$el.on('dragover', function (e) {\n          e.preventDefault();\n        });\n        self.$el.on('dragenter', toggleDragClass);\n        self.$el.on('dragleave', toggleDragClass);\n        self.$el.on('drop', function (e) {\n          e.preventDefault();\n\n          if (self.state.get('disabled')) {\n            return;\n          }\n\n          var files = filter(e.dataTransfer.files);\n\n          self.value = function () {\n            if (!files.length) {\n              return null;\n            } else if (self.settings.multiple) {\n              return files;\n            } else {\n              return files[0];\n            }\n          };\n\n          if (files.length) {\n            self.fire('change', e);\n          }\n        });\n      },\n      remove: function () {\n        this.$el.off();\n\n        this._super();\n      }\n    });\n    var Path = Widget.extend({\n      init: function (settings) {\n        var self = this;\n\n        if (!settings.delimiter) {\n          settings.delimiter = '\\xBB';\n        }\n\n        self._super(settings);\n\n        self.classes.add('path');\n        self.canFocus = true;\n        self.on('click', function (e) {\n          var index;\n          var target = e.target;\n\n          if (index = target.getAttribute('data-index')) {\n            self.fire('select', {\n              value: self.row()[index],\n              index: index\n            });\n          }\n        });\n        self.row(self.settings.row);\n      },\n      focus: function () {\n        var self = this;\n        self.getEl().firstChild.focus();\n        return self;\n      },\n      row: function (row) {\n        if (!arguments.length) {\n          return this.state.get('row');\n        }\n\n        this.state.set('row', row);\n        return this;\n      },\n      renderHtml: function () {\n        var self = this;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + self._getDataPathHtml(self.state.get('row')) + '</div>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:row', function (e) {\n          self.innerHtml(self._getDataPathHtml(e.value));\n        });\n        return self._super();\n      },\n      _getDataPathHtml: function (data) {\n        var self = this;\n        var parts = data || [];\n        var i,\n            l,\n            html = '';\n        var prefix = self.classPrefix;\n\n        for (i = 0, l = parts.length; i < l; i++) {\n          html += (i > 0 ? '<div class=\"' + prefix + 'divider\" aria-hidden=\"true\"> ' + self.settings.delimiter + ' </div>' : '') + '<div role=\"button\" class=\"' + prefix + 'path-item' + (i === l - 1 ? ' ' + prefix + 'last' : '') + '\" data-index=\"' + i + '\" tabindex=\"-1\" id=\"' + self._id + '-' + i + '\" aria-level=\"' + (i + 1) + '\">' + parts[i].name + '</div>';\n        }\n\n        if (!html) {\n          html = '<div class=\"' + prefix + 'path-item\">\\xA0</div>';\n        }\n\n        return html;\n      }\n    });\n    var ElementPath = Path.extend({\n      postRender: function () {\n        var self = this,\n            editor = self.settings.editor;\n\n        function isHidden(elm) {\n          if (elm.nodeType === 1) {\n            if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n              return true;\n            }\n\n            if (elm.getAttribute('data-mce-type') === 'bookmark') {\n              return true;\n            }\n          }\n\n          return false;\n        }\n\n        if (editor.settings.elementpath !== false) {\n          self.on('select', function (e) {\n            editor.focus();\n            editor.selection.select(this.row()[e.index].element);\n            editor.nodeChanged();\n          });\n          editor.on('nodeChange', function (e) {\n            var outParents = [];\n            var parents = e.parents;\n            var i = parents.length;\n\n            while (i--) {\n              if (parents[i].nodeType === 1 && !isHidden(parents[i])) {\n                var args = editor.fire('ResolveName', {\n                  name: parents[i].nodeName.toLowerCase(),\n                  target: parents[i]\n                });\n\n                if (!args.isDefaultPrevented()) {\n                  outParents.push({\n                    name: args.name,\n                    element: parents[i]\n                  });\n                }\n\n                if (args.isPropagationStopped()) {\n                  break;\n                }\n              }\n            }\n\n            self.row(outParents);\n          });\n        }\n\n        return self._super();\n      }\n    });\n    var FormItem = Container.extend({\n      Defaults: {\n        layout: 'flex',\n        align: 'center',\n        defaults: {\n          flex: 1\n        }\n      },\n      renderHtml: function () {\n        var self = this,\n            layout = self._layout,\n            prefix = self.classPrefix;\n        self.classes.add('formitem');\n        layout.preRender(self);\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<div id=\"' + self._id + '-title\" class=\"' + prefix + 'title\">' + self.settings.title + '</div>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n      }\n    });\n    var Form = Container.extend({\n      Defaults: {\n        containerCls: 'form',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        flex: 1,\n        padding: 15,\n        labelGap: 30,\n        spacing: 10,\n        callbacks: {\n          submit: function () {\n            this.submit();\n          }\n        }\n      },\n      preRender: function () {\n        var self = this,\n            items = self.items();\n\n        if (!self.settings.formItemDefaults) {\n          self.settings.formItemDefaults = {\n            layout: 'flex',\n            autoResize: 'overflow',\n            defaults: {\n              flex: 1\n            }\n          };\n        }\n\n        items.each(function (ctrl) {\n          var formItem;\n          var label = ctrl.settings.label;\n\n          if (label) {\n            formItem = new FormItem(global$2.extend({\n              items: {\n                type: 'label',\n                id: ctrl._id + '-l',\n                text: label,\n                flex: 0,\n                forId: ctrl._id,\n                disabled: ctrl.disabled()\n              }\n            }, self.settings.formItemDefaults));\n            formItem.type = 'formitem';\n            ctrl.aria('labelledby', ctrl._id + '-l');\n\n            if (typeof ctrl.settings.flex === 'undefined') {\n              ctrl.settings.flex = 1;\n            }\n\n            self.replace(ctrl, formItem);\n            formItem.add(ctrl);\n          }\n        });\n      },\n      submit: function () {\n        return this.fire('submit', {\n          data: this.toJSON()\n        });\n      },\n      postRender: function () {\n        var self = this;\n\n        self._super();\n\n        self.fromJSON(self.settings.data);\n      },\n      bindStates: function () {\n        var self = this;\n\n        self._super();\n\n        function recalcLabels() {\n          var maxLabelWidth = 0;\n          var labels = [];\n          var i, labelGap, items;\n\n          if (self.settings.labelGapCalc === false) {\n            return;\n          }\n\n          if (self.settings.labelGapCalc === 'children') {\n            items = self.find('formitem');\n          } else {\n            items = self.items();\n          }\n\n          items.filter('formitem').each(function (item) {\n            var labelCtrl = item.items()[0],\n                labelWidth = labelCtrl.getEl().clientWidth;\n            maxLabelWidth = labelWidth > maxLabelWidth ? labelWidth : maxLabelWidth;\n            labels.push(labelCtrl);\n          });\n          labelGap = self.settings.labelGap || 0;\n          i = labels.length;\n\n          while (i--) {\n            labels[i].settings.minWidth = maxLabelWidth + labelGap;\n          }\n        }\n\n        self.on('show', recalcLabels);\n        recalcLabels();\n      }\n    });\n    var FieldSet = Form.extend({\n      Defaults: {\n        containerCls: 'fieldset',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        flex: 1,\n        padding: '25 15 5 15',\n        labelGap: 30,\n        spacing: 10,\n        border: 1\n      },\n      renderHtml: function () {\n        var self = this,\n            layout = self._layout,\n            prefix = self.classPrefix;\n        self.preRender();\n        layout.preRender(self);\n        return '<fieldset id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<legend id=\"' + self._id + '-title\" class=\"' + prefix + 'fieldset-title\">' + self.settings.title + '</legend>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</fieldset>';\n      }\n    });\n    var unique$1 = 0;\n\n    var generate = function (prefix) {\n      var date = new Date();\n      var time = date.getTime();\n      var random = Math.floor(Math.random() * 1000000000);\n      unique$1++;\n      return prefix + '_' + random + unique$1 + String(time);\n    };\n\n    var fromHtml = function (html, scope) {\n      var doc = scope || document;\n      var div = doc.createElement('div');\n      div.innerHTML = html;\n\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        console.error('HTML does not have a single root node', html);\n        throw 'HTML must have a single root node';\n      }\n\n      return fromDom(div.childNodes[0]);\n    };\n\n    var fromTag = function (tag, scope) {\n      var doc = scope || document;\n      var node = doc.createElement(tag);\n      return fromDom(node);\n    };\n\n    var fromText = function (text, scope) {\n      var doc = scope || document;\n      var node = doc.createTextNode(text);\n      return fromDom(node);\n    };\n\n    var fromDom = function (node) {\n      if (node === null || node === undefined) throw new Error('Node cannot be null or undefined');\n      return {\n        dom: constant(node)\n      };\n    };\n\n    var fromPoint = function (docElm, x, y) {\n      var doc = docElm.dom();\n      return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n    };\n\n    var Element$$1 = {\n      fromHtml: fromHtml,\n      fromTag: fromTag,\n      fromText: fromText,\n      fromDom: fromDom,\n      fromPoint: fromPoint\n    };\n\n    var cached = function (f) {\n      var called = false;\n      var r;\n      return function () {\n        var args = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          args[_i] = arguments[_i];\n        }\n\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n\n        return r;\n      };\n    };\n\n    var $_97et1hw7jnlpb5gk = {\n      ATTRIBUTE: Node.ATTRIBUTE_NODE,\n      CDATA_SECTION: Node.CDATA_SECTION_NODE,\n      COMMENT: Node.COMMENT_NODE,\n      DOCUMENT: Node.DOCUMENT_NODE,\n      DOCUMENT_TYPE: Node.DOCUMENT_TYPE_NODE,\n      DOCUMENT_FRAGMENT: Node.DOCUMENT_FRAGMENT_NODE,\n      ELEMENT: Node.ELEMENT_NODE,\n      TEXT: Node.TEXT_NODE,\n      PROCESSING_INSTRUCTION: Node.PROCESSING_INSTRUCTION_NODE,\n      ENTITY_REFERENCE: Node.ENTITY_REFERENCE_NODE,\n      ENTITY: Node.ENTITY_NODE,\n      NOTATION: Node.NOTATION_NODE\n    };\n\n    var name = function (element) {\n      var r = element.dom().nodeName;\n      return r.toLowerCase();\n    };\n\n    var type = function (element) {\n      return element.dom().nodeType;\n    };\n\n    var value = function (element) {\n      return element.dom().nodeValue;\n    };\n\n    var isType$1 = function (t) {\n      return function (element) {\n        return type(element) === t;\n      };\n    };\n\n    var isComment = function (element) {\n      return type(element) === $_97et1hw7jnlpb5gk.COMMENT || name(element) === '#comment';\n    };\n\n    var isElement = isType$1($_97et1hw7jnlpb5gk.ELEMENT);\n    var isText = isType$1($_97et1hw7jnlpb5gk.TEXT);\n    var isDocument = isType$1($_97et1hw7jnlpb5gk.DOCUMENT);\n    var $_52ij6yw6jnlpb5gi = {\n      name: name,\n      type: type,\n      value: value,\n      isElement: isElement,\n      isText: isText,\n      isDocument: isDocument,\n      isComment: isComment\n    };\n\n    var inBody = function (element) {\n      var dom = $_52ij6yw6jnlpb5gi.isText(element) ? element.dom().parentNode : element.dom();\n      return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n    };\n\n    var body = cached(function () {\n      return getBody(Element$$1.fromDom(document));\n    });\n\n    var getBody = function (doc) {\n      var body = doc.dom().body;\n      if (body === null || body === undefined) throw 'Body is not available yet';\n      return Element$$1.fromDom(body);\n    };\n\n    var $_eyy768w4jnlpb5gd = {\n      body: body,\n      getBody: getBody,\n      inBody: inBody\n    };\n\n    var Immutable = function () {\n      var fields = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        fields[_i] = arguments[_i];\n      }\n\n      return function () {\n        var values = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          values[_i] = arguments[_i];\n        }\n\n        if (fields.length !== values.length) {\n          throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n        }\n\n        var struct = {};\n        each(fields, function (name, i) {\n          struct[name] = constant(values[i]);\n        });\n        return struct;\n      };\n    };\n\n    var toArray = function (target, f) {\n      var r = [];\n\n      var recurse = function (e) {\n        r.push(e);\n        return f(e);\n      };\n\n      var cur = f(target);\n\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n\n      return r;\n    };\n\n    var $_99zdh5wejnlpb5h8 = {\n      toArray: toArray\n    };\n    var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n    var path = function (parts, scope) {\n      var o = scope !== undefined && scope !== null ? scope : Global;\n\n      for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i) o = o[parts[i]];\n\n      return o;\n    };\n\n    var resolve = function (p, scope) {\n      var parts = p.split('.');\n      return path(parts, scope);\n    };\n\n    var unsafe = function (name, scope) {\n      return resolve(name, scope);\n    };\n\n    var getOrDie = function (name, scope) {\n      var actual = unsafe(name, scope);\n      if (actual === undefined || actual === null) throw name + ' not available on this browser';\n      return actual;\n    };\n\n    var $_c2u51zwhjnlpb5hu = {\n      getOrDie: getOrDie\n    };\n\n    var node = function () {\n      var f = $_c2u51zwhjnlpb5hu.getOrDie('Node');\n      return f;\n    };\n\n    var compareDocumentPosition = function (a, b, match) {\n      return (a.compareDocumentPosition(b) & match) !== 0;\n    };\n\n    var documentPositionPreceding = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\n    };\n\n    var documentPositionContainedBy = function (a, b) {\n      return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\n    };\n\n    var $_26zoqmwgjnlpb5hs = {\n      documentPositionPreceding: documentPositionPreceding,\n      documentPositionContainedBy: documentPositionContainedBy\n    };\n\n    var firstMatch = function (regexes, s) {\n      for (var i = 0; i < regexes.length; i++) {\n        var x = regexes[i];\n        if (x.test(s)) return x;\n      }\n\n      return undefined;\n    };\n\n    var find$2 = function (regexes, agent) {\n      var r = firstMatch(regexes, agent);\n      if (!r) return {\n        major: 0,\n        minor: 0\n      };\n\n      var group = function (i) {\n        return Number(agent.replace(r, '$' + i));\n      };\n\n      return nu(group(1), group(2));\n    };\n\n    var detect = function (versionRegexes, agent) {\n      var cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) return unknown();\n      return find$2(versionRegexes, cleanedAgent);\n    };\n\n    var unknown = function () {\n      return nu(0, 0);\n    };\n\n    var nu = function (major, minor) {\n      return {\n        major: major,\n        minor: minor\n      };\n    };\n\n    var Version = {\n      nu: nu,\n      detect: detect,\n      unknown: unknown\n    };\n    var edge = 'Edge';\n    var chrome = 'Chrome';\n    var ie = 'IE';\n    var opera = 'Opera';\n    var firefox = 'Firefox';\n    var safari = 'Safari';\n\n    var isBrowser = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n\n    var unknown$1 = function () {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n\n    var nu$1 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isEdge: isBrowser(edge, current),\n        isChrome: isBrowser(chrome, current),\n        isIE: isBrowser(ie, current),\n        isOpera: isBrowser(opera, current),\n        isFirefox: isBrowser(firefox, current),\n        isSafari: isBrowser(safari, current)\n      };\n    };\n\n    var Browser = {\n      unknown: unknown$1,\n      nu: nu$1,\n      edge: constant(edge),\n      chrome: constant(chrome),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n    var windows$1 = 'Windows';\n    var ios = 'iOS';\n    var android = 'Android';\n    var linux = 'Linux';\n    var osx = 'OSX';\n    var solaris = 'Solaris';\n    var freebsd = 'FreeBSD';\n\n    var isOS = function (name, current) {\n      return function () {\n        return current === name;\n      };\n    };\n\n    var unknown$2 = function () {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n\n    var nu$2 = function (info) {\n      var current = info.current;\n      var version = info.version;\n      return {\n        current: current,\n        version: version,\n        isWindows: isOS(windows$1, current),\n        isiOS: isOS(ios, current),\n        isAndroid: isOS(android, current),\n        isOSX: isOS(osx, current),\n        isLinux: isOS(linux, current),\n        isSolaris: isOS(solaris, current),\n        isFreeBSD: isOS(freebsd, current)\n      };\n    };\n\n    var OperatingSystem = {\n      unknown: unknown$2,\n      nu: nu$2,\n      windows: constant(windows$1),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      osx: constant(osx),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd)\n    };\n\n    var DeviceType = function (os, browser, userAgent) {\n      var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      var isiPhone = os.isiOS() && !isiPad;\n      var isAndroid3 = os.isAndroid() && os.version.major === 3;\n      var isAndroid4 = os.isAndroid() && os.version.major === 4;\n      var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n      var isTouch = os.isiOS() || os.isAndroid();\n      var isPhone = isTouch && !isTablet;\n      var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview)\n      };\n    };\n\n    var detect$1 = function (candidates, userAgent) {\n      var agent = String(userAgent).toLowerCase();\n      return find(candidates, function (candidate) {\n        return candidate.search(agent);\n      });\n    };\n\n    var detectBrowser = function (browsers, userAgent) {\n      return detect$1(browsers, userAgent).map(function (browser) {\n        var version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version: version\n        };\n      });\n    };\n\n    var detectOs = function (oses, userAgent) {\n      return detect$1(oses, userAgent).map(function (os) {\n        var version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version: version\n        };\n      });\n    };\n\n    var UaString = {\n      detectBrowser: detectBrowser,\n      detectOs: detectOs\n    };\n\n    var contains$1 = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n\n    var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n\n    var checkContains = function (target) {\n      return function (uastring) {\n        return contains$1(uastring, target);\n      };\n    };\n\n    var browsers = [{\n      name: 'Edge',\n      versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n      search: function (uastring) {\n        var monstrosity = contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        return monstrosity;\n      }\n    }, {\n      name: 'Chrome',\n      versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/, normalVersionRegex],\n      search: function (uastring) {\n        return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n      }\n    }, {\n      name: 'IE',\n      versionRegexes: [/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/, /.*?rv:([0-9]+)\\.([0-9]+).*/],\n      search: function (uastring) {\n        return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n      }\n    }, {\n      name: 'Opera',\n      versionRegexes: [normalVersionRegex, /.*?opera\\/([0-9]+)\\.([0-9]+).*/],\n      search: checkContains('opera')\n    }, {\n      name: 'Firefox',\n      versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n      search: checkContains('firefox')\n    }, {\n      name: 'Safari',\n      versionRegexes: [normalVersionRegex, /.*?cpu os ([0-9]+)_([0-9]+).*/],\n      search: function (uastring) {\n        return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n      }\n    }];\n    var oses = [{\n      name: 'Windows',\n      search: checkContains('win'),\n      versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n    }, {\n      name: 'iOS',\n      search: function (uastring) {\n        return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n      },\n      versionRegexes: [/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/, /.*cpu os ([0-9]+)_([0-9]+).*/, /.*cpu iphone os ([0-9]+)_([0-9]+).*/]\n    }, {\n      name: 'Android',\n      search: checkContains('android'),\n      versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n    }, {\n      name: 'OSX',\n      search: checkContains('os x'),\n      versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n    }, {\n      name: 'Linux',\n      search: checkContains('linux'),\n      versionRegexes: []\n    }, {\n      name: 'Solaris',\n      search: checkContains('sunos'),\n      versionRegexes: []\n    }, {\n      name: 'FreeBSD',\n      search: checkContains('freebsd'),\n      versionRegexes: []\n    }];\n    var PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    var detect$2 = function (userAgent) {\n      var browsers = PlatformInfo.browsers();\n      var oses = PlatformInfo.oses();\n      var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n      var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      var deviceType = DeviceType(os, browser, userAgent);\n      return {\n        browser: browser,\n        os: os,\n        deviceType: deviceType\n      };\n    };\n\n    var PlatformDetection = {\n      detect: detect$2\n    };\n    var detect$3 = cached(function () {\n      var userAgent = navigator.userAgent;\n      return PlatformDetection.detect(userAgent);\n    });\n    var $_7pc76cwkjnlpb5hz = {\n      detect: detect$3\n    };\n    var ELEMENT = $_97et1hw7jnlpb5gk.ELEMENT;\n    var DOCUMENT = $_97et1hw7jnlpb5gk.DOCUMENT;\n\n    var is = function (element, selector) {\n      var elem = element.dom();\n      if (elem.nodeType !== ELEMENT) return false;else if (elem.matches !== undefined) return elem.matches(selector);else if (elem.msMatchesSelector !== undefined) return elem.msMatchesSelector(selector);else if (elem.webkitMatchesSelector !== undefined) return elem.webkitMatchesSelector(selector);else if (elem.mozMatchesSelector !== undefined) return elem.mozMatchesSelector(selector);else throw new Error('Browser lacks native selectors');\n    };\n\n    var bypassSelector = function (dom) {\n      return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT || dom.childElementCount === 0;\n    };\n\n    var all = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom();\n      return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element$$1.fromDom);\n    };\n\n    var one = function (selector, scope) {\n      var base = scope === undefined ? document : scope.dom();\n      return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element$$1.fromDom);\n    };\n\n    var $_7lblvdwvjnlpb5j4 = {\n      all: all,\n      is: is,\n      one: one\n    };\n\n    var eq = function (e1, e2) {\n      return e1.dom() === e2.dom();\n    };\n\n    var isEqualNode = function (e1, e2) {\n      return e1.dom().isEqualNode(e2.dom());\n    };\n\n    var member = function (element, elements) {\n      return exists(elements, curry(eq, element));\n    };\n\n    var regularContains = function (e1, e2) {\n      var d1 = e1.dom(),\n          d2 = e2.dom();\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    var ieContains = function (e1, e2) {\n      return $_26zoqmwgjnlpb5hs.documentPositionContainedBy(e1.dom(), e2.dom());\n    };\n\n    var browser = $_7pc76cwkjnlpb5hz.detect().browser;\n    var contains$2 = browser.isIE() ? ieContains : regularContains;\n    var $_dvypmswfjnlpb5h9 = {\n      eq: eq,\n      isEqualNode: isEqualNode,\n      member: member,\n      contains: contains$2,\n      is: $_7lblvdwvjnlpb5j4.is\n    };\n\n    var owner = function (element) {\n      return Element$$1.fromDom(element.dom().ownerDocument);\n    };\n\n    var documentElement = function (element) {\n      return Element$$1.fromDom(element.dom().ownerDocument.documentElement);\n    };\n\n    var defaultView = function (element) {\n      var el = element.dom();\n      var defaultView = el.ownerDocument.defaultView;\n      return Element$$1.fromDom(defaultView);\n    };\n\n    var parent = function (element) {\n      var dom = element.dom();\n      return Option.from(dom.parentNode).map(Element$$1.fromDom);\n    };\n\n    var findIndex$1 = function (element) {\n      return parent(element).bind(function (p) {\n        var kin = children(p);\n        return findIndex(kin, function (elem) {\n          return $_dvypmswfjnlpb5h9.eq(element, elem);\n        });\n      });\n    };\n\n    var parents = function (element, isRoot) {\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\n      var dom = element.dom();\n      var ret = [];\n\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        var rawParent = dom.parentNode;\n        var parent = Element$$1.fromDom(rawParent);\n        ret.push(parent);\n        if (stop(parent) === true) break;else dom = rawParent;\n      }\n\n      return ret;\n    };\n\n    var siblings = function (element) {\n      var filterSelf = function (elements) {\n        return filter(elements, function (x) {\n          return !$_dvypmswfjnlpb5h9.eq(element, x);\n        });\n      };\n\n      return parent(element).map(children).map(filterSelf).getOr([]);\n    };\n\n    var offsetParent = function (element) {\n      var dom = element.dom();\n      return Option.from(dom.offsetParent).map(Element$$1.fromDom);\n    };\n\n    var prevSibling = function (element) {\n      var dom = element.dom();\n      return Option.from(dom.previousSibling).map(Element$$1.fromDom);\n    };\n\n    var nextSibling = function (element) {\n      var dom = element.dom();\n      return Option.from(dom.nextSibling).map(Element$$1.fromDom);\n    };\n\n    var prevSiblings = function (element) {\n      return reverse($_99zdh5wejnlpb5h8.toArray(element, prevSibling));\n    };\n\n    var nextSiblings = function (element) {\n      return $_99zdh5wejnlpb5h8.toArray(element, nextSibling);\n    };\n\n    var children = function (element) {\n      var dom = element.dom();\n      return map(dom.childNodes, Element$$1.fromDom);\n    };\n\n    var child = function (element, index) {\n      var children = element.dom().childNodes;\n      return Option.from(children[index]).map(Element$$1.fromDom);\n    };\n\n    var firstChild = function (element) {\n      return child(element, 0);\n    };\n\n    var lastChild = function (element) {\n      return child(element, element.dom().childNodes.length - 1);\n    };\n\n    var childNodesCount = function (element) {\n      return element.dom().childNodes.length;\n    };\n\n    var hasChildNodes = function (element) {\n      return element.dom().hasChildNodes();\n    };\n\n    var spot = Immutable('element', 'offset');\n\n    var leaf = function (element, offset) {\n      var cs = children(element);\n      return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n    };\n\n    var $_bjcg3aw8jnlpb5gn = {\n      owner: owner,\n      defaultView: defaultView,\n      documentElement: documentElement,\n      parent: parent,\n      findIndex: findIndex$1,\n      parents: parents,\n      siblings: siblings,\n      prevSibling: prevSibling,\n      offsetParent: offsetParent,\n      prevSiblings: prevSiblings,\n      nextSibling: nextSibling,\n      nextSiblings: nextSiblings,\n      children: children,\n      child: child,\n      firstChild: firstChild,\n      lastChild: lastChild,\n      childNodesCount: childNodesCount,\n      hasChildNodes: hasChildNodes,\n      leaf: leaf\n    };\n\n    var all$1 = function (predicate) {\n      return descendants($_eyy768w4jnlpb5gd.body(), predicate);\n    };\n\n    var ancestors = function (scope, predicate, isRoot) {\n      return filter($_bjcg3aw8jnlpb5gn.parents(scope, isRoot), predicate);\n    };\n\n    var siblings$1 = function (scope, predicate) {\n      return filter($_bjcg3aw8jnlpb5gn.siblings(scope), predicate);\n    };\n\n    var children$1 = function (scope, predicate) {\n      return filter($_bjcg3aw8jnlpb5gn.children(scope), predicate);\n    };\n\n    var descendants = function (scope, predicate) {\n      var result = [];\n      each($_bjcg3aw8jnlpb5gn.children(scope), function (x) {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n\n        result = result.concat(descendants(x, predicate));\n      });\n      return result;\n    };\n\n    var $_cac83tw3jnlpb5ga = {\n      all: all$1,\n      ancestors: ancestors,\n      siblings: siblings$1,\n      children: children$1,\n      descendants: descendants\n    };\n\n    var all$2 = function (selector) {\n      return $_7lblvdwvjnlpb5j4.all(selector);\n    };\n\n    var ancestors$1 = function (scope, selector, isRoot) {\n      return $_cac83tw3jnlpb5ga.ancestors(scope, function (e) {\n        return $_7lblvdwvjnlpb5j4.is(e, selector);\n      }, isRoot);\n    };\n\n    var siblings$2 = function (scope, selector) {\n      return $_cac83tw3jnlpb5ga.siblings(scope, function (e) {\n        return $_7lblvdwvjnlpb5j4.is(e, selector);\n      });\n    };\n\n    var children$2 = function (scope, selector) {\n      return $_cac83tw3jnlpb5ga.children(scope, function (e) {\n        return $_7lblvdwvjnlpb5j4.is(e, selector);\n      });\n    };\n\n    var descendants$1 = function (scope, selector) {\n      return $_7lblvdwvjnlpb5j4.all(selector, scope);\n    };\n\n    var $_68zznuw2jnlpb5g8 = {\n      all: all$2,\n      ancestors: ancestors$1,\n      siblings: siblings$2,\n      children: children$2,\n      descendants: descendants$1\n    };\n    var trim$1 = global$2.trim;\n\n    var hasContentEditableState = function (value) {\n      return function (node) {\n        if (node && node.nodeType === 1) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n\n        return false;\n      };\n    };\n\n    var isContentEditableTrue = hasContentEditableState('true');\n    var isContentEditableFalse = hasContentEditableState('false');\n\n    var create = function (type, title, url, level, attach) {\n      return {\n        type: type,\n        title: title,\n        url: url,\n        level: level,\n        attach: attach\n      };\n    };\n\n    var isChildOfContentEditableTrue = function (node) {\n      while (node = node.parentNode) {\n        var value = node.contentEditable;\n\n        if (value && value !== 'inherit') {\n          return isContentEditableTrue(node);\n        }\n      }\n\n      return false;\n    };\n\n    var select = function (selector, root) {\n      return map($_68zznuw2jnlpb5g8.descendants(Element$$1.fromDom(root), selector), function (element) {\n        return element.dom();\n      });\n    };\n\n    var getElementText = function (elm) {\n      return elm.innerText || elm.textContent;\n    };\n\n    var getOrGenerateId = function (elm) {\n      return elm.id ? elm.id : generate('h');\n    };\n\n    var isAnchor = function (elm) {\n      return elm && elm.nodeName === 'A' && (elm.id || elm.name);\n    };\n\n    var isValidAnchor = function (elm) {\n      return isAnchor(elm) && isEditable(elm);\n    };\n\n    var isHeader = function (elm) {\n      return elm && /^(H[1-6])$/.test(elm.nodeName);\n    };\n\n    var isEditable = function (elm) {\n      return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n    };\n\n    var isValidHeader = function (elm) {\n      return isHeader(elm) && isEditable(elm);\n    };\n\n    var getLevel = function (elm) {\n      return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n    };\n\n    var headerTarget = function (elm) {\n      var headerId = getOrGenerateId(elm);\n\n      var attach = function () {\n        elm.id = headerId;\n      };\n\n      return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n    };\n\n    var anchorTarget = function (elm) {\n      var anchorId = elm.id || elm.name;\n      var anchorText = getElementText(elm);\n      return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n    };\n\n    var getHeaderTargets = function (elms) {\n      return map(filter(elms, isValidHeader), headerTarget);\n    };\n\n    var getAnchorTargets = function (elms) {\n      return map(filter(elms, isValidAnchor), anchorTarget);\n    };\n\n    var getTargetElements = function (elm) {\n      var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n      return elms;\n    };\n\n    var hasTitle = function (target) {\n      return trim$1(target.title).length > 0;\n    };\n\n    var find$3 = function (elm) {\n      var elms = getTargetElements(elm);\n      return filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n    };\n\n    var $_73vvu4vzjnlpb5fn = {\n      find: find$3\n    };\n\n    var getActiveEditor = function () {\n      return window.tinymce ? window.tinymce.activeEditor : global$1.activeEditor;\n    };\n\n    var history = {};\n    var HISTORY_LENGTH = 5;\n\n    var clearHistory = function () {\n      history = {};\n    };\n\n    var toMenuItem = function (target) {\n      return {\n        title: target.title,\n        value: {\n          title: {\n            raw: target.title\n          },\n          url: target.url,\n          attach: target.attach\n        }\n      };\n    };\n\n    var toMenuItems = function (targets) {\n      return global$2.map(targets, toMenuItem);\n    };\n\n    var staticMenuItem = function (title, url) {\n      return {\n        title: title,\n        value: {\n          title: title,\n          url: url,\n          attach: noop\n        }\n      };\n    };\n\n    var isUniqueUrl = function (url, targets) {\n      var foundTarget = exists(targets, function (target) {\n        return target.url === url;\n      });\n      return !foundTarget;\n    };\n\n    var getSetting = function (editorSettings, name, defaultValue) {\n      var value = name in editorSettings ? editorSettings[name] : defaultValue;\n      return value === false ? null : value;\n    };\n\n    var createMenuItems = function (term, targets, fileType, editorSettings) {\n      var separator = {\n        title: '-'\n      };\n\n      var fromHistoryMenuItems = function (history) {\n        var historyItems = history.hasOwnProperty(fileType) ? history[fileType] : [];\n        var uniqueHistory = filter(historyItems, function (url) {\n          return isUniqueUrl(url, targets);\n        });\n        return global$2.map(uniqueHistory, function (url) {\n          return {\n            title: url,\n            value: {\n              title: url,\n              url: url,\n              attach: noop\n            }\n          };\n        });\n      };\n\n      var fromMenuItems = function (type) {\n        var filteredTargets = filter(targets, function (target) {\n          return target.type === type;\n        });\n        return toMenuItems(filteredTargets);\n      };\n\n      var anchorMenuItems = function () {\n        var anchorMenuItems = fromMenuItems('anchor');\n        var topAnchor = getSetting(editorSettings, 'anchor_top', '#top');\n        var bottomAchor = getSetting(editorSettings, 'anchor_bottom', '#bottom');\n\n        if (topAnchor !== null) {\n          anchorMenuItems.unshift(staticMenuItem('<top>', topAnchor));\n        }\n\n        if (bottomAchor !== null) {\n          anchorMenuItems.push(staticMenuItem('<bottom>', bottomAchor));\n        }\n\n        return anchorMenuItems;\n      };\n\n      var join = function (items) {\n        return foldl(items, function (a, b) {\n          var bothEmpty = a.length === 0 || b.length === 0;\n          return bothEmpty ? a.concat(b) : a.concat(separator, b);\n        }, []);\n      };\n\n      if (editorSettings.typeahead_urls === false) {\n        return [];\n      }\n\n      return fileType === 'file' ? join([filterByQuery(term, fromHistoryMenuItems(history)), filterByQuery(term, fromMenuItems('header')), filterByQuery(term, anchorMenuItems())]) : filterByQuery(term, fromHistoryMenuItems(history));\n    };\n\n    var addToHistory = function (url, fileType) {\n      var items = history[fileType];\n\n      if (!/^https?/.test(url)) {\n        return;\n      }\n\n      if (items) {\n        if (indexOf(items, url).isNone()) {\n          history[fileType] = items.slice(0, HISTORY_LENGTH).concat(url);\n        }\n      } else {\n        history[fileType] = [url];\n      }\n    };\n\n    var filterByQuery = function (term, menuItems) {\n      var lowerCaseTerm = term.toLowerCase();\n      var result = global$2.grep(menuItems, function (item) {\n        return item.title.toLowerCase().indexOf(lowerCaseTerm) !== -1;\n      });\n      return result.length === 1 && result[0].title === term ? [] : result;\n    };\n\n    var getTitle = function (linkDetails) {\n      var title = linkDetails.title;\n      return title.raw ? title.raw : title;\n    };\n\n    var setupAutoCompleteHandler = function (ctrl, editorSettings, bodyElm, fileType) {\n      var autocomplete = function (term) {\n        var linkTargets = $_73vvu4vzjnlpb5fn.find(bodyElm);\n        var menuItems = createMenuItems(term, linkTargets, fileType, editorSettings);\n        ctrl.showAutoComplete(menuItems, term);\n      };\n\n      ctrl.on('autocomplete', function () {\n        autocomplete(ctrl.value());\n      });\n      ctrl.on('selectitem', function (e) {\n        var linkDetails = e.value;\n        ctrl.value(linkDetails.url);\n        var title = getTitle(linkDetails);\n\n        if (fileType === 'image') {\n          ctrl.fire('change', {\n            meta: {\n              alt: title,\n              attach: linkDetails.attach\n            }\n          });\n        } else {\n          ctrl.fire('change', {\n            meta: {\n              text: title,\n              attach: linkDetails.attach\n            }\n          });\n        }\n\n        ctrl.focus();\n      });\n      ctrl.on('click', function (e) {\n        if (ctrl.value().length === 0 && e.target.nodeName === 'INPUT') {\n          autocomplete('');\n        }\n      });\n      ctrl.on('PostRender', function () {\n        ctrl.getRoot().on('submit', function (e) {\n          if (!e.isDefaultPrevented()) {\n            addToHistory(ctrl.value(), fileType);\n          }\n        });\n      });\n    };\n\n    var statusToUiState = function (result) {\n      var status = result.status,\n          message = result.message;\n\n      if (status === 'valid') {\n        return {\n          status: 'ok',\n          message: message\n        };\n      } else if (status === 'unknown') {\n        return {\n          status: 'warn',\n          message: message\n        };\n      } else if (status === 'invalid') {\n        return {\n          status: 'warn',\n          message: message\n        };\n      } else {\n        return {\n          status: 'none',\n          message: ''\n        };\n      }\n    };\n\n    var setupLinkValidatorHandler = function (ctrl, editorSettings, fileType) {\n      var validatorHandler = editorSettings.filepicker_validator_handler;\n\n      if (validatorHandler) {\n        var validateUrl_1 = function (url) {\n          if (url.length === 0) {\n            ctrl.statusLevel('none');\n            return;\n          }\n\n          validatorHandler({\n            url: url,\n            type: fileType\n          }, function (result) {\n            var uiState = statusToUiState(result);\n            ctrl.statusMessage(uiState.message);\n            ctrl.statusLevel(uiState.status);\n          });\n        };\n\n        ctrl.state.on('change:value', function (e) {\n          validateUrl_1(e.value);\n        });\n      }\n    };\n\n    var FilePicker = ComboBox.extend({\n      Statics: {\n        clearHistory: clearHistory\n      },\n      init: function (settings) {\n        var self = this,\n            editor = getActiveEditor(),\n            editorSettings = editor.settings;\n        var actionCallback, fileBrowserCallback, fileBrowserCallbackTypes;\n        var fileType = settings.filetype;\n        settings.spellcheck = false;\n        fileBrowserCallbackTypes = editorSettings.file_picker_types || editorSettings.file_browser_callback_types;\n\n        if (fileBrowserCallbackTypes) {\n          fileBrowserCallbackTypes = global$2.makeMap(fileBrowserCallbackTypes, /[, ]/);\n        }\n\n        if (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType]) {\n          fileBrowserCallback = editorSettings.file_picker_callback;\n\n          if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\n            actionCallback = function () {\n              var meta = self.fire('beforecall').meta;\n              meta = global$2.extend({\n                filetype: fileType\n              }, meta);\n              fileBrowserCallback.call(editor, function (value, meta) {\n                self.value(value).fire('change', {\n                  meta: meta\n                });\n              }, self.value(), meta);\n            };\n          } else {\n            fileBrowserCallback = editorSettings.file_browser_callback;\n\n            if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\n              actionCallback = function () {\n                fileBrowserCallback(self.getEl('inp').id, self.value(), fileType, window);\n              };\n            }\n          }\n        }\n\n        if (actionCallback) {\n          settings.icon = 'browse';\n          settings.onaction = actionCallback;\n        }\n\n        self._super(settings);\n\n        self.classes.add('filepicker');\n        setupAutoCompleteHandler(self, editorSettings, editor.getBody(), fileType);\n        setupLinkValidatorHandler(self, editorSettings, fileType);\n      }\n    });\n    var FitLayout = AbsoluteLayout.extend({\n      recalc: function (container) {\n        var contLayoutRect = container.layoutRect(),\n            paddingBox = container.paddingBox;\n        container.items().filter(':visible').each(function (ctrl) {\n          ctrl.layoutRect({\n            x: paddingBox.left,\n            y: paddingBox.top,\n            w: contLayoutRect.innerW - paddingBox.right - paddingBox.left,\n            h: contLayoutRect.innerH - paddingBox.top - paddingBox.bottom\n          });\n\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n        });\n      }\n    });\n    var FlexLayout = AbsoluteLayout.extend({\n      recalc: function (container) {\n        var i, l, items, contLayoutRect, contPaddingBox, contSettings, align, pack, spacing, totalFlex, availableSpace, direction;\n        var ctrl, ctrlLayoutRect, ctrlSettings, flex;\n        var maxSizeItems = [];\n        var size, maxSize, ratio, rect, pos, maxAlignEndPos;\n        var sizeName, minSizeName, posName, maxSizeName, beforeName, innerSizeName, deltaSizeName, contentSizeName;\n        var alignAxisName, alignInnerSizeName, alignSizeName, alignMinSizeName, alignBeforeName, alignAfterName;\n        var alignDeltaSizeName, alignContentSizeName;\n        var max = Math.max,\n            min = Math.min;\n        items = container.items().filter(':visible');\n        contLayoutRect = container.layoutRect();\n        contPaddingBox = container.paddingBox;\n        contSettings = container.settings;\n        direction = container.isRtl() ? contSettings.direction || 'row-reversed' : contSettings.direction;\n        align = contSettings.align;\n        pack = container.isRtl() ? contSettings.pack || 'end' : contSettings.pack;\n        spacing = contSettings.spacing || 0;\n\n        if (direction === 'row-reversed' || direction === 'column-reverse') {\n          items = items.set(items.toArray().reverse());\n          direction = direction.split('-')[0];\n        }\n\n        if (direction === 'column') {\n          posName = 'y';\n          sizeName = 'h';\n          minSizeName = 'minH';\n          maxSizeName = 'maxH';\n          innerSizeName = 'innerH';\n          beforeName = 'top';\n          deltaSizeName = 'deltaH';\n          contentSizeName = 'contentH';\n          alignBeforeName = 'left';\n          alignSizeName = 'w';\n          alignAxisName = 'x';\n          alignInnerSizeName = 'innerW';\n          alignMinSizeName = 'minW';\n          alignAfterName = 'right';\n          alignDeltaSizeName = 'deltaW';\n          alignContentSizeName = 'contentW';\n        } else {\n          posName = 'x';\n          sizeName = 'w';\n          minSizeName = 'minW';\n          maxSizeName = 'maxW';\n          innerSizeName = 'innerW';\n          beforeName = 'left';\n          deltaSizeName = 'deltaW';\n          contentSizeName = 'contentW';\n          alignBeforeName = 'top';\n          alignSizeName = 'h';\n          alignAxisName = 'y';\n          alignInnerSizeName = 'innerH';\n          alignMinSizeName = 'minH';\n          alignAfterName = 'bottom';\n          alignDeltaSizeName = 'deltaH';\n          alignContentSizeName = 'contentH';\n        }\n\n        availableSpace = contLayoutRect[innerSizeName] - contPaddingBox[beforeName] - contPaddingBox[beforeName];\n        maxAlignEndPos = totalFlex = 0;\n\n        for (i = 0, l = items.length; i < l; i++) {\n          ctrl = items[i];\n          ctrlLayoutRect = ctrl.layoutRect();\n          ctrlSettings = ctrl.settings;\n          flex = ctrlSettings.flex;\n          availableSpace -= i < l - 1 ? spacing : 0;\n\n          if (flex > 0) {\n            totalFlex += flex;\n\n            if (ctrlLayoutRect[maxSizeName]) {\n              maxSizeItems.push(ctrl);\n            }\n\n            ctrlLayoutRect.flex = flex;\n          }\n\n          availableSpace -= ctrlLayoutRect[minSizeName];\n          size = contPaddingBox[alignBeforeName] + ctrlLayoutRect[alignMinSizeName] + contPaddingBox[alignAfterName];\n\n          if (size > maxAlignEndPos) {\n            maxAlignEndPos = size;\n          }\n        }\n\n        rect = {};\n\n        if (availableSpace < 0) {\n          rect[minSizeName] = contLayoutRect[minSizeName] - availableSpace + contLayoutRect[deltaSizeName];\n        } else {\n          rect[minSizeName] = contLayoutRect[innerSizeName] - availableSpace + contLayoutRect[deltaSizeName];\n        }\n\n        rect[alignMinSizeName] = maxAlignEndPos + contLayoutRect[alignDeltaSizeName];\n        rect[contentSizeName] = contLayoutRect[innerSizeName] - availableSpace;\n        rect[alignContentSizeName] = maxAlignEndPos;\n        rect.minW = min(rect.minW, contLayoutRect.maxW);\n        rect.minH = min(rect.minH, contLayoutRect.maxH);\n        rect.minW = max(rect.minW, contLayoutRect.startMinWidth);\n        rect.minH = max(rect.minH, contLayoutRect.startMinHeight);\n\n        if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\n          rect.w = rect.minW;\n          rect.h = rect.minH;\n          container.layoutRect(rect);\n          this.recalc(container);\n\n          if (container._lastRect === null) {\n            var parentCtrl = container.parent();\n\n            if (parentCtrl) {\n              parentCtrl._lastRect = null;\n              parentCtrl.recalc();\n            }\n          }\n\n          return;\n        }\n\n        ratio = availableSpace / totalFlex;\n\n        for (i = 0, l = maxSizeItems.length; i < l; i++) {\n          ctrl = maxSizeItems[i];\n          ctrlLayoutRect = ctrl.layoutRect();\n          maxSize = ctrlLayoutRect[maxSizeName];\n          size = ctrlLayoutRect[minSizeName] + ctrlLayoutRect.flex * ratio;\n\n          if (size > maxSize) {\n            availableSpace -= ctrlLayoutRect[maxSizeName] - ctrlLayoutRect[minSizeName];\n            totalFlex -= ctrlLayoutRect.flex;\n            ctrlLayoutRect.flex = 0;\n            ctrlLayoutRect.maxFlexSize = maxSize;\n          } else {\n            ctrlLayoutRect.maxFlexSize = 0;\n          }\n        }\n\n        ratio = availableSpace / totalFlex;\n        pos = contPaddingBox[beforeName];\n        rect = {};\n\n        if (totalFlex === 0) {\n          if (pack === 'end') {\n            pos = availableSpace + contPaddingBox[beforeName];\n          } else if (pack === 'center') {\n            pos = Math.round(contLayoutRect[innerSizeName] / 2 - (contLayoutRect[innerSizeName] - availableSpace) / 2) + contPaddingBox[beforeName];\n\n            if (pos < 0) {\n              pos = contPaddingBox[beforeName];\n            }\n          } else if (pack === 'justify') {\n            pos = contPaddingBox[beforeName];\n            spacing = Math.floor(availableSpace / (items.length - 1));\n          }\n        }\n\n        rect[alignAxisName] = contPaddingBox[alignBeforeName];\n\n        for (i = 0, l = items.length; i < l; i++) {\n          ctrl = items[i];\n          ctrlLayoutRect = ctrl.layoutRect();\n          size = ctrlLayoutRect.maxFlexSize || ctrlLayoutRect[minSizeName];\n\n          if (align === 'center') {\n            rect[alignAxisName] = Math.round(contLayoutRect[alignInnerSizeName] / 2 - ctrlLayoutRect[alignSizeName] / 2);\n          } else if (align === 'stretch') {\n            rect[alignSizeName] = max(ctrlLayoutRect[alignMinSizeName] || 0, contLayoutRect[alignInnerSizeName] - contPaddingBox[alignBeforeName] - contPaddingBox[alignAfterName]);\n            rect[alignAxisName] = contPaddingBox[alignBeforeName];\n          } else if (align === 'end') {\n            rect[alignAxisName] = contLayoutRect[alignInnerSizeName] - ctrlLayoutRect[alignSizeName] - contPaddingBox.top;\n          }\n\n          if (ctrlLayoutRect.flex > 0) {\n            size += ctrlLayoutRect.flex * ratio;\n          }\n\n          rect[sizeName] = size;\n          rect[posName] = pos;\n          ctrl.layoutRect(rect);\n\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n\n          pos += size + spacing;\n        }\n      }\n    });\n    var FlowLayout = Layout.extend({\n      Defaults: {\n        containerClass: 'flow-layout',\n        controlClass: 'flow-layout-item',\n        endClass: 'break'\n      },\n      recalc: function (container) {\n        container.items().filter(':visible').each(function (ctrl) {\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n        });\n      },\n      isNative: function () {\n        return true;\n      }\n    });\n\n    function ClosestOrAncestor(is, ancestor, scope, a, isRoot) {\n      return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n    }\n\n    var first$1 = function (predicate) {\n      return descendant($_eyy768w4jnlpb5gd.body(), predicate);\n    };\n\n    var ancestor = function (scope, predicate, isRoot) {\n      var element = scope.dom();\n      var stop = isFunction(isRoot) ? isRoot : constant(false);\n\n      while (element.parentNode) {\n        element = element.parentNode;\n        var el = Element$$1.fromDom(element);\n        if (predicate(el)) return Option.some(el);else if (stop(el)) break;\n      }\n\n      return Option.none();\n    };\n\n    var closest = function (scope, predicate, isRoot) {\n      var is = function (scope) {\n        return predicate(scope);\n      };\n\n      return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n    };\n\n    var sibling = function (scope, predicate) {\n      var element = scope.dom();\n      if (!element.parentNode) return Option.none();\n      return child$1(Element$$1.fromDom(element.parentNode), function (x) {\n        return !$_dvypmswfjnlpb5h9.eq(scope, x) && predicate(x);\n      });\n    };\n\n    var child$1 = function (scope, predicate) {\n      var result = find(scope.dom().childNodes, compose(predicate, Element$$1.fromDom));\n      return result.map(Element$$1.fromDom);\n    };\n\n    var descendant = function (scope, predicate) {\n      var descend = function (node) {\n        for (var i = 0; i < node.childNodes.length; i++) {\n          if (predicate(Element$$1.fromDom(node.childNodes[i]))) return Option.some(Element$$1.fromDom(node.childNodes[i]));\n          var res = descend(node.childNodes[i]);\n          if (res.isSome()) return res;\n        }\n\n        return Option.none();\n      };\n\n      return descend(scope.dom());\n    };\n\n    var $_djyk0qx1jnlpb5jw = {\n      first: first$1,\n      ancestor: ancestor,\n      closest: closest,\n      sibling: sibling,\n      child: child$1,\n      descendant: descendant\n    };\n\n    var first$2 = function (selector) {\n      return $_7lblvdwvjnlpb5j4.one(selector);\n    };\n\n    var ancestor$1 = function (scope, selector, isRoot) {\n      return $_djyk0qx1jnlpb5jw.ancestor(scope, function (e) {\n        return $_7lblvdwvjnlpb5j4.is(e, selector);\n      }, isRoot);\n    };\n\n    var sibling$1 = function (scope, selector) {\n      return $_djyk0qx1jnlpb5jw.sibling(scope, function (e) {\n        return $_7lblvdwvjnlpb5j4.is(e, selector);\n      });\n    };\n\n    var child$2 = function (scope, selector) {\n      return $_djyk0qx1jnlpb5jw.child(scope, function (e) {\n        return $_7lblvdwvjnlpb5j4.is(e, selector);\n      });\n    };\n\n    var descendant$1 = function (scope, selector) {\n      return $_7lblvdwvjnlpb5j4.one(selector, scope);\n    };\n\n    var closest$1 = function (scope, selector, isRoot) {\n      return ClosestOrAncestor($_7lblvdwvjnlpb5j4.is, ancestor$1, scope, selector, isRoot);\n    };\n\n    var $_gafa38x0jnlpb5jo = {\n      first: first$2,\n      ancestor: ancestor$1,\n      sibling: sibling$1,\n      child: child$2,\n      descendant: descendant$1,\n      closest: closest$1\n    };\n\n    var toggleFormat = function (editor, fmt) {\n      return function () {\n        editor.execCommand('mceToggleFormat', false, fmt);\n      };\n    };\n\n    var addFormatChangedListener = function (editor, name, changed) {\n      var handler = function (state) {\n        changed(state, name);\n      };\n\n      if (editor.formatter) {\n        editor.formatter.formatChanged(name, handler);\n      } else {\n        editor.on('init', function () {\n          editor.formatter.formatChanged(name, handler);\n        });\n      }\n    };\n\n    var postRenderFormatToggle = function (editor, name) {\n      return function (e) {\n        addFormatChangedListener(editor, name, function (state) {\n          e.control.active(state);\n        });\n      };\n    };\n\n    var register = function (editor) {\n      var alignFormats = ['alignleft', 'aligncenter', 'alignright', 'alignjustify'];\n      var defaultAlign = 'alignleft';\n      var alignMenuItems = [{\n        text: 'Left',\n        icon: 'alignleft',\n        onclick: toggleFormat(editor, 'alignleft')\n      }, {\n        text: 'Center',\n        icon: 'aligncenter',\n        onclick: toggleFormat(editor, 'aligncenter')\n      }, {\n        text: 'Right',\n        icon: 'alignright',\n        onclick: toggleFormat(editor, 'alignright')\n      }, {\n        text: 'Justify',\n        icon: 'alignjustify',\n        onclick: toggleFormat(editor, 'alignjustify')\n      }];\n      editor.addMenuItem('align', {\n        text: 'Align',\n        menu: alignMenuItems\n      });\n      editor.addButton('align', {\n        type: 'menubutton',\n        icon: defaultAlign,\n        menu: alignMenuItems,\n        onShowMenu: function (e) {\n          var menu = e.control.menu;\n          global$2.each(alignFormats, function (formatName, idx) {\n            menu.items().eq(idx).each(function (item) {\n              return item.active(editor.formatter.match(formatName));\n            });\n          });\n        },\n        onPostRender: function (e) {\n          var ctrl = e.control;\n          global$2.each(alignFormats, function (formatName, idx) {\n            addFormatChangedListener(editor, formatName, function (state) {\n              ctrl.icon(defaultAlign);\n\n              if (state) {\n                ctrl.icon(formatName);\n              }\n            });\n          });\n        }\n      });\n      global$2.each({\n        alignleft: ['Align left', 'JustifyLeft'],\n        aligncenter: ['Align center', 'JustifyCenter'],\n        alignright: ['Align right', 'JustifyRight'],\n        alignjustify: ['Justify', 'JustifyFull'],\n        alignnone: ['No alignment', 'JustifyNone']\n      }, function (item, name) {\n        editor.addButton(name, {\n          active: false,\n          tooltip: item[0],\n          cmd: item[1],\n          onPostRender: postRenderFormatToggle(editor, name)\n        });\n      });\n    };\n\n    var $_38gylwx3jnlpb5kc = {\n      register: register\n    };\n\n    var getFirstFont = function (fontFamily) {\n      return fontFamily ? fontFamily.split(',')[0] : '';\n    };\n\n    var findMatchingValue = function (items, fontFamily) {\n      var font = fontFamily ? fontFamily.toLowerCase() : '';\n      var value;\n      global$2.each(items, function (item) {\n        if (item.value.toLowerCase() === font) {\n          value = item.value;\n        }\n      });\n      global$2.each(items, function (item) {\n        if (!value && getFirstFont(item.value).toLowerCase() === getFirstFont(font).toLowerCase()) {\n          value = item.value;\n        }\n      });\n      return value;\n    };\n\n    var createFontNameListBoxChangeHandler = function (editor, items) {\n      return function () {\n        var self = this;\n        self.state.set('value', null);\n        editor.on('init nodeChange', function (e) {\n          var fontFamily = editor.queryCommandValue('FontName');\n          var match = findMatchingValue(items, fontFamily);\n          self.value(match ? match : null);\n\n          if (!match && fontFamily) {\n            self.text(getFirstFont(fontFamily));\n          }\n        });\n      };\n    };\n\n    var createFormats = function (formats) {\n      formats = formats.replace(/;$/, '').split(';');\n      var i = formats.length;\n\n      while (i--) {\n        formats[i] = formats[i].split('=');\n      }\n\n      return formats;\n    };\n\n    var getFontItems = function (editor) {\n      var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n      var fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);\n      return global$2.map(fonts, function (font) {\n        return {\n          text: {\n            raw: font[0]\n          },\n          value: font[1],\n          textStyle: font[1].indexOf('dings') === -1 ? 'font-family:' + font[1] : ''\n        };\n      });\n    };\n\n    var registerButtons = function (editor) {\n      editor.addButton('fontselect', function () {\n        var items = getFontItems(editor);\n        return {\n          type: 'listbox',\n          text: 'Font Family',\n          tooltip: 'Font Family',\n          values: items,\n          fixedWidth: true,\n          onPostRender: createFontNameListBoxChangeHandler(editor, items),\n          onselect: function (e) {\n            if (e.control.settings.value) {\n              editor.execCommand('FontName', false, e.control.settings.value);\n            }\n          }\n        };\n      });\n    };\n\n    var register$1 = function (editor) {\n      registerButtons(editor);\n    };\n\n    var $_d4vvsqx5jnlpb5kf = {\n      register: register$1\n    };\n\n    var round = function (number, precision) {\n      var factor = Math.pow(10, precision);\n      return Math.round(number * factor) / factor;\n    };\n\n    var toPt = function (fontSize, precision) {\n      if (/[0-9.]+px$/.test(fontSize)) {\n        return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n      }\n\n      return fontSize;\n    };\n\n    var findMatchingValue$1 = function (items, pt, px) {\n      var value;\n      global$2.each(items, function (item) {\n        if (item.value === px) {\n          value = px;\n        } else if (item.value === pt) {\n          value = pt;\n        }\n      });\n      return value;\n    };\n\n    var createFontSizeListBoxChangeHandler = function (editor, items) {\n      return function () {\n        var self = this;\n        editor.on('init nodeChange', function (e) {\n          var px, pt, precision, match;\n          px = editor.queryCommandValue('FontSize');\n\n          if (px) {\n            for (precision = 3; !match && precision >= 0; precision--) {\n              pt = toPt(px, precision);\n              match = findMatchingValue$1(items, pt, px);\n            }\n          }\n\n          self.value(match ? match : null);\n\n          if (!match) {\n            self.text(pt);\n          }\n        });\n      };\n    };\n\n    var getFontSizeItems = function (editor) {\n      var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n      var fontsizeFormats = editor.settings.fontsize_formats || defaultFontsizeFormats;\n      return global$2.map(fontsizeFormats.split(' '), function (item) {\n        var text = item,\n            value = item;\n        var values = item.split('=');\n\n        if (values.length > 1) {\n          text = values[0];\n          value = values[1];\n        }\n\n        return {\n          text: text,\n          value: value\n        };\n      });\n    };\n\n    var registerButtons$1 = function (editor) {\n      editor.addButton('fontsizeselect', function () {\n        var items = getFontSizeItems(editor);\n        return {\n          type: 'listbox',\n          text: 'Font Sizes',\n          tooltip: 'Font Sizes',\n          values: items,\n          fixedWidth: true,\n          onPostRender: createFontSizeListBoxChangeHandler(editor, items),\n          onclick: function (e) {\n            if (e.control.settings.value) {\n              editor.execCommand('FontSize', false, e.control.settings.value);\n            }\n          }\n        };\n      });\n    };\n\n    var register$2 = function (editor) {\n      registerButtons$1(editor);\n    };\n\n    var $_2ch5e1x6jnlpb5ki = {\n      register: register$2\n    };\n\n    var hideMenuObjects = function (editor, menu) {\n      var count = menu.length;\n      global$2.each(menu, function (item) {\n        if (item.menu) {\n          item.hidden = hideMenuObjects(editor, item.menu) === 0;\n        }\n\n        var formatName = item.format;\n\n        if (formatName) {\n          item.hidden = !editor.formatter.canApply(formatName);\n        }\n\n        if (item.hidden) {\n          count--;\n        }\n      });\n      return count;\n    };\n\n    var hideFormatMenuItems = function (editor, menu) {\n      var count = menu.items().length;\n      menu.items().each(function (item) {\n        if (item.menu) {\n          item.visible(hideFormatMenuItems(editor, item.menu) > 0);\n        }\n\n        if (!item.menu && item.settings.menu) {\n          item.visible(hideMenuObjects(editor, item.settings.menu) > 0);\n        }\n\n        var formatName = item.settings.format;\n\n        if (formatName) {\n          item.visible(editor.formatter.canApply(formatName));\n        }\n\n        if (!item.visible()) {\n          count--;\n        }\n      });\n      return count;\n    };\n\n    var createFormatMenu = function (editor) {\n      var count = 0;\n      var newFormats = [];\n      var defaultStyleFormats = [{\n        title: 'Headings',\n        items: [{\n          title: 'Heading 1',\n          format: 'h1'\n        }, {\n          title: 'Heading 2',\n          format: 'h2'\n        }, {\n          title: 'Heading 3',\n          format: 'h3'\n        }, {\n          title: 'Heading 4',\n          format: 'h4'\n        }, {\n          title: 'Heading 5',\n          format: 'h5'\n        }, {\n          title: 'Heading 6',\n          format: 'h6'\n        }]\n      }, {\n        title: 'Inline',\n        items: [{\n          title: 'Bold',\n          icon: 'bold',\n          format: 'bold'\n        }, {\n          title: 'Italic',\n          icon: 'italic',\n          format: 'italic'\n        }, {\n          title: 'Underline',\n          icon: 'underline',\n          format: 'underline'\n        }, {\n          title: 'Strikethrough',\n          icon: 'strikethrough',\n          format: 'strikethrough'\n        }, {\n          title: 'Superscript',\n          icon: 'superscript',\n          format: 'superscript'\n        }, {\n          title: 'Subscript',\n          icon: 'subscript',\n          format: 'subscript'\n        }, {\n          title: 'Code',\n          icon: 'code',\n          format: 'code'\n        }]\n      }, {\n        title: 'Blocks',\n        items: [{\n          title: 'Paragraph',\n          format: 'p'\n        }, {\n          title: 'Blockquote',\n          format: 'blockquote'\n        }, {\n          title: 'Div',\n          format: 'div'\n        }, {\n          title: 'Pre',\n          format: 'pre'\n        }]\n      }, {\n        title: 'Alignment',\n        items: [{\n          title: 'Left',\n          icon: 'alignleft',\n          format: 'alignleft'\n        }, {\n          title: 'Center',\n          icon: 'aligncenter',\n          format: 'aligncenter'\n        }, {\n          title: 'Right',\n          icon: 'alignright',\n          format: 'alignright'\n        }, {\n          title: 'Justify',\n          icon: 'alignjustify',\n          format: 'alignjustify'\n        }]\n      }];\n\n      var createMenu = function (formats) {\n        var menu = [];\n\n        if (!formats) {\n          return;\n        }\n\n        global$2.each(formats, function (format) {\n          var menuItem = {\n            text: format.title,\n            icon: format.icon\n          };\n\n          if (format.items) {\n            menuItem.menu = createMenu(format.items);\n          } else {\n            var formatName = format.format || 'custom' + count++;\n\n            if (!format.format) {\n              format.name = formatName;\n              newFormats.push(format);\n            }\n\n            menuItem.format = formatName;\n            menuItem.cmd = format.cmd;\n          }\n\n          menu.push(menuItem);\n        });\n        return menu;\n      };\n\n      var createStylesMenu = function () {\n        var menu;\n\n        if (editor.settings.style_formats_merge) {\n          if (editor.settings.style_formats) {\n            menu = createMenu(defaultStyleFormats.concat(editor.settings.style_formats));\n          } else {\n            menu = createMenu(defaultStyleFormats);\n          }\n        } else {\n          menu = createMenu(editor.settings.style_formats || defaultStyleFormats);\n        }\n\n        return menu;\n      };\n\n      editor.on('init', function () {\n        global$2.each(newFormats, function (format) {\n          editor.formatter.register(format.name, format);\n        });\n      });\n      return {\n        type: 'menu',\n        items: createStylesMenu(),\n        onPostRender: function (e) {\n          editor.fire('renderFormatsMenu', {\n            control: e.control\n          });\n        },\n        itemDefaults: {\n          preview: true,\n          textStyle: function () {\n            if (this.settings.format) {\n              return editor.formatter.getCssText(this.settings.format);\n            }\n          },\n          onPostRender: function () {\n            var self = this;\n            self.parent().on('show', function () {\n              var formatName, command;\n              formatName = self.settings.format;\n\n              if (formatName) {\n                self.disabled(!editor.formatter.canApply(formatName));\n                self.active(editor.formatter.match(formatName));\n              }\n\n              command = self.settings.cmd;\n\n              if (command) {\n                self.active(editor.queryCommandState(command));\n              }\n            });\n          },\n          onclick: function () {\n            if (this.settings.format) {\n              toggleFormat(editor, this.settings.format)();\n            }\n\n            if (this.settings.cmd) {\n              editor.execCommand(this.settings.cmd);\n            }\n          }\n        }\n      };\n    };\n\n    var registerMenuItems = function (editor, formatMenu) {\n      editor.addMenuItem('formats', {\n        text: 'Formats',\n        menu: formatMenu\n      });\n    };\n\n    var registerButtons$2 = function (editor, formatMenu) {\n      editor.addButton('styleselect', {\n        type: 'menubutton',\n        text: 'Formats',\n        menu: formatMenu,\n        onShowMenu: function () {\n          if (editor.settings.style_formats_autohide) {\n            hideFormatMenuItems(editor, this.menu);\n          }\n        }\n      });\n    };\n\n    var register$3 = function (editor) {\n      var formatMenu = createFormatMenu(editor);\n      registerMenuItems(editor, formatMenu);\n      registerButtons$2(editor, formatMenu);\n    };\n\n    var $_ccldm5x7jnlpb5kl = {\n      register: register$3\n    };\n    var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n\n    var createFormats$1 = function (formats) {\n      formats = formats.replace(/;$/, '').split(';');\n      var i = formats.length;\n\n      while (i--) {\n        formats[i] = formats[i].split('=');\n      }\n\n      return formats;\n    };\n\n    var createListBoxChangeHandler = function (editor, items, formatName) {\n      return function () {\n        var self = this;\n        editor.on('nodeChange', function (e) {\n          var formatter = editor.formatter;\n          var value = null;\n          global$2.each(e.parents, function (node) {\n            global$2.each(items, function (item) {\n              if (formatName) {\n                if (formatter.matchNode(node, formatName, {\n                  value: item.value\n                })) {\n                  value = item.value;\n                }\n              } else {\n                if (formatter.matchNode(node, item.value)) {\n                  value = item.value;\n                }\n              }\n\n              if (value) {\n                return false;\n              }\n            });\n\n            if (value) {\n              return false;\n            }\n          });\n          self.value(value);\n        });\n      };\n    };\n\n    var lazyFormatSelectBoxItems = function (editor, blocks) {\n      return function () {\n        var items = [];\n        global$2.each(blocks, function (block) {\n          items.push({\n            text: block[0],\n            value: block[1],\n            textStyle: function () {\n              return editor.formatter.getCssText(block[1]);\n            }\n          });\n        });\n        return {\n          type: 'listbox',\n          text: blocks[0][0],\n          values: items,\n          fixedWidth: true,\n          onselect: function (e) {\n            if (e.control) {\n              var fmt = e.control.value();\n              toggleFormat(editor, fmt)();\n            }\n          },\n          onPostRender: createListBoxChangeHandler(editor, items)\n        };\n      };\n    };\n\n    var buildMenuItems = function (editor, blocks) {\n      return global$2.map(blocks, function (block) {\n        return {\n          text: block[0],\n          onclick: toggleFormat(editor, block[1]),\n          textStyle: function () {\n            return editor.formatter.getCssText(block[1]);\n          }\n        };\n      });\n    };\n\n    var register$4 = function (editor) {\n      var blocks = createFormats$1(editor.settings.block_formats || defaultBlocks);\n      editor.addMenuItem('blockformats', {\n        text: 'Blocks',\n        menu: buildMenuItems(editor, blocks)\n      });\n      editor.addButton('formatselect', lazyFormatSelectBoxItems(editor, blocks));\n    };\n\n    var $_dsifr2x8jnlpb5kq = {\n      register: register$4\n    };\n\n    var createCustomMenuItems = function (editor, names) {\n      var items, nameList;\n\n      if (typeof names === 'string') {\n        nameList = names.split(' ');\n      } else if (global$2.isArray(names)) {\n        return flatten(global$2.map(names, function (names) {\n          return createCustomMenuItems(editor, names);\n        }));\n      }\n\n      items = global$2.grep(nameList, function (name) {\n        return name === '|' || name in editor.menuItems;\n      });\n      return global$2.map(items, function (name) {\n        return name === '|' ? {\n          text: '-'\n        } : editor.menuItems[name];\n      });\n    };\n\n    var isSeparator$1 = function (menuItem) {\n      return menuItem && menuItem.text === '-';\n    };\n\n    var trimMenuItems = function (menuItems) {\n      var menuItems2 = filter(menuItems, function (menuItem, i, menuItems) {\n        return !isSeparator$1(menuItem) || !isSeparator$1(menuItems[i - 1]);\n      });\n      return filter(menuItems2, function (menuItem, i, menuItems) {\n        return !isSeparator$1(menuItem) || i > 0 && i < menuItems.length - 1;\n      });\n    };\n\n    var createContextMenuItems = function (editor, context) {\n      var outputMenuItems = [{\n        text: '-'\n      }];\n      var menuItems = global$2.grep(editor.menuItems, function (menuItem) {\n        return menuItem.context === context;\n      });\n      global$2.each(menuItems, function (menuItem) {\n        if (menuItem.separator === 'before') {\n          outputMenuItems.push({\n            text: '|'\n          });\n        }\n\n        if (menuItem.prependToContext) {\n          outputMenuItems.unshift(menuItem);\n        } else {\n          outputMenuItems.push(menuItem);\n        }\n\n        if (menuItem.separator === 'after') {\n          outputMenuItems.push({\n            text: '|'\n          });\n        }\n      });\n      return outputMenuItems;\n    };\n\n    var createInsertMenu = function (editor) {\n      var insertButtonItems = editor.settings.insert_button_items;\n\n      if (insertButtonItems) {\n        return trimMenuItems(createCustomMenuItems(editor, insertButtonItems));\n      } else {\n        return trimMenuItems(createContextMenuItems(editor, 'insert'));\n      }\n    };\n\n    var registerButtons$3 = function (editor) {\n      editor.addButton('insert', {\n        type: 'menubutton',\n        icon: 'insert',\n        menu: [],\n        oncreatemenu: function () {\n          this.menu.add(createInsertMenu(editor));\n          this.menu.renderNew();\n        }\n      });\n    };\n\n    var register$5 = function (editor) {\n      registerButtons$3(editor);\n    };\n\n    var $_c26esyx9jnlpb5kt = {\n      register: register$5\n    };\n\n    var registerFormatButtons = function (editor) {\n      global$2.each({\n        bold: 'Bold',\n        italic: 'Italic',\n        underline: 'Underline',\n        strikethrough: 'Strikethrough',\n        subscript: 'Subscript',\n        superscript: 'Superscript'\n      }, function (text, name) {\n        editor.addButton(name, {\n          active: false,\n          tooltip: text,\n          onPostRender: postRenderFormatToggle(editor, name),\n          onclick: toggleFormat(editor, name)\n        });\n      });\n    };\n\n    var registerCommandButtons = function (editor) {\n      global$2.each({\n        outdent: ['Decrease indent', 'Outdent'],\n        indent: ['Increase indent', 'Indent'],\n        cut: ['Cut', 'Cut'],\n        copy: ['Copy', 'Copy'],\n        paste: ['Paste', 'Paste'],\n        help: ['Help', 'mceHelp'],\n        selectall: ['Select all', 'SelectAll'],\n        visualaid: ['Visual aids', 'mceToggleVisualAid'],\n        newdocument: ['New document', 'mceNewDocument'],\n        removeformat: ['Clear formatting', 'RemoveFormat'],\n        remove: ['Remove', 'Delete']\n      }, function (item, name) {\n        editor.addButton(name, {\n          tooltip: item[0],\n          cmd: item[1]\n        });\n      });\n    };\n\n    var registerCommandToggleButtons = function (editor) {\n      global$2.each({\n        blockquote: ['Blockquote', 'mceBlockQuote'],\n        subscript: ['Subscript', 'Subscript'],\n        superscript: ['Superscript', 'Superscript']\n      }, function (item, name) {\n        editor.addButton(name, {\n          active: false,\n          tooltip: item[0],\n          cmd: item[1],\n          onPostRender: postRenderFormatToggle(editor, name)\n        });\n      });\n    };\n\n    var registerButtons$4 = function (editor) {\n      registerFormatButtons(editor);\n      registerCommandButtons(editor);\n      registerCommandToggleButtons(editor);\n    };\n\n    var registerMenuItems$1 = function (editor) {\n      global$2.each({\n        bold: ['Bold', 'Bold', 'Meta+B'],\n        italic: ['Italic', 'Italic', 'Meta+I'],\n        underline: ['Underline', 'Underline', 'Meta+U'],\n        strikethrough: ['Strikethrough', 'Strikethrough'],\n        subscript: ['Subscript', 'Subscript'],\n        superscript: ['Superscript', 'Superscript'],\n        removeformat: ['Clear formatting', 'RemoveFormat'],\n        newdocument: ['New document', 'mceNewDocument'],\n        cut: ['Cut', 'Cut', 'Meta+X'],\n        copy: ['Copy', 'Copy', 'Meta+C'],\n        paste: ['Paste', 'Paste', 'Meta+V'],\n        selectall: ['Select all', 'SelectAll', 'Meta+A']\n      }, function (item, name) {\n        editor.addMenuItem(name, {\n          text: item[0],\n          icon: name,\n          shortcut: item[2],\n          cmd: item[1]\n        });\n      });\n      editor.addMenuItem('codeformat', {\n        text: 'Code',\n        icon: 'code',\n        onclick: toggleFormat(editor, 'code')\n      });\n    };\n\n    var register$6 = function (editor) {\n      registerButtons$4(editor);\n      registerMenuItems$1(editor);\n    };\n\n    var $_57i6mkxajnlpb5kx = {\n      register: register$6\n    };\n\n    var toggleUndoRedoState = function (editor, type) {\n      return function () {\n        var self = this;\n\n        var checkState = function () {\n          var typeFn = type === 'redo' ? 'hasRedo' : 'hasUndo';\n          return editor.undoManager ? editor.undoManager[typeFn]() : false;\n        };\n\n        self.disabled(!checkState());\n        editor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function () {\n          self.disabled(editor.readonly || !checkState());\n        });\n      };\n    };\n\n    var registerMenuItems$2 = function (editor) {\n      editor.addMenuItem('undo', {\n        text: 'Undo',\n        icon: 'undo',\n        shortcut: 'Meta+Z',\n        onPostRender: toggleUndoRedoState(editor, 'undo'),\n        cmd: 'undo'\n      });\n      editor.addMenuItem('redo', {\n        text: 'Redo',\n        icon: 'redo',\n        shortcut: 'Meta+Y',\n        onPostRender: toggleUndoRedoState(editor, 'redo'),\n        cmd: 'redo'\n      });\n    };\n\n    var registerButtons$5 = function (editor) {\n      editor.addButton('undo', {\n        tooltip: 'Undo',\n        onPostRender: toggleUndoRedoState(editor, 'undo'),\n        cmd: 'undo'\n      });\n      editor.addButton('redo', {\n        tooltip: 'Redo',\n        onPostRender: toggleUndoRedoState(editor, 'redo'),\n        cmd: 'redo'\n      });\n    };\n\n    var register$7 = function (editor) {\n      registerMenuItems$2(editor);\n      registerButtons$5(editor);\n    };\n\n    var $_8u3xlwxbjnlpb5kz = {\n      register: register$7\n    };\n\n    var toggleVisualAidState = function (editor) {\n      return function () {\n        var self = this;\n        editor.on('VisualAid', function (e) {\n          self.active(e.hasVisual);\n        });\n        self.active(editor.hasVisual);\n      };\n    };\n\n    var registerMenuItems$3 = function (editor) {\n      editor.addMenuItem('visualaid', {\n        text: 'Visual aids',\n        selectable: true,\n        onPostRender: toggleVisualAidState(editor),\n        cmd: 'mceToggleVisualAid'\n      });\n    };\n\n    var register$8 = function (editor) {\n      registerMenuItems$3(editor);\n    };\n\n    var $_9hgsbdxcjnlpb5l1 = {\n      register: register$8\n    };\n\n    var setupEnvironment = function () {\n      Widget.tooltips = !global$8.iOS;\n\n      Control$1.translate = function (text) {\n        return global$1.translate(text);\n      };\n    };\n\n    var setupUiContainer = function (editor) {\n      if (editor.settings.ui_container) {\n        global$8.container = $_gafa38x0jnlpb5jo.descendant(Element$$1.fromDom(document.body), editor.settings.ui_container).fold(constant(null), function (elm) {\n          return elm.dom();\n        });\n      }\n    };\n\n    var setupRtlMode = function (editor) {\n      if (editor.rtl) {\n        Control$1.rtl = true;\n      }\n    };\n\n    var setupHideFloatPanels = function (editor) {\n      editor.on('mousedown', function () {\n        FloatPanel.hideAll();\n      });\n    };\n\n    var setup$1 = function (editor) {\n      setupRtlMode(editor);\n      setupHideFloatPanels(editor);\n      setupUiContainer(editor);\n      setupEnvironment();\n      $_dsifr2x8jnlpb5kq.register(editor);\n      $_38gylwx3jnlpb5kc.register(editor);\n      $_57i6mkxajnlpb5kx.register(editor);\n      $_8u3xlwxbjnlpb5kz.register(editor);\n      $_2ch5e1x6jnlpb5ki.register(editor);\n      $_d4vvsqx5jnlpb5kf.register(editor);\n      $_ccldm5x7jnlpb5kl.register(editor);\n      $_9hgsbdxcjnlpb5l1.register(editor);\n      $_c26esyx9jnlpb5kt.register(editor);\n    };\n\n    var $_4hizytwzjnlpb5jj = {\n      setup: setup$1\n    };\n    var GridLayout = AbsoluteLayout.extend({\n      recalc: function (container) {\n        var settings, rows, cols, items, contLayoutRect, width, height, rect, ctrlLayoutRect, ctrl, x, y, posX, posY, ctrlSettings, contPaddingBox, align, spacingH, spacingV, alignH, alignV, maxX, maxY;\n        var colWidths = [];\n        var rowHeights = [];\n        var ctrlMinWidth, ctrlMinHeight, availableWidth, availableHeight, reverseRows, idx;\n        settings = container.settings;\n        items = container.items().filter(':visible');\n        contLayoutRect = container.layoutRect();\n        cols = settings.columns || Math.ceil(Math.sqrt(items.length));\n        rows = Math.ceil(items.length / cols);\n        spacingH = settings.spacingH || settings.spacing || 0;\n        spacingV = settings.spacingV || settings.spacing || 0;\n        alignH = settings.alignH || settings.align;\n        alignV = settings.alignV || settings.align;\n        contPaddingBox = container.paddingBox;\n        reverseRows = 'reverseRows' in settings ? settings.reverseRows : container.isRtl();\n\n        if (alignH && typeof alignH === 'string') {\n          alignH = [alignH];\n        }\n\n        if (alignV && typeof alignV === 'string') {\n          alignV = [alignV];\n        }\n\n        for (x = 0; x < cols; x++) {\n          colWidths.push(0);\n        }\n\n        for (y = 0; y < rows; y++) {\n          rowHeights.push(0);\n        }\n\n        for (y = 0; y < rows; y++) {\n          for (x = 0; x < cols; x++) {\n            ctrl = items[y * cols + x];\n\n            if (!ctrl) {\n              break;\n            }\n\n            ctrlLayoutRect = ctrl.layoutRect();\n            ctrlMinWidth = ctrlLayoutRect.minW;\n            ctrlMinHeight = ctrlLayoutRect.minH;\n            colWidths[x] = ctrlMinWidth > colWidths[x] ? ctrlMinWidth : colWidths[x];\n            rowHeights[y] = ctrlMinHeight > rowHeights[y] ? ctrlMinHeight : rowHeights[y];\n          }\n        }\n\n        availableWidth = contLayoutRect.innerW - contPaddingBox.left - contPaddingBox.right;\n\n        for (maxX = 0, x = 0; x < cols; x++) {\n          maxX += colWidths[x] + (x > 0 ? spacingH : 0);\n          availableWidth -= (x > 0 ? spacingH : 0) + colWidths[x];\n        }\n\n        availableHeight = contLayoutRect.innerH - contPaddingBox.top - contPaddingBox.bottom;\n\n        for (maxY = 0, y = 0; y < rows; y++) {\n          maxY += rowHeights[y] + (y > 0 ? spacingV : 0);\n          availableHeight -= (y > 0 ? spacingV : 0) + rowHeights[y];\n        }\n\n        maxX += contPaddingBox.left + contPaddingBox.right;\n        maxY += contPaddingBox.top + contPaddingBox.bottom;\n        rect = {};\n        rect.minW = maxX + (contLayoutRect.w - contLayoutRect.innerW);\n        rect.minH = maxY + (contLayoutRect.h - contLayoutRect.innerH);\n        rect.contentW = rect.minW - contLayoutRect.deltaW;\n        rect.contentH = rect.minH - contLayoutRect.deltaH;\n        rect.minW = Math.min(rect.minW, contLayoutRect.maxW);\n        rect.minH = Math.min(rect.minH, contLayoutRect.maxH);\n        rect.minW = Math.max(rect.minW, contLayoutRect.startMinWidth);\n        rect.minH = Math.max(rect.minH, contLayoutRect.startMinHeight);\n\n        if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\n          rect.w = rect.minW;\n          rect.h = rect.minH;\n          container.layoutRect(rect);\n          this.recalc(container);\n\n          if (container._lastRect === null) {\n            var parentCtrl = container.parent();\n\n            if (parentCtrl) {\n              parentCtrl._lastRect = null;\n              parentCtrl.recalc();\n            }\n          }\n\n          return;\n        }\n\n        if (contLayoutRect.autoResize) {\n          rect = container.layoutRect(rect);\n          rect.contentW = rect.minW - contLayoutRect.deltaW;\n          rect.contentH = rect.minH - contLayoutRect.deltaH;\n        }\n\n        var flexV;\n\n        if (settings.packV === 'start') {\n          flexV = 0;\n        } else {\n          flexV = availableHeight > 0 ? Math.floor(availableHeight / rows) : 0;\n        }\n\n        var totalFlex = 0;\n        var flexWidths = settings.flexWidths;\n\n        if (flexWidths) {\n          for (x = 0; x < flexWidths.length; x++) {\n            totalFlex += flexWidths[x];\n          }\n        } else {\n          totalFlex = cols;\n        }\n\n        var ratio = availableWidth / totalFlex;\n\n        for (x = 0; x < cols; x++) {\n          colWidths[x] += flexWidths ? flexWidths[x] * ratio : ratio;\n        }\n\n        posY = contPaddingBox.top;\n\n        for (y = 0; y < rows; y++) {\n          posX = contPaddingBox.left;\n          height = rowHeights[y] + flexV;\n\n          for (x = 0; x < cols; x++) {\n            if (reverseRows) {\n              idx = y * cols + cols - 1 - x;\n            } else {\n              idx = y * cols + x;\n            }\n\n            ctrl = items[idx];\n\n            if (!ctrl) {\n              break;\n            }\n\n            ctrlSettings = ctrl.settings;\n            ctrlLayoutRect = ctrl.layoutRect();\n            width = Math.max(colWidths[x], ctrlLayoutRect.startMinWidth);\n            ctrlLayoutRect.x = posX;\n            ctrlLayoutRect.y = posY;\n            align = ctrlSettings.alignH || (alignH ? alignH[x] || alignH[0] : null);\n\n            if (align === 'center') {\n              ctrlLayoutRect.x = posX + width / 2 - ctrlLayoutRect.w / 2;\n            } else if (align === 'right') {\n              ctrlLayoutRect.x = posX + width - ctrlLayoutRect.w;\n            } else if (align === 'stretch') {\n              ctrlLayoutRect.w = width;\n            }\n\n            align = ctrlSettings.alignV || (alignV ? alignV[x] || alignV[0] : null);\n\n            if (align === 'center') {\n              ctrlLayoutRect.y = posY + height / 2 - ctrlLayoutRect.h / 2;\n            } else if (align === 'bottom') {\n              ctrlLayoutRect.y = posY + height - ctrlLayoutRect.h;\n            } else if (align === 'stretch') {\n              ctrlLayoutRect.h = height;\n            }\n\n            ctrl.layoutRect(ctrlLayoutRect);\n            posX += width + spacingH;\n\n            if (ctrl.recalc) {\n              ctrl.recalc();\n            }\n          }\n\n          posY += height + spacingV;\n        }\n      }\n    });\n    var Iframe$1 = Widget.extend({\n      renderHtml: function () {\n        var self = this;\n        self.classes.add('iframe');\n        self.canFocus = false;\n        return '<iframe id=\"' + self._id + '\" class=\"' + self.classes + '\" tabindex=\"-1\" src=\"' + (self.settings.url || 'javascript:\\'\\'') + '\" frameborder=\"0\"></iframe>';\n      },\n      src: function (src) {\n        this.getEl().src = src;\n      },\n      html: function (html, callback) {\n        var self = this,\n            body = this.getEl().contentWindow.document.body;\n\n        if (!body) {\n          global$7.setTimeout(function () {\n            self.html(html);\n          });\n        } else {\n          body.innerHTML = html;\n\n          if (callback) {\n            callback();\n          }\n        }\n\n        return this;\n      }\n    });\n    var InfoBox = Widget.extend({\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        self.classes.add('widget').add('infobox');\n        self.canFocus = false;\n      },\n      severity: function (level) {\n        this.classes.remove('error');\n        this.classes.remove('warning');\n        this.classes.remove('success');\n        this.classes.add(level);\n      },\n      help: function (state) {\n        this.state.set('help', state);\n      },\n      renderHtml: function () {\n        var self = this,\n            prefix = self.classPrefix;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + self.encode(self.state.get('text')) + '<button role=\"button\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-help\"></i>' + '</button>' + '</div>' + '</div>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.getEl('body').firstChild.data = self.encode(e.value);\n\n          if (self.state.get('rendered')) {\n            self.updateLayoutRect();\n          }\n        });\n        self.state.on('change:help', function (e) {\n          self.classes.toggle('has-help', e.value);\n\n          if (self.state.get('rendered')) {\n            self.updateLayoutRect();\n          }\n        });\n        return self._super();\n      }\n    });\n    var Label = Widget.extend({\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        self.classes.add('widget').add('label');\n        self.canFocus = false;\n\n        if (settings.multiline) {\n          self.classes.add('autoscroll');\n        }\n\n        if (settings.strong) {\n          self.classes.add('strong');\n        }\n      },\n      initLayoutRect: function () {\n        var self = this,\n            layoutRect = self._super();\n\n        if (self.settings.multiline) {\n          var size = funcs.getSize(self.getEl());\n\n          if (size.width > layoutRect.maxW) {\n            layoutRect.minW = layoutRect.maxW;\n            self.classes.add('multiline');\n          }\n\n          self.getEl().style.width = layoutRect.minW + 'px';\n          layoutRect.startMinH = layoutRect.h = layoutRect.minH = Math.min(layoutRect.maxH, funcs.getSize(self.getEl()).height);\n        }\n\n        return layoutRect;\n      },\n      repaint: function () {\n        var self = this;\n\n        if (!self.settings.multiline) {\n          self.getEl().style.lineHeight = self.layoutRect().h + 'px';\n        }\n\n        return self._super();\n      },\n      severity: function (level) {\n        this.classes.remove('error');\n        this.classes.remove('warning');\n        this.classes.remove('success');\n        this.classes.add(level);\n      },\n      renderHtml: function () {\n        var self = this;\n        var targetCtrl,\n            forName,\n            forId = self.settings.forId;\n        var text = self.settings.html ? self.settings.html : self.encode(self.state.get('text'));\n\n        if (!forId && (forName = self.settings.forName)) {\n          targetCtrl = self.getRoot().find('#' + forName)[0];\n\n          if (targetCtrl) {\n            forId = targetCtrl._id;\n          }\n        }\n\n        if (forId) {\n          return '<label id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (forId ? ' for=\"' + forId + '\"' : '') + '>' + text + '</label>';\n        }\n\n        return '<span id=\"' + self._id + '\" class=\"' + self.classes + '\">' + text + '</span>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:text', function (e) {\n          self.innerHtml(self.encode(e.value));\n\n          if (self.state.get('rendered')) {\n            self.updateLayoutRect();\n          }\n        });\n        return self._super();\n      }\n    });\n    var Toolbar$1 = Container.extend({\n      Defaults: {\n        role: 'toolbar',\n        layout: 'flow'\n      },\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        self.classes.add('toolbar');\n      },\n      postRender: function () {\n        var self = this;\n        self.items().each(function (ctrl) {\n          ctrl.classes.add('toolbar-item');\n        });\n        return self._super();\n      }\n    });\n    var MenuBar = Toolbar$1.extend({\n      Defaults: {\n        role: 'menubar',\n        containerCls: 'menubar',\n        ariaRoot: true,\n        defaults: {\n          type: 'menubutton'\n        }\n      }\n    });\n\n    function isChildOf$1(node, parent$$1) {\n      while (node) {\n        if (parent$$1 === node) {\n          return true;\n        }\n\n        node = node.parentNode;\n      }\n\n      return false;\n    }\n\n    var MenuButton = Button.extend({\n      init: function (settings) {\n        var self$$1 = this;\n        self$$1._renderOpen = true;\n\n        self$$1._super(settings);\n\n        settings = self$$1.settings;\n        self$$1.classes.add('menubtn');\n\n        if (settings.fixedWidth) {\n          self$$1.classes.add('fixed-width');\n        }\n\n        self$$1.aria('haspopup', true);\n        self$$1.state.set('menu', settings.menu || self$$1.render());\n      },\n      showMenu: function (toggle) {\n        var self$$1 = this;\n        var menu;\n\n        if (self$$1.menu && self$$1.menu.visible() && toggle !== false) {\n          return self$$1.hideMenu();\n        }\n\n        if (!self$$1.menu) {\n          menu = self$$1.state.get('menu') || [];\n          self$$1.classes.add('opened');\n\n          if (menu.length) {\n            menu = {\n              type: 'menu',\n              animate: true,\n              items: menu\n            };\n          } else {\n            menu.type = menu.type || 'menu';\n            menu.animate = true;\n          }\n\n          if (!menu.renderTo) {\n            self$$1.menu = global$4.create(menu).parent(self$$1).renderTo();\n          } else {\n            self$$1.menu = menu.parent(self$$1).show().renderTo();\n          }\n\n          self$$1.fire('createmenu');\n          self$$1.menu.reflow();\n          self$$1.menu.on('cancel', function (e) {\n            if (e.control.parent() === self$$1.menu) {\n              e.stopPropagation();\n              self$$1.focus();\n              self$$1.hideMenu();\n            }\n          });\n          self$$1.menu.on('select', function () {\n            self$$1.focus();\n          });\n          self$$1.menu.on('show hide', function (e) {\n            if (e.type === 'hide' && e.control.parent() === self$$1) {\n              self$$1.classes.remove('opened-under');\n            }\n\n            if (e.control === self$$1.menu) {\n              self$$1.activeMenu(e.type === 'show');\n              self$$1.classes.toggle('opened', e.type === 'show');\n            }\n\n            self$$1.aria('expanded', e.type === 'show');\n          }).fire('show');\n        }\n\n        self$$1.menu.show();\n        self$$1.menu.layoutRect({\n          w: self$$1.layoutRect().w\n        });\n        self$$1.menu.repaint();\n        self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? ['br-tr', 'tr-br'] : ['bl-tl', 'tl-bl']);\n        var menuLayoutRect = self$$1.menu.layoutRect();\n        var selfBottom = self$$1.$el.offset().top + self$$1.layoutRect().h;\n\n        if (selfBottom > menuLayoutRect.y && selfBottom < menuLayoutRect.y + menuLayoutRect.h) {\n          self$$1.classes.add('opened-under');\n        }\n\n        self$$1.fire('showmenu');\n      },\n      hideMenu: function () {\n        var self$$1 = this;\n\n        if (self$$1.menu) {\n          self$$1.menu.items().each(function (item) {\n            if (item.hideMenu) {\n              item.hideMenu();\n            }\n          });\n          self$$1.menu.hide();\n        }\n      },\n      activeMenu: function (state) {\n        this.classes.toggle('active', state);\n      },\n      renderHtml: function () {\n        var self$$1 = this,\n            id = self$$1._id,\n            prefix = self$$1.classPrefix;\n        var icon = self$$1.settings.icon,\n            image;\n        var text = self$$1.state.get('text');\n        var textHtml = '';\n        image = self$$1.settings.image;\n\n        if (image) {\n          icon = 'none';\n\n          if (typeof image !== 'string') {\n            image = window.getSelection ? image[0] : image[1];\n          }\n\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n        } else {\n          image = '';\n        }\n\n        if (text) {\n          self$$1.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\n        }\n\n        icon = self$$1.settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n        self$$1.aria('role', self$$1.parent() instanceof MenuBar ? 'menuitem' : 'button');\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" tabindex=\"-1\" aria-labelledby=\"' + id + '\">' + '<button id=\"' + id + '-open\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n      },\n      postRender: function () {\n        var self$$1 = this;\n        self$$1.on('click', function (e) {\n          if (e.control === self$$1 && isChildOf$1(e.target, self$$1.getEl())) {\n            self$$1.focus();\n            self$$1.showMenu(!e.aria);\n\n            if (e.aria) {\n              self$$1.menu.items().filter(':visible')[0].focus();\n            }\n          }\n        });\n        self$$1.on('mouseenter', function (e) {\n          var overCtrl = e.control;\n          var parent$$1 = self$$1.parent();\n          var hasVisibleSiblingMenu;\n\n          if (overCtrl && parent$$1 && overCtrl instanceof MenuButton && overCtrl.parent() === parent$$1) {\n            parent$$1.items().filter('MenuButton').each(function (ctrl) {\n              if (ctrl.hideMenu && ctrl !== overCtrl) {\n                if (ctrl.menu && ctrl.menu.visible()) {\n                  hasVisibleSiblingMenu = true;\n                }\n\n                ctrl.hideMenu();\n              }\n            });\n\n            if (hasVisibleSiblingMenu) {\n              overCtrl.focus();\n              overCtrl.showMenu();\n            }\n          }\n        });\n        return self$$1._super();\n      },\n      bindStates: function () {\n        var self$$1 = this;\n        self$$1.state.on('change:menu', function () {\n          if (self$$1.menu) {\n            self$$1.menu.remove();\n          }\n\n          self$$1.menu = null;\n        });\n        return self$$1._super();\n      },\n      remove: function () {\n        this._super();\n\n        if (this.menu) {\n          this.menu.remove();\n        }\n      }\n    });\n    var Menu = FloatPanel.extend({\n      Defaults: {\n        defaultType: 'menuitem',\n        border: 1,\n        layout: 'stack',\n        role: 'application',\n        bodyRole: 'menu',\n        ariaRoot: true\n      },\n      init: function (settings) {\n        var self = this;\n        settings.autohide = true;\n        settings.constrainToViewport = true;\n\n        if (typeof settings.items === 'function') {\n          settings.itemsFactory = settings.items;\n          settings.items = [];\n        }\n\n        if (settings.itemDefaults) {\n          var items = settings.items;\n          var i = items.length;\n\n          while (i--) {\n            items[i] = global$2.extend({}, settings.itemDefaults, items[i]);\n          }\n        }\n\n        self._super(settings);\n\n        self.classes.add('menu');\n\n        if (settings.animate && global$8.ie !== 11) {\n          self.classes.add('animate');\n        }\n      },\n      repaint: function () {\n        this.classes.toggle('menu-align', true);\n\n        this._super();\n\n        this.getEl().style.height = '';\n        this.getEl('body').style.height = '';\n        return this;\n      },\n      cancel: function () {\n        var self = this;\n        self.hideAll();\n        self.fire('select');\n      },\n      load: function () {\n        var self = this;\n        var time, factory;\n\n        function hideThrobber() {\n          if (self.throbber) {\n            self.throbber.hide();\n            self.throbber = null;\n          }\n        }\n\n        factory = self.settings.itemsFactory;\n\n        if (!factory) {\n          return;\n        }\n\n        if (!self.throbber) {\n          self.throbber = new Throbber(self.getEl('body'), true);\n\n          if (self.items().length === 0) {\n            self.throbber.show();\n            self.fire('loading');\n          } else {\n            self.throbber.show(100, function () {\n              self.items().remove();\n              self.fire('loading');\n            });\n          }\n\n          self.on('hide close', hideThrobber);\n        }\n\n        self.requestTime = time = new Date().getTime();\n        self.settings.itemsFactory(function (items) {\n          if (items.length === 0) {\n            self.hide();\n            return;\n          }\n\n          if (self.requestTime !== time) {\n            return;\n          }\n\n          self.getEl().style.width = '';\n          self.getEl('body').style.width = '';\n          hideThrobber();\n          self.items().remove();\n          self.getEl('body').innerHTML = '';\n          self.add(items);\n          self.renderNew();\n          self.fire('loaded');\n        });\n      },\n      hideAll: function () {\n        var self = this;\n        this.find('menuitem').exec('hideMenu');\n        return self._super();\n      },\n      preRender: function () {\n        var self = this;\n        self.items().each(function (ctrl) {\n          var settings = ctrl.settings;\n\n          if (settings.icon || settings.image || settings.selectable) {\n            self._hasIcons = true;\n            return false;\n          }\n        });\n\n        if (self.settings.itemsFactory) {\n          self.on('postrender', function () {\n            if (self.settings.itemsFactory) {\n              self.load();\n            }\n          });\n        }\n\n        self.on('show hide', function (e) {\n          if (e.control === self) {\n            if (e.type === 'show') {\n              global$7.setTimeout(function () {\n                self.classes.add('in');\n              }, 0);\n            } else {\n              self.classes.remove('in');\n            }\n          }\n        });\n        return self._super();\n      }\n    });\n    var ListBox = MenuButton.extend({\n      init: function (settings) {\n        var self = this;\n        var values, selected, selectedText, lastItemCtrl;\n\n        function setSelected(menuValues) {\n          for (var i = 0; i < menuValues.length; i++) {\n            selected = menuValues[i].selected || settings.value === menuValues[i].value;\n\n            if (selected) {\n              selectedText = selectedText || menuValues[i].text;\n              self.state.set('value', menuValues[i].value);\n              return true;\n            }\n\n            if (menuValues[i].menu) {\n              if (setSelected(menuValues[i].menu)) {\n                return true;\n              }\n            }\n          }\n        }\n\n        self._super(settings);\n\n        settings = self.settings;\n        self._values = values = settings.values;\n\n        if (values) {\n          if (typeof settings.value !== 'undefined') {\n            setSelected(values);\n          }\n\n          if (!selected && values.length > 0) {\n            selectedText = values[0].text;\n            self.state.set('value', values[0].value);\n          }\n\n          self.state.set('menu', values);\n        }\n\n        self.state.set('text', settings.text || selectedText);\n        self.classes.add('listbox');\n        self.on('select', function (e) {\n          var ctrl = e.control;\n\n          if (lastItemCtrl) {\n            e.lastControl = lastItemCtrl;\n          }\n\n          if (settings.multiple) {\n            ctrl.active(!ctrl.active());\n          } else {\n            self.value(e.control.value());\n          }\n\n          lastItemCtrl = ctrl;\n        });\n      },\n      value: function (value) {\n        if (arguments.length === 0) {\n          return this.state.get('value');\n        }\n\n        if (typeof value === 'undefined') {\n          return this;\n        }\n\n        function valueExists(values) {\n          return exists(values, function (a) {\n            return a.menu ? valueExists(a.menu) : a.value === value;\n          });\n        }\n\n        if (this.settings.values) {\n          if (valueExists(this.settings.values)) {\n            this.state.set('value', value);\n          } else if (value === null) {\n            this.state.set('value', null);\n          }\n        } else {\n          this.state.set('value', value);\n        }\n\n        return this;\n      },\n      bindStates: function () {\n        var self = this;\n\n        function activateMenuItemsByValue(menu, value) {\n          if (menu instanceof Menu) {\n            menu.items().each(function (ctrl) {\n              if (!ctrl.hasMenus()) {\n                ctrl.active(ctrl.value() === value);\n              }\n            });\n          }\n        }\n\n        function getSelectedItem(menuValues, value) {\n          var selectedItem;\n\n          if (!menuValues) {\n            return;\n          }\n\n          for (var i = 0; i < menuValues.length; i++) {\n            if (menuValues[i].value === value) {\n              return menuValues[i];\n            }\n\n            if (menuValues[i].menu) {\n              selectedItem = getSelectedItem(menuValues[i].menu, value);\n\n              if (selectedItem) {\n                return selectedItem;\n              }\n            }\n          }\n        }\n\n        self.on('show', function (e) {\n          activateMenuItemsByValue(e.control, self.value());\n        });\n        self.state.on('change:value', function (e) {\n          var selectedItem = getSelectedItem(self.state.get('menu'), e.value);\n\n          if (selectedItem) {\n            self.text(selectedItem.text);\n          } else {\n            self.text(self.settings.text);\n          }\n        });\n        return self._super();\n      }\n    });\n\n    var toggleTextStyle = function (ctrl, state) {\n      var textStyle = ctrl._textStyle;\n\n      if (textStyle) {\n        var textElm = ctrl.getEl('text');\n        textElm.setAttribute('style', textStyle);\n\n        if (state) {\n          textElm.style.color = '';\n          textElm.style.backgroundColor = '';\n        }\n      }\n    };\n\n    var MenuItem = Widget.extend({\n      Defaults: {\n        border: 0,\n        role: 'menuitem'\n      },\n      init: function (settings) {\n        var self = this;\n        var text;\n\n        self._super(settings);\n\n        settings = self.settings;\n        self.classes.add('menu-item');\n\n        if (settings.menu) {\n          self.classes.add('menu-item-expand');\n        }\n\n        if (settings.preview) {\n          self.classes.add('menu-item-preview');\n        }\n\n        text = self.state.get('text');\n\n        if (text === '-' || text === '|') {\n          self.classes.add('menu-item-sep');\n          self.aria('role', 'separator');\n          self.state.set('text', '-');\n        }\n\n        if (settings.selectable) {\n          self.aria('role', 'menuitemcheckbox');\n          self.classes.add('menu-item-checkbox');\n          settings.icon = 'selected';\n        }\n\n        if (!settings.preview && !settings.selectable) {\n          self.classes.add('menu-item-normal');\n        }\n\n        self.on('mousedown', function (e) {\n          e.preventDefault();\n        });\n\n        if (settings.menu && !settings.ariaHideMenu) {\n          self.aria('haspopup', true);\n        }\n      },\n      hasMenus: function () {\n        return !!this.settings.menu;\n      },\n      showMenu: function () {\n        var self = this;\n        var settings = self.settings;\n        var menu;\n        var parent = self.parent();\n        parent.items().each(function (ctrl) {\n          if (ctrl !== self) {\n            ctrl.hideMenu();\n          }\n        });\n\n        if (settings.menu) {\n          menu = self.menu;\n\n          if (!menu) {\n            menu = settings.menu;\n\n            if (menu.length) {\n              menu = {\n                type: 'menu',\n                items: menu\n              };\n            } else {\n              menu.type = menu.type || 'menu';\n            }\n\n            if (parent.settings.itemDefaults) {\n              menu.itemDefaults = parent.settings.itemDefaults;\n            }\n\n            menu = self.menu = global$4.create(menu).parent(self).renderTo();\n            menu.reflow();\n            menu.on('cancel', function (e) {\n              e.stopPropagation();\n              self.focus();\n              menu.hide();\n            });\n            menu.on('show hide', function (e) {\n              if (e.control.items) {\n                e.control.items().each(function (ctrl) {\n                  ctrl.active(ctrl.settings.selected);\n                });\n              }\n            }).fire('show');\n            menu.on('hide', function (e) {\n              if (e.control === menu) {\n                self.classes.remove('selected');\n              }\n            });\n            menu.submenu = true;\n          } else {\n            menu.show();\n          }\n\n          menu._parentMenu = parent;\n          menu.classes.add('menu-sub');\n          var rel = menu.testMoveRel(self.getEl(), self.isRtl() ? ['tl-tr', 'bl-br', 'tr-tl', 'br-bl'] : ['tr-tl', 'br-bl', 'tl-tr', 'bl-br']);\n          menu.moveRel(self.getEl(), rel);\n          menu.rel = rel;\n          rel = 'menu-sub-' + rel;\n          menu.classes.remove(menu._lastRel).add(rel);\n          menu._lastRel = rel;\n          self.classes.add('selected');\n          self.aria('expanded', true);\n        }\n      },\n      hideMenu: function () {\n        var self = this;\n\n        if (self.menu) {\n          self.menu.items().each(function (item) {\n            if (item.hideMenu) {\n              item.hideMenu();\n            }\n          });\n          self.menu.hide();\n          self.aria('expanded', false);\n        }\n\n        return self;\n      },\n      renderHtml: function () {\n        var self = this;\n        var id = self._id;\n        var settings = self.settings;\n        var prefix = self.classPrefix;\n        var text = self.state.get('text');\n        var icon = self.settings.icon,\n            image = '',\n            shortcut = settings.shortcut;\n        var url = self.encode(settings.url),\n            iconHtml = '';\n\n        function convertShortcut(shortcut) {\n          var i,\n              value,\n              replace = {};\n\n          if (global$8.mac) {\n            replace = {\n              alt: '&#x2325;',\n              ctrl: '&#x2318;',\n              shift: '&#x21E7;',\n              meta: '&#x2318;'\n            };\n          } else {\n            replace = {\n              meta: 'Ctrl'\n            };\n          }\n\n          shortcut = shortcut.split('+');\n\n          for (i = 0; i < shortcut.length; i++) {\n            value = replace[shortcut[i].toLowerCase()];\n\n            if (value) {\n              shortcut[i] = value;\n            }\n          }\n\n          return shortcut.join('+');\n        }\n\n        function escapeRegExp(str) {\n          return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n        }\n\n        function markMatches(text) {\n          var match = settings.match || '';\n          return match ? text.replace(new RegExp(escapeRegExp(match), 'gi'), function (match) {\n            return '!mce~match[' + match + ']mce~match!';\n          }) : text;\n        }\n\n        function boldMatches(text) {\n          return text.replace(new RegExp(escapeRegExp('!mce~match['), 'g'), '<b>').replace(new RegExp(escapeRegExp(']mce~match!'), 'g'), '</b>');\n        }\n\n        if (icon) {\n          self.parent().classes.add('menu-has-icons');\n        }\n\n        if (settings.image) {\n          image = ' style=\"background-image: url(\\'' + settings.image + '\\')\"';\n        }\n\n        if (shortcut) {\n          shortcut = convertShortcut(shortcut);\n        }\n\n        icon = prefix + 'ico ' + prefix + 'i-' + (self.settings.icon || 'none');\n        iconHtml = text !== '-' ? '<i class=\"' + icon + '\"' + image + '></i>\\xA0' : '';\n        text = boldMatches(self.encode(markMatches(text)));\n        url = boldMatches(self.encode(markMatches(url)));\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\" tabindex=\"-1\">' + iconHtml + (text !== '-' ? '<span id=\"' + id + '-text\" class=\"' + prefix + 'text\">' + text + '</span>' : '') + (shortcut ? '<div id=\"' + id + '-shortcut\" class=\"' + prefix + 'menu-shortcut\">' + shortcut + '</div>' : '') + (settings.menu ? '<div class=\"' + prefix + 'caret\"></div>' : '') + (url ? '<div class=\"' + prefix + 'menu-item-link\">' + url + '</div>' : '') + '</div>';\n      },\n      postRender: function () {\n        var self = this,\n            settings = self.settings;\n        var textStyle = settings.textStyle;\n\n        if (typeof textStyle === 'function') {\n          textStyle = textStyle.call(this);\n        }\n\n        if (textStyle) {\n          var textElm = self.getEl('text');\n\n          if (textElm) {\n            textElm.setAttribute('style', textStyle);\n            self._textStyle = textStyle;\n          }\n        }\n\n        self.on('mouseenter click', function (e) {\n          if (e.control === self) {\n            if (!settings.menu && e.type === 'click') {\n              self.fire('select');\n              global$7.requestAnimationFrame(function () {\n                self.parent().hideAll();\n              });\n            } else {\n              self.showMenu();\n\n              if (e.aria) {\n                self.menu.focus(true);\n              }\n            }\n          }\n        });\n\n        self._super();\n\n        return self;\n      },\n      hover: function () {\n        var self = this;\n        self.parent().items().each(function (ctrl) {\n          ctrl.classes.remove('selected');\n        });\n        self.classes.toggle('selected', true);\n        return self;\n      },\n      active: function (state) {\n        toggleTextStyle(this, state);\n\n        if (typeof state !== 'undefined') {\n          this.aria('checked', state);\n        }\n\n        return this._super(state);\n      },\n      remove: function () {\n        this._super();\n\n        if (this.menu) {\n          this.menu.remove();\n        }\n      }\n    });\n    var Radio = Checkbox.extend({\n      Defaults: {\n        classes: 'radio',\n        role: 'radio'\n      }\n    });\n    var ResizeHandle = Widget.extend({\n      renderHtml: function () {\n        var self = this,\n            prefix = self.classPrefix;\n        self.classes.add('resizehandle');\n\n        if (self.settings.direction === 'both') {\n          self.classes.add('resizehandle-both');\n        }\n\n        self.canFocus = false;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-resize\"></i>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n\n        self._super();\n\n        self.resizeDragHelper = new DragHelper(this._id, {\n          start: function () {\n            self.fire('ResizeStart');\n          },\n          drag: function (e) {\n            if (self.settings.direction !== 'both') {\n              e.deltaX = 0;\n            }\n\n            self.fire('Resize', e);\n          },\n          stop: function () {\n            self.fire('ResizeEnd');\n          }\n        });\n      },\n      remove: function () {\n        if (this.resizeDragHelper) {\n          this.resizeDragHelper.destroy();\n        }\n\n        return this._super();\n      }\n    });\n\n    function createOptions(options) {\n      var strOptions = '';\n\n      if (options) {\n        for (var i = 0; i < options.length; i++) {\n          strOptions += '<option value=\"' + options[i] + '\">' + options[i] + '</option>';\n        }\n      }\n\n      return strOptions;\n    }\n\n    var SelectBox = Widget.extend({\n      Defaults: {\n        classes: 'selectbox',\n        role: 'selectbox',\n        options: []\n      },\n      init: function (settings) {\n        var self = this;\n\n        self._super(settings);\n\n        if (self.settings.size) {\n          self.size = self.settings.size;\n        }\n\n        if (self.settings.options) {\n          self._options = self.settings.options;\n        }\n\n        self.on('keydown', function (e) {\n          var rootControl;\n\n          if (e.keyCode === 13) {\n            e.preventDefault();\n            self.parents().reverse().each(function (ctrl) {\n              if (ctrl.toJSON) {\n                rootControl = ctrl;\n                return false;\n              }\n            });\n            self.fire('submit', {\n              data: rootControl.toJSON()\n            });\n          }\n        });\n      },\n      options: function (state) {\n        if (!arguments.length) {\n          return this.state.get('options');\n        }\n\n        this.state.set('options', state);\n        return this;\n      },\n      renderHtml: function () {\n        var self = this;\n        var options,\n            size = '';\n        options = createOptions(self._options);\n\n        if (self.size) {\n          size = ' size = \"' + self.size + '\"';\n        }\n\n        return '<select id=\"' + self._id + '\" class=\"' + self.classes + '\"' + size + '>' + options + '</select>';\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:options', function (e) {\n          self.getEl().innerHTML = createOptions(e.value);\n        });\n        return self._super();\n      }\n    });\n\n    function constrain(value, minVal, maxVal) {\n      if (value < minVal) {\n        value = minVal;\n      }\n\n      if (value > maxVal) {\n        value = maxVal;\n      }\n\n      return value;\n    }\n\n    function setAriaProp(el, name, value) {\n      el.setAttribute('aria-' + name, value);\n    }\n\n    function updateSliderHandle(ctrl, value) {\n      var maxHandlePos, shortSizeName, sizeName, stylePosName, styleValue, handleEl;\n\n      if (ctrl.settings.orientation === 'v') {\n        stylePosName = 'top';\n        sizeName = 'height';\n        shortSizeName = 'h';\n      } else {\n        stylePosName = 'left';\n        sizeName = 'width';\n        shortSizeName = 'w';\n      }\n\n      handleEl = ctrl.getEl('handle');\n      maxHandlePos = (ctrl.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\n      styleValue = maxHandlePos * ((value - ctrl._minValue) / (ctrl._maxValue - ctrl._minValue)) + 'px';\n      handleEl.style[stylePosName] = styleValue;\n      handleEl.style.height = ctrl.layoutRect().h + 'px';\n      setAriaProp(handleEl, 'valuenow', value);\n      setAriaProp(handleEl, 'valuetext', '' + ctrl.settings.previewFilter(value));\n      setAriaProp(handleEl, 'valuemin', ctrl._minValue);\n      setAriaProp(handleEl, 'valuemax', ctrl._maxValue);\n    }\n\n    var Slider = Widget.extend({\n      init: function (settings) {\n        var self = this;\n\n        if (!settings.previewFilter) {\n          settings.previewFilter = function (value) {\n            return Math.round(value * 100) / 100;\n          };\n        }\n\n        self._super(settings);\n\n        self.classes.add('slider');\n\n        if (settings.orientation === 'v') {\n          self.classes.add('vertical');\n        }\n\n        self._minValue = isNumber(settings.minValue) ? settings.minValue : 0;\n        self._maxValue = isNumber(settings.maxValue) ? settings.maxValue : 100;\n        self._initValue = self.state.get('value');\n      },\n      renderHtml: function () {\n        var self = this,\n            id = self._id,\n            prefix = self.classPrefix;\n        return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-handle\" class=\"' + prefix + 'slider-handle\" role=\"slider\" tabindex=\"-1\"></div>' + '</div>';\n      },\n      reset: function () {\n        this.value(this._initValue).repaint();\n      },\n      postRender: function () {\n        var self = this;\n        var minValue, maxValue, screenCordName, stylePosName, sizeName, shortSizeName;\n\n        function toFraction(min, max, val) {\n          return (val + min) / (max - min);\n        }\n\n        function fromFraction(min, max, val) {\n          return val * (max - min) - min;\n        }\n\n        function handleKeyboard(minValue, maxValue) {\n          function alter(delta) {\n            var value;\n            value = self.value();\n            value = fromFraction(minValue, maxValue, toFraction(minValue, maxValue, value) + delta * 0.05);\n            value = constrain(value, minValue, maxValue);\n            self.value(value);\n            self.fire('dragstart', {\n              value: value\n            });\n            self.fire('drag', {\n              value: value\n            });\n            self.fire('dragend', {\n              value: value\n            });\n          }\n\n          self.on('keydown', function (e) {\n            switch (e.keyCode) {\n              case 37:\n              case 38:\n                alter(-1);\n                break;\n\n              case 39:\n              case 40:\n                alter(1);\n                break;\n            }\n          });\n        }\n\n        function handleDrag(minValue, maxValue, handleEl) {\n          var startPos, startHandlePos, maxHandlePos, handlePos, value;\n          self._dragHelper = new DragHelper(self._id, {\n            handle: self._id + '-handle',\n            start: function (e) {\n              startPos = e[screenCordName];\n              startHandlePos = parseInt(self.getEl('handle').style[stylePosName], 10);\n              maxHandlePos = (self.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\n              self.fire('dragstart', {\n                value: value\n              });\n            },\n            drag: function (e) {\n              var delta = e[screenCordName] - startPos;\n              handlePos = constrain(startHandlePos + delta, 0, maxHandlePos);\n              handleEl.style[stylePosName] = handlePos + 'px';\n              value = minValue + handlePos / maxHandlePos * (maxValue - minValue);\n              self.value(value);\n              self.tooltip().text('' + self.settings.previewFilter(value)).show().moveRel(handleEl, 'bc tc');\n              self.fire('drag', {\n                value: value\n              });\n            },\n            stop: function () {\n              self.tooltip().hide();\n              self.fire('dragend', {\n                value: value\n              });\n            }\n          });\n        }\n\n        minValue = self._minValue;\n        maxValue = self._maxValue;\n\n        if (self.settings.orientation === 'v') {\n          screenCordName = 'screenY';\n          stylePosName = 'top';\n          sizeName = 'height';\n          shortSizeName = 'h';\n        } else {\n          screenCordName = 'screenX';\n          stylePosName = 'left';\n          sizeName = 'width';\n          shortSizeName = 'w';\n        }\n\n        self._super();\n\n        handleKeyboard(minValue, maxValue);\n        handleDrag(minValue, maxValue, self.getEl('handle'));\n      },\n      repaint: function () {\n        this._super();\n\n        updateSliderHandle(this, this.value());\n      },\n      bindStates: function () {\n        var self = this;\n        self.state.on('change:value', function (e) {\n          updateSliderHandle(self, e.value);\n        });\n        return self._super();\n      }\n    });\n    var Spacer = Widget.extend({\n      renderHtml: function () {\n        var self = this;\n        self.classes.add('spacer');\n        self.canFocus = false;\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"></div>';\n      }\n    });\n    var SplitButton = MenuButton.extend({\n      Defaults: {\n        classes: 'widget btn splitbtn',\n        role: 'button'\n      },\n      repaint: function () {\n        var self$$1 = this;\n        var elm = self$$1.getEl();\n        var rect = self$$1.layoutRect();\n        var mainButtonElm, menuButtonElm;\n\n        self$$1._super();\n\n        mainButtonElm = elm.firstChild;\n        menuButtonElm = elm.lastChild;\n        global$9(mainButtonElm).css({\n          width: rect.w - funcs.getSize(menuButtonElm).width,\n          height: rect.h - 2\n        });\n        global$9(menuButtonElm).css({\n          height: rect.h - 2\n        });\n        return self$$1;\n      },\n      activeMenu: function (state) {\n        var self$$1 = this;\n        global$9(self$$1.getEl().lastChild).toggleClass(self$$1.classPrefix + 'active', state);\n      },\n      renderHtml: function () {\n        var self$$1 = this;\n        var id = self$$1._id;\n        var prefix = self$$1.classPrefix;\n        var image;\n        var icon = self$$1.state.get('icon');\n        var text = self$$1.state.get('text');\n        var settings = self$$1.settings;\n        var textHtml = '',\n            ariaPressed;\n        image = settings.image;\n\n        if (image) {\n          icon = 'none';\n\n          if (typeof image !== 'string') {\n            image = window.getSelection ? image[0] : image[1];\n          }\n\n          image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n        } else {\n          image = '';\n        }\n\n        icon = settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n\n        if (text) {\n          self$$1.classes.add('btn-has-text');\n          textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\n        }\n\n        ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\n        return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" role=\"button\"' + ariaPressed + ' tabindex=\"-1\">' + '<button type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + (self$$1._menuBtnText ? (icon ? '\\xA0' : '') + self$$1._menuBtnText : '') + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n      },\n      postRender: function () {\n        var self$$1 = this,\n            onClickHandler = self$$1.settings.onclick;\n        self$$1.on('click', function (e) {\n          var node = e.target;\n\n          if (e.control === this) {\n            while (node) {\n              if (e.aria && e.aria.key !== 'down' || node.nodeName === 'BUTTON' && node.className.indexOf('open') === -1) {\n                e.stopImmediatePropagation();\n\n                if (onClickHandler) {\n                  onClickHandler.call(this, e);\n                }\n\n                return;\n              }\n\n              node = node.parentNode;\n            }\n          }\n        });\n        delete self$$1.settings.onclick;\n        return self$$1._super();\n      }\n    });\n    var StackLayout = FlowLayout.extend({\n      Defaults: {\n        containerClass: 'stack-layout',\n        controlClass: 'stack-layout-item',\n        endClass: 'break'\n      },\n      isNative: function () {\n        return true;\n      }\n    });\n    var TabPanel = Panel.extend({\n      Defaults: {\n        layout: 'absolute',\n        defaults: {\n          type: 'panel'\n        }\n      },\n      activateTab: function (idx) {\n        var activeTabElm;\n\n        if (this.activeTabId) {\n          activeTabElm = this.getEl(this.activeTabId);\n          global$9(activeTabElm).removeClass(this.classPrefix + 'active');\n          activeTabElm.setAttribute('aria-selected', 'false');\n        }\n\n        this.activeTabId = 't' + idx;\n        activeTabElm = this.getEl('t' + idx);\n        activeTabElm.setAttribute('aria-selected', 'true');\n        global$9(activeTabElm).addClass(this.classPrefix + 'active');\n        this.items()[idx].show().fire('showtab');\n        this.reflow();\n        this.items().each(function (item, i) {\n          if (idx !== i) {\n            item.hide();\n          }\n        });\n      },\n      renderHtml: function () {\n        var self = this;\n        var layout = self._layout;\n        var tabsHtml = '';\n        var prefix = self.classPrefix;\n        self.preRender();\n        layout.preRender(self);\n        self.items().each(function (ctrl, i) {\n          var id = self._id + '-t' + i;\n          ctrl.aria('role', 'tabpanel');\n          ctrl.aria('labelledby', id);\n          tabsHtml += '<div id=\"' + id + '\" class=\"' + prefix + 'tab\" ' + 'unselectable=\"on\" role=\"tab\" aria-controls=\"' + ctrl._id + '\" aria-selected=\"false\" tabIndex=\"-1\">' + self.encode(ctrl.settings.title) + '</div>';\n        });\n        return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + '<div id=\"' + self._id + '-head\" class=\"' + prefix + 'tabs\" role=\"tablist\">' + tabsHtml + '</div>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>' + '</div>';\n      },\n      postRender: function () {\n        var self = this;\n\n        self._super();\n\n        self.settings.activeTab = self.settings.activeTab || 0;\n        self.activateTab(self.settings.activeTab);\n        this.on('click', function (e) {\n          var targetParent = e.target.parentNode;\n\n          if (targetParent && targetParent.id === self._id + '-head') {\n            var i = targetParent.childNodes.length;\n\n            while (i--) {\n              if (targetParent.childNodes[i] === e.target) {\n                self.activateTab(i);\n              }\n            }\n          }\n        });\n      },\n      initLayoutRect: function () {\n        var self = this;\n        var rect, minW, minH;\n        minW = funcs.getSize(self.getEl('head')).width;\n        minW = minW < 0 ? 0 : minW;\n        minH = 0;\n        self.items().each(function (item) {\n          minW = Math.max(minW, item.layoutRect().minW);\n          minH = Math.max(minH, item.layoutRect().minH);\n        });\n        self.items().each(function (ctrl) {\n          ctrl.settings.x = 0;\n          ctrl.settings.y = 0;\n          ctrl.settings.w = minW;\n          ctrl.settings.h = minH;\n          ctrl.layoutRect({\n            x: 0,\n            y: 0,\n            w: minW,\n            h: minH\n          });\n        });\n        var headH = funcs.getSize(self.getEl('head')).height;\n        self.settings.minWidth = minW;\n        self.settings.minHeight = minH + headH;\n        rect = self._super();\n        rect.deltaH += headH;\n        rect.innerH = rect.h - rect.deltaH;\n        return rect;\n      }\n    });\n    var TextBox = Widget.extend({\n      init: function (settings) {\n        var self$$1 = this;\n\n        self$$1._super(settings);\n\n        self$$1.classes.add('textbox');\n\n        if (settings.multiline) {\n          self$$1.classes.add('multiline');\n        } else {\n          self$$1.on('keydown', function (e) {\n            var rootControl;\n\n            if (e.keyCode === 13) {\n              e.preventDefault();\n              self$$1.parents().reverse().each(function (ctrl) {\n                if (ctrl.toJSON) {\n                  rootControl = ctrl;\n                  return false;\n                }\n              });\n              self$$1.fire('submit', {\n                data: rootControl.toJSON()\n              });\n            }\n          });\n          self$$1.on('keyup', function (e) {\n            self$$1.state.set('value', e.target.value);\n          });\n        }\n      },\n      repaint: function () {\n        var self$$1 = this;\n        var style,\n            rect,\n            borderBox,\n            borderW,\n            borderH = 0,\n            lastRepaintRect;\n        style = self$$1.getEl().style;\n        rect = self$$1._layoutRect;\n        lastRepaintRect = self$$1._lastRepaintRect || {};\n        var doc = document;\n\n        if (!self$$1.settings.multiline && doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\n          style.lineHeight = rect.h - borderH + 'px';\n        }\n\n        borderBox = self$$1.borderBox;\n        borderW = borderBox.left + borderBox.right + 8;\n        borderH = borderBox.top + borderBox.bottom + (self$$1.settings.multiline ? 8 : 0);\n\n        if (rect.x !== lastRepaintRect.x) {\n          style.left = rect.x + 'px';\n          lastRepaintRect.x = rect.x;\n        }\n\n        if (rect.y !== lastRepaintRect.y) {\n          style.top = rect.y + 'px';\n          lastRepaintRect.y = rect.y;\n        }\n\n        if (rect.w !== lastRepaintRect.w) {\n          style.width = rect.w - borderW + 'px';\n          lastRepaintRect.w = rect.w;\n        }\n\n        if (rect.h !== lastRepaintRect.h) {\n          style.height = rect.h - borderH + 'px';\n          lastRepaintRect.h = rect.h;\n        }\n\n        self$$1._lastRepaintRect = lastRepaintRect;\n        self$$1.fire('repaint', {}, false);\n        return self$$1;\n      },\n      renderHtml: function () {\n        var self$$1 = this;\n        var settings = self$$1.settings;\n        var attrs, elm;\n        attrs = {\n          id: self$$1._id,\n          hidefocus: '1'\n        };\n        global$2.each(['rows', 'spellcheck', 'maxLength', 'size', 'readonly', 'min', 'max', 'step', 'list', 'pattern', 'placeholder', 'required', 'multiple'], function (name$$1) {\n          attrs[name$$1] = settings[name$$1];\n        });\n\n        if (self$$1.disabled()) {\n          attrs.disabled = 'disabled';\n        }\n\n        if (settings.subtype) {\n          attrs.type = settings.subtype;\n        }\n\n        elm = funcs.create(settings.multiline ? 'textarea' : 'input', attrs);\n        elm.value = self$$1.state.get('value');\n        elm.className = self$$1.classes.toString();\n        return elm.outerHTML;\n      },\n      value: function (value) {\n        if (arguments.length) {\n          this.state.set('value', value);\n          return this;\n        }\n\n        if (this.state.get('rendered')) {\n          this.state.set('value', this.getEl().value);\n        }\n\n        return this.state.get('value');\n      },\n      postRender: function () {\n        var self$$1 = this;\n        self$$1.getEl().value = self$$1.state.get('value');\n\n        self$$1._super();\n\n        self$$1.$el.on('change', function (e) {\n          self$$1.state.set('value', e.target.value);\n          self$$1.fire('change', e);\n        });\n      },\n      bindStates: function () {\n        var self$$1 = this;\n        self$$1.state.on('change:value', function (e) {\n          if (self$$1.getEl().value !== e.value) {\n            self$$1.getEl().value = e.value;\n          }\n        });\n        self$$1.state.on('change:disabled', function (e) {\n          self$$1.getEl().disabled = e.value;\n        });\n        return self$$1._super();\n      },\n      remove: function () {\n        this.$el.off();\n\n        this._super();\n      }\n    });\n\n    var getApi = function () {\n      return {\n        Selector: Selector,\n        Collection: Collection$2,\n        ReflowQueue: $_6dtmktuzjnlpb56i,\n        Control: Control$1,\n        Factory: global$4,\n        KeyboardNavigation: KeyboardNavigation,\n        Container: Container,\n        DragHelper: DragHelper,\n        Scrollable: $_2rcmydv1jnlpb56r,\n        Panel: Panel,\n        Movable: $_9hbasgumjnlpb54u,\n        Resizable: $_f2nebnv3jnlpb56x,\n        FloatPanel: FloatPanel,\n        Window: Window$$1,\n        MessageBox: MessageBox,\n        Tooltip: Tooltip,\n        Widget: Widget,\n        Progress: Progress,\n        Notification: Notification,\n        Layout: Layout,\n        AbsoluteLayout: AbsoluteLayout,\n        Button: Button,\n        ButtonGroup: ButtonGroup,\n        Checkbox: Checkbox,\n        ComboBox: ComboBox,\n        ColorBox: ColorBox,\n        PanelButton: PanelButton,\n        ColorButton: ColorButton,\n        ColorPicker: ColorPicker,\n        Path: Path,\n        ElementPath: ElementPath,\n        FormItem: FormItem,\n        Form: Form,\n        FieldSet: FieldSet,\n        FilePicker: FilePicker,\n        FitLayout: FitLayout,\n        FlexLayout: FlexLayout,\n        FlowLayout: FlowLayout,\n        FormatControls: $_4hizytwzjnlpb5jj,\n        GridLayout: GridLayout,\n        Iframe: Iframe$1,\n        InfoBox: InfoBox,\n        Label: Label,\n        Toolbar: Toolbar$1,\n        MenuBar: MenuBar,\n        MenuButton: MenuButton,\n        MenuItem: MenuItem,\n        Throbber: Throbber,\n        Menu: Menu,\n        ListBox: ListBox,\n        Radio: Radio,\n        ResizeHandle: ResizeHandle,\n        SelectBox: SelectBox,\n        Slider: Slider,\n        Spacer: Spacer,\n        SplitButton: SplitButton,\n        StackLayout: StackLayout,\n        TabPanel: TabPanel,\n        TextBox: TextBox,\n        DropZone: DropZone,\n        BrowseButton: BrowseButton\n      };\n    };\n\n    var appendTo = function (target) {\n      if (target.ui) {\n        global$2.each(getApi(), function (ref, key) {\n          target.ui[key] = ref;\n        });\n      } else {\n        target.ui = getApi();\n      }\n    };\n\n    var registerToFactory = function () {\n      global$2.each(getApi(), function (ref, key) {\n        global$4.add(key, ref);\n      });\n    };\n\n    var Api = {\n      appendTo: appendTo,\n      registerToFactory: registerToFactory\n    };\n    Api.registerToFactory();\n    Api.appendTo(window.tinymce ? window.tinymce : {});\n    global.add('modern', function (editor) {\n      $_4hizytwzjnlpb5jj.setup(editor);\n      return $_3xnbd6tsjnlpb52c.get(editor);\n    });\n\n    function Theme() {}\n\n    return Theme;\n  }();\n})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/themes/modern/theme.js"],"names":["modern","global","tinymce","util","Tools","resolve","global$1","global$2","isBrandingEnabled","editor","getParam","hasMenubar","getMenubar","hasStatusbar","getToolbarSize","isReadOnly","getFixedToolbarContainer","getInlineToolbarPositionHandler","getMenu","getRemovedMenuItems","getMinWidth","getMinHeight","getMaxWidth","getMaxHeight","isSkinDisabled","settings","skin","isInline","getResize","resize","getSkinUrl","skinUrl","skin_url","skinName","documentBaseURI","toAbsolute","baseURL","getIndexedToolbars","defaultToolbar","toolbars","i","toolbar","push","mainToolbar","length","getToolbars","isArray","grep","global$3","global$4","global$5","fireSkinLoaded","fire","fireResizeEditor","fireBeforeRenderUI","$_byi2i4u1jnlpb52o","focus","panel","type","item","find","addKeys","shortcuts","add","on","$_6kcut5u2jnlpb52p","global$6","global$7","noop","x","_i","arguments","compose","fa","fb","apply","constant","value","curry","f","args","Array","newArgs","j","all","concat","never","always","never$1","always$1","none","NONE","eq","o","isNone","call$$1","thunk","id","n","noop$$1","nul","undef","undefined","me","fold","s","is","isSome","getOr","getOrThunk","getOrDie","msg","Error","getOrNull","getOrUndefined","or","orThunk","map","ap","each","bind","flatten","exists","forall","filter","equals","equals_","toArray","toString","Object","freeze","some","a","constant_a","self","v","optfab","fab","elementEq","b","from","Option","getUiContainerDelta","ctrl","uiContainer","getUiContainer","DOM","getStyle","containerPos","getPos","dx","scrollLeft","dy","scrollTop","y","setUiContainer","select","ui_container","getRoot","inheritUiContainer","fromCtrl","toCtrl","$_4ygtt4u6jnlpb52y","createToolbar","items","size","toolbarItems","buttonGroup","split","itemName","bindSelectorChanged","selection","stateSelector","selectorChanged","state","active","disabledStateSelector","disabled","buttons","create","initialized","layout","createToolbars","addToolbar","classes","ariaRoot","ariaRemember","$_cqt2pxu9jnlpb538","toClientRect","geomRect","left","top","width","w","height","h","right","bottom","hideAllFloatingPanels","contextToolbars","hide","movePanelTo","pos","moveTo","togglePositionClass","relPos","predicate","substr","t","cls","toggle","l","r","userConstrain","handler","elementRect","contentAreaRect","panelRect","addContextualToolbars","scrollContainer","getContextToolbars","getElementRect","elm","targetRect","root","getContentAreaContainer","dom","getRect","nodeName","ownerDocument","documentElement","reposition","match","shouldShow","relRect","testPositions","smallElementWidthThreshold","removed","show","element","getEl","getBody","delta","clientRect","getBoundingClientRect","inline","getDoc","offsetWidth","controlSelection","isResizable","inflate","findBestRelativePosition","clamp","relativePosition","intersect","pos1","pos2","repositionHandler","execute","findFrontMostMatch","getNode","requestAnimationFrame","bindScrollEvent","reposition_1","uiContainer_1","getScrollContainer","getWin","unbind","showContextToolbar","role","ariaLabel","direction","align","autohide","autofix","fixed","border","oncancel","renderTo","reflow","hideAllContextToolbars","targetElm","parentsAndSelf","$","parents","e","setEditorTimeout","remove","$_6dgfu4u3jnlpb52s","typeOf","prototype","isPrototypeOf","String","isType","isFunction","isNumber","rawIndexOf","pIndexOf","indexOf","fastIndex","xs","call","slowIndex","slowIndexOf","pred","findIndex","len","foldl","acc","slice","reverse","from$1","defaultMenus","file","title","edit","view","insert","format","tools","table","help","delimiterMenuNamePair","name","text","createMenuNameItemPair","menuItem","hasItemName","namedMenuItems","namedMenuItem","isSeparator","cleanupMenu","removedMenuItems","menuItemsPass1","hasOwnProperty","menuItemsPass2","createMenu","editorMenuItems","menus","context","menuButton","menu","isUserDefined","separator","prependToContext","unshift","getDefaultMenubar","defaultMenuBar","createMenuButtons","menuButtons","makeMap","menubar","enabledMenuNames","menuItems","$_bt6b25uajnlpb53b","DOM$1","getSize","clientWidth","clientHeight","resizeTo","containerElm","iframeElm","containerSize","iframeSize","getContainer","firstChild","Math","max","min","setStyle","resizeBy","dw","dh","$_ao1a4hudjnlpb53o","global$8","api","trigger","sidebar","callbackName","callback","hidePanels","container","sidebars","visible","deactivateButtons","findSidebar","showPanel","btnCtrl","control","parent","html","prepend","isModernBrowser","ie","hasSidebar","createSidebar","icon","image","tooltip","onclick","$_ep7vgsuejnlpb53q","fireSkinLoaded$1","done","_skinLoaded","$_2vr92vugjnlpb542","DOM$2","switchMode","mode","editArea","editAreaContainer","render","theme","resizeHandleCtrl","startSize","skinUiCss","styleSheetLoader","load","style","onResizeStart","onResize","deltaX","deltaY","linkHtml","translate","brandingLabel","renderBefore","targetNode","setMode","iframeContainer","editorContainer","$_2rsj5otxjnlpb52j","global$9","count","funcs","name$$1","attrs","children","document","createElement","setAttribs","innerHTML","child","nodeType","appendChild","createFragment","getWindowSize","getViewPort","rect","offsetHeight","body","win","get","getElementById","addClass","removeClass","hasClass","toggleClass","css","getRuntimeStyle","target","scope","off","innerHtml","setHTML","isStatic","isFixed","calculateRelativePosition","rel","ctrlElm","selfW","selfH","targetW","targetH","viewport","getWindowViewPort","round","getUiContainerViewPort","customUiContainer","scrollWidth","scrollHeight","window","pageXOffset","pageYOffset","innerWidth","innerHeight","getViewPortRect","$_9hbasgumjnlpb54u","testMoveRel","rels","viewPortRect","moveRel","moveBy","self$$1","layoutRect","constrain","constrainToViewport","repaint","global$10","global$11","$_62etjpusjnlpb560","parseBox","radix","parseInt","measureBox","prefix","defaultView","computedStyle","getComputedStyle","replace","getPropertyValue","currentStyle","getSide","val","parseFloat","isNaN","noop$1","ClassList","onchange","_map","extend","contains","_change","splice","curState","clsValue","unique","array","uniqueItems","__checked","expression","chunker","whiteSpace","Collection","Selector","init","selector","compileNameFilter","toLowerCase","compileIdFilter","_name","compileClassesFilter","compileAttrFilter","cmp","check","compilePsuedoFilter","notSelectors","exec","index","parseChunks","compile","filters","direct","parts","pseudo","selectors","extra","matches","_selectors","si","sl","fi","fl","siblings","collect","Collection$1","proto","push$1","slice$1","set","prop","Collection$2","Binding","model","otherModel","otherName","bindings","fromSelfToOther","fromOtherToSelf","_bindings","global$12","isNode","node","isEqual","k","checked","ObservableObject","Mixins","data","key","oldValue","has","destroy","dirtyCtrls","animationFrameRequested","$_6dtmktuzjnlpb56i","parent$$1","_layout","isNative","_id","hasMouseWheelEventSupport","hasWheelEventSupport","classPrefix","Control","idCounter","proto$1","Statics","isRtl","rtl","defaultClasses","applyClasses","Defaults","_aria","_elmCache","className","borderBox","paddingBox","padding","marginBox","margin","hidden","Properties","getContainerElm","getParentCtrl","lookup","controlIdLookup","parentNode","initLayoutRect","minWidth","minHeight","autoResize","startMinWidth","startMinHeight","initialSize","deltaW","deltaH","maxW","maxWidth","maxH","maxHeight","_layoutRect","contentW","contentH","innerW","innerH","minW","minH","scrollW","_lastLayoutRect","newRect","curRect","lastLayoutRect","deltaWidth","deltaHeight","repaintControls","bodyStyle","bodyElm","borderW","borderH","lastRepaintRect","createRange","_lastRepaintRect","_hasBody","updateLayoutRect","_lastRect","resolveCallbackName","callbacks","action","getEventDispatcher","bubble","isPropagationStopped","hasEventListeners","next","parentControls","prev","$el","suffix","ex","blur","aria","ariaTarget","setAttribute","encode","charCodeAt","before","after","newItems","controls","_eventsRoot","removeChild","renderHtml","postRender","append","preRender","box","parentEventsRoot","_nativeEvents","bindPendingEvents","cssText","display","bindStates","parentCtrl","scrollIntoView","getOffset","rootElm","offsetLeft","offsetTop","offsetParent","parentElm","parentWidth","parentHeight","rootControl","obj","_eventDispatcher","toggleEvent","eventCtrl","eventRootCtrl","nativeEvents","delegate","mouseLeaveHandler","_lastHoverCtrl","mouseEnterHandler","lastCtrl","idx","lastParents","fixWheelEvent","preventDefault","wheelDelta","wheelDeltaX","detail","eventRootDelegates","_delegates","_hasMouseEnter","Control$1","hasTabstopData","getAttribute","KeyboardNavigation","focusedElement","focusedControl","isElement","activeElement","getRole","getParentRole","getAriaProp","isTextInputElement","tagName","toUpperCase","canFocus","test","getFocusElements","elements","childNodes","getNavigationRoot","targetControl","navigationRoot","focusFirst","focusElements","moveFocusToIndex","lastAriaIndex","moveFocus","dir","parentRole","submenu","cancel","enter","up","down","tab","shiftKey","handleNonTabOrEscEvent","isDefaultPrevented","keyCode","selectorCache","Container","_super","_items","bodyClasses","containerCls","keyboard","focusCtrl","keyboardNav","statusbar","autofocus","oldItem","newItem","ctrlItems","defaults","defaultType","renderNew","hasChildNodes","curItems","beforeItems","afterItems","fromJSON","toJSON","recalc","lastRect","getDocumentSize","doc","updateWithTouchData","keys","changedTouches","DragHelper","$eventOverlay","downButton","start","stop$$1","drag","startX","startY","handleElement","handle","docSize","handleElm","cursor","button","screenX","screenY","runtimeStyle","position","zIndex","opacity","appendTo","stop","$_2rcmydv1jnlpb56r","renderScroll","repaintScroll","hasScrollH","hasScrollV","repaintAxis","axisName","posName","sizeName","contentSizeName","hasScroll","ax","scrollBarElm","scrollThumbElm","scrollSize","ratio","posNameLower","sizeNameLower","addScroll","addScrollAxis","deltaPosName","scrollStart","axisId","draghelper","autoScroll","_hasScroll","bodyEl","Panel","_preBodyHtml","$_f2nebnv3jnlpb56x","resizeToContent","documentClickHandler","documentScrollHandler","windowResizeHandler","visiblePanels","zOrder","hasModal","isChildOf","skipOrHidePanels","clickCtrl","bindDocumentClickHandler","bindDocumentScrollHandler","repositionPanel","bindWindowResizeHandler","docElm_1","clientWidth_1","clientHeight_1","FloatPanel","hideAll","scrollY$$1","toggleFixedChildPanels","_autoFixY","addRemove","topModal","modal","modalBlockEl","currentZIndex","$modalBlockEl_1","prefix_1","setTimeout","popover","describedBy","removeVisiblePanel","close","bodyRole","isFixed$1","inlineToolbarContainer","render$1","fixedToolbarContainer","_fixed","bodyPos","scrollContainerPos","nodeChanged","content_editable","$_1sdv25uhjnlpb543","Throbber","timer","time","lastChild","clearTimeout","setup","throbber","$_e94x2wv4jnlpb56z","renderUI","contentCSS","$_ebquldttjnlpb52d","Tooltip","Widget","tooltips","_tooltip","disable","Progress","setValue","updateLiveRegion","ctx","textContent","progressBar","Notification","color","timeout","closeButton","notificationStyle","NotificationManagerImpl","getEditorContainer","getElement","getContainerWidth","prePositionNotifications","notifications","notification","positionNotifications","firstItem","open","closeCallback","extendedArgs","notif","getArgs","windows","oldMetaValue","toggleFullScreenState","noScaleMetaValue","contentValue","overrideViewPort","getElementsByTagName","toggleBodyFullScreenClasses","checkFullscreenWindows","_fullscreen","handleWindowResize","desktop","lastSize_1","setInterval","Window$$1","submit","spacing","pack","closeClass","statusbar$$1","needsRecalc","headerW","headEl","headerH","headerHtml","footerHtml","url","fullscreen","slowRendering","Date","getTime","_timer","_initial","startPos","dragHelper","getContentWindow","ifr","contentWindow","MessageBox","multiline","OK","OK_CANCEL","YES_NO","YES_NO_CANCEL","msgBox","createButton","status$$1","primary","subtype","onClick","onPostRender","onClose","onCancel","alert","confirm","WindowManagerImpl","open$$1","params","bodyType","commands","features","alert$$1","message","choiceCallback","confirm$$1","close$$1","window$$1","getParams","setParams","getNotificationManagerImpl","getWindowManagerImpl","$_3xnbd6tsjnlpb52c","Layout","firstControlClass","lastControlClass","containerClass","firstClass","lastClass","lastItem","controlClass","AbsoluteLayout","Button","btnElm","btnStyle","textHtml","ariaPressed","getSelection","textCls","setButtonText","$span","iconElm","insertBefore","BrowseButton","multiple","accept","input","files","stopPropagation","click","ButtonGroup","Checkbox","global$13","ComboBox","subinput","values","showMenu","newValue","statusLevel","statusMessage","openElm","lineHeight","innerPadding","inputElm","documentMode","openBtnHtml","extraAttrs","statusHtml","spellcheck","maxLength","placeholder","showAutoComplete","term","hideMenu","previewUrl","statusIconElm","focusIdx","DOWN","UP","ColorBox","onaction","repaintColor","background","PanelButton","panelSettings","hidePanel","rtlRels","ltrRels","popoverAlign","isTop","DOM$3","ColorButton","_color","backgroundColor","resetColor","onClickHandler","getParent","stopImmediatePropagation","global$14","ColorPicker","hsv","hueRootElm","huePointElm","svRootElm","svPointElm","event","pageX","pageY","updateColor","hueUpdate","hue","toHex","parse","updateSaturationAndValue","updateHue","toHsv","_repaint","_svdraghelper","_hdraghelper","rgb","toRgb","_rendered","hueHtml","stops","getOldIeFallbackHtml","gradientPrefix","stopsList","gradientCssText","DropZone","cfg","hidefocus","outerHTML","toggleDragClass","re","RegExp","join","dataTransfer","Path","delimiter","row","_getDataPathHtml","ElementPath","isHidden","elementpath","outParents","FormItem","flex","Form","labelGap","formItemDefaults","formItem","label","forId","recalcLabels","maxLabelWidth","labels","labelGapCalc","labelCtrl","labelWidth","FieldSet","unique$1","generate","date","random","floor","fromHtml","div","console","error","fromDom","fromTag","tag","fromText","createTextNode","fromPoint","docElm","elementFromPoint","Element$$1","cached","called","$_97et1hw7jnlpb5gk","ATTRIBUTE","Node","ATTRIBUTE_NODE","CDATA_SECTION","CDATA_SECTION_NODE","COMMENT","COMMENT_NODE","DOCUMENT","DOCUMENT_NODE","DOCUMENT_TYPE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT","DOCUMENT_FRAGMENT_NODE","ELEMENT","ELEMENT_NODE","TEXT","TEXT_NODE","PROCESSING_INSTRUCTION","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE","ENTITY_REFERENCE_NODE","ENTITY","ENTITY_NODE","NOTATION","NOTATION_NODE","nodeValue","isType$1","isComment","isText","isDocument","$_52ij6yw6jnlpb5gi","inBody","$_eyy768w4jnlpb5gd","Immutable","fields","struct","recurse","cur","$_99zdh5wejnlpb5h8","Global","Function","path","p","unsafe","actual","$_c2u51zwhjnlpb5hu","compareDocumentPosition","documentPositionPreceding","DOCUMENT_POSITION_PRECEDING","documentPositionContainedBy","DOCUMENT_POSITION_CONTAINED_BY","$_26zoqmwgjnlpb5hs","firstMatch","regexes","find$2","agent","major","minor","group","Number","nu","detect","versionRegexes","cleanedAgent","unknown","Version","edge","chrome","opera","firefox","safari","isBrowser","current","unknown$1","nu$1","version","info","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","windows$1","ios","android","linux","osx","solaris","freebsd","isOS","unknown$2","nu$2","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","OperatingSystem","DeviceType","os","browser","userAgent","isiPad","isiPhone","isAndroid3","isAndroid4","isTablet","isTouch","isPhone","iOSwebview","isWebView","detect$1","candidates","candidate","search","detectBrowser","browsers","detectOs","oses","UaString","contains$1","str","normalVersionRegex","checkContains","uastring","monstrosity","PlatformInfo","detect$2","deviceType","PlatformDetection","detect$3","navigator","$_7pc76cwkjnlpb5hz","elem","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","base","querySelectorAll","one","querySelector","$_7lblvdwvjnlpb5j4","e1","e2","isEqualNode","member","regularContains","d1","d2","ieContains","contains$2","$_dvypmswfjnlpb5h9","owner","el","findIndex$1","kin","isRoot","ret","rawParent","filterSelf","prevSibling","previousSibling","nextSibling","prevSiblings","nextSiblings","childNodesCount","spot","leaf","offset","cs","$_bjcg3aw8jnlpb5gn","all$1","descendants","ancestors","siblings$1","children$1","result","$_cac83tw3jnlpb5ga","all$2","ancestors$1","siblings$2","children$2","descendants$1","$_68zznuw2jnlpb5g8","trim$1","trim","hasContentEditableState","contentEditable","isContentEditableTrue","isContentEditableFalse","level","attach","isChildOfContentEditableTrue","getElementText","innerText","getOrGenerateId","isAnchor","isValidAnchor","isEditable","isHeader","isValidHeader","getLevel","headerTarget","headerId","anchorTarget","anchorId","anchorText","getHeaderTargets","elms","getAnchorTargets","getTargetElements","hasTitle","find$3","$_73vvu4vzjnlpb5fn","getActiveEditor","activeEditor","history","HISTORY_LENGTH","clearHistory","toMenuItem","raw","toMenuItems","targets","staticMenuItem","isUniqueUrl","foundTarget","getSetting","editorSettings","defaultValue","createMenuItems","fileType","fromHistoryMenuItems","historyItems","uniqueHistory","fromMenuItems","filteredTargets","anchorMenuItems","topAnchor","bottomAchor","bothEmpty","typeahead_urls","filterByQuery","addToHistory","lowerCaseTerm","getTitle","linkDetails","setupAutoCompleteHandler","autocomplete","linkTargets","meta","alt","statusToUiState","status","setupLinkValidatorHandler","validatorHandler","filepicker_validator_handler","validateUrl_1","uiState","FilePicker","actionCallback","fileBrowserCallback","fileBrowserCallbackTypes","filetype","file_picker_types","file_browser_callback_types","file_picker_callback","file_browser_callback","FitLayout","contLayoutRect","FlexLayout","contPaddingBox","contSettings","totalFlex","availableSpace","ctrlLayoutRect","ctrlSettings","maxSizeItems","maxSize","maxAlignEndPos","minSizeName","maxSizeName","beforeName","innerSizeName","deltaSizeName","alignAxisName","alignInnerSizeName","alignSizeName","alignMinSizeName","alignBeforeName","alignAfterName","alignDeltaSizeName","alignContentSizeName","maxFlexSize","FlowLayout","endClass","ClosestOrAncestor","ancestor","first$1","descendant","closest","sibling","child$1","descend","res","$_djyk0qx1jnlpb5jw","first","first$2","ancestor$1","sibling$1","child$2","descendant$1","closest$1","$_gafa38x0jnlpb5jo","toggleFormat","fmt","execCommand","addFormatChangedListener","changed","formatter","formatChanged","postRenderFormatToggle","register","alignFormats","defaultAlign","alignMenuItems","addMenuItem","addButton","onShowMenu","formatName","alignleft","aligncenter","alignright","alignjustify","alignnone","cmd","$_38gylwx3jnlpb5kc","getFirstFont","fontFamily","findMatchingValue","font","createFontNameListBoxChangeHandler","queryCommandValue","createFormats","formats","getFontItems","defaultFontsFormats","fonts","font_formats","textStyle","registerButtons","fixedWidth","onselect","register$1","$_d4vvsqx5jnlpb5kf","number","precision","factor","pow","toPt","fontSize","findMatchingValue$1","pt","px","createFontSizeListBoxChangeHandler","getFontSizeItems","defaultFontsizeFormats","fontsizeFormats","fontsize_formats","registerButtons$1","register$2","$_2ch5e1x6jnlpb5ki","hideMenuObjects","canApply","hideFormatMenuItems","createFormatMenu","newFormats","defaultStyleFormats","createStylesMenu","style_formats_merge","style_formats","itemDefaults","preview","getCssText","command","queryCommandState","registerMenuItems","formatMenu","registerButtons$2","style_formats_autohide","register$3","$_ccldm5x7jnlpb5kl","defaultBlocks","createFormats$1","createListBoxChangeHandler","matchNode","lazyFormatSelectBoxItems","blocks","block","buildMenuItems","register$4","block_formats","$_dsifr2x8jnlpb5kq","createCustomMenuItems","names","nameList","isSeparator$1","trimMenuItems","menuItems2","createContextMenuItems","outputMenuItems","createInsertMenu","insertButtonItems","insert_button_items","registerButtons$3","oncreatemenu","register$5","$_c26esyx9jnlpb5kt","registerFormatButtons","bold","italic","underline","strikethrough","subscript","superscript","registerCommandButtons","outdent","indent","cut","copy","paste","selectall","visualaid","newdocument","removeformat","registerCommandToggleButtons","blockquote","registerButtons$4","registerMenuItems$1","shortcut","register$6","$_57i6mkxajnlpb5kx","toggleUndoRedoState","checkState","typeFn","undoManager","readonly","registerMenuItems$2","registerButtons$5","register$7","$_8u3xlwxbjnlpb5kz","toggleVisualAidState","hasVisual","registerMenuItems$3","selectable","register$8","$_9hgsbdxcjnlpb5l1","setupEnvironment","iOS","setupUiContainer","setupRtlMode","setupHideFloatPanels","setup$1","$_4hizytwzjnlpb5jj","GridLayout","rows","cols","posX","posY","spacingH","spacingV","alignH","alignV","maxX","maxY","colWidths","rowHeights","ctrlMinWidth","ctrlMinHeight","availableWidth","availableHeight","reverseRows","columns","ceil","sqrt","flexV","packV","flexWidths","Iframe$1","src","InfoBox","severity","Label","strong","startMinH","targetCtrl","forName","Toolbar$1","MenuBar","isChildOf$1","MenuButton","_renderOpen","animate","activeMenu","menuLayoutRect","selfBottom","overCtrl","hasVisibleSiblingMenu","Menu","itemsFactory","factory","hideThrobber","requestTime","_hasIcons","ListBox","selected","selectedText","lastItemCtrl","setSelected","menuValues","_values","lastControl","valueExists","activateMenuItemsByValue","hasMenus","getSelectedItem","selectedItem","toggleTextStyle","_textStyle","textElm","MenuItem","ariaHideMenu","_parentMenu","_lastRel","iconHtml","convertShortcut","mac","shift","escapeRegExp","markMatches","boldMatches","hover","Radio","ResizeHandle","resizeDragHelper","createOptions","options","strOptions","SelectBox","_options","minVal","maxVal","setAriaProp","updateSliderHandle","maxHandlePos","shortSizeName","stylePosName","styleValue","handleEl","orientation","_minValue","_maxValue","previewFilter","Slider","minValue","maxValue","_initValue","reset","screenCordName","toFraction","fromFraction","handleKeyboard","alter","handleDrag","startHandlePos","handlePos","_dragHelper","Spacer","SplitButton","mainButtonElm","menuButtonElm","_menuBtnText","StackLayout","TabPanel","activateTab","activeTabElm","activeTabId","tabsHtml","activeTab","targetParent","headH","TextBox","getApi","ReflowQueue","Factory","Scrollable","Movable","Resizable","Window","FormatControls","Iframe","Toolbar","ui","ref","registerToFactory","Api","Theme"],"mappings":"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","sourcesContent":["(function () {\nvar modern = (function () {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.ThemeManager');\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.EditorManager');\n\n  var global$2 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n  var isBrandingEnabled = function (editor) {\n    return editor.getParam('branding', true, 'boolean');\n  };\n  var hasMenubar = function (editor) {\n    return getMenubar(editor) !== false;\n  };\n  var getMenubar = function (editor) {\n    return editor.getParam('menubar');\n  };\n  var hasStatusbar = function (editor) {\n    return editor.getParam('statusbar', true, 'boolean');\n  };\n  var getToolbarSize = function (editor) {\n    return editor.getParam('toolbar_items_size');\n  };\n  var isReadOnly = function (editor) {\n    return editor.getParam('readonly', false, 'boolean');\n  };\n  var getFixedToolbarContainer = function (editor) {\n    return editor.getParam('fixed_toolbar_container');\n  };\n  var getInlineToolbarPositionHandler = function (editor) {\n    return editor.getParam('inline_toolbar_position_handler');\n  };\n  var getMenu = function (editor) {\n    return editor.getParam('menu');\n  };\n  var getRemovedMenuItems = function (editor) {\n    return editor.getParam('removed_menuitems', '');\n  };\n  var getMinWidth = function (editor) {\n    return editor.getParam('min_width', 100, 'number');\n  };\n  var getMinHeight = function (editor) {\n    return editor.getParam('min_height', 100, 'number');\n  };\n  var getMaxWidth = function (editor) {\n    return editor.getParam('max_width', 65535, 'number');\n  };\n  var getMaxHeight = function (editor) {\n    return editor.getParam('max_height', 65535, 'number');\n  };\n  var isSkinDisabled = function (editor) {\n    return editor.settings.skin === false;\n  };\n  var isInline = function (editor) {\n    return editor.getParam('inline', false, 'boolean');\n  };\n  var getResize = function (editor) {\n    var resize = editor.getParam('resize', 'vertical');\n    if (resize === false) {\n      return 'none';\n    } else if (resize === 'both') {\n      return 'both';\n    } else {\n      return 'vertical';\n    }\n  };\n  var getSkinUrl = function (editor) {\n    var settings = editor.settings;\n    var skin = settings.skin;\n    var skinUrl = settings.skin_url;\n    if (skin !== false) {\n      var skinName = skin ? skin : 'lightgray';\n      if (skinUrl) {\n        skinUrl = editor.documentBaseURI.toAbsolute(skinUrl);\n      } else {\n        skinUrl = global$1.baseURL + '/skins/' + skinName;\n      }\n    }\n    return skinUrl;\n  };\n  var getIndexedToolbars = function (settings, defaultToolbar) {\n    var toolbars = [];\n    for (var i = 1; i < 10; i++) {\n      var toolbar = settings['toolbar' + i];\n      if (!toolbar) {\n        break;\n      }\n      toolbars.push(toolbar);\n    }\n    var mainToolbar = settings.toolbar ? [settings.toolbar] : [defaultToolbar];\n    return toolbars.length > 0 ? toolbars : mainToolbar;\n  };\n  var getToolbars = function (editor) {\n    var toolbar = editor.getParam('toolbar');\n    var defaultToolbar = 'undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image';\n    if (toolbar === false) {\n      return [];\n    } else if (global$2.isArray(toolbar)) {\n      return global$2.grep(toolbar, function (toolbar) {\n        return toolbar.length > 0;\n      });\n    } else {\n      return getIndexedToolbars(editor.settings, defaultToolbar);\n    }\n  };\n\n  var global$3 = tinymce.util.Tools.resolve('tinymce.dom.DOMUtils');\n\n  var global$4 = tinymce.util.Tools.resolve('tinymce.ui.Factory');\n\n  var global$5 = tinymce.util.Tools.resolve('tinymce.util.I18n');\n\n  var fireSkinLoaded = function (editor) {\n    return editor.fire('SkinLoaded');\n  };\n  var fireResizeEditor = function (editor) {\n    return editor.fire('ResizeEditor');\n  };\n  var fireBeforeRenderUI = function (editor) {\n    return editor.fire('BeforeRenderUI');\n  };\n  var $_byi2i4u1jnlpb52o = {\n    fireSkinLoaded: fireSkinLoaded,\n    fireResizeEditor: fireResizeEditor,\n    fireBeforeRenderUI: fireBeforeRenderUI\n  };\n\n  var focus = function (panel, type) {\n    return function () {\n      var item = panel.find(type)[0];\n      if (item) {\n        item.focus(true);\n      }\n    };\n  };\n  var addKeys = function (editor, panel) {\n    editor.shortcuts.add('Alt+F9', '', focus(panel, 'menubar'));\n    editor.shortcuts.add('Alt+F10,F10', '', focus(panel, 'toolbar'));\n    editor.shortcuts.add('Alt+F11', '', focus(panel, 'elementpath'));\n    panel.on('cancel', function () {\n      editor.focus();\n    });\n  };\n  var $_6kcut5u2jnlpb52p = { addKeys: addKeys };\n\n  var global$6 = tinymce.util.Tools.resolve('tinymce.geom.Rect');\n\n  var global$7 = tinymce.util.Tools.resolve('tinymce.util.Delay');\n\n  var noop = function () {\n    var x = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      x[_i] = arguments[_i];\n    }\n  };\n\n  var compose = function (fa, fb) {\n    return function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      return fa(fb.apply(null, arguments));\n    };\n  };\n  var constant = function (value) {\n    return function () {\n      return value;\n    };\n  };\n\n\n  var curry = function (f) {\n    var x = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n    var args = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i++)\n      args[i - 1] = arguments[i];\n    return function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      var newArgs = new Array(arguments.length);\n      for (var j = 0; j < newArgs.length; j++)\n        newArgs[j] = arguments[j];\n      var all = args.concat(newArgs);\n      return f.apply(null, all);\n    };\n  };\n\n\n\n\n  var never = constant(false);\n  var always = constant(true);\n\n  var never$1 = never;\n  var always$1 = always;\n  var none = function () {\n    return NONE;\n  };\n  var NONE = function () {\n    var eq = function (o) {\n      return o.isNone();\n    };\n    var call$$1 = function (thunk) {\n      return thunk();\n    };\n    var id = function (n) {\n      return n;\n    };\n    var noop$$1 = function () {\n    };\n    var nul = function () {\n      return null;\n    };\n    var undef = function () {\n      return undefined;\n    };\n    var me = {\n      fold: function (n, s) {\n        return n();\n      },\n      is: never$1,\n      isSome: never$1,\n      isNone: always$1,\n      getOr: id,\n      getOrThunk: call$$1,\n      getOrDie: function (msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: nul,\n      getOrUndefined: undef,\n      or: id,\n      orThunk: call$$1,\n      map: none,\n      ap: none,\n      each: noop$$1,\n      bind: none,\n      flatten: none,\n      exists: never$1,\n      forall: always$1,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function () {\n        return [];\n      },\n      toString: constant('none()')\n    };\n    if (Object.freeze)\n      Object.freeze(me);\n    return me;\n  }();\n  var some = function (a) {\n    var constant_a = function () {\n      return a;\n    };\n    var self = function () {\n      return me;\n    };\n    var map = function (f) {\n      return some(f(a));\n    };\n    var bind = function (f) {\n      return f(a);\n    };\n    var me = {\n      fold: function (n, s) {\n        return s(a);\n      },\n      is: function (v) {\n        return a === v;\n      },\n      isSome: always$1,\n      isNone: never$1,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: map,\n      ap: function (optfab) {\n        return optfab.fold(none, function (fab) {\n          return some(fab(a));\n        });\n      },\n      each: function (f) {\n        f(a);\n      },\n      bind: bind,\n      flatten: constant_a,\n      exists: bind,\n      forall: bind,\n      filter: function (f) {\n        return f(a) ? me : NONE;\n      },\n      equals: function (o) {\n        return o.is(a);\n      },\n      equals_: function (o, elementEq) {\n        return o.fold(never$1, function (b) {\n          return elementEq(a, b);\n        });\n      },\n      toArray: function () {\n        return [a];\n      },\n      toString: function () {\n        return 'some(' + a + ')';\n      }\n    };\n    return me;\n  };\n  var from = function (value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n  var Option = {\n    some: some,\n    none: none,\n    from: from\n  };\n\n  var getUiContainerDelta = function (ctrl) {\n    var uiContainer = getUiContainer(ctrl);\n    if (uiContainer && global$3.DOM.getStyle(uiContainer, 'position', true) !== 'static') {\n      var containerPos = global$3.DOM.getPos(uiContainer);\n      var dx = uiContainer.scrollLeft - containerPos.x;\n      var dy = uiContainer.scrollTop - containerPos.y;\n      return Option.some({\n        x: dx,\n        y: dy\n      });\n    } else {\n      return Option.none();\n    }\n  };\n  var setUiContainer = function (editor, ctrl) {\n    var uiContainer = global$3.DOM.select(editor.settings.ui_container)[0];\n    ctrl.getRoot().uiContainer = uiContainer;\n  };\n  var getUiContainer = function (ctrl) {\n    return ctrl ? ctrl.getRoot().uiContainer : null;\n  };\n  var inheritUiContainer = function (fromCtrl, toCtrl) {\n    return toCtrl.uiContainer = getUiContainer(fromCtrl);\n  };\n  var $_4ygtt4u6jnlpb52y = {\n    getUiContainerDelta: getUiContainerDelta,\n    setUiContainer: setUiContainer,\n    getUiContainer: getUiContainer,\n    inheritUiContainer: inheritUiContainer\n  };\n\n  var createToolbar = function (editor, items, size) {\n    var toolbarItems = [];\n    var buttonGroup;\n    if (!items) {\n      return;\n    }\n    global$2.each(items.split(/[ ,]/), function (item) {\n      var itemName;\n      var bindSelectorChanged = function () {\n        var selection = editor.selection;\n        if (item.settings.stateSelector) {\n          selection.selectorChanged(item.settings.stateSelector, function (state) {\n            item.active(state);\n          }, true);\n        }\n        if (item.settings.disabledStateSelector) {\n          selection.selectorChanged(item.settings.disabledStateSelector, function (state) {\n            item.disabled(state);\n          });\n        }\n      };\n      if (item === '|') {\n        buttonGroup = null;\n      } else {\n        if (!buttonGroup) {\n          buttonGroup = {\n            type: 'buttongroup',\n            items: []\n          };\n          toolbarItems.push(buttonGroup);\n        }\n        if (editor.buttons[item]) {\n          itemName = item;\n          item = editor.buttons[itemName];\n          if (typeof item === 'function') {\n            item = item();\n          }\n          item.type = item.type || 'button';\n          item.size = size;\n          item = global$4.create(item);\n          buttonGroup.items.push(item);\n          if (editor.initialized) {\n            bindSelectorChanged();\n          } else {\n            editor.on('init', bindSelectorChanged);\n          }\n        }\n      }\n    });\n    return {\n      type: 'toolbar',\n      layout: 'flow',\n      items: toolbarItems\n    };\n  };\n  var createToolbars = function (editor, size) {\n    var toolbars = [];\n    var addToolbar = function (items) {\n      if (items) {\n        toolbars.push(createToolbar(editor, items, size));\n      }\n    };\n    global$2.each(getToolbars(editor), function (toolbar) {\n      addToolbar(toolbar);\n    });\n    if (toolbars.length) {\n      return {\n        type: 'panel',\n        layout: 'stack',\n        classes: 'toolbar-grp',\n        ariaRoot: true,\n        ariaRemember: true,\n        items: toolbars\n      };\n    }\n  };\n  var $_cqt2pxu9jnlpb538 = {\n    createToolbar: createToolbar,\n    createToolbars: createToolbars\n  };\n\n  var DOM = global$3.DOM;\n  var toClientRect = function (geomRect) {\n    return {\n      left: geomRect.x,\n      top: geomRect.y,\n      width: geomRect.w,\n      height: geomRect.h,\n      right: geomRect.x + geomRect.w,\n      bottom: geomRect.y + geomRect.h\n    };\n  };\n  var hideAllFloatingPanels = function (editor) {\n    global$2.each(editor.contextToolbars, function (toolbar) {\n      if (toolbar.panel) {\n        toolbar.panel.hide();\n      }\n    });\n  };\n  var movePanelTo = function (panel, pos) {\n    panel.moveTo(pos.left, pos.top);\n  };\n  var togglePositionClass = function (panel, relPos, predicate) {\n    relPos = relPos ? relPos.substr(0, 2) : '';\n    global$2.each({\n      t: 'down',\n      b: 'up'\n    }, function (cls, pos) {\n      panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(0, 1)));\n    });\n    global$2.each({\n      l: 'left',\n      r: 'right'\n    }, function (cls, pos) {\n      panel.classes.toggle('arrow-' + cls, predicate(pos, relPos.substr(1, 1)));\n    });\n  };\n  var userConstrain = function (handler, x, y, elementRect, contentAreaRect, panelRect) {\n    panelRect = toClientRect({\n      x: x,\n      y: y,\n      w: panelRect.w,\n      h: panelRect.h\n    });\n    if (handler) {\n      panelRect = handler({\n        elementRect: toClientRect(elementRect),\n        contentAreaRect: toClientRect(contentAreaRect),\n        panelRect: panelRect\n      });\n    }\n    return panelRect;\n  };\n  var addContextualToolbars = function (editor) {\n    var scrollContainer;\n    var getContextToolbars = function () {\n      return editor.contextToolbars || [];\n    };\n    var getElementRect = function (elm) {\n      var pos, targetRect, root;\n      pos = DOM.getPos(editor.getContentAreaContainer());\n      targetRect = editor.dom.getRect(elm);\n      root = editor.dom.getRoot();\n      if (root.nodeName === 'BODY') {\n        targetRect.x -= root.ownerDocument.documentElement.scrollLeft || root.scrollLeft;\n        targetRect.y -= root.ownerDocument.documentElement.scrollTop || root.scrollTop;\n      }\n      targetRect.x += pos.x;\n      targetRect.y += pos.y;\n      return targetRect;\n    };\n    var reposition = function (match, shouldShow) {\n      var relPos, panelRect, elementRect, contentAreaRect, panel, relRect, testPositions, smallElementWidthThreshold;\n      var handler = getInlineToolbarPositionHandler(editor);\n      if (editor.removed) {\n        return;\n      }\n      if (!match || !match.toolbar.panel) {\n        hideAllFloatingPanels(editor);\n        return;\n      }\n      testPositions = [\n        'bc-tc',\n        'tc-bc',\n        'tl-bl',\n        'bl-tl',\n        'tr-br',\n        'br-tr'\n      ];\n      panel = match.toolbar.panel;\n      if (shouldShow) {\n        panel.show();\n      }\n      elementRect = getElementRect(match.element);\n      panelRect = DOM.getRect(panel.getEl());\n      contentAreaRect = DOM.getRect(editor.getContentAreaContainer() || editor.getBody());\n      var delta = $_4ygtt4u6jnlpb52y.getUiContainerDelta(panel).getOr({\n        x: 0,\n        y: 0\n      });\n      elementRect.x += delta.x;\n      elementRect.y += delta.y;\n      panelRect.x += delta.x;\n      panelRect.y += delta.y;\n      contentAreaRect.x += delta.x;\n      contentAreaRect.y += delta.y;\n      smallElementWidthThreshold = 25;\n      if (DOM.getStyle(match.element, 'display', true) !== 'inline') {\n        var clientRect = match.element.getBoundingClientRect();\n        elementRect.w = clientRect.width;\n        elementRect.h = clientRect.height;\n      }\n      if (!editor.inline) {\n        contentAreaRect.w = editor.getDoc().documentElement.offsetWidth;\n      }\n      if (editor.selection.controlSelection.isResizable(match.element) && elementRect.w < smallElementWidthThreshold) {\n        elementRect = global$6.inflate(elementRect, 0, 8);\n      }\n      relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, testPositions);\n      elementRect = global$6.clamp(elementRect, contentAreaRect);\n      if (relPos) {\n        relRect = global$6.relativePosition(panelRect, elementRect, relPos);\n        movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\n      } else {\n        contentAreaRect.h += panelRect.h;\n        elementRect = global$6.intersect(contentAreaRect, elementRect);\n        if (elementRect) {\n          relPos = global$6.findBestRelativePosition(panelRect, elementRect, contentAreaRect, [\n            'bc-tc',\n            'bl-tl',\n            'br-tr'\n          ]);\n          if (relPos) {\n            relRect = global$6.relativePosition(panelRect, elementRect, relPos);\n            movePanelTo(panel, userConstrain(handler, relRect.x, relRect.y, elementRect, contentAreaRect, panelRect));\n          } else {\n            movePanelTo(panel, userConstrain(handler, elementRect.x, elementRect.y, elementRect, contentAreaRect, panelRect));\n          }\n        } else {\n          panel.hide();\n        }\n      }\n      togglePositionClass(panel, relPos, function (pos1, pos2) {\n        return pos1 === pos2;\n      });\n    };\n    var repositionHandler = function (show) {\n      return function () {\n        var execute = function () {\n          if (editor.selection) {\n            reposition(findFrontMostMatch(editor.selection.getNode()), show);\n          }\n        };\n        global$7.requestAnimationFrame(execute);\n      };\n    };\n    var bindScrollEvent = function (panel) {\n      if (!scrollContainer) {\n        var reposition_1 = repositionHandler(true);\n        var uiContainer_1 = $_4ygtt4u6jnlpb52y.getUiContainer(panel);\n        scrollContainer = editor.selection.getScrollContainer() || editor.getWin();\n        DOM.bind(scrollContainer, 'scroll', reposition_1);\n        DOM.bind(uiContainer_1, 'scroll', reposition_1);\n        editor.on('remove', function () {\n          DOM.unbind(scrollContainer, 'scroll', reposition_1);\n          DOM.unbind(uiContainer_1, 'scroll', reposition_1);\n        });\n      }\n    };\n    var showContextToolbar = function (match) {\n      var panel;\n      if (match.toolbar.panel) {\n        match.toolbar.panel.show();\n        reposition(match);\n        return;\n      }\n      panel = global$4.create({\n        type: 'floatpanel',\n        role: 'dialog',\n        classes: 'tinymce tinymce-inline arrow',\n        ariaLabel: 'Inline toolbar',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        autohide: false,\n        autofix: true,\n        fixed: true,\n        border: 1,\n        items: $_cqt2pxu9jnlpb538.createToolbar(editor, match.toolbar.items),\n        oncancel: function () {\n          editor.focus();\n        }\n      });\n      $_4ygtt4u6jnlpb52y.setUiContainer(editor, panel);\n      bindScrollEvent(panel);\n      match.toolbar.panel = panel;\n      panel.renderTo().reflow();\n      reposition(match);\n    };\n    var hideAllContextToolbars = function () {\n      global$2.each(getContextToolbars(), function (toolbar) {\n        if (toolbar.panel) {\n          toolbar.panel.hide();\n        }\n      });\n    };\n    var findFrontMostMatch = function (targetElm) {\n      var i, y, parentsAndSelf;\n      var toolbars = getContextToolbars();\n      parentsAndSelf = editor.$(targetElm).parents().add(targetElm);\n      for (i = parentsAndSelf.length - 1; i >= 0; i--) {\n        for (y = toolbars.length - 1; y >= 0; y--) {\n          if (toolbars[y].predicate(parentsAndSelf[i])) {\n            return {\n              toolbar: toolbars[y],\n              element: parentsAndSelf[i]\n            };\n          }\n        }\n      }\n      return null;\n    };\n    editor.on('click keyup setContent ObjectResized', function (e) {\n      if (e.type === 'setcontent' && !e.selection) {\n        return;\n      }\n      global$7.setEditorTimeout(editor, function () {\n        var match;\n        match = findFrontMostMatch(editor.selection.getNode());\n        if (match) {\n          hideAllContextToolbars();\n          showContextToolbar(match);\n        } else {\n          hideAllContextToolbars();\n        }\n      });\n    });\n    editor.on('blur hide contextmenu', hideAllContextToolbars);\n    editor.on('ObjectResizeStart', function () {\n      var match = findFrontMostMatch(editor.selection.getNode());\n      if (match && match.toolbar.panel) {\n        match.toolbar.panel.hide();\n      }\n    });\n    editor.on('ResizeEditor ResizeWindow', repositionHandler(true));\n    editor.on('nodeChange', repositionHandler(false));\n    editor.on('remove', function () {\n      global$2.each(getContextToolbars(), function (toolbar) {\n        if (toolbar.panel) {\n          toolbar.panel.remove();\n        }\n      });\n      editor.contextToolbars = {};\n    });\n    editor.shortcuts.add('ctrl+F9', '', function () {\n      var match = findFrontMostMatch(editor.selection.getNode());\n      if (match && match.toolbar.panel) {\n        match.toolbar.panel.items()[0].focus();\n      }\n    });\n  };\n  var $_6dgfu4u3jnlpb52s = { addContextualToolbars: addContextualToolbars };\n\n  var typeOf = function (x) {\n    if (x === null)\n      return 'null';\n    var t = typeof x;\n    if (t === 'object' && Array.prototype.isPrototypeOf(x))\n      return 'array';\n    if (t === 'object' && String.prototype.isPrototypeOf(x))\n      return 'string';\n    return t;\n  };\n  var isType = function (type) {\n    return function (value) {\n      return typeOf(value) === type;\n    };\n  };\n\n\n\n\n\n\n  var isFunction = isType('function');\n  var isNumber = isType('number');\n\n  var rawIndexOf = function () {\n    var pIndexOf = Array.prototype.indexOf;\n    var fastIndex = function (xs, x) {\n      return pIndexOf.call(xs, x);\n    };\n    var slowIndex = function (xs, x) {\n      return slowIndexOf(xs, x);\n    };\n    return pIndexOf === undefined ? slowIndex : fastIndex;\n  }();\n  var indexOf = function (xs, x) {\n    var r = rawIndexOf(xs, x);\n    return r === -1 ? Option.none() : Option.some(r);\n  };\n\n  var exists = function (xs, pred) {\n    return findIndex(xs, pred).isSome();\n  };\n\n\n  var map = function (xs, f) {\n    var len = xs.length;\n    var r = new Array(len);\n    for (var i = 0; i < len; i++) {\n      var x = xs[i];\n      r[i] = f(x, i, xs);\n    }\n    return r;\n  };\n  var each = function (xs, f) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n\n\n  var filter = function (xs, pred) {\n    var r = [];\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      if (pred(x, i, xs)) {\n        r.push(x);\n      }\n    }\n    return r;\n  };\n\n\n  var foldl = function (xs, f, acc) {\n    each(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n  var find = function (xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      if (pred(x, i, xs)) {\n        return Option.some(x);\n      }\n    }\n    return Option.none();\n  };\n  var findIndex = function (xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      if (pred(x, i, xs)) {\n        return Option.some(i);\n      }\n    }\n    return Option.none();\n  };\n  var slowIndexOf = function (xs, x) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (xs[i] === x) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  var push = Array.prototype.push;\n  var flatten = function (xs) {\n    var r = [];\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (!Array.prototype.isPrototypeOf(xs[i]))\n        throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n      push.apply(r, xs[i]);\n    }\n    return r;\n  };\n\n\n\n  var slice = Array.prototype.slice;\n  var reverse = function (xs) {\n    var r = slice.call(xs, 0);\n    r.reverse();\n    return r;\n  };\n\n\n\n\n\n\n  var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n    return slice.call(x);\n  };\n\n  var defaultMenus = {\n    file: {\n      title: 'File',\n      items: 'newdocument restoredraft | preview | print'\n    },\n    edit: {\n      title: 'Edit',\n      items: 'undo redo | cut copy paste pastetext | selectall'\n    },\n    view: {\n      title: 'View',\n      items: 'code | visualaid visualchars visualblocks | spellchecker | preview fullscreen'\n    },\n    insert: {\n      title: 'Insert',\n      items: 'image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime'\n    },\n    format: {\n      title: 'Format',\n      items: 'bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat'\n    },\n    tools: {\n      title: 'Tools',\n      items: 'spellchecker spellcheckerlanguage | a11ycheck code'\n    },\n    table: { title: 'Table' },\n    help: { title: 'Help' }\n  };\n  var delimiterMenuNamePair = function () {\n    return {\n      name: '|',\n      item: { text: '|' }\n    };\n  };\n  var createMenuNameItemPair = function (name, item) {\n    var menuItem = item ? {\n      name: name,\n      item: item\n    } : null;\n    return name === '|' ? delimiterMenuNamePair() : menuItem;\n  };\n  var hasItemName = function (namedMenuItems, name) {\n    return findIndex(namedMenuItems, function (namedMenuItem) {\n      return namedMenuItem.name === name;\n    }).isSome();\n  };\n  var isSeparator = function (namedMenuItem) {\n    return namedMenuItem && namedMenuItem.item.text === '|';\n  };\n  var cleanupMenu = function (namedMenuItems, removedMenuItems) {\n    var menuItemsPass1 = filter(namedMenuItems, function (namedMenuItem) {\n      return removedMenuItems.hasOwnProperty(namedMenuItem.name) === false;\n    });\n    var menuItemsPass2 = filter(menuItemsPass1, function (namedMenuItem, i, namedMenuItems) {\n      return !isSeparator(namedMenuItem) || !isSeparator(namedMenuItems[i - 1]);\n    });\n    return filter(menuItemsPass2, function (namedMenuItem, i, namedMenuItems) {\n      return !isSeparator(namedMenuItem) || i > 0 && i < namedMenuItems.length - 1;\n    });\n  };\n  var createMenu = function (editorMenuItems, menus, removedMenuItems, context) {\n    var menuButton, menu, namedMenuItems, isUserDefined;\n    if (menus) {\n      menu = menus[context];\n      isUserDefined = true;\n    } else {\n      menu = defaultMenus[context];\n    }\n    if (menu) {\n      menuButton = { text: menu.title };\n      namedMenuItems = [];\n      global$2.each((menu.items || '').split(/[ ,]/), function (name) {\n        var namedMenuItem = createMenuNameItemPair(name, editorMenuItems[name]);\n        if (namedMenuItem) {\n          namedMenuItems.push(namedMenuItem);\n        }\n      });\n      if (!isUserDefined) {\n        global$2.each(editorMenuItems, function (item, name) {\n          if (item.context === context && !hasItemName(namedMenuItems, name)) {\n            if (item.separator === 'before') {\n              namedMenuItems.push(delimiterMenuNamePair());\n            }\n            if (item.prependToContext) {\n              namedMenuItems.unshift(createMenuNameItemPair(name, item));\n            } else {\n              namedMenuItems.push(createMenuNameItemPair(name, item));\n            }\n            if (item.separator === 'after') {\n              namedMenuItems.push(delimiterMenuNamePair());\n            }\n          }\n        });\n      }\n      menuButton.menu = map(cleanupMenu(namedMenuItems, removedMenuItems), function (menuItem) {\n        return menuItem.item;\n      });\n      if (!menuButton.menu.length) {\n        return null;\n      }\n    }\n    return menuButton;\n  };\n  var getDefaultMenubar = function (editor) {\n    var name;\n    var defaultMenuBar = [];\n    var menu = getMenu(editor);\n    if (menu) {\n      for (name in menu) {\n        defaultMenuBar.push(name);\n      }\n    } else {\n      for (name in defaultMenus) {\n        defaultMenuBar.push(name);\n      }\n    }\n    return defaultMenuBar;\n  };\n  var createMenuButtons = function (editor) {\n    var menuButtons = [];\n    var defaultMenuBar = getDefaultMenubar(editor);\n    var removedMenuItems = global$2.makeMap(getRemovedMenuItems(editor).split(/[ ,]/));\n    var menubar = getMenubar(editor);\n    var enabledMenuNames = typeof menubar === 'string' ? menubar.split(/[ ,]/) : defaultMenuBar;\n    for (var i = 0; i < enabledMenuNames.length; i++) {\n      var menuItems = enabledMenuNames[i];\n      var menu = createMenu(editor.menuItems, getMenu(editor), removedMenuItems, menuItems);\n      if (menu) {\n        menuButtons.push(menu);\n      }\n    }\n    return menuButtons;\n  };\n  var $_bt6b25uajnlpb53b = { createMenuButtons: createMenuButtons };\n\n  var DOM$1 = global$3.DOM;\n  var getSize = function (elm) {\n    return {\n      width: elm.clientWidth,\n      height: elm.clientHeight\n    };\n  };\n  var resizeTo = function (editor, width, height) {\n    var containerElm, iframeElm, containerSize, iframeSize;\n    containerElm = editor.getContainer();\n    iframeElm = editor.getContentAreaContainer().firstChild;\n    containerSize = getSize(containerElm);\n    iframeSize = getSize(iframeElm);\n    if (width !== null) {\n      width = Math.max(getMinWidth(editor), width);\n      width = Math.min(getMaxWidth(editor), width);\n      DOM$1.setStyle(containerElm, 'width', width + (containerSize.width - iframeSize.width));\n      DOM$1.setStyle(iframeElm, 'width', width);\n    }\n    height = Math.max(getMinHeight(editor), height);\n    height = Math.min(getMaxHeight(editor), height);\n    DOM$1.setStyle(iframeElm, 'height', height);\n    $_byi2i4u1jnlpb52o.fireResizeEditor(editor);\n  };\n  var resizeBy = function (editor, dw, dh) {\n    var elm = editor.getContentAreaContainer();\n    resizeTo(editor, elm.clientWidth + dw, elm.clientHeight + dh);\n  };\n  var $_ao1a4hudjnlpb53o = {\n    resizeTo: resizeTo,\n    resizeBy: resizeBy\n  };\n\n  var global$8 = tinymce.util.Tools.resolve('tinymce.Env');\n\n  var api = function (elm) {\n    return {\n      element: function () {\n        return elm;\n      }\n    };\n  };\n  var trigger = function (sidebar, panel, callbackName) {\n    var callback = sidebar.settings[callbackName];\n    if (callback) {\n      callback(api(panel.getEl('body')));\n    }\n  };\n  var hidePanels = function (name, container, sidebars) {\n    global$2.each(sidebars, function (sidebar) {\n      var panel = container.items().filter('#' + sidebar.name)[0];\n      if (panel && panel.visible() && sidebar.name !== name) {\n        trigger(sidebar, panel, 'onhide');\n        panel.visible(false);\n      }\n    });\n  };\n  var deactivateButtons = function (toolbar) {\n    toolbar.items().each(function (ctrl) {\n      ctrl.active(false);\n    });\n  };\n  var findSidebar = function (sidebars, name) {\n    return global$2.grep(sidebars, function (sidebar) {\n      return sidebar.name === name;\n    })[0];\n  };\n  var showPanel = function (editor, name, sidebars) {\n    return function (e) {\n      var btnCtrl = e.control;\n      var container = btnCtrl.parents().filter('panel')[0];\n      var panel = container.find('#' + name)[0];\n      var sidebar = findSidebar(sidebars, name);\n      hidePanels(name, container, sidebars);\n      deactivateButtons(btnCtrl.parent());\n      if (panel && panel.visible()) {\n        trigger(sidebar, panel, 'onhide');\n        panel.hide();\n        btnCtrl.active(false);\n      } else {\n        if (panel) {\n          panel.show();\n          trigger(sidebar, panel, 'onshow');\n        } else {\n          panel = global$4.create({\n            type: 'container',\n            name: name,\n            layout: 'stack',\n            classes: 'sidebar-panel',\n            html: ''\n          });\n          container.prepend(panel);\n          trigger(sidebar, panel, 'onrender');\n          trigger(sidebar, panel, 'onshow');\n        }\n        btnCtrl.active(true);\n      }\n      $_byi2i4u1jnlpb52o.fireResizeEditor(editor);\n    };\n  };\n  var isModernBrowser = function () {\n    return !global$8.ie || global$8.ie >= 11;\n  };\n  var hasSidebar = function (editor) {\n    return isModernBrowser() && editor.sidebars ? editor.sidebars.length > 0 : false;\n  };\n  var createSidebar = function (editor) {\n    var buttons = global$2.map(editor.sidebars, function (sidebar) {\n      var settings = sidebar.settings;\n      return {\n        type: 'button',\n        icon: settings.icon,\n        image: settings.image,\n        tooltip: settings.tooltip,\n        onclick: showPanel(editor, sidebar.name, editor.sidebars)\n      };\n    });\n    return {\n      type: 'panel',\n      name: 'sidebar',\n      layout: 'stack',\n      classes: 'sidebar',\n      items: [{\n          type: 'toolbar',\n          layout: 'stack',\n          classes: 'sidebar-toolbar',\n          items: buttons\n        }]\n    };\n  };\n  var $_ep7vgsuejnlpb53q = {\n    hasSidebar: hasSidebar,\n    createSidebar: createSidebar\n  };\n\n  var fireSkinLoaded$1 = function (editor) {\n    var done = function () {\n      editor._skinLoaded = true;\n      $_byi2i4u1jnlpb52o.fireSkinLoaded(editor);\n    };\n    return function () {\n      if (editor.initialized) {\n        done();\n      } else {\n        editor.on('init', done);\n      }\n    };\n  };\n  var $_2vr92vugjnlpb542 = { fireSkinLoaded: fireSkinLoaded$1 };\n\n  var DOM$2 = global$3.DOM;\n  var switchMode = function (panel) {\n    return function (e) {\n      panel.find('*').disabled(e.mode === 'readonly');\n    };\n  };\n  var editArea = function (border) {\n    return {\n      type: 'panel',\n      name: 'iframe',\n      layout: 'stack',\n      classes: 'edit-area',\n      border: border,\n      html: ''\n    };\n  };\n  var editAreaContainer = function (editor) {\n    return {\n      type: 'panel',\n      layout: 'stack',\n      classes: 'edit-aria-container',\n      border: '1 0 0 0',\n      items: [\n        editArea('0'),\n        $_ep7vgsuejnlpb53q.createSidebar(editor)\n      ]\n    };\n  };\n  var render = function (editor, theme, args) {\n    var panel, resizeHandleCtrl, startSize;\n    if (isSkinDisabled(editor) === false && args.skinUiCss) {\n      DOM$2.styleSheetLoader.load(args.skinUiCss, $_2vr92vugjnlpb542.fireSkinLoaded(editor));\n    } else {\n      $_2vr92vugjnlpb542.fireSkinLoaded(editor)();\n    }\n    panel = theme.panel = global$4.create({\n      type: 'panel',\n      role: 'application',\n      classes: 'tinymce',\n      style: 'visibility: hidden',\n      layout: 'stack',\n      border: 1,\n      items: [\n        {\n          type: 'container',\n          classes: 'top-part',\n          items: [\n            hasMenubar(editor) === false ? null : {\n              type: 'menubar',\n              border: '0 0 1 0',\n              items: $_bt6b25uajnlpb53b.createMenuButtons(editor)\n            },\n            $_cqt2pxu9jnlpb538.createToolbars(editor, getToolbarSize(editor))\n          ]\n        },\n        $_ep7vgsuejnlpb53q.hasSidebar(editor) ? editAreaContainer(editor) : editArea('1 0 0 0')\n      ]\n    });\n    $_4ygtt4u6jnlpb52y.setUiContainer(editor, panel);\n    if (getResize(editor) !== 'none') {\n      resizeHandleCtrl = {\n        type: 'resizehandle',\n        direction: getResize(editor),\n        onResizeStart: function () {\n          var elm = editor.getContentAreaContainer().firstChild;\n          startSize = {\n            width: elm.clientWidth,\n            height: elm.clientHeight\n          };\n        },\n        onResize: function (e) {\n          if (getResize(editor) === 'both') {\n            $_ao1a4hudjnlpb53o.resizeTo(editor, startSize.width + e.deltaX, startSize.height + e.deltaY);\n          } else {\n            $_ao1a4hudjnlpb53o.resizeTo(editor, null, startSize.height + e.deltaY);\n          }\n        }\n      };\n    }\n    if (hasStatusbar(editor)) {\n      var linkHtml = '<a href=\"https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce\" rel=\"noopener\" target=\"_blank\" role=\"presentation\" tabindex=\"-1\">tinymce</a>';\n      var html = global$5.translate([\n        'Powered by {0}',\n        linkHtml\n      ]);\n      var brandingLabel = isBrandingEnabled(editor) ? {\n        type: 'label',\n        classes: 'branding',\n        html: ' ' + html\n      } : null;\n      panel.add({\n        type: 'panel',\n        name: 'statusbar',\n        classes: 'statusbar',\n        layout: 'flow',\n        border: '1 0 0 0',\n        ariaRoot: true,\n        items: [\n          {\n            type: 'elementpath',\n            editor: editor\n          },\n          resizeHandleCtrl,\n          brandingLabel\n        ]\n      });\n    }\n    $_byi2i4u1jnlpb52o.fireBeforeRenderUI(editor);\n    editor.on('SwitchMode', switchMode(panel));\n    panel.renderBefore(args.targetNode).reflow();\n    if (isReadOnly(editor)) {\n      editor.setMode('readonly');\n    }\n    if (args.width) {\n      DOM$2.setStyle(panel.getEl(), 'width', args.width);\n    }\n    editor.on('remove', function () {\n      panel.remove();\n      panel = null;\n    });\n    $_6kcut5u2jnlpb52p.addKeys(editor, panel);\n    $_6dgfu4u3jnlpb52s.addContextualToolbars(editor);\n    return {\n      iframeContainer: panel.find('#iframe')[0].getEl(),\n      editorContainer: panel.getEl()\n    };\n  };\n  var $_2rsj5otxjnlpb52j = { render: render };\n\n  var global$9 = tinymce.util.Tools.resolve('tinymce.dom.DomQuery');\n\n  var count = 0;\n  var funcs = {\n    id: function () {\n      return 'mceu_' + count++;\n    },\n    create: function (name$$1, attrs, children) {\n      var elm = document.createElement(name$$1);\n      global$3.DOM.setAttribs(elm, attrs);\n      if (typeof children === 'string') {\n        elm.innerHTML = children;\n      } else {\n        global$2.each(children, function (child) {\n          if (child.nodeType) {\n            elm.appendChild(child);\n          }\n        });\n      }\n      return elm;\n    },\n    createFragment: function (html) {\n      return global$3.DOM.createFragment(html);\n    },\n    getWindowSize: function () {\n      return global$3.DOM.getViewPort();\n    },\n    getSize: function (elm) {\n      var width, height;\n      if (elm.getBoundingClientRect) {\n        var rect = elm.getBoundingClientRect();\n        width = Math.max(rect.width || rect.right - rect.left, elm.offsetWidth);\n        height = Math.max(rect.height || rect.bottom - rect.bottom, elm.offsetHeight);\n      } else {\n        width = elm.offsetWidth;\n        height = elm.offsetHeight;\n      }\n      return {\n        width: width,\n        height: height\n      };\n    },\n    getPos: function (elm, root) {\n      return global$3.DOM.getPos(elm, root || funcs.getContainer());\n    },\n    getContainer: function () {\n      return global$8.container ? global$8.container : document.body;\n    },\n    getViewPort: function (win) {\n      return global$3.DOM.getViewPort(win);\n    },\n    get: function (id) {\n      return document.getElementById(id);\n    },\n    addClass: function (elm, cls) {\n      return global$3.DOM.addClass(elm, cls);\n    },\n    removeClass: function (elm, cls) {\n      return global$3.DOM.removeClass(elm, cls);\n    },\n    hasClass: function (elm, cls) {\n      return global$3.DOM.hasClass(elm, cls);\n    },\n    toggleClass: function (elm, cls, state) {\n      return global$3.DOM.toggleClass(elm, cls, state);\n    },\n    css: function (elm, name$$1, value) {\n      return global$3.DOM.setStyle(elm, name$$1, value);\n    },\n    getRuntimeStyle: function (elm, name$$1) {\n      return global$3.DOM.getStyle(elm, name$$1, true);\n    },\n    on: function (target, name$$1, callback, scope) {\n      return global$3.DOM.bind(target, name$$1, callback, scope);\n    },\n    off: function (target, name$$1, callback) {\n      return global$3.DOM.unbind(target, name$$1, callback);\n    },\n    fire: function (target, name$$1, args) {\n      return global$3.DOM.fire(target, name$$1, args);\n    },\n    innerHtml: function (elm, html) {\n      global$3.DOM.setHTML(elm, html);\n    }\n  };\n\n  var isStatic = function (elm) {\n    return funcs.getRuntimeStyle(elm, 'position') === 'static';\n  };\n  var isFixed = function (ctrl) {\n    return ctrl.state.get('fixed');\n  };\n  function calculateRelativePosition(ctrl, targetElm, rel) {\n    var ctrlElm, pos, x, y, selfW, selfH, targetW, targetH, viewport, size;\n    viewport = getWindowViewPort();\n    pos = funcs.getPos(targetElm, $_4ygtt4u6jnlpb52y.getUiContainer(ctrl));\n    x = pos.x;\n    y = pos.y;\n    if (isFixed(ctrl) && isStatic(document.body)) {\n      x -= viewport.x;\n      y -= viewport.y;\n    }\n    ctrlElm = ctrl.getEl();\n    size = funcs.getSize(ctrlElm);\n    selfW = size.width;\n    selfH = size.height;\n    size = funcs.getSize(targetElm);\n    targetW = size.width;\n    targetH = size.height;\n    rel = (rel || '').split('');\n    if (rel[0] === 'b') {\n      y += targetH;\n    }\n    if (rel[1] === 'r') {\n      x += targetW;\n    }\n    if (rel[0] === 'c') {\n      y += Math.round(targetH / 2);\n    }\n    if (rel[1] === 'c') {\n      x += Math.round(targetW / 2);\n    }\n    if (rel[3] === 'b') {\n      y -= selfH;\n    }\n    if (rel[4] === 'r') {\n      x -= selfW;\n    }\n    if (rel[3] === 'c') {\n      y -= Math.round(selfH / 2);\n    }\n    if (rel[4] === 'c') {\n      x -= Math.round(selfW / 2);\n    }\n    return {\n      x: x,\n      y: y,\n      w: selfW,\n      h: selfH\n    };\n  }\n  var getUiContainerViewPort = function (customUiContainer) {\n    return {\n      x: 0,\n      y: 0,\n      w: customUiContainer.scrollWidth - 1,\n      h: customUiContainer.scrollHeight - 1\n    };\n  };\n  var getWindowViewPort = function () {\n    var win = window;\n    var x = Math.max(win.pageXOffset, document.body.scrollLeft, document.documentElement.scrollLeft);\n    var y = Math.max(win.pageYOffset, document.body.scrollTop, document.documentElement.scrollTop);\n    var w = win.innerWidth || document.documentElement.clientWidth;\n    var h = win.innerHeight || document.documentElement.clientHeight;\n    return {\n      x: x,\n      y: y,\n      w: x + w,\n      h: y + h\n    };\n  };\n  var getViewPortRect = function (ctrl) {\n    var customUiContainer = $_4ygtt4u6jnlpb52y.getUiContainer(ctrl);\n    return customUiContainer && !isFixed(ctrl) ? getUiContainerViewPort(customUiContainer) : getWindowViewPort();\n  };\n  var $_9hbasgumjnlpb54u = {\n    testMoveRel: function (elm, rels) {\n      var viewPortRect = getViewPortRect(this);\n      for (var i = 0; i < rels.length; i++) {\n        var pos = calculateRelativePosition(this, elm, rels[i]);\n        if (isFixed(this)) {\n          if (pos.x > 0 && pos.x + pos.w < viewPortRect.w && pos.y > 0 && pos.y + pos.h < viewPortRect.h) {\n            return rels[i];\n          }\n        } else {\n          if (pos.x > viewPortRect.x && pos.x + pos.w < viewPortRect.w && pos.y > viewPortRect.y && pos.y + pos.h < viewPortRect.h) {\n            return rels[i];\n          }\n        }\n      }\n      return rels[0];\n    },\n    moveRel: function (elm, rel) {\n      if (typeof rel !== 'string') {\n        rel = this.testMoveRel(elm, rel);\n      }\n      var pos = calculateRelativePosition(this, elm, rel);\n      return this.moveTo(pos.x, pos.y);\n    },\n    moveBy: function (dx, dy) {\n      var self$$1 = this, rect = self$$1.layoutRect();\n      self$$1.moveTo(rect.x + dx, rect.y + dy);\n      return self$$1;\n    },\n    moveTo: function (x, y) {\n      var self$$1 = this;\n      function constrain(value, max, size) {\n        if (value < 0) {\n          return 0;\n        }\n        if (value + size > max) {\n          value = max - size;\n          return value < 0 ? 0 : value;\n        }\n        return value;\n      }\n      if (self$$1.settings.constrainToViewport) {\n        var viewPortRect = getViewPortRect(this);\n        var layoutRect = self$$1.layoutRect();\n        x = constrain(x, viewPortRect.w, layoutRect.w);\n        y = constrain(y, viewPortRect.h, layoutRect.h);\n      }\n      var uiContainer = $_4ygtt4u6jnlpb52y.getUiContainer(self$$1);\n      if (uiContainer && isStatic(uiContainer) && !isFixed(self$$1)) {\n        x -= uiContainer.scrollLeft;\n        y -= uiContainer.scrollTop;\n      }\n      if (uiContainer) {\n        x += 1;\n        y += 1;\n      }\n      if (self$$1.state.get('rendered')) {\n        self$$1.layoutRect({\n          x: x,\n          y: y\n        }).repaint();\n      } else {\n        self$$1.settings.x = x;\n        self$$1.settings.y = y;\n      }\n      self$$1.fire('move', {\n        x: x,\n        y: y\n      });\n      return self$$1;\n    }\n  };\n\n  var global$10 = tinymce.util.Tools.resolve('tinymce.util.Class');\n\n  var global$11 = tinymce.util.Tools.resolve('tinymce.util.EventDispatcher');\n\n  var $_62etjpusjnlpb560 = {\n    parseBox: function (value) {\n      var len;\n      var radix = 10;\n      if (!value) {\n        return;\n      }\n      if (typeof value === 'number') {\n        value = value || 0;\n        return {\n          top: value,\n          left: value,\n          bottom: value,\n          right: value\n        };\n      }\n      value = value.split(' ');\n      len = value.length;\n      if (len === 1) {\n        value[1] = value[2] = value[3] = value[0];\n      } else if (len === 2) {\n        value[2] = value[0];\n        value[3] = value[1];\n      } else if (len === 3) {\n        value[3] = value[1];\n      }\n      return {\n        top: parseInt(value[0], radix) || 0,\n        right: parseInt(value[1], radix) || 0,\n        bottom: parseInt(value[2], radix) || 0,\n        left: parseInt(value[3], radix) || 0\n      };\n    },\n    measureBox: function (elm, prefix) {\n      function getStyle(name) {\n        var defaultView = elm.ownerDocument.defaultView;\n        if (defaultView) {\n          var computedStyle = defaultView.getComputedStyle(elm, null);\n          if (computedStyle) {\n            name = name.replace(/[A-Z]/g, function (a) {\n              return '-' + a;\n            });\n            return computedStyle.getPropertyValue(name);\n          } else {\n            return null;\n          }\n        }\n        return elm.currentStyle[name];\n      }\n      function getSide(name) {\n        var val = parseFloat(getStyle(name));\n        return isNaN(val) ? 0 : val;\n      }\n      return {\n        top: getSide(prefix + 'TopWidth'),\n        right: getSide(prefix + 'RightWidth'),\n        bottom: getSide(prefix + 'BottomWidth'),\n        left: getSide(prefix + 'LeftWidth')\n      };\n    }\n  };\n\n  function noop$1() {\n  }\n  function ClassList(onchange) {\n    this.cls = [];\n    this.cls._map = {};\n    this.onchange = onchange || noop$1;\n    this.prefix = '';\n  }\n  global$2.extend(ClassList.prototype, {\n    add: function (cls) {\n      if (cls && !this.contains(cls)) {\n        this.cls._map[cls] = true;\n        this.cls.push(cls);\n        this._change();\n      }\n      return this;\n    },\n    remove: function (cls) {\n      if (this.contains(cls)) {\n        var i = void 0;\n        for (i = 0; i < this.cls.length; i++) {\n          if (this.cls[i] === cls) {\n            break;\n          }\n        }\n        this.cls.splice(i, 1);\n        delete this.cls._map[cls];\n        this._change();\n      }\n      return this;\n    },\n    toggle: function (cls, state) {\n      var curState = this.contains(cls);\n      if (curState !== state) {\n        if (curState) {\n          this.remove(cls);\n        } else {\n          this.add(cls);\n        }\n        this._change();\n      }\n      return this;\n    },\n    contains: function (cls) {\n      return !!this.cls._map[cls];\n    },\n    _change: function () {\n      delete this.clsValue;\n      this.onchange.call(this);\n    }\n  });\n  ClassList.prototype.toString = function () {\n    var value;\n    if (this.clsValue) {\n      return this.clsValue;\n    }\n    value = '';\n    for (var i = 0; i < this.cls.length; i++) {\n      if (i > 0) {\n        value += ' ';\n      }\n      value += this.prefix + this.cls[i];\n    }\n    return value;\n  };\n\n  function unique(array) {\n    var uniqueItems = [];\n    var i = array.length, item;\n    while (i--) {\n      item = array[i];\n      if (!item.__checked) {\n        uniqueItems.push(item);\n        item.__checked = 1;\n      }\n    }\n    i = uniqueItems.length;\n    while (i--) {\n      delete uniqueItems[i].__checked;\n    }\n    return uniqueItems;\n  }\n  var expression = /^([\\w\\\\*]+)?(?:#([\\w\\-\\\\]+))?(?:\\.([\\w\\\\\\.]+))?(?:\\[\\@?([\\w\\\\]+)([\\^\\$\\*!~]?=)([\\w\\\\]+)\\])?(?:\\:(.+))?/i;\n  var chunker = /((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g;\n  var whiteSpace = /^\\s*|\\s*$/g;\n  var Collection;\n  var Selector = global$10.extend({\n    init: function (selector) {\n      var match = this.match;\n      function compileNameFilter(name) {\n        if (name) {\n          name = name.toLowerCase();\n          return function (item) {\n            return name === '*' || item.type === name;\n          };\n        }\n      }\n      function compileIdFilter(id) {\n        if (id) {\n          return function (item) {\n            return item._name === id;\n          };\n        }\n      }\n      function compileClassesFilter(classes) {\n        if (classes) {\n          classes = classes.split('.');\n          return function (item) {\n            var i = classes.length;\n            while (i--) {\n              if (!item.classes.contains(classes[i])) {\n                return false;\n              }\n            }\n            return true;\n          };\n        }\n      }\n      function compileAttrFilter(name, cmp, check) {\n        if (name) {\n          return function (item) {\n            var value = item[name] ? item[name]() : '';\n            return !cmp ? !!check : cmp === '=' ? value === check : cmp === '*=' ? value.indexOf(check) >= 0 : cmp === '~=' ? (' ' + value + ' ').indexOf(' ' + check + ' ') >= 0 : cmp === '!=' ? value !== check : cmp === '^=' ? value.indexOf(check) === 0 : cmp === '$=' ? value.substr(value.length - check.length) === check : false;\n          };\n        }\n      }\n      function compilePsuedoFilter(name) {\n        var notSelectors;\n        if (name) {\n          name = /(?:not\\((.+)\\))|(.+)/i.exec(name);\n          if (!name[1]) {\n            name = name[2];\n            return function (item, index, length) {\n              return name === 'first' ? index === 0 : name === 'last' ? index === length - 1 : name === 'even' ? index % 2 === 0 : name === 'odd' ? index % 2 === 1 : item[name] ? item[name]() : false;\n            };\n          }\n          notSelectors = parseChunks(name[1], []);\n          return function (item) {\n            return !match(item, notSelectors);\n          };\n        }\n      }\n      function compile(selector, filters, direct) {\n        var parts;\n        function add(filter) {\n          if (filter) {\n            filters.push(filter);\n          }\n        }\n        parts = expression.exec(selector.replace(whiteSpace, ''));\n        add(compileNameFilter(parts[1]));\n        add(compileIdFilter(parts[2]));\n        add(compileClassesFilter(parts[3]));\n        add(compileAttrFilter(parts[4], parts[5], parts[6]));\n        add(compilePsuedoFilter(parts[7]));\n        filters.pseudo = !!parts[7];\n        filters.direct = direct;\n        return filters;\n      }\n      function parseChunks(selector, selectors) {\n        var parts = [];\n        var extra, matches, i;\n        do {\n          chunker.exec('');\n          matches = chunker.exec(selector);\n          if (matches) {\n            selector = matches[3];\n            parts.push(matches[1]);\n            if (matches[2]) {\n              extra = matches[3];\n              break;\n            }\n          }\n        } while (matches);\n        if (extra) {\n          parseChunks(extra, selectors);\n        }\n        selector = [];\n        for (i = 0; i < parts.length; i++) {\n          if (parts[i] !== '>') {\n            selector.push(compile(parts[i], [], parts[i - 1] === '>'));\n          }\n        }\n        selectors.push(selector);\n        return selectors;\n      }\n      this._selectors = parseChunks(selector, []);\n    },\n    match: function (control, selectors) {\n      var i, l, si, sl, selector, fi, fl, filters, index, length, siblings, count, item;\n      selectors = selectors || this._selectors;\n      for (i = 0, l = selectors.length; i < l; i++) {\n        selector = selectors[i];\n        sl = selector.length;\n        item = control;\n        count = 0;\n        for (si = sl - 1; si >= 0; si--) {\n          filters = selector[si];\n          while (item) {\n            if (filters.pseudo) {\n              siblings = item.parent().items();\n              index = length = siblings.length;\n              while (index--) {\n                if (siblings[index] === item) {\n                  break;\n                }\n              }\n            }\n            for (fi = 0, fl = filters.length; fi < fl; fi++) {\n              if (!filters[fi](item, index, length)) {\n                fi = fl + 1;\n                break;\n              }\n            }\n            if (fi === fl) {\n              count++;\n              break;\n            } else {\n              if (si === sl - 1) {\n                break;\n              }\n            }\n            item = item.parent();\n          }\n        }\n        if (count === sl) {\n          return true;\n        }\n      }\n      return false;\n    },\n    find: function (container) {\n      var matches = [], i, l;\n      var selectors = this._selectors;\n      function collect(items, selector, index) {\n        var i, l, fi, fl, item;\n        var filters = selector[index];\n        for (i = 0, l = items.length; i < l; i++) {\n          item = items[i];\n          for (fi = 0, fl = filters.length; fi < fl; fi++) {\n            if (!filters[fi](item, i, l)) {\n              fi = fl + 1;\n              break;\n            }\n          }\n          if (fi === fl) {\n            if (index === selector.length - 1) {\n              matches.push(item);\n            } else {\n              if (item.items) {\n                collect(item.items(), selector, index + 1);\n              }\n            }\n          } else if (filters.direct) {\n            return;\n          }\n          if (item.items) {\n            collect(item.items(), selector, index);\n          }\n        }\n      }\n      if (container.items) {\n        for (i = 0, l = selectors.length; i < l; i++) {\n          collect(container.items(), selectors[i], 0);\n        }\n        if (l > 1) {\n          matches = unique(matches);\n        }\n      }\n      if (!Collection) {\n        Collection = Selector.Collection;\n      }\n      return new Collection(matches);\n    }\n  });\n\n  var Collection$1;\n  var proto;\n  var push$1 = Array.prototype.push;\n  var slice$1 = Array.prototype.slice;\n  proto = {\n    length: 0,\n    init: function (items) {\n      if (items) {\n        this.add(items);\n      }\n    },\n    add: function (items) {\n      var self = this;\n      if (!global$2.isArray(items)) {\n        if (items instanceof Collection$1) {\n          self.add(items.toArray());\n        } else {\n          push$1.call(self, items);\n        }\n      } else {\n        push$1.apply(self, items);\n      }\n      return self;\n    },\n    set: function (items) {\n      var self = this;\n      var len = self.length;\n      var i;\n      self.length = 0;\n      self.add(items);\n      for (i = self.length; i < len; i++) {\n        delete self[i];\n      }\n      return self;\n    },\n    filter: function (selector) {\n      var self = this;\n      var i, l;\n      var matches = [];\n      var item, match;\n      if (typeof selector === 'string') {\n        selector = new Selector(selector);\n        match = function (item) {\n          return selector.match(item);\n        };\n      } else {\n        match = selector;\n      }\n      for (i = 0, l = self.length; i < l; i++) {\n        item = self[i];\n        if (match(item)) {\n          matches.push(item);\n        }\n      }\n      return new Collection$1(matches);\n    },\n    slice: function () {\n      return new Collection$1(slice$1.apply(this, arguments));\n    },\n    eq: function (index) {\n      return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n    },\n    each: function (callback) {\n      global$2.each(this, callback);\n      return this;\n    },\n    toArray: function () {\n      return global$2.toArray(this);\n    },\n    indexOf: function (ctrl) {\n      var self = this;\n      var i = self.length;\n      while (i--) {\n        if (self[i] === ctrl) {\n          break;\n        }\n      }\n      return i;\n    },\n    reverse: function () {\n      return new Collection$1(global$2.toArray(this).reverse());\n    },\n    hasClass: function (cls) {\n      return this[0] ? this[0].classes.contains(cls) : false;\n    },\n    prop: function (name, value) {\n      var self = this;\n      var item;\n      if (value !== undefined) {\n        self.each(function (item) {\n          if (item[name]) {\n            item[name](value);\n          }\n        });\n        return self;\n      }\n      item = self[0];\n      if (item && item[name]) {\n        return item[name]();\n      }\n    },\n    exec: function (name) {\n      var self = this, args = global$2.toArray(arguments).slice(1);\n      self.each(function (item) {\n        if (item[name]) {\n          item[name].apply(item, args);\n        }\n      });\n      return self;\n    },\n    remove: function () {\n      var i = this.length;\n      while (i--) {\n        this[i].remove();\n      }\n      return this;\n    },\n    addClass: function (cls) {\n      return this.each(function (item) {\n        item.classes.add(cls);\n      });\n    },\n    removeClass: function (cls) {\n      return this.each(function (item) {\n        item.classes.remove(cls);\n      });\n    }\n  };\n  global$2.each('fire on off show hide append prepend before after reflow'.split(' '), function (name) {\n    proto[name] = function () {\n      var args = global$2.toArray(arguments);\n      this.each(function (ctrl) {\n        if (name in ctrl) {\n          ctrl[name].apply(ctrl, args);\n        }\n      });\n      return this;\n    };\n  });\n  global$2.each('text name disabled active selected checked visible parent value data'.split(' '), function (name) {\n    proto[name] = function (value) {\n      return this.prop(name, value);\n    };\n  });\n  Collection$1 = global$10.extend(proto);\n  Selector.Collection = Collection$1;\n  var Collection$2 = Collection$1;\n\n  var Binding = function (settings) {\n    this.create = settings.create;\n  };\n  Binding.create = function (model, name) {\n    return new Binding({\n      create: function (otherModel, otherName) {\n        var bindings;\n        var fromSelfToOther = function (e) {\n          otherModel.set(otherName, e.value);\n        };\n        var fromOtherToSelf = function (e) {\n          model.set(name, e.value);\n        };\n        otherModel.on('change:' + otherName, fromOtherToSelf);\n        model.on('change:' + name, fromSelfToOther);\n        bindings = otherModel._bindings;\n        if (!bindings) {\n          bindings = otherModel._bindings = [];\n          otherModel.on('destroy', function () {\n            var i = bindings.length;\n            while (i--) {\n              bindings[i]();\n            }\n          });\n        }\n        bindings.push(function () {\n          model.off('change:' + name, fromSelfToOther);\n        });\n        return model.get(name);\n      }\n    });\n  };\n\n  var global$12 = tinymce.util.Tools.resolve('tinymce.util.Observable');\n\n  function isNode(node) {\n    return node.nodeType > 0;\n  }\n  function isEqual(a, b) {\n    var k, checked;\n    if (a === b) {\n      return true;\n    }\n    if (a === null || b === null) {\n      return a === b;\n    }\n    if (typeof a !== 'object' || typeof b !== 'object') {\n      return a === b;\n    }\n    if (global$2.isArray(b)) {\n      if (a.length !== b.length) {\n        return false;\n      }\n      k = a.length;\n      while (k--) {\n        if (!isEqual(a[k], b[k])) {\n          return false;\n        }\n      }\n    }\n    if (isNode(a) || isNode(b)) {\n      return a === b;\n    }\n    checked = {};\n    for (k in b) {\n      if (!isEqual(a[k], b[k])) {\n        return false;\n      }\n      checked[k] = true;\n    }\n    for (k in a) {\n      if (!checked[k] && !isEqual(a[k], b[k])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  var ObservableObject = global$10.extend({\n    Mixins: [global$12],\n    init: function (data) {\n      var name, value;\n      data = data || {};\n      for (name in data) {\n        value = data[name];\n        if (value instanceof Binding) {\n          data[name] = value.create(this, name);\n        }\n      }\n      this.data = data;\n    },\n    set: function (name, value) {\n      var key, args;\n      var oldValue = this.data[name];\n      if (value instanceof Binding) {\n        value = value.create(this, name);\n      }\n      if (typeof name === 'object') {\n        for (key in name) {\n          this.set(key, name[key]);\n        }\n        return this;\n      }\n      if (!isEqual(oldValue, value)) {\n        this.data[name] = value;\n        args = {\n          target: this,\n          name: name,\n          value: value,\n          oldValue: oldValue\n        };\n        this.fire('change:' + name, args);\n        this.fire('change', args);\n      }\n      return this;\n    },\n    get: function (name) {\n      return this.data[name];\n    },\n    has: function (name) {\n      return name in this.data;\n    },\n    bind: function (name) {\n      return Binding.create(this, name);\n    },\n    destroy: function () {\n      this.fire('destroy');\n    }\n  });\n\n  var dirtyCtrls = {};\n  var animationFrameRequested;\n  var $_6dtmktuzjnlpb56i = {\n    add: function (ctrl) {\n      var parent$$1 = ctrl.parent();\n      if (parent$$1) {\n        if (!parent$$1._layout || parent$$1._layout.isNative()) {\n          return;\n        }\n        if (!dirtyCtrls[parent$$1._id]) {\n          dirtyCtrls[parent$$1._id] = parent$$1;\n        }\n        if (!animationFrameRequested) {\n          animationFrameRequested = true;\n          global$7.requestAnimationFrame(function () {\n            var id, ctrl;\n            animationFrameRequested = false;\n            for (id in dirtyCtrls) {\n              ctrl = dirtyCtrls[id];\n              if (ctrl.state.get('rendered')) {\n                ctrl.reflow();\n              }\n            }\n            dirtyCtrls = {};\n          }, document.body);\n        }\n      }\n    },\n    remove: function (ctrl) {\n      if (dirtyCtrls[ctrl._id]) {\n        delete dirtyCtrls[ctrl._id];\n      }\n    }\n  };\n\n  var hasMouseWheelEventSupport = 'onmousewheel' in document;\n  var hasWheelEventSupport = false;\n  var classPrefix = 'mce-';\n  var Control;\n  var idCounter = 0;\n  var proto$1 = {\n    Statics: { classPrefix: classPrefix },\n    isRtl: function () {\n      return Control.rtl;\n    },\n    classPrefix: classPrefix,\n    init: function (settings) {\n      var self$$1 = this;\n      var classes, defaultClasses;\n      function applyClasses(classes) {\n        var i;\n        classes = classes.split(' ');\n        for (i = 0; i < classes.length; i++) {\n          self$$1.classes.add(classes[i]);\n        }\n      }\n      self$$1.settings = settings = global$2.extend({}, self$$1.Defaults, settings);\n      self$$1._id = settings.id || 'mceu_' + idCounter++;\n      self$$1._aria = { role: settings.role };\n      self$$1._elmCache = {};\n      self$$1.$ = global$9;\n      self$$1.state = new ObservableObject({\n        visible: true,\n        active: false,\n        disabled: false,\n        value: ''\n      });\n      self$$1.data = new ObservableObject(settings.data);\n      self$$1.classes = new ClassList(function () {\n        if (self$$1.state.get('rendered')) {\n          self$$1.getEl().className = this.toString();\n        }\n      });\n      self$$1.classes.prefix = self$$1.classPrefix;\n      classes = settings.classes;\n      if (classes) {\n        if (self$$1.Defaults) {\n          defaultClasses = self$$1.Defaults.classes;\n          if (defaultClasses && classes !== defaultClasses) {\n            applyClasses(defaultClasses);\n          }\n        }\n        applyClasses(classes);\n      }\n      global$2.each('title text name visible disabled active value'.split(' '), function (name$$1) {\n        if (name$$1 in settings) {\n          self$$1[name$$1](settings[name$$1]);\n        }\n      });\n      self$$1.on('click', function () {\n        if (self$$1.disabled()) {\n          return false;\n        }\n      });\n      self$$1.settings = settings;\n      self$$1.borderBox = $_62etjpusjnlpb560.parseBox(settings.border);\n      self$$1.paddingBox = $_62etjpusjnlpb560.parseBox(settings.padding);\n      self$$1.marginBox = $_62etjpusjnlpb560.parseBox(settings.margin);\n      if (settings.hidden) {\n        self$$1.hide();\n      }\n    },\n    Properties: 'parent,name',\n    getContainerElm: function () {\n      var uiContainer = $_4ygtt4u6jnlpb52y.getUiContainer(this);\n      return uiContainer ? uiContainer : funcs.getContainer();\n    },\n    getParentCtrl: function (elm) {\n      var ctrl;\n      var lookup = this.getRoot().controlIdLookup;\n      while (elm && lookup) {\n        ctrl = lookup[elm.id];\n        if (ctrl) {\n          break;\n        }\n        elm = elm.parentNode;\n      }\n      return ctrl;\n    },\n    initLayoutRect: function () {\n      var self$$1 = this;\n      var settings = self$$1.settings;\n      var borderBox, layoutRect;\n      var elm = self$$1.getEl();\n      var width, height, minWidth, minHeight, autoResize;\n      var startMinWidth, startMinHeight, initialSize;\n      borderBox = self$$1.borderBox = self$$1.borderBox || $_62etjpusjnlpb560.measureBox(elm, 'border');\n      self$$1.paddingBox = self$$1.paddingBox || $_62etjpusjnlpb560.measureBox(elm, 'padding');\n      self$$1.marginBox = self$$1.marginBox || $_62etjpusjnlpb560.measureBox(elm, 'margin');\n      initialSize = funcs.getSize(elm);\n      startMinWidth = settings.minWidth;\n      startMinHeight = settings.minHeight;\n      minWidth = startMinWidth || initialSize.width;\n      minHeight = startMinHeight || initialSize.height;\n      width = settings.width;\n      height = settings.height;\n      autoResize = settings.autoResize;\n      autoResize = typeof autoResize !== 'undefined' ? autoResize : !width && !height;\n      width = width || minWidth;\n      height = height || minHeight;\n      var deltaW = borderBox.left + borderBox.right;\n      var deltaH = borderBox.top + borderBox.bottom;\n      var maxW = settings.maxWidth || 65535;\n      var maxH = settings.maxHeight || 65535;\n      self$$1._layoutRect = layoutRect = {\n        x: settings.x || 0,\n        y: settings.y || 0,\n        w: width,\n        h: height,\n        deltaW: deltaW,\n        deltaH: deltaH,\n        contentW: width - deltaW,\n        contentH: height - deltaH,\n        innerW: width - deltaW,\n        innerH: height - deltaH,\n        startMinWidth: startMinWidth || 0,\n        startMinHeight: startMinHeight || 0,\n        minW: Math.min(minWidth, maxW),\n        minH: Math.min(minHeight, maxH),\n        maxW: maxW,\n        maxH: maxH,\n        autoResize: autoResize,\n        scrollW: 0\n      };\n      self$$1._lastLayoutRect = {};\n      return layoutRect;\n    },\n    layoutRect: function (newRect) {\n      var self$$1 = this;\n      var curRect = self$$1._layoutRect, lastLayoutRect, size, deltaWidth, deltaHeight, repaintControls;\n      if (!curRect) {\n        curRect = self$$1.initLayoutRect();\n      }\n      if (newRect) {\n        deltaWidth = curRect.deltaW;\n        deltaHeight = curRect.deltaH;\n        if (newRect.x !== undefined) {\n          curRect.x = newRect.x;\n        }\n        if (newRect.y !== undefined) {\n          curRect.y = newRect.y;\n        }\n        if (newRect.minW !== undefined) {\n          curRect.minW = newRect.minW;\n        }\n        if (newRect.minH !== undefined) {\n          curRect.minH = newRect.minH;\n        }\n        size = newRect.w;\n        if (size !== undefined) {\n          size = size < curRect.minW ? curRect.minW : size;\n          size = size > curRect.maxW ? curRect.maxW : size;\n          curRect.w = size;\n          curRect.innerW = size - deltaWidth;\n        }\n        size = newRect.h;\n        if (size !== undefined) {\n          size = size < curRect.minH ? curRect.minH : size;\n          size = size > curRect.maxH ? curRect.maxH : size;\n          curRect.h = size;\n          curRect.innerH = size - deltaHeight;\n        }\n        size = newRect.innerW;\n        if (size !== undefined) {\n          size = size < curRect.minW - deltaWidth ? curRect.minW - deltaWidth : size;\n          size = size > curRect.maxW - deltaWidth ? curRect.maxW - deltaWidth : size;\n          curRect.innerW = size;\n          curRect.w = size + deltaWidth;\n        }\n        size = newRect.innerH;\n        if (size !== undefined) {\n          size = size < curRect.minH - deltaHeight ? curRect.minH - deltaHeight : size;\n          size = size > curRect.maxH - deltaHeight ? curRect.maxH - deltaHeight : size;\n          curRect.innerH = size;\n          curRect.h = size + deltaHeight;\n        }\n        if (newRect.contentW !== undefined) {\n          curRect.contentW = newRect.contentW;\n        }\n        if (newRect.contentH !== undefined) {\n          curRect.contentH = newRect.contentH;\n        }\n        lastLayoutRect = self$$1._lastLayoutRect;\n        if (lastLayoutRect.x !== curRect.x || lastLayoutRect.y !== curRect.y || lastLayoutRect.w !== curRect.w || lastLayoutRect.h !== curRect.h) {\n          repaintControls = Control.repaintControls;\n          if (repaintControls) {\n            if (repaintControls.map && !repaintControls.map[self$$1._id]) {\n              repaintControls.push(self$$1);\n              repaintControls.map[self$$1._id] = true;\n            }\n          }\n          lastLayoutRect.x = curRect.x;\n          lastLayoutRect.y = curRect.y;\n          lastLayoutRect.w = curRect.w;\n          lastLayoutRect.h = curRect.h;\n        }\n        return self$$1;\n      }\n      return curRect;\n    },\n    repaint: function () {\n      var self$$1 = this;\n      var style, bodyStyle, bodyElm, rect, borderBox;\n      var borderW, borderH, lastRepaintRect, round, value;\n      round = !document.createRange ? Math.round : function (value) {\n        return value;\n      };\n      style = self$$1.getEl().style;\n      rect = self$$1._layoutRect;\n      lastRepaintRect = self$$1._lastRepaintRect || {};\n      borderBox = self$$1.borderBox;\n      borderW = borderBox.left + borderBox.right;\n      borderH = borderBox.top + borderBox.bottom;\n      if (rect.x !== lastRepaintRect.x) {\n        style.left = round(rect.x) + 'px';\n        lastRepaintRect.x = rect.x;\n      }\n      if (rect.y !== lastRepaintRect.y) {\n        style.top = round(rect.y) + 'px';\n        lastRepaintRect.y = rect.y;\n      }\n      if (rect.w !== lastRepaintRect.w) {\n        value = round(rect.w - borderW);\n        style.width = (value >= 0 ? value : 0) + 'px';\n        lastRepaintRect.w = rect.w;\n      }\n      if (rect.h !== lastRepaintRect.h) {\n        value = round(rect.h - borderH);\n        style.height = (value >= 0 ? value : 0) + 'px';\n        lastRepaintRect.h = rect.h;\n      }\n      if (self$$1._hasBody && rect.innerW !== lastRepaintRect.innerW) {\n        value = round(rect.innerW);\n        bodyElm = self$$1.getEl('body');\n        if (bodyElm) {\n          bodyStyle = bodyElm.style;\n          bodyStyle.width = (value >= 0 ? value : 0) + 'px';\n        }\n        lastRepaintRect.innerW = rect.innerW;\n      }\n      if (self$$1._hasBody && rect.innerH !== lastRepaintRect.innerH) {\n        value = round(rect.innerH);\n        bodyElm = bodyElm || self$$1.getEl('body');\n        if (bodyElm) {\n          bodyStyle = bodyStyle || bodyElm.style;\n          bodyStyle.height = (value >= 0 ? value : 0) + 'px';\n        }\n        lastRepaintRect.innerH = rect.innerH;\n      }\n      self$$1._lastRepaintRect = lastRepaintRect;\n      self$$1.fire('repaint', {}, false);\n    },\n    updateLayoutRect: function () {\n      var self$$1 = this;\n      self$$1.parent()._lastRect = null;\n      funcs.css(self$$1.getEl(), {\n        width: '',\n        height: ''\n      });\n      self$$1._layoutRect = self$$1._lastRepaintRect = self$$1._lastLayoutRect = null;\n      self$$1.initLayoutRect();\n    },\n    on: function (name$$1, callback) {\n      var self$$1 = this;\n      function resolveCallbackName(name$$1) {\n        var callback, scope;\n        if (typeof name$$1 !== 'string') {\n          return name$$1;\n        }\n        return function (e) {\n          if (!callback) {\n            self$$1.parentsAndSelf().each(function (ctrl) {\n              var callbacks = ctrl.settings.callbacks;\n              if (callbacks && (callback = callbacks[name$$1])) {\n                scope = ctrl;\n                return false;\n              }\n            });\n          }\n          if (!callback) {\n            e.action = name$$1;\n            this.fire('execute', e);\n            return;\n          }\n          return callback.call(scope, e);\n        };\n      }\n      getEventDispatcher(self$$1).on(name$$1, resolveCallbackName(callback));\n      return self$$1;\n    },\n    off: function (name$$1, callback) {\n      getEventDispatcher(this).off(name$$1, callback);\n      return this;\n    },\n    fire: function (name$$1, args, bubble) {\n      var self$$1 = this;\n      args = args || {};\n      if (!args.control) {\n        args.control = self$$1;\n      }\n      args = getEventDispatcher(self$$1).fire(name$$1, args);\n      if (bubble !== false && self$$1.parent) {\n        var parent$$1 = self$$1.parent();\n        while (parent$$1 && !args.isPropagationStopped()) {\n          parent$$1.fire(name$$1, args, false);\n          parent$$1 = parent$$1.parent();\n        }\n      }\n      return args;\n    },\n    hasEventListeners: function (name$$1) {\n      return getEventDispatcher(this).has(name$$1);\n    },\n    parents: function (selector) {\n      var self$$1 = this;\n      var ctrl, parents = new Collection$2();\n      for (ctrl = self$$1.parent(); ctrl; ctrl = ctrl.parent()) {\n        parents.add(ctrl);\n      }\n      if (selector) {\n        parents = parents.filter(selector);\n      }\n      return parents;\n    },\n    parentsAndSelf: function (selector) {\n      return new Collection$2(this).add(this.parents(selector));\n    },\n    next: function () {\n      var parentControls = this.parent().items();\n      return parentControls[parentControls.indexOf(this) + 1];\n    },\n    prev: function () {\n      var parentControls = this.parent().items();\n      return parentControls[parentControls.indexOf(this) - 1];\n    },\n    innerHtml: function (html) {\n      this.$el.html(html);\n      return this;\n    },\n    getEl: function (suffix) {\n      var id = suffix ? this._id + '-' + suffix : this._id;\n      if (!this._elmCache[id]) {\n        this._elmCache[id] = global$9('#' + id)[0];\n      }\n      return this._elmCache[id];\n    },\n    show: function () {\n      return this.visible(true);\n    },\n    hide: function () {\n      return this.visible(false);\n    },\n    focus: function () {\n      try {\n        this.getEl().focus();\n      } catch (ex) {\n      }\n      return this;\n    },\n    blur: function () {\n      this.getEl().blur();\n      return this;\n    },\n    aria: function (name$$1, value) {\n      var self$$1 = this, elm = self$$1.getEl(self$$1.ariaTarget);\n      if (typeof value === 'undefined') {\n        return self$$1._aria[name$$1];\n      }\n      self$$1._aria[name$$1] = value;\n      if (self$$1.state.get('rendered')) {\n        elm.setAttribute(name$$1 === 'role' ? name$$1 : 'aria-' + name$$1, value);\n      }\n      return self$$1;\n    },\n    encode: function (text, translate) {\n      if (translate !== false) {\n        text = this.translate(text);\n      }\n      return (text || '').replace(/[&<>\"]/g, function (match) {\n        return '&#' + match.charCodeAt(0) + ';';\n      });\n    },\n    translate: function (text) {\n      return Control.translate ? Control.translate(text) : text;\n    },\n    before: function (items) {\n      var self$$1 = this, parent$$1 = self$$1.parent();\n      if (parent$$1) {\n        parent$$1.insert(items, parent$$1.items().indexOf(self$$1), true);\n      }\n      return self$$1;\n    },\n    after: function (items) {\n      var self$$1 = this, parent$$1 = self$$1.parent();\n      if (parent$$1) {\n        parent$$1.insert(items, parent$$1.items().indexOf(self$$1));\n      }\n      return self$$1;\n    },\n    remove: function () {\n      var self$$1 = this;\n      var elm = self$$1.getEl();\n      var parent$$1 = self$$1.parent();\n      var newItems, i;\n      if (self$$1.items) {\n        var controls = self$$1.items().toArray();\n        i = controls.length;\n        while (i--) {\n          controls[i].remove();\n        }\n      }\n      if (parent$$1 && parent$$1.items) {\n        newItems = [];\n        parent$$1.items().each(function (item) {\n          if (item !== self$$1) {\n            newItems.push(item);\n          }\n        });\n        parent$$1.items().set(newItems);\n        parent$$1._lastRect = null;\n      }\n      if (self$$1._eventsRoot && self$$1._eventsRoot === self$$1) {\n        global$9(elm).off();\n      }\n      var lookup = self$$1.getRoot().controlIdLookup;\n      if (lookup) {\n        delete lookup[self$$1._id];\n      }\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n      self$$1.state.set('rendered', false);\n      self$$1.state.destroy();\n      self$$1.fire('remove');\n      return self$$1;\n    },\n    renderBefore: function (elm) {\n      global$9(elm).before(this.renderHtml());\n      this.postRender();\n      return this;\n    },\n    renderTo: function (elm) {\n      global$9(elm || this.getContainerElm()).append(this.renderHtml());\n      this.postRender();\n      return this;\n    },\n    preRender: function () {\n    },\n    render: function () {\n    },\n    renderHtml: function () {\n      return '<div id=\"' + this._id + '\" class=\"' + this.classes + '\"></div>';\n    },\n    postRender: function () {\n      var self$$1 = this;\n      var settings = self$$1.settings;\n      var elm, box, parent$$1, name$$1, parentEventsRoot;\n      self$$1.$el = global$9(self$$1.getEl());\n      self$$1.state.set('rendered', true);\n      for (name$$1 in settings) {\n        if (name$$1.indexOf('on') === 0) {\n          self$$1.on(name$$1.substr(2), settings[name$$1]);\n        }\n      }\n      if (self$$1._eventsRoot) {\n        for (parent$$1 = self$$1.parent(); !parentEventsRoot && parent$$1; parent$$1 = parent$$1.parent()) {\n          parentEventsRoot = parent$$1._eventsRoot;\n        }\n        if (parentEventsRoot) {\n          for (name$$1 in parentEventsRoot._nativeEvents) {\n            self$$1._nativeEvents[name$$1] = true;\n          }\n        }\n      }\n      bindPendingEvents(self$$1);\n      if (settings.style) {\n        elm = self$$1.getEl();\n        if (elm) {\n          elm.setAttribute('style', settings.style);\n          elm.style.cssText = settings.style;\n        }\n      }\n      if (self$$1.settings.border) {\n        box = self$$1.borderBox;\n        self$$1.$el.css({\n          'border-top-width': box.top,\n          'border-right-width': box.right,\n          'border-bottom-width': box.bottom,\n          'border-left-width': box.left\n        });\n      }\n      var root = self$$1.getRoot();\n      if (!root.controlIdLookup) {\n        root.controlIdLookup = {};\n      }\n      root.controlIdLookup[self$$1._id] = self$$1;\n      for (var key in self$$1._aria) {\n        self$$1.aria(key, self$$1._aria[key]);\n      }\n      if (self$$1.state.get('visible') === false) {\n        self$$1.getEl().style.display = 'none';\n      }\n      self$$1.bindStates();\n      self$$1.state.on('change:visible', function (e) {\n        var state = e.value;\n        var parentCtrl;\n        if (self$$1.state.get('rendered')) {\n          self$$1.getEl().style.display = state === false ? 'none' : '';\n          self$$1.getEl().getBoundingClientRect();\n        }\n        parentCtrl = self$$1.parent();\n        if (parentCtrl) {\n          parentCtrl._lastRect = null;\n        }\n        self$$1.fire(state ? 'show' : 'hide');\n        $_6dtmktuzjnlpb56i.add(self$$1);\n      });\n      self$$1.fire('postrender', {}, false);\n    },\n    bindStates: function () {\n    },\n    scrollIntoView: function (align) {\n      function getOffset(elm, rootElm) {\n        var x, y, parent$$1 = elm;\n        x = y = 0;\n        while (parent$$1 && parent$$1 !== rootElm && parent$$1.nodeType) {\n          x += parent$$1.offsetLeft || 0;\n          y += parent$$1.offsetTop || 0;\n          parent$$1 = parent$$1.offsetParent;\n        }\n        return {\n          x: x,\n          y: y\n        };\n      }\n      var elm = this.getEl(), parentElm = elm.parentNode;\n      var x, y, width, height, parentWidth, parentHeight;\n      var pos = getOffset(elm, parentElm);\n      x = pos.x;\n      y = pos.y;\n      width = elm.offsetWidth;\n      height = elm.offsetHeight;\n      parentWidth = parentElm.clientWidth;\n      parentHeight = parentElm.clientHeight;\n      if (align === 'end') {\n        x -= parentWidth - width;\n        y -= parentHeight - height;\n      } else if (align === 'center') {\n        x -= parentWidth / 2 - width / 2;\n        y -= parentHeight / 2 - height / 2;\n      }\n      parentElm.scrollLeft = x;\n      parentElm.scrollTop = y;\n      return this;\n    },\n    getRoot: function () {\n      var ctrl = this, rootControl;\n      var parents = [];\n      while (ctrl) {\n        if (ctrl.rootControl) {\n          rootControl = ctrl.rootControl;\n          break;\n        }\n        parents.push(ctrl);\n        rootControl = ctrl;\n        ctrl = ctrl.parent();\n      }\n      if (!rootControl) {\n        rootControl = this;\n      }\n      var i = parents.length;\n      while (i--) {\n        parents[i].rootControl = rootControl;\n      }\n      return rootControl;\n    },\n    reflow: function () {\n      $_6dtmktuzjnlpb56i.remove(this);\n      var parent$$1 = this.parent();\n      if (parent$$1 && parent$$1._layout && !parent$$1._layout.isNative()) {\n        parent$$1.reflow();\n      }\n      return this;\n    }\n  };\n  global$2.each('text title visible disabled active value'.split(' '), function (name$$1) {\n    proto$1[name$$1] = function (value) {\n      if (arguments.length === 0) {\n        return this.state.get(name$$1);\n      }\n      if (typeof value !== 'undefined') {\n        this.state.set(name$$1, value);\n      }\n      return this;\n    };\n  });\n  Control = global$10.extend(proto$1);\n  function getEventDispatcher(obj) {\n    if (!obj._eventDispatcher) {\n      obj._eventDispatcher = new global$11({\n        scope: obj,\n        toggleEvent: function (name$$1, state) {\n          if (state && global$11.isNative(name$$1)) {\n            if (!obj._nativeEvents) {\n              obj._nativeEvents = {};\n            }\n            obj._nativeEvents[name$$1] = true;\n            if (obj.state.get('rendered')) {\n              bindPendingEvents(obj);\n            }\n          }\n        }\n      });\n    }\n    return obj._eventDispatcher;\n  }\n  function bindPendingEvents(eventCtrl) {\n    var i, l, parents, eventRootCtrl, nativeEvents, name$$1;\n    function delegate(e) {\n      var control = eventCtrl.getParentCtrl(e.target);\n      if (control) {\n        control.fire(e.type, e);\n      }\n    }\n    function mouseLeaveHandler() {\n      var ctrl = eventRootCtrl._lastHoverCtrl;\n      if (ctrl) {\n        ctrl.fire('mouseleave', { target: ctrl.getEl() });\n        ctrl.parents().each(function (ctrl) {\n          ctrl.fire('mouseleave', { target: ctrl.getEl() });\n        });\n        eventRootCtrl._lastHoverCtrl = null;\n      }\n    }\n    function mouseEnterHandler(e) {\n      var ctrl = eventCtrl.getParentCtrl(e.target), lastCtrl = eventRootCtrl._lastHoverCtrl, idx = 0, i, parents, lastParents;\n      if (ctrl !== lastCtrl) {\n        eventRootCtrl._lastHoverCtrl = ctrl;\n        parents = ctrl.parents().toArray().reverse();\n        parents.push(ctrl);\n        if (lastCtrl) {\n          lastParents = lastCtrl.parents().toArray().reverse();\n          lastParents.push(lastCtrl);\n          for (idx = 0; idx < lastParents.length; idx++) {\n            if (parents[idx] !== lastParents[idx]) {\n              break;\n            }\n          }\n          for (i = lastParents.length - 1; i >= idx; i--) {\n            lastCtrl = lastParents[i];\n            lastCtrl.fire('mouseleave', { target: lastCtrl.getEl() });\n          }\n        }\n        for (i = idx; i < parents.length; i++) {\n          ctrl = parents[i];\n          ctrl.fire('mouseenter', { target: ctrl.getEl() });\n        }\n      }\n    }\n    function fixWheelEvent(e) {\n      e.preventDefault();\n      if (e.type === 'mousewheel') {\n        e.deltaY = -1 / 40 * e.wheelDelta;\n        if (e.wheelDeltaX) {\n          e.deltaX = -1 / 40 * e.wheelDeltaX;\n        }\n      } else {\n        e.deltaX = 0;\n        e.deltaY = e.detail;\n      }\n      e = eventCtrl.fire('wheel', e);\n    }\n    nativeEvents = eventCtrl._nativeEvents;\n    if (nativeEvents) {\n      parents = eventCtrl.parents().toArray();\n      parents.unshift(eventCtrl);\n      for (i = 0, l = parents.length; !eventRootCtrl && i < l; i++) {\n        eventRootCtrl = parents[i]._eventsRoot;\n      }\n      if (!eventRootCtrl) {\n        eventRootCtrl = parents[parents.length - 1] || eventCtrl;\n      }\n      eventCtrl._eventsRoot = eventRootCtrl;\n      for (l = i, i = 0; i < l; i++) {\n        parents[i]._eventsRoot = eventRootCtrl;\n      }\n      var eventRootDelegates = eventRootCtrl._delegates;\n      if (!eventRootDelegates) {\n        eventRootDelegates = eventRootCtrl._delegates = {};\n      }\n      for (name$$1 in nativeEvents) {\n        if (!nativeEvents) {\n          return false;\n        }\n        if (name$$1 === 'wheel' && !hasWheelEventSupport) {\n          if (hasMouseWheelEventSupport) {\n            global$9(eventCtrl.getEl()).on('mousewheel', fixWheelEvent);\n          } else {\n            global$9(eventCtrl.getEl()).on('DOMMouseScroll', fixWheelEvent);\n          }\n          continue;\n        }\n        if (name$$1 === 'mouseenter' || name$$1 === 'mouseleave') {\n          if (!eventRootCtrl._hasMouseEnter) {\n            global$9(eventRootCtrl.getEl()).on('mouseleave', mouseLeaveHandler).on('mouseover', mouseEnterHandler);\n            eventRootCtrl._hasMouseEnter = 1;\n          }\n        } else if (!eventRootDelegates[name$$1]) {\n          global$9(eventRootCtrl.getEl()).on(name$$1, delegate);\n          eventRootDelegates[name$$1] = true;\n        }\n        nativeEvents[name$$1] = false;\n      }\n    }\n  }\n  var Control$1 = Control;\n\n  var hasTabstopData = function (elm) {\n    return elm.getAttribute('data-mce-tabstop') ? true : false;\n  };\n  function KeyboardNavigation (settings) {\n    var root = settings.root;\n    var focusedElement, focusedControl;\n    function isElement(node) {\n      return node && node.nodeType === 1;\n    }\n    try {\n      focusedElement = document.activeElement;\n    } catch (ex) {\n      focusedElement = document.body;\n    }\n    focusedControl = root.getParentCtrl(focusedElement);\n    function getRole(elm) {\n      elm = elm || focusedElement;\n      if (isElement(elm)) {\n        return elm.getAttribute('role');\n      }\n      return null;\n    }\n    function getParentRole(elm) {\n      var role, parent$$1 = elm || focusedElement;\n      while (parent$$1 = parent$$1.parentNode) {\n        if (role = getRole(parent$$1)) {\n          return role;\n        }\n      }\n    }\n    function getAriaProp(name$$1) {\n      var elm = focusedElement;\n      if (isElement(elm)) {\n        return elm.getAttribute('aria-' + name$$1);\n      }\n    }\n    function isTextInputElement(elm) {\n      var tagName = elm.tagName.toUpperCase();\n      return tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT';\n    }\n    function canFocus(elm) {\n      if (isTextInputElement(elm) && !elm.hidden) {\n        return true;\n      }\n      if (hasTabstopData(elm)) {\n        return true;\n      }\n      if (/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(getRole(elm))) {\n        return true;\n      }\n      return false;\n    }\n    function getFocusElements(elm) {\n      var elements = [];\n      function collect(elm) {\n        if (elm.nodeType !== 1 || elm.style.display === 'none' || elm.disabled) {\n          return;\n        }\n        if (canFocus(elm)) {\n          elements.push(elm);\n        }\n        for (var i = 0; i < elm.childNodes.length; i++) {\n          collect(elm.childNodes[i]);\n        }\n      }\n      collect(elm || root.getEl());\n      return elements;\n    }\n    function getNavigationRoot(targetControl) {\n      var navigationRoot, controls;\n      targetControl = targetControl || focusedControl;\n      controls = targetControl.parents().toArray();\n      controls.unshift(targetControl);\n      for (var i = 0; i < controls.length; i++) {\n        navigationRoot = controls[i];\n        if (navigationRoot.settings.ariaRoot) {\n          break;\n        }\n      }\n      return navigationRoot;\n    }\n    function focusFirst(targetControl) {\n      var navigationRoot = getNavigationRoot(targetControl);\n      var focusElements = getFocusElements(navigationRoot.getEl());\n      if (navigationRoot.settings.ariaRemember && 'lastAriaIndex' in navigationRoot) {\n        moveFocusToIndex(navigationRoot.lastAriaIndex, focusElements);\n      } else {\n        moveFocusToIndex(0, focusElements);\n      }\n    }\n    function moveFocusToIndex(idx, elements) {\n      if (idx < 0) {\n        idx = elements.length - 1;\n      } else if (idx >= elements.length) {\n        idx = 0;\n      }\n      if (elements[idx]) {\n        elements[idx].focus();\n      }\n      return idx;\n    }\n    function moveFocus(dir, elements) {\n      var idx = -1;\n      var navigationRoot = getNavigationRoot();\n      elements = elements || getFocusElements(navigationRoot.getEl());\n      for (var i = 0; i < elements.length; i++) {\n        if (elements[i] === focusedElement) {\n          idx = i;\n        }\n      }\n      idx += dir;\n      navigationRoot.lastAriaIndex = moveFocusToIndex(idx, elements);\n    }\n    function left() {\n      var parentRole = getParentRole();\n      if (parentRole === 'tablist') {\n        moveFocus(-1, getFocusElements(focusedElement.parentNode));\n      } else if (focusedControl.parent().submenu) {\n        cancel();\n      } else {\n        moveFocus(-1);\n      }\n    }\n    function right() {\n      var role = getRole(), parentRole = getParentRole();\n      if (parentRole === 'tablist') {\n        moveFocus(1, getFocusElements(focusedElement.parentNode));\n      } else if (role === 'menuitem' && parentRole === 'menu' && getAriaProp('haspopup')) {\n        enter();\n      } else {\n        moveFocus(1);\n      }\n    }\n    function up() {\n      moveFocus(-1);\n    }\n    function down() {\n      var role = getRole(), parentRole = getParentRole();\n      if (role === 'menuitem' && parentRole === 'menubar') {\n        enter();\n      } else if (role === 'button' && getAriaProp('haspopup')) {\n        enter({ key: 'down' });\n      } else {\n        moveFocus(1);\n      }\n    }\n    function tab(e) {\n      var parentRole = getParentRole();\n      if (parentRole === 'tablist') {\n        var elm = getFocusElements(focusedControl.getEl('body'))[0];\n        if (elm) {\n          elm.focus();\n        }\n      } else {\n        moveFocus(e.shiftKey ? -1 : 1);\n      }\n    }\n    function cancel() {\n      focusedControl.fire('cancel');\n    }\n    function enter(aria) {\n      aria = aria || {};\n      focusedControl.fire('click', {\n        target: focusedElement,\n        aria: aria\n      });\n    }\n    root.on('keydown', function (e) {\n      function handleNonTabOrEscEvent(e, handler) {\n        if (isTextInputElement(focusedElement) || hasTabstopData(focusedElement)) {\n          return;\n        }\n        if (getRole(focusedElement) === 'slider') {\n          return;\n        }\n        if (handler(e) !== false) {\n          e.preventDefault();\n        }\n      }\n      if (e.isDefaultPrevented()) {\n        return;\n      }\n      switch (e.keyCode) {\n      case 37:\n        handleNonTabOrEscEvent(e, left);\n        break;\n      case 39:\n        handleNonTabOrEscEvent(e, right);\n        break;\n      case 38:\n        handleNonTabOrEscEvent(e, up);\n        break;\n      case 40:\n        handleNonTabOrEscEvent(e, down);\n        break;\n      case 27:\n        cancel();\n        break;\n      case 14:\n      case 13:\n      case 32:\n        handleNonTabOrEscEvent(e, enter);\n        break;\n      case 9:\n        tab(e);\n        e.preventDefault();\n        break;\n      }\n    });\n    root.on('focusin', function (e) {\n      focusedElement = e.target;\n      focusedControl = e.control;\n    });\n    return { focusFirst: focusFirst };\n  }\n\n  var selectorCache = {};\n  var Container = Control$1.extend({\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      settings = self.settings;\n      if (settings.fixed) {\n        self.state.set('fixed', true);\n      }\n      self._items = new Collection$2();\n      if (self.isRtl()) {\n        self.classes.add('rtl');\n      }\n      self.bodyClasses = new ClassList(function () {\n        if (self.state.get('rendered')) {\n          self.getEl('body').className = this.toString();\n        }\n      });\n      self.bodyClasses.prefix = self.classPrefix;\n      self.classes.add('container');\n      self.bodyClasses.add('container-body');\n      if (settings.containerCls) {\n        self.classes.add(settings.containerCls);\n      }\n      self._layout = global$4.create((settings.layout || '') + 'layout');\n      if (self.settings.items) {\n        self.add(self.settings.items);\n      } else {\n        self.add(self.render());\n      }\n      self._hasBody = true;\n    },\n    items: function () {\n      return this._items;\n    },\n    find: function (selector) {\n      selector = selectorCache[selector] = selectorCache[selector] || new Selector(selector);\n      return selector.find(this);\n    },\n    add: function (items) {\n      var self = this;\n      self.items().add(self.create(items)).parent(self);\n      return self;\n    },\n    focus: function (keyboard) {\n      var self = this;\n      var focusCtrl, keyboardNav, items;\n      if (keyboard) {\n        keyboardNav = self.keyboardNav || self.parents().eq(-1)[0].keyboardNav;\n        if (keyboardNav) {\n          keyboardNav.focusFirst(self);\n          return;\n        }\n      }\n      items = self.find('*');\n      if (self.statusbar) {\n        items.add(self.statusbar.items());\n      }\n      items.each(function (ctrl) {\n        if (ctrl.settings.autofocus) {\n          focusCtrl = null;\n          return false;\n        }\n        if (ctrl.canFocus) {\n          focusCtrl = focusCtrl || ctrl;\n        }\n      });\n      if (focusCtrl) {\n        focusCtrl.focus();\n      }\n      return self;\n    },\n    replace: function (oldItem, newItem) {\n      var ctrlElm;\n      var items = this.items();\n      var i = items.length;\n      while (i--) {\n        if (items[i] === oldItem) {\n          items[i] = newItem;\n          break;\n        }\n      }\n      if (i >= 0) {\n        ctrlElm = newItem.getEl();\n        if (ctrlElm) {\n          ctrlElm.parentNode.removeChild(ctrlElm);\n        }\n        ctrlElm = oldItem.getEl();\n        if (ctrlElm) {\n          ctrlElm.parentNode.removeChild(ctrlElm);\n        }\n      }\n      newItem.parent(this);\n    },\n    create: function (items) {\n      var self = this;\n      var settings;\n      var ctrlItems = [];\n      if (!global$2.isArray(items)) {\n        items = [items];\n      }\n      global$2.each(items, function (item) {\n        if (item) {\n          if (!(item instanceof Control$1)) {\n            if (typeof item === 'string') {\n              item = { type: item };\n            }\n            settings = global$2.extend({}, self.settings.defaults, item);\n            item.type = settings.type = settings.type || item.type || self.settings.defaultType || (settings.defaults ? settings.defaults.type : null);\n            item = global$4.create(settings);\n          }\n          ctrlItems.push(item);\n        }\n      });\n      return ctrlItems;\n    },\n    renderNew: function () {\n      var self = this;\n      self.items().each(function (ctrl, index) {\n        var containerElm;\n        ctrl.parent(self);\n        if (!ctrl.state.get('rendered')) {\n          containerElm = self.getEl('body');\n          if (containerElm.hasChildNodes() && index <= containerElm.childNodes.length - 1) {\n            global$9(containerElm.childNodes[index]).before(ctrl.renderHtml());\n          } else {\n            global$9(containerElm).append(ctrl.renderHtml());\n          }\n          ctrl.postRender();\n          $_6dtmktuzjnlpb56i.add(ctrl);\n        }\n      });\n      self._layout.applyClasses(self.items().filter(':visible'));\n      self._lastRect = null;\n      return self;\n    },\n    append: function (items) {\n      return this.add(items).renderNew();\n    },\n    prepend: function (items) {\n      var self = this;\n      self.items().set(self.create(items).concat(self.items().toArray()));\n      return self.renderNew();\n    },\n    insert: function (items, index, before) {\n      var self = this;\n      var curItems, beforeItems, afterItems;\n      items = self.create(items);\n      curItems = self.items();\n      if (!before && index < curItems.length - 1) {\n        index += 1;\n      }\n      if (index >= 0 && index < curItems.length) {\n        beforeItems = curItems.slice(0, index).toArray();\n        afterItems = curItems.slice(index).toArray();\n        curItems.set(beforeItems.concat(items, afterItems));\n      }\n      return self.renderNew();\n    },\n    fromJSON: function (data) {\n      var self = this;\n      for (var name in data) {\n        self.find('#' + name).value(data[name]);\n      }\n      return self;\n    },\n    toJSON: function () {\n      var self = this, data = {};\n      self.find('*').each(function (ctrl) {\n        var name = ctrl.name(), value = ctrl.value();\n        if (name && typeof value !== 'undefined') {\n          data[name] = value;\n        }\n      });\n      return data;\n    },\n    renderHtml: function () {\n      var self = this, layout = self._layout, role = this.settings.role;\n      self.preRender();\n      layout.preRender(self);\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (role ? ' role=\"' + this.settings.role + '\"' : '') + '>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n    },\n    postRender: function () {\n      var self = this;\n      var box;\n      self.items().exec('postRender');\n      self._super();\n      self._layout.postRender(self);\n      self.state.set('rendered', true);\n      if (self.settings.style) {\n        self.$el.css(self.settings.style);\n      }\n      if (self.settings.border) {\n        box = self.borderBox;\n        self.$el.css({\n          'border-top-width': box.top,\n          'border-right-width': box.right,\n          'border-bottom-width': box.bottom,\n          'border-left-width': box.left\n        });\n      }\n      if (!self.parent()) {\n        self.keyboardNav = KeyboardNavigation({ root: self });\n      }\n      return self;\n    },\n    initLayoutRect: function () {\n      var self = this, layoutRect = self._super();\n      self._layout.recalc(self);\n      return layoutRect;\n    },\n    recalc: function () {\n      var self = this;\n      var rect = self._layoutRect;\n      var lastRect = self._lastRect;\n      if (!lastRect || lastRect.w !== rect.w || lastRect.h !== rect.h) {\n        self._layout.recalc(self);\n        rect = self.layoutRect();\n        self._lastRect = {\n          x: rect.x,\n          y: rect.y,\n          w: rect.w,\n          h: rect.h\n        };\n        return true;\n      }\n    },\n    reflow: function () {\n      var i;\n      $_6dtmktuzjnlpb56i.remove(this);\n      if (this.visible()) {\n        Control$1.repaintControls = [];\n        Control$1.repaintControls.map = {};\n        this.recalc();\n        i = Control$1.repaintControls.length;\n        while (i--) {\n          Control$1.repaintControls[i].repaint();\n        }\n        if (this.settings.layout !== 'flow' && this.settings.layout !== 'stack') {\n          this.repaint();\n        }\n        Control$1.repaintControls = [];\n      }\n      return this;\n    }\n  });\n\n  function getDocumentSize(doc) {\n    var documentElement, body, scrollWidth, clientWidth;\n    var offsetWidth, scrollHeight, clientHeight, offsetHeight;\n    var max = Math.max;\n    documentElement = doc.documentElement;\n    body = doc.body;\n    scrollWidth = max(documentElement.scrollWidth, body.scrollWidth);\n    clientWidth = max(documentElement.clientWidth, body.clientWidth);\n    offsetWidth = max(documentElement.offsetWidth, body.offsetWidth);\n    scrollHeight = max(documentElement.scrollHeight, body.scrollHeight);\n    clientHeight = max(documentElement.clientHeight, body.clientHeight);\n    offsetHeight = max(documentElement.offsetHeight, body.offsetHeight);\n    return {\n      width: scrollWidth < offsetWidth ? clientWidth : scrollWidth,\n      height: scrollHeight < offsetHeight ? clientHeight : scrollHeight\n    };\n  }\n  function updateWithTouchData(e) {\n    var keys, i;\n    if (e.changedTouches) {\n      keys = 'screenX screenY pageX pageY clientX clientY'.split(' ');\n      for (i = 0; i < keys.length; i++) {\n        e[keys[i]] = e.changedTouches[0][keys[i]];\n      }\n    }\n  }\n  function DragHelper (id, settings) {\n    var $eventOverlay;\n    var doc = settings.document || document;\n    var downButton;\n    var start, stop$$1, drag, startX, startY;\n    settings = settings || {};\n    var handleElement = doc.getElementById(settings.handle || id);\n    start = function (e) {\n      var docSize = getDocumentSize(doc);\n      var handleElm, cursor;\n      updateWithTouchData(e);\n      e.preventDefault();\n      downButton = e.button;\n      handleElm = handleElement;\n      startX = e.screenX;\n      startY = e.screenY;\n      if (window.getComputedStyle) {\n        cursor = window.getComputedStyle(handleElm, null).getPropertyValue('cursor');\n      } else {\n        cursor = handleElm.runtimeStyle.cursor;\n      }\n      $eventOverlay = global$9('<div></div>').css({\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: docSize.width,\n        height: docSize.height,\n        zIndex: 2147483647,\n        opacity: 0.0001,\n        cursor: cursor\n      }).appendTo(doc.body);\n      global$9(doc).on('mousemove touchmove', drag).on('mouseup touchend', stop$$1);\n      settings.start(e);\n    };\n    drag = function (e) {\n      updateWithTouchData(e);\n      if (e.button !== downButton) {\n        return stop$$1(e);\n      }\n      e.deltaX = e.screenX - startX;\n      e.deltaY = e.screenY - startY;\n      e.preventDefault();\n      settings.drag(e);\n    };\n    stop$$1 = function (e) {\n      updateWithTouchData(e);\n      global$9(doc).off('mousemove touchmove', drag).off('mouseup touchend', stop$$1);\n      $eventOverlay.remove();\n      if (settings.stop) {\n        settings.stop(e);\n      }\n    };\n    this.destroy = function () {\n      global$9(handleElement).off();\n    };\n    global$9(handleElement).on('mousedown touchstart', start);\n  }\n\n  var $_2rcmydv1jnlpb56r = {\n    init: function () {\n      var self = this;\n      self.on('repaint', self.renderScroll);\n    },\n    renderScroll: function () {\n      var self = this, margin = 2;\n      function repaintScroll() {\n        var hasScrollH, hasScrollV, bodyElm;\n        function repaintAxis(axisName, posName, sizeName, contentSizeName, hasScroll, ax) {\n          var containerElm, scrollBarElm, scrollThumbElm;\n          var containerSize, scrollSize, ratio, rect;\n          var posNameLower, sizeNameLower;\n          scrollBarElm = self.getEl('scroll' + axisName);\n          if (scrollBarElm) {\n            posNameLower = posName.toLowerCase();\n            sizeNameLower = sizeName.toLowerCase();\n            global$9(self.getEl('absend')).css(posNameLower, self.layoutRect()[contentSizeName] - 1);\n            if (!hasScroll) {\n              global$9(scrollBarElm).css('display', 'none');\n              return;\n            }\n            global$9(scrollBarElm).css('display', 'block');\n            containerElm = self.getEl('body');\n            scrollThumbElm = self.getEl('scroll' + axisName + 't');\n            containerSize = containerElm['client' + sizeName] - margin * 2;\n            containerSize -= hasScrollH && hasScrollV ? scrollBarElm['client' + ax] : 0;\n            scrollSize = containerElm['scroll' + sizeName];\n            ratio = containerSize / scrollSize;\n            rect = {};\n            rect[posNameLower] = containerElm['offset' + posName] + margin;\n            rect[sizeNameLower] = containerSize;\n            global$9(scrollBarElm).css(rect);\n            rect = {};\n            rect[posNameLower] = containerElm['scroll' + posName] * ratio;\n            rect[sizeNameLower] = containerSize * ratio;\n            global$9(scrollThumbElm).css(rect);\n          }\n        }\n        bodyElm = self.getEl('body');\n        hasScrollH = bodyElm.scrollWidth > bodyElm.clientWidth;\n        hasScrollV = bodyElm.scrollHeight > bodyElm.clientHeight;\n        repaintAxis('h', 'Left', 'Width', 'contentW', hasScrollH, 'Height');\n        repaintAxis('v', 'Top', 'Height', 'contentH', hasScrollV, 'Width');\n      }\n      function addScroll() {\n        function addScrollAxis(axisName, posName, sizeName, deltaPosName, ax) {\n          var scrollStart;\n          var axisId = self._id + '-scroll' + axisName, prefix = self.classPrefix;\n          global$9(self.getEl()).append('<div id=\"' + axisId + '\" class=\"' + prefix + 'scrollbar ' + prefix + 'scrollbar-' + axisName + '\">' + '<div id=\"' + axisId + 't\" class=\"' + prefix + 'scrollbar-thumb\"></div>' + '</div>');\n          self.draghelper = new DragHelper(axisId + 't', {\n            start: function () {\n              scrollStart = self.getEl('body')['scroll' + posName];\n              global$9('#' + axisId).addClass(prefix + 'active');\n            },\n            drag: function (e) {\n              var ratio, hasScrollH, hasScrollV, containerSize;\n              var layoutRect = self.layoutRect();\n              hasScrollH = layoutRect.contentW > layoutRect.innerW;\n              hasScrollV = layoutRect.contentH > layoutRect.innerH;\n              containerSize = self.getEl('body')['client' + sizeName] - margin * 2;\n              containerSize -= hasScrollH && hasScrollV ? self.getEl('scroll' + axisName)['client' + ax] : 0;\n              ratio = containerSize / self.getEl('body')['scroll' + sizeName];\n              self.getEl('body')['scroll' + posName] = scrollStart + e['delta' + deltaPosName] / ratio;\n            },\n            stop: function () {\n              global$9('#' + axisId).removeClass(prefix + 'active');\n            }\n          });\n        }\n        self.classes.add('scroll');\n        addScrollAxis('v', 'Top', 'Height', 'Y', 'Width');\n        addScrollAxis('h', 'Left', 'Width', 'X', 'Height');\n      }\n      if (self.settings.autoScroll) {\n        if (!self._hasScroll) {\n          self._hasScroll = true;\n          addScroll();\n          self.on('wheel', function (e) {\n            var bodyEl = self.getEl('body');\n            bodyEl.scrollLeft += (e.deltaX || 0) * 10;\n            bodyEl.scrollTop += e.deltaY * 10;\n            repaintScroll();\n          });\n          global$9(self.getEl('body')).on('scroll', repaintScroll);\n        }\n        repaintScroll();\n      }\n    }\n  };\n\n  var Panel = Container.extend({\n    Defaults: {\n      layout: 'fit',\n      containerCls: 'panel'\n    },\n    Mixins: [$_2rcmydv1jnlpb56r],\n    renderHtml: function () {\n      var self = this;\n      var layout = self._layout;\n      var innerHtml = self.settings.html;\n      self.preRender();\n      layout.preRender(self);\n      if (typeof innerHtml === 'undefined') {\n        innerHtml = '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>';\n      } else {\n        if (typeof innerHtml === 'function') {\n          innerHtml = innerHtml.call(self);\n        }\n        self._hasBody = false;\n      }\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\" role=\"group\">' + (self._preBodyHtml || '') + innerHtml + '</div>';\n    }\n  });\n\n  var $_f2nebnv3jnlpb56x = {\n    resizeToContent: function () {\n      this._layoutRect.autoResize = true;\n      this._lastRect = null;\n      this.reflow();\n    },\n    resizeTo: function (w, h) {\n      if (w <= 1 || h <= 1) {\n        var rect = funcs.getWindowSize();\n        w = w <= 1 ? w * rect.w : w;\n        h = h <= 1 ? h * rect.h : h;\n      }\n      this._layoutRect.autoResize = false;\n      return this.layoutRect({\n        minW: w,\n        minH: h,\n        w: w,\n        h: h\n      }).reflow();\n    },\n    resizeBy: function (dw, dh) {\n      var self = this, rect = self.layoutRect();\n      return self.resizeTo(rect.w + dw, rect.h + dh);\n    }\n  };\n\n  var documentClickHandler;\n  var documentScrollHandler;\n  var windowResizeHandler;\n  var visiblePanels = [];\n  var zOrder = [];\n  var hasModal;\n  function isChildOf(ctrl, parent$$1) {\n    while (ctrl) {\n      if (ctrl === parent$$1) {\n        return true;\n      }\n      ctrl = ctrl.parent();\n    }\n  }\n  function skipOrHidePanels(e) {\n    var i = visiblePanels.length;\n    while (i--) {\n      var panel = visiblePanels[i], clickCtrl = panel.getParentCtrl(e.target);\n      if (panel.settings.autohide) {\n        if (clickCtrl) {\n          if (isChildOf(clickCtrl, panel) || panel.parent() === clickCtrl) {\n            continue;\n          }\n        }\n        e = panel.fire('autohide', { target: e.target });\n        if (!e.isDefaultPrevented()) {\n          panel.hide();\n        }\n      }\n    }\n  }\n  function bindDocumentClickHandler() {\n    if (!documentClickHandler) {\n      documentClickHandler = function (e) {\n        if (e.button === 2) {\n          return;\n        }\n        skipOrHidePanels(e);\n      };\n      global$9(document).on('click touchstart', documentClickHandler);\n    }\n  }\n  function bindDocumentScrollHandler() {\n    if (!documentScrollHandler) {\n      documentScrollHandler = function () {\n        var i;\n        i = visiblePanels.length;\n        while (i--) {\n          repositionPanel(visiblePanels[i]);\n        }\n      };\n      global$9(window).on('scroll', documentScrollHandler);\n    }\n  }\n  function bindWindowResizeHandler() {\n    if (!windowResizeHandler) {\n      var docElm_1 = document.documentElement;\n      var clientWidth_1 = docElm_1.clientWidth, clientHeight_1 = docElm_1.clientHeight;\n      windowResizeHandler = function () {\n        if (!document.all || clientWidth_1 !== docElm_1.clientWidth || clientHeight_1 !== docElm_1.clientHeight) {\n          clientWidth_1 = docElm_1.clientWidth;\n          clientHeight_1 = docElm_1.clientHeight;\n          FloatPanel.hideAll();\n        }\n      };\n      global$9(window).on('resize', windowResizeHandler);\n    }\n  }\n  function repositionPanel(panel) {\n    var scrollY$$1 = funcs.getViewPort().y;\n    function toggleFixedChildPanels(fixed, deltaY) {\n      var parent$$1;\n      for (var i = 0; i < visiblePanels.length; i++) {\n        if (visiblePanels[i] !== panel) {\n          parent$$1 = visiblePanels[i].parent();\n          while (parent$$1 && (parent$$1 = parent$$1.parent())) {\n            if (parent$$1 === panel) {\n              visiblePanels[i].fixed(fixed).moveBy(0, deltaY).repaint();\n            }\n          }\n        }\n      }\n    }\n    if (panel.settings.autofix) {\n      if (!panel.state.get('fixed')) {\n        panel._autoFixY = panel.layoutRect().y;\n        if (panel._autoFixY < scrollY$$1) {\n          panel.fixed(true).layoutRect({ y: 0 }).repaint();\n          toggleFixedChildPanels(true, scrollY$$1 - panel._autoFixY);\n        }\n      } else {\n        if (panel._autoFixY > scrollY$$1) {\n          panel.fixed(false).layoutRect({ y: panel._autoFixY }).repaint();\n          toggleFixedChildPanels(false, panel._autoFixY - scrollY$$1);\n        }\n      }\n    }\n  }\n  function addRemove(add, ctrl) {\n    var i, zIndex = FloatPanel.zIndex || 65535, topModal;\n    if (add) {\n      zOrder.push(ctrl);\n    } else {\n      i = zOrder.length;\n      while (i--) {\n        if (zOrder[i] === ctrl) {\n          zOrder.splice(i, 1);\n        }\n      }\n    }\n    if (zOrder.length) {\n      for (i = 0; i < zOrder.length; i++) {\n        if (zOrder[i].modal) {\n          zIndex++;\n          topModal = zOrder[i];\n        }\n        zOrder[i].getEl().style.zIndex = zIndex;\n        zOrder[i].zIndex = zIndex;\n        zIndex++;\n      }\n    }\n    var modalBlockEl = global$9('#' + ctrl.classPrefix + 'modal-block', ctrl.getContainerElm())[0];\n    if (topModal) {\n      global$9(modalBlockEl).css('z-index', topModal.zIndex - 1);\n    } else if (modalBlockEl) {\n      modalBlockEl.parentNode.removeChild(modalBlockEl);\n      hasModal = false;\n    }\n    FloatPanel.currentZIndex = zIndex;\n  }\n  var FloatPanel = Panel.extend({\n    Mixins: [\n      $_9hbasgumjnlpb54u,\n      $_f2nebnv3jnlpb56x\n    ],\n    init: function (settings) {\n      var self$$1 = this;\n      self$$1._super(settings);\n      self$$1._eventsRoot = self$$1;\n      self$$1.classes.add('floatpanel');\n      if (settings.autohide) {\n        bindDocumentClickHandler();\n        bindWindowResizeHandler();\n        visiblePanels.push(self$$1);\n      }\n      if (settings.autofix) {\n        bindDocumentScrollHandler();\n        self$$1.on('move', function () {\n          repositionPanel(this);\n        });\n      }\n      self$$1.on('postrender show', function (e) {\n        if (e.control === self$$1) {\n          var $modalBlockEl_1;\n          var prefix_1 = self$$1.classPrefix;\n          if (self$$1.modal && !hasModal) {\n            $modalBlockEl_1 = global$9('#' + prefix_1 + 'modal-block', self$$1.getContainerElm());\n            if (!$modalBlockEl_1[0]) {\n              $modalBlockEl_1 = global$9('<div id=\"' + prefix_1 + 'modal-block\" class=\"' + prefix_1 + 'reset ' + prefix_1 + 'fade\"></div>').appendTo(self$$1.getContainerElm());\n            }\n            global$7.setTimeout(function () {\n              $modalBlockEl_1.addClass(prefix_1 + 'in');\n              global$9(self$$1.getEl()).addClass(prefix_1 + 'in');\n            });\n            hasModal = true;\n          }\n          addRemove(true, self$$1);\n        }\n      });\n      self$$1.on('show', function () {\n        self$$1.parents().each(function (ctrl) {\n          if (ctrl.state.get('fixed')) {\n            self$$1.fixed(true);\n            return false;\n          }\n        });\n      });\n      if (settings.popover) {\n        self$$1._preBodyHtml = '<div class=\"' + self$$1.classPrefix + 'arrow\"></div>';\n        self$$1.classes.add('popover').add('bottom').add(self$$1.isRtl() ? 'end' : 'start');\n      }\n      self$$1.aria('label', settings.ariaLabel);\n      self$$1.aria('labelledby', self$$1._id);\n      self$$1.aria('describedby', self$$1.describedBy || self$$1._id + '-none');\n    },\n    fixed: function (state) {\n      var self$$1 = this;\n      if (self$$1.state.get('fixed') !== state) {\n        if (self$$1.state.get('rendered')) {\n          var viewport = funcs.getViewPort();\n          if (state) {\n            self$$1.layoutRect().y -= viewport.y;\n          } else {\n            self$$1.layoutRect().y += viewport.y;\n          }\n        }\n        self$$1.classes.toggle('fixed', state);\n        self$$1.state.set('fixed', state);\n      }\n      return self$$1;\n    },\n    show: function () {\n      var self$$1 = this;\n      var i;\n      var state = self$$1._super();\n      i = visiblePanels.length;\n      while (i--) {\n        if (visiblePanels[i] === self$$1) {\n          break;\n        }\n      }\n      if (i === -1) {\n        visiblePanels.push(self$$1);\n      }\n      return state;\n    },\n    hide: function () {\n      removeVisiblePanel(this);\n      addRemove(false, this);\n      return this._super();\n    },\n    hideAll: function () {\n      FloatPanel.hideAll();\n    },\n    close: function () {\n      var self$$1 = this;\n      if (!self$$1.fire('close').isDefaultPrevented()) {\n        self$$1.remove();\n        addRemove(false, self$$1);\n      }\n      return self$$1;\n    },\n    remove: function () {\n      removeVisiblePanel(this);\n      this._super();\n    },\n    postRender: function () {\n      var self$$1 = this;\n      if (self$$1.settings.bodyRole) {\n        this.getEl('body').setAttribute('role', self$$1.settings.bodyRole);\n      }\n      return self$$1._super();\n    }\n  });\n  FloatPanel.hideAll = function () {\n    var i = visiblePanels.length;\n    while (i--) {\n      var panel = visiblePanels[i];\n      if (panel && panel.settings.autohide) {\n        panel.hide();\n        visiblePanels.splice(i, 1);\n      }\n    }\n  };\n  function removeVisiblePanel(panel) {\n    var i;\n    i = visiblePanels.length;\n    while (i--) {\n      if (visiblePanels[i] === panel) {\n        visiblePanels.splice(i, 1);\n      }\n    }\n    i = zOrder.length;\n    while (i--) {\n      if (zOrder[i] === panel) {\n        zOrder.splice(i, 1);\n      }\n    }\n  }\n\n  var isFixed$1 = function (inlineToolbarContainer, editor) {\n    return !!(inlineToolbarContainer && !editor.settings.ui_container);\n  };\n  var render$1 = function (editor, theme, args) {\n    var panel, inlineToolbarContainer;\n    var DOM = global$3.DOM;\n    var fixedToolbarContainer = getFixedToolbarContainer(editor);\n    if (fixedToolbarContainer) {\n      inlineToolbarContainer = DOM.select(fixedToolbarContainer)[0];\n    }\n    var reposition = function () {\n      if (panel && panel.moveRel && panel.visible() && !panel._fixed) {\n        var scrollContainer = editor.selection.getScrollContainer(), body = editor.getBody();\n        var deltaX = 0, deltaY = 0;\n        if (scrollContainer) {\n          var bodyPos = DOM.getPos(body), scrollContainerPos = DOM.getPos(scrollContainer);\n          deltaX = Math.max(0, scrollContainerPos.x - bodyPos.x);\n          deltaY = Math.max(0, scrollContainerPos.y - bodyPos.y);\n        }\n        panel.fixed(false).moveRel(body, editor.rtl ? [\n          'tr-br',\n          'br-tr'\n        ] : [\n          'tl-bl',\n          'bl-tl',\n          'tr-br'\n        ]).moveBy(deltaX, deltaY);\n      }\n    };\n    var show = function () {\n      if (panel) {\n        panel.show();\n        reposition();\n        DOM.addClass(editor.getBody(), 'mce-edit-focus');\n      }\n    };\n    var hide = function () {\n      if (panel) {\n        panel.hide();\n        FloatPanel.hideAll();\n        DOM.removeClass(editor.getBody(), 'mce-edit-focus');\n      }\n    };\n    var render = function () {\n      if (panel) {\n        if (!panel.visible()) {\n          show();\n        }\n        return;\n      }\n      panel = theme.panel = global$4.create({\n        type: inlineToolbarContainer ? 'panel' : 'floatpanel',\n        role: 'application',\n        classes: 'tinymce tinymce-inline',\n        layout: 'flex',\n        direction: 'column',\n        align: 'stretch',\n        autohide: false,\n        autofix: true,\n        fixed: isFixed$1(inlineToolbarContainer, editor),\n        border: 1,\n        items: [\n          hasMenubar(editor) === false ? null : {\n            type: 'menubar',\n            border: '0 0 1 0',\n            items: $_bt6b25uajnlpb53b.createMenuButtons(editor)\n          },\n          $_cqt2pxu9jnlpb538.createToolbars(editor, getToolbarSize(editor))\n        ]\n      });\n      $_4ygtt4u6jnlpb52y.setUiContainer(editor, panel);\n      $_byi2i4u1jnlpb52o.fireBeforeRenderUI(editor);\n      if (inlineToolbarContainer) {\n        panel.renderTo(inlineToolbarContainer).reflow();\n      } else {\n        panel.renderTo().reflow();\n      }\n      $_6kcut5u2jnlpb52p.addKeys(editor, panel);\n      show();\n      $_6dgfu4u3jnlpb52s.addContextualToolbars(editor);\n      editor.on('nodeChange', reposition);\n      editor.on('ResizeWindow', reposition);\n      editor.on('activate', show);\n      editor.on('deactivate', hide);\n      editor.nodeChanged();\n    };\n    editor.settings.content_editable = true;\n    editor.on('focus', function () {\n      if (isSkinDisabled(editor) === false && args.skinUiCss) {\n        DOM.styleSheetLoader.load(args.skinUiCss, render, render);\n      } else {\n        render();\n      }\n    });\n    editor.on('blur hide', hide);\n    editor.on('remove', function () {\n      if (panel) {\n        panel.remove();\n        panel = null;\n      }\n    });\n    if (isSkinDisabled(editor) === false && args.skinUiCss) {\n      DOM.styleSheetLoader.load(args.skinUiCss, $_2vr92vugjnlpb542.fireSkinLoaded(editor));\n    } else {\n      $_2vr92vugjnlpb542.fireSkinLoaded(editor)();\n    }\n    return {};\n  };\n  var $_1sdv25uhjnlpb543 = { render: render$1 };\n\n  function Throbber (elm, inline) {\n    var self = this;\n    var state;\n    var classPrefix = Control$1.classPrefix;\n    var timer;\n    self.show = function (time, callback) {\n      function render() {\n        if (state) {\n          global$9(elm).append('<div class=\"' + classPrefix + 'throbber' + (inline ? ' ' + classPrefix + 'throbber-inline' : '') + '\"></div>');\n          if (callback) {\n            callback();\n          }\n        }\n      }\n      self.hide();\n      state = true;\n      if (time) {\n        timer = global$7.setTimeout(render, time);\n      } else {\n        render();\n      }\n      return self;\n    };\n    self.hide = function () {\n      var child = elm.lastChild;\n      global$7.clearTimeout(timer);\n      if (child && child.className.indexOf('throbber') !== -1) {\n        child.parentNode.removeChild(child);\n      }\n      state = false;\n      return self;\n    };\n  }\n\n  var setup = function (editor, theme) {\n    var throbber;\n    editor.on('ProgressState', function (e) {\n      throbber = throbber || new Throbber(theme.panel.getEl('body'));\n      if (e.state) {\n        throbber.show(e.time);\n      } else {\n        throbber.hide();\n      }\n    });\n  };\n  var $_e94x2wv4jnlpb56z = { setup: setup };\n\n  var renderUI = function (editor, theme, args) {\n    var skinUrl = getSkinUrl(editor);\n    if (skinUrl) {\n      args.skinUiCss = skinUrl + '/skin.min.css';\n      editor.contentCSS.push(skinUrl + '/content' + (editor.inline ? '.inline' : '') + '.min.css');\n    }\n    $_e94x2wv4jnlpb56z.setup(editor, theme);\n    return isInline(editor) ? $_1sdv25uhjnlpb543.render(editor, theme, args) : $_2rsj5otxjnlpb52j.render(editor, theme, args);\n  };\n  var $_ebquldttjnlpb52d = { renderUI: renderUI };\n\n  var Tooltip = Control$1.extend({\n    Mixins: [$_9hbasgumjnlpb54u],\n    Defaults: { classes: 'widget tooltip tooltip-n' },\n    renderHtml: function () {\n      var self = this, prefix = self.classPrefix;\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" role=\"presentation\">' + '<div class=\"' + prefix + 'tooltip-arrow\"></div>' + '<div class=\"' + prefix + 'tooltip-inner\">' + self.encode(self.state.get('text')) + '</div>' + '</div>';\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:text', function (e) {\n        self.getEl().lastChild.innerHTML = self.encode(e.value);\n      });\n      return self._super();\n    },\n    repaint: function () {\n      var self = this;\n      var style, rect;\n      style = self.getEl().style;\n      rect = self._layoutRect;\n      style.left = rect.x + 'px';\n      style.top = rect.y + 'px';\n      style.zIndex = 65535 + 65535;\n    }\n  });\n\n  var Widget = Control$1.extend({\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      settings = self.settings;\n      self.canFocus = true;\n      if (settings.tooltip && Widget.tooltips !== false) {\n        self.on('mouseenter', function (e) {\n          var tooltip = self.tooltip().moveTo(-65535);\n          if (e.control === self) {\n            var rel = tooltip.text(settings.tooltip).show().testMoveRel(self.getEl(), [\n              'bc-tc',\n              'bc-tl',\n              'bc-tr'\n            ]);\n            tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\n            tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\n            tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\n            tooltip.moveRel(self.getEl(), rel);\n          } else {\n            tooltip.hide();\n          }\n        });\n        self.on('mouseleave mousedown click', function () {\n          self.tooltip().remove();\n          self._tooltip = null;\n        });\n      }\n      self.aria('label', settings.ariaLabel || settings.tooltip);\n    },\n    tooltip: function () {\n      if (!this._tooltip) {\n        this._tooltip = new Tooltip({ type: 'tooltip' });\n        $_4ygtt4u6jnlpb52y.inheritUiContainer(this, this._tooltip);\n        this._tooltip.renderTo();\n      }\n      return this._tooltip;\n    },\n    postRender: function () {\n      var self = this, settings = self.settings;\n      self._super();\n      if (!self.parent() && (settings.width || settings.height)) {\n        self.initLayoutRect();\n        self.repaint();\n      }\n      if (settings.autofocus) {\n        self.focus();\n      }\n    },\n    bindStates: function () {\n      var self = this;\n      function disable(state) {\n        self.aria('disabled', state);\n        self.classes.toggle('disabled', state);\n      }\n      function active(state) {\n        self.aria('pressed', state);\n        self.classes.toggle('active', state);\n      }\n      self.state.on('change:disabled', function (e) {\n        disable(e.value);\n      });\n      self.state.on('change:active', function (e) {\n        active(e.value);\n      });\n      if (self.state.get('disabled')) {\n        disable(true);\n      }\n      if (self.state.get('active')) {\n        active(true);\n      }\n      return self._super();\n    },\n    remove: function () {\n      this._super();\n      if (this._tooltip) {\n        this._tooltip.remove();\n        this._tooltip = null;\n      }\n    }\n  });\n\n  var Progress = Widget.extend({\n    Defaults: { value: 0 },\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      self.classes.add('progress');\n      if (!self.settings.filter) {\n        self.settings.filter = function (value) {\n          return Math.round(value);\n        };\n      }\n    },\n    renderHtml: function () {\n      var self = this, id = self._id, prefix = this.classPrefix;\n      return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div class=\"' + prefix + 'bar-container\">' + '<div class=\"' + prefix + 'bar\"></div>' + '</div>' + '<div class=\"' + prefix + 'text\">0%</div>' + '</div>';\n    },\n    postRender: function () {\n      var self = this;\n      self._super();\n      self.value(self.settings.value);\n      return self;\n    },\n    bindStates: function () {\n      var self = this;\n      function setValue(value) {\n        value = self.settings.filter(value);\n        self.getEl().lastChild.innerHTML = value + '%';\n        self.getEl().firstChild.firstChild.style.width = value + '%';\n      }\n      self.state.on('change:value', function (e) {\n        setValue(e.value);\n      });\n      setValue(self.state.get('value'));\n      return self._super();\n    }\n  });\n\n  var updateLiveRegion = function (ctx, text) {\n    ctx.getEl().lastChild.textContent = text + (ctx.progressBar ? ' ' + ctx.progressBar.value() + '%' : '');\n  };\n  var Notification = Control$1.extend({\n    Mixins: [$_9hbasgumjnlpb54u],\n    Defaults: { classes: 'widget notification' },\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      self.maxWidth = settings.maxWidth;\n      if (settings.text) {\n        self.text(settings.text);\n      }\n      if (settings.icon) {\n        self.icon = settings.icon;\n      }\n      if (settings.color) {\n        self.color = settings.color;\n      }\n      if (settings.type) {\n        self.classes.add('notification-' + settings.type);\n      }\n      if (settings.timeout && (settings.timeout < 0 || settings.timeout > 0) && !settings.closeButton) {\n        self.closeButton = false;\n      } else {\n        self.classes.add('has-close');\n        self.closeButton = true;\n      }\n      if (settings.progressBar) {\n        self.progressBar = new Progress();\n      }\n      self.on('click', function (e) {\n        if (e.target.className.indexOf(self.classPrefix + 'close') !== -1) {\n          self.close();\n        }\n      });\n    },\n    renderHtml: function () {\n      var self = this;\n      var prefix = self.classPrefix;\n      var icon = '', closeButton = '', progressBar = '', notificationStyle = '';\n      if (self.icon) {\n        icon = '<i class=\"' + prefix + 'ico' + ' ' + prefix + 'i-' + self.icon + '\"></i>';\n      }\n      notificationStyle = ' style=\"max-width: ' + self.maxWidth + 'px;' + (self.color ? 'background-color: ' + self.color + ';\"' : '\"');\n      if (self.closeButton) {\n        closeButton = '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">\\xD7</button>';\n      }\n      if (self.progressBar) {\n        progressBar = self.progressBar.renderHtml();\n      }\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"' + notificationStyle + ' role=\"presentation\">' + icon + '<div class=\"' + prefix + 'notification-inner\">' + self.state.get('text') + '</div>' + progressBar + closeButton + '<div style=\"clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;\"' + ' aria-live=\"assertive\" aria-relevant=\"additions\" aria-atomic=\"true\"></div>' + '</div>';\n    },\n    postRender: function () {\n      var self = this;\n      global$7.setTimeout(function () {\n        self.$el.addClass(self.classPrefix + 'in');\n        updateLiveRegion(self, self.state.get('text'));\n      }, 100);\n      return self._super();\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:text', function (e) {\n        self.getEl().firstChild.innerHTML = e.value;\n        updateLiveRegion(self, e.value);\n      });\n      if (self.progressBar) {\n        self.progressBar.bindStates();\n        self.progressBar.state.on('change:value', function (e) {\n          updateLiveRegion(self, self.state.get('text'));\n        });\n      }\n      return self._super();\n    },\n    close: function () {\n      var self = this;\n      if (!self.fire('close').isDefaultPrevented()) {\n        self.remove();\n      }\n      return self;\n    },\n    repaint: function () {\n      var self = this;\n      var style, rect;\n      style = self.getEl().style;\n      rect = self._layoutRect;\n      style.left = rect.x + 'px';\n      style.top = rect.y + 'px';\n      style.zIndex = 65535 - 1;\n    }\n  });\n\n  function NotificationManagerImpl (editor) {\n    var getEditorContainer = function (editor) {\n      return editor.inline ? editor.getElement() : editor.getContentAreaContainer();\n    };\n    var getContainerWidth = function () {\n      var container = getEditorContainer(editor);\n      return funcs.getSize(container).width;\n    };\n    var prePositionNotifications = function (notifications) {\n      each(notifications, function (notification) {\n        notification.moveTo(0, 0);\n      });\n    };\n    var positionNotifications = function (notifications) {\n      if (notifications.length > 0) {\n        var firstItem = notifications.slice(0, 1)[0];\n        var container = getEditorContainer(editor);\n        firstItem.moveRel(container, 'tc-tc');\n        each(notifications, function (notification, index) {\n          if (index > 0) {\n            notification.moveRel(notifications[index - 1].getEl(), 'bc-tc');\n          }\n        });\n      }\n    };\n    var reposition = function (notifications) {\n      prePositionNotifications(notifications);\n      positionNotifications(notifications);\n    };\n    var open = function (args, closeCallback) {\n      var extendedArgs = global$2.extend(args, { maxWidth: getContainerWidth() });\n      var notif = new Notification(extendedArgs);\n      notif.args = extendedArgs;\n      if (extendedArgs.timeout > 0) {\n        notif.timer = setTimeout(function () {\n          notif.close();\n          closeCallback();\n        }, extendedArgs.timeout);\n      }\n      notif.on('close', function () {\n        closeCallback();\n      });\n      notif.renderTo();\n      return notif;\n    };\n    var close = function (notification) {\n      notification.close();\n    };\n    var getArgs = function (notification) {\n      return notification.args;\n    };\n    return {\n      open: open,\n      close: close,\n      reposition: reposition,\n      getArgs: getArgs\n    };\n  }\n\n  var windows = [];\n  var oldMetaValue = '';\n  function toggleFullScreenState(state) {\n    var noScaleMetaValue = 'width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0';\n    var viewport = global$9('meta[name=viewport]')[0], contentValue;\n    if (global$8.overrideViewPort === false) {\n      return;\n    }\n    if (!viewport) {\n      viewport = document.createElement('meta');\n      viewport.setAttribute('name', 'viewport');\n      document.getElementsByTagName('head')[0].appendChild(viewport);\n    }\n    contentValue = viewport.getAttribute('content');\n    if (contentValue && typeof oldMetaValue !== 'undefined') {\n      oldMetaValue = contentValue;\n    }\n    viewport.setAttribute('content', state ? noScaleMetaValue : oldMetaValue);\n  }\n  function toggleBodyFullScreenClasses(classPrefix, state) {\n    if (checkFullscreenWindows() && state === false) {\n      global$9([\n        document.documentElement,\n        document.body\n      ]).removeClass(classPrefix + 'fullscreen');\n    }\n  }\n  function checkFullscreenWindows() {\n    for (var i = 0; i < windows.length; i++) {\n      if (windows[i]._fullscreen) {\n        return true;\n      }\n    }\n    return false;\n  }\n  function handleWindowResize() {\n    if (!global$8.desktop) {\n      var lastSize_1 = {\n        w: window.innerWidth,\n        h: window.innerHeight\n      };\n      global$7.setInterval(function () {\n        var w = window.innerWidth, h = window.innerHeight;\n        if (lastSize_1.w !== w || lastSize_1.h !== h) {\n          lastSize_1 = {\n            w: w,\n            h: h\n          };\n          global$9(window).trigger('resize');\n        }\n      }, 100);\n    }\n    function reposition() {\n      var i;\n      var rect = funcs.getWindowSize();\n      var layoutRect;\n      for (i = 0; i < windows.length; i++) {\n        layoutRect = windows[i].layoutRect();\n        windows[i].moveTo(windows[i].settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2), windows[i].settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2));\n      }\n    }\n    global$9(window).on('resize', reposition);\n  }\n  var Window$$1 = FloatPanel.extend({\n    modal: true,\n    Defaults: {\n      border: 1,\n      layout: 'flex',\n      containerCls: 'panel',\n      role: 'dialog',\n      callbacks: {\n        submit: function () {\n          this.fire('submit', { data: this.toJSON() });\n        },\n        close: function () {\n          this.close();\n        }\n      }\n    },\n    init: function (settings) {\n      var self$$1 = this;\n      self$$1._super(settings);\n      if (self$$1.isRtl()) {\n        self$$1.classes.add('rtl');\n      }\n      self$$1.classes.add('window');\n      self$$1.bodyClasses.add('window-body');\n      self$$1.state.set('fixed', true);\n      if (settings.buttons) {\n        self$$1.statusbar = new Panel({\n          layout: 'flex',\n          border: '1 0 0 0',\n          spacing: 3,\n          padding: 10,\n          align: 'center',\n          pack: self$$1.isRtl() ? 'start' : 'end',\n          defaults: { type: 'button' },\n          items: settings.buttons\n        });\n        self$$1.statusbar.classes.add('foot');\n        self$$1.statusbar.parent(self$$1);\n      }\n      self$$1.on('click', function (e) {\n        var closeClass = self$$1.classPrefix + 'close';\n        if (funcs.hasClass(e.target, closeClass) || funcs.hasClass(e.target.parentNode, closeClass)) {\n          self$$1.close();\n        }\n      });\n      self$$1.on('cancel', function () {\n        self$$1.close();\n      });\n      self$$1.on('move', function (e) {\n        if (e.control === self$$1) {\n          FloatPanel.hideAll();\n        }\n      });\n      self$$1.aria('describedby', self$$1.describedBy || self$$1._id + '-none');\n      self$$1.aria('label', settings.title);\n      self$$1._fullscreen = false;\n    },\n    recalc: function () {\n      var self$$1 = this;\n      var statusbar$$1 = self$$1.statusbar;\n      var layoutRect, width, x, needsRecalc;\n      if (self$$1._fullscreen) {\n        self$$1.layoutRect(funcs.getWindowSize());\n        self$$1.layoutRect().contentH = self$$1.layoutRect().innerH;\n      }\n      self$$1._super();\n      layoutRect = self$$1.layoutRect();\n      if (self$$1.settings.title && !self$$1._fullscreen) {\n        width = layoutRect.headerW;\n        if (width > layoutRect.w) {\n          x = layoutRect.x - Math.max(0, width / 2);\n          self$$1.layoutRect({\n            w: width,\n            x: x\n          });\n          needsRecalc = true;\n        }\n      }\n      if (statusbar$$1) {\n        statusbar$$1.layoutRect({ w: self$$1.layoutRect().innerW }).recalc();\n        width = statusbar$$1.layoutRect().minW + layoutRect.deltaW;\n        if (width > layoutRect.w) {\n          x = layoutRect.x - Math.max(0, width - layoutRect.w);\n          self$$1.layoutRect({\n            w: width,\n            x: x\n          });\n          needsRecalc = true;\n        }\n      }\n      if (needsRecalc) {\n        self$$1.recalc();\n      }\n    },\n    initLayoutRect: function () {\n      var self$$1 = this;\n      var layoutRect = self$$1._super();\n      var deltaH = 0, headEl;\n      if (self$$1.settings.title && !self$$1._fullscreen) {\n        headEl = self$$1.getEl('head');\n        var size = funcs.getSize(headEl);\n        layoutRect.headerW = size.width;\n        layoutRect.headerH = size.height;\n        deltaH += layoutRect.headerH;\n      }\n      if (self$$1.statusbar) {\n        deltaH += self$$1.statusbar.layoutRect().h;\n      }\n      layoutRect.deltaH += deltaH;\n      layoutRect.minH += deltaH;\n      layoutRect.h += deltaH;\n      var rect = funcs.getWindowSize();\n      layoutRect.x = self$$1.settings.x || Math.max(0, rect.w / 2 - layoutRect.w / 2);\n      layoutRect.y = self$$1.settings.y || Math.max(0, rect.h / 2 - layoutRect.h / 2);\n      return layoutRect;\n    },\n    renderHtml: function () {\n      var self$$1 = this, layout = self$$1._layout, id = self$$1._id, prefix = self$$1.classPrefix;\n      var settings = self$$1.settings;\n      var headerHtml = '', footerHtml = '', html = settings.html;\n      self$$1.preRender();\n      layout.preRender(self$$1);\n      if (settings.title) {\n        headerHtml = '<div id=\"' + id + '-head\" class=\"' + prefix + 'window-head\">' + '<div id=\"' + id + '-title\" class=\"' + prefix + 'title\">' + self$$1.encode(settings.title) + '</div>' + '<div id=\"' + id + '-dragh\" class=\"' + prefix + 'dragh\"></div>' + '<button type=\"button\" class=\"' + prefix + 'close\" aria-hidden=\"true\">' + '<i class=\"mce-ico mce-i-remove\"></i>' + '</button>' + '</div>';\n      }\n      if (settings.url) {\n        html = '<iframe src=\"' + settings.url + '\" tabindex=\"-1\"></iframe>';\n      }\n      if (typeof html === 'undefined') {\n        html = layout.renderHtml(self$$1);\n      }\n      if (self$$1.statusbar) {\n        footerHtml = self$$1.statusbar.renderHtml();\n      }\n      return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" hidefocus=\"1\">' + '<div class=\"' + self$$1.classPrefix + 'reset\" role=\"application\">' + headerHtml + '<div id=\"' + id + '-body\" class=\"' + self$$1.bodyClasses + '\">' + html + '</div>' + footerHtml + '</div>' + '</div>';\n    },\n    fullscreen: function (state) {\n      var self$$1 = this;\n      var documentElement = document.documentElement;\n      var slowRendering;\n      var prefix = self$$1.classPrefix;\n      var layoutRect;\n      if (state !== self$$1._fullscreen) {\n        global$9(window).on('resize', function () {\n          var time;\n          if (self$$1._fullscreen) {\n            if (!slowRendering) {\n              time = new Date().getTime();\n              var rect = funcs.getWindowSize();\n              self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\n              if (new Date().getTime() - time > 50) {\n                slowRendering = true;\n              }\n            } else {\n              if (!self$$1._timer) {\n                self$$1._timer = global$7.setTimeout(function () {\n                  var rect = funcs.getWindowSize();\n                  self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\n                  self$$1._timer = 0;\n                }, 50);\n              }\n            }\n          }\n        });\n        layoutRect = self$$1.layoutRect();\n        self$$1._fullscreen = state;\n        if (!state) {\n          self$$1.borderBox = $_62etjpusjnlpb560.parseBox(self$$1.settings.border);\n          self$$1.getEl('head').style.display = '';\n          layoutRect.deltaH += layoutRect.headerH;\n          global$9([\n            documentElement,\n            document.body\n          ]).removeClass(prefix + 'fullscreen');\n          self$$1.classes.remove('fullscreen');\n          self$$1.moveTo(self$$1._initial.x, self$$1._initial.y).resizeTo(self$$1._initial.w, self$$1._initial.h);\n        } else {\n          self$$1._initial = {\n            x: layoutRect.x,\n            y: layoutRect.y,\n            w: layoutRect.w,\n            h: layoutRect.h\n          };\n          self$$1.borderBox = $_62etjpusjnlpb560.parseBox('0');\n          self$$1.getEl('head').style.display = 'none';\n          layoutRect.deltaH -= layoutRect.headerH + 2;\n          global$9([\n            documentElement,\n            document.body\n          ]).addClass(prefix + 'fullscreen');\n          self$$1.classes.add('fullscreen');\n          var rect = funcs.getWindowSize();\n          self$$1.moveTo(0, 0).resizeTo(rect.w, rect.h);\n        }\n      }\n      return self$$1.reflow();\n    },\n    postRender: function () {\n      var self$$1 = this;\n      var startPos;\n      setTimeout(function () {\n        self$$1.classes.add('in');\n        self$$1.fire('open');\n      }, 0);\n      self$$1._super();\n      if (self$$1.statusbar) {\n        self$$1.statusbar.postRender();\n      }\n      self$$1.focus();\n      this.dragHelper = new DragHelper(self$$1._id + '-dragh', {\n        start: function () {\n          startPos = {\n            x: self$$1.layoutRect().x,\n            y: self$$1.layoutRect().y\n          };\n        },\n        drag: function (e) {\n          self$$1.moveTo(startPos.x + e.deltaX, startPos.y + e.deltaY);\n        }\n      });\n      self$$1.on('submit', function (e) {\n        if (!e.isDefaultPrevented()) {\n          self$$1.close();\n        }\n      });\n      windows.push(self$$1);\n      toggleFullScreenState(true);\n    },\n    submit: function () {\n      return this.fire('submit', { data: this.toJSON() });\n    },\n    remove: function () {\n      var self$$1 = this;\n      var i;\n      self$$1.dragHelper.destroy();\n      self$$1._super();\n      if (self$$1.statusbar) {\n        this.statusbar.remove();\n      }\n      toggleBodyFullScreenClasses(self$$1.classPrefix, false);\n      i = windows.length;\n      while (i--) {\n        if (windows[i] === self$$1) {\n          windows.splice(i, 1);\n        }\n      }\n      toggleFullScreenState(windows.length > 0);\n    },\n    getContentWindow: function () {\n      var ifr = this.getEl().getElementsByTagName('iframe')[0];\n      return ifr ? ifr.contentWindow : null;\n    }\n  });\n  handleWindowResize();\n\n  var MessageBox = Window$$1.extend({\n    init: function (settings) {\n      settings = {\n        border: 1,\n        padding: 20,\n        layout: 'flex',\n        pack: 'center',\n        align: 'center',\n        containerCls: 'panel',\n        autoScroll: true,\n        buttons: {\n          type: 'button',\n          text: 'Ok',\n          action: 'ok'\n        },\n        items: {\n          type: 'label',\n          multiline: true,\n          maxWidth: 500,\n          maxHeight: 200\n        }\n      };\n      this._super(settings);\n    },\n    Statics: {\n      OK: 1,\n      OK_CANCEL: 2,\n      YES_NO: 3,\n      YES_NO_CANCEL: 4,\n      msgBox: function (settings) {\n        var buttons;\n        var callback = settings.callback || function () {\n        };\n        function createButton(text, status$$1, primary) {\n          return {\n            type: 'button',\n            text: text,\n            subtype: primary ? 'primary' : '',\n            onClick: function (e) {\n              e.control.parents()[1].close();\n              callback(status$$1);\n            }\n          };\n        }\n        switch (settings.buttons) {\n        case MessageBox.OK_CANCEL:\n          buttons = [\n            createButton('Ok', true, true),\n            createButton('Cancel', false)\n          ];\n          break;\n        case MessageBox.YES_NO:\n        case MessageBox.YES_NO_CANCEL:\n          buttons = [\n            createButton('Yes', 1, true),\n            createButton('No', 0)\n          ];\n          if (settings.buttons === MessageBox.YES_NO_CANCEL) {\n            buttons.push(createButton('Cancel', -1));\n          }\n          break;\n        default:\n          buttons = [createButton('Ok', true, true)];\n          break;\n        }\n        return new Window$$1({\n          padding: 20,\n          x: settings.x,\n          y: settings.y,\n          minWidth: 300,\n          minHeight: 100,\n          layout: 'flex',\n          pack: 'center',\n          align: 'center',\n          buttons: buttons,\n          title: settings.title,\n          role: 'alertdialog',\n          items: {\n            type: 'label',\n            multiline: true,\n            maxWidth: 500,\n            maxHeight: 200,\n            text: settings.text\n          },\n          onPostRender: function () {\n            this.aria('describedby', this.items()[0]._id);\n          },\n          onClose: settings.onClose,\n          onCancel: function () {\n            callback(false);\n          }\n        }).renderTo(document.body).reflow();\n      },\n      alert: function (settings, callback) {\n        if (typeof settings === 'string') {\n          settings = { text: settings };\n        }\n        settings.callback = callback;\n        return MessageBox.msgBox(settings);\n      },\n      confirm: function (settings, callback) {\n        if (typeof settings === 'string') {\n          settings = { text: settings };\n        }\n        settings.callback = callback;\n        settings.buttons = MessageBox.OK_CANCEL;\n        return MessageBox.msgBox(settings);\n      }\n    }\n  });\n\n  function WindowManagerImpl (editor) {\n    var open$$1 = function (args, params, closeCallback) {\n      var win;\n      args.title = args.title || ' ';\n      args.url = args.url || args.file;\n      if (args.url) {\n        args.width = parseInt(args.width || 320, 10);\n        args.height = parseInt(args.height || 240, 10);\n      }\n      if (args.body) {\n        args.items = {\n          defaults: args.defaults,\n          type: args.bodyType || 'form',\n          items: args.body,\n          data: args.data,\n          callbacks: args.commands\n        };\n      }\n      if (!args.url && !args.buttons) {\n        args.buttons = [\n          {\n            text: 'Ok',\n            subtype: 'primary',\n            onclick: function () {\n              win.find('form')[0].submit();\n            }\n          },\n          {\n            text: 'Cancel',\n            onclick: function () {\n              win.close();\n            }\n          }\n        ];\n      }\n      win = new Window$$1(args);\n      win.on('close', function () {\n        closeCallback(win);\n      });\n      if (args.data) {\n        win.on('postRender', function () {\n          this.find('*').each(function (ctrl) {\n            var name$$1 = ctrl.name();\n            if (name$$1 in args.data) {\n              ctrl.value(args.data[name$$1]);\n            }\n          });\n        });\n      }\n      win.features = args || {};\n      win.params = params || {};\n      win = win.renderTo(document.body).reflow();\n      return win;\n    };\n    var alert$$1 = function (message, choiceCallback, closeCallback) {\n      var win;\n      win = MessageBox.alert(message, function () {\n        choiceCallback();\n      });\n      win.on('close', function () {\n        closeCallback(win);\n      });\n      return win;\n    };\n    var confirm$$1 = function (message, choiceCallback, closeCallback) {\n      var win;\n      win = MessageBox.confirm(message, function (state) {\n        choiceCallback(state);\n      });\n      win.on('close', function () {\n        closeCallback(win);\n      });\n      return win;\n    };\n    var close$$1 = function (window$$1) {\n      window$$1.close();\n    };\n    var getParams = function (window$$1) {\n      return window$$1.params;\n    };\n    var setParams = function (window$$1, params) {\n      window$$1.params = params;\n    };\n    return {\n      open: open$$1,\n      alert: alert$$1,\n      confirm: confirm$$1,\n      close: close$$1,\n      getParams: getParams,\n      setParams: setParams\n    };\n  }\n\n  var get = function (editor) {\n    var renderUI = function (args) {\n      return $_ebquldttjnlpb52d.renderUI(editor, this, args);\n    };\n    var resizeTo = function (w, h) {\n      return $_ao1a4hudjnlpb53o.resizeTo(editor, w, h);\n    };\n    var resizeBy = function (dw, dh) {\n      return $_ao1a4hudjnlpb53o.resizeBy(editor, dw, dh);\n    };\n    var getNotificationManagerImpl = function () {\n      return NotificationManagerImpl(editor);\n    };\n    var getWindowManagerImpl = function () {\n      return WindowManagerImpl(editor);\n    };\n    return {\n      renderUI: renderUI,\n      resizeTo: resizeTo,\n      resizeBy: resizeBy,\n      getNotificationManagerImpl: getNotificationManagerImpl,\n      getWindowManagerImpl: getWindowManagerImpl\n    };\n  };\n  var $_3xnbd6tsjnlpb52c = { get: get };\n\n  var Layout = global$10.extend({\n    Defaults: {\n      firstControlClass: 'first',\n      lastControlClass: 'last'\n    },\n    init: function (settings) {\n      this.settings = global$2.extend({}, this.Defaults, settings);\n    },\n    preRender: function (container) {\n      container.bodyClasses.add(this.settings.containerClass);\n    },\n    applyClasses: function (items) {\n      var self = this;\n      var settings = self.settings;\n      var firstClass, lastClass, firstItem, lastItem;\n      firstClass = settings.firstControlClass;\n      lastClass = settings.lastControlClass;\n      items.each(function (item) {\n        item.classes.remove(firstClass).remove(lastClass).add(settings.controlClass);\n        if (item.visible()) {\n          if (!firstItem) {\n            firstItem = item;\n          }\n          lastItem = item;\n        }\n      });\n      if (firstItem) {\n        firstItem.classes.add(firstClass);\n      }\n      if (lastItem) {\n        lastItem.classes.add(lastClass);\n      }\n    },\n    renderHtml: function (container) {\n      var self = this;\n      var html = '';\n      self.applyClasses(container.items());\n      container.items().each(function (item) {\n        html += item.renderHtml();\n      });\n      return html;\n    },\n    recalc: function () {\n    },\n    postRender: function () {\n    },\n    isNative: function () {\n      return false;\n    }\n  });\n\n  var AbsoluteLayout = Layout.extend({\n    Defaults: {\n      containerClass: 'abs-layout',\n      controlClass: 'abs-layout-item'\n    },\n    recalc: function (container) {\n      container.items().filter(':visible').each(function (ctrl) {\n        var settings = ctrl.settings;\n        ctrl.layoutRect({\n          x: settings.x,\n          y: settings.y,\n          w: settings.w,\n          h: settings.h\n        });\n        if (ctrl.recalc) {\n          ctrl.recalc();\n        }\n      });\n    },\n    renderHtml: function (container) {\n      return '<div id=\"' + container._id + '-absend\" class=\"' + container.classPrefix + 'abs-end\"></div>' + this._super(container);\n    }\n  });\n\n  var Button = Widget.extend({\n    Defaults: {\n      classes: 'widget btn',\n      role: 'button'\n    },\n    init: function (settings) {\n      var self$$1 = this;\n      var size;\n      self$$1._super(settings);\n      settings = self$$1.settings;\n      size = self$$1.settings.size;\n      self$$1.on('click mousedown', function (e) {\n        e.preventDefault();\n      });\n      self$$1.on('touchstart', function (e) {\n        self$$1.fire('click', e);\n        e.preventDefault();\n      });\n      if (settings.subtype) {\n        self$$1.classes.add(settings.subtype);\n      }\n      if (size) {\n        self$$1.classes.add('btn-' + size);\n      }\n      if (settings.icon) {\n        self$$1.icon(settings.icon);\n      }\n    },\n    icon: function (icon) {\n      if (!arguments.length) {\n        return this.state.get('icon');\n      }\n      this.state.set('icon', icon);\n      return this;\n    },\n    repaint: function () {\n      var btnElm = this.getEl().firstChild;\n      var btnStyle;\n      if (btnElm) {\n        btnStyle = btnElm.style;\n        btnStyle.width = btnStyle.height = '100%';\n      }\n      this._super();\n    },\n    renderHtml: function () {\n      var self$$1 = this, id = self$$1._id, prefix = self$$1.classPrefix;\n      var icon = self$$1.state.get('icon'), image;\n      var text = self$$1.state.get('text');\n      var textHtml = '';\n      var ariaPressed;\n      var settings = self$$1.settings;\n      image = settings.image;\n      if (image) {\n        icon = 'none';\n        if (typeof image !== 'string') {\n          image = window.getSelection ? image[0] : image[1];\n        }\n        image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n      } else {\n        image = '';\n      }\n      if (text) {\n        self$$1.classes.add('btn-has-text');\n        textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\n      }\n      icon = icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n      ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\n      return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" tabindex=\"-1\"' + ariaPressed + '>' + '<button id=\"' + id + '-button\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '</div>';\n    },\n    bindStates: function () {\n      var self$$1 = this, $ = self$$1.$, textCls = self$$1.classPrefix + 'txt';\n      function setButtonText(text) {\n        var $span = $('span.' + textCls, self$$1.getEl());\n        if (text) {\n          if (!$span[0]) {\n            $('button:first', self$$1.getEl()).append('<span class=\"' + textCls + '\"></span>');\n            $span = $('span.' + textCls, self$$1.getEl());\n          }\n          $span.html(self$$1.encode(text));\n        } else {\n          $span.remove();\n        }\n        self$$1.classes.toggle('btn-has-text', !!text);\n      }\n      self$$1.state.on('change:text', function (e) {\n        setButtonText(e.value);\n      });\n      self$$1.state.on('change:icon', function (e) {\n        var icon = e.value;\n        var prefix = self$$1.classPrefix;\n        self$$1.settings.icon = icon;\n        icon = icon ? prefix + 'ico ' + prefix + 'i-' + self$$1.settings.icon : '';\n        var btnElm = self$$1.getEl().firstChild;\n        var iconElm = btnElm.getElementsByTagName('i')[0];\n        if (icon) {\n          if (!iconElm || iconElm !== btnElm.firstChild) {\n            iconElm = document.createElement('i');\n            btnElm.insertBefore(iconElm, btnElm.firstChild);\n          }\n          iconElm.className = icon;\n        } else if (iconElm) {\n          btnElm.removeChild(iconElm);\n        }\n        setButtonText(self$$1.state.get('text'));\n      });\n      return self$$1._super();\n    }\n  });\n\n  var BrowseButton = Button.extend({\n    init: function (settings) {\n      var self = this;\n      settings = global$2.extend({\n        text: 'Browse...',\n        multiple: false,\n        accept: null\n      }, settings);\n      self._super(settings);\n      self.classes.add('browsebutton');\n      if (settings.multiple) {\n        self.classes.add('multiple');\n      }\n    },\n    postRender: function () {\n      var self = this;\n      var input = funcs.create('input', {\n        type: 'file',\n        id: self._id + '-browse',\n        accept: self.settings.accept\n      });\n      self._super();\n      global$9(input).on('change', function (e) {\n        var files = e.target.files;\n        self.value = function () {\n          if (!files.length) {\n            return null;\n          } else if (self.settings.multiple) {\n            return files;\n          } else {\n            return files[0];\n          }\n        };\n        e.preventDefault();\n        if (files.length) {\n          self.fire('change', e);\n        }\n      });\n      global$9(input).on('click', function (e) {\n        e.stopPropagation();\n      });\n      global$9(self.getEl('button')).on('click', function (e) {\n        e.stopPropagation();\n        input.click();\n      });\n      self.getEl().appendChild(input);\n    },\n    remove: function () {\n      global$9(this.getEl('button')).off();\n      global$9(this.getEl('input')).off();\n      this._super();\n    }\n  });\n\n  var ButtonGroup = Container.extend({\n    Defaults: {\n      defaultType: 'button',\n      role: 'group'\n    },\n    renderHtml: function () {\n      var self = this, layout = self._layout;\n      self.classes.add('btn-group');\n      self.preRender();\n      layout.preRender(self);\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n    }\n  });\n\n  var Checkbox = Widget.extend({\n    Defaults: {\n      classes: 'checkbox',\n      role: 'checkbox',\n      checked: false\n    },\n    init: function (settings) {\n      var self$$1 = this;\n      self$$1._super(settings);\n      self$$1.on('click mousedown', function (e) {\n        e.preventDefault();\n      });\n      self$$1.on('click', function (e) {\n        e.preventDefault();\n        if (!self$$1.disabled()) {\n          self$$1.checked(!self$$1.checked());\n        }\n      });\n      self$$1.checked(self$$1.settings.checked);\n    },\n    checked: function (state) {\n      if (!arguments.length) {\n        return this.state.get('checked');\n      }\n      this.state.set('checked', state);\n      return this;\n    },\n    value: function (state) {\n      if (!arguments.length) {\n        return this.checked();\n      }\n      return this.checked(state);\n    },\n    renderHtml: function () {\n      var self$$1 = this, id = self$$1._id, prefix = self$$1.classPrefix;\n      return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" unselectable=\"on\" aria-labelledby=\"' + id + '-al\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-checkbox\"></i>' + '<span id=\"' + id + '-al\" class=\"' + prefix + 'label\">' + self$$1.encode(self$$1.state.get('text')) + '</span>' + '</div>';\n    },\n    bindStates: function () {\n      var self$$1 = this;\n      function checked(state) {\n        self$$1.classes.toggle('checked', state);\n        self$$1.aria('checked', state);\n      }\n      self$$1.state.on('change:text', function (e) {\n        self$$1.getEl('al').firstChild.data = self$$1.translate(e.value);\n      });\n      self$$1.state.on('change:checked change:value', function (e) {\n        self$$1.fire('change');\n        checked(e.value);\n      });\n      self$$1.state.on('change:icon', function (e) {\n        var icon = e.value;\n        var prefix = self$$1.classPrefix;\n        if (typeof icon === 'undefined') {\n          return self$$1.settings.icon;\n        }\n        self$$1.settings.icon = icon;\n        icon = icon ? prefix + 'ico ' + prefix + 'i-' + self$$1.settings.icon : '';\n        var btnElm = self$$1.getEl().firstChild;\n        var iconElm = btnElm.getElementsByTagName('i')[0];\n        if (icon) {\n          if (!iconElm || iconElm !== btnElm.firstChild) {\n            iconElm = document.createElement('i');\n            btnElm.insertBefore(iconElm, btnElm.firstChild);\n          }\n          iconElm.className = icon;\n        } else if (iconElm) {\n          btnElm.removeChild(iconElm);\n        }\n      });\n      if (self$$1.state.get('checked')) {\n        checked(true);\n      }\n      return self$$1._super();\n    }\n  });\n\n  var global$13 = tinymce.util.Tools.resolve('tinymce.util.VK');\n\n  var ComboBox = Widget.extend({\n    init: function (settings) {\n      var self$$1 = this;\n      self$$1._super(settings);\n      settings = self$$1.settings;\n      self$$1.classes.add('combobox');\n      self$$1.subinput = true;\n      self$$1.ariaTarget = 'inp';\n      settings.menu = settings.menu || settings.values;\n      if (settings.menu) {\n        settings.icon = 'caret';\n      }\n      self$$1.on('click', function (e) {\n        var elm = e.target;\n        var root = self$$1.getEl();\n        if (!global$9.contains(root, elm) && elm !== root) {\n          return;\n        }\n        while (elm && elm !== root) {\n          if (elm.id && elm.id.indexOf('-open') !== -1) {\n            self$$1.fire('action');\n            if (settings.menu) {\n              self$$1.showMenu();\n              if (e.aria) {\n                self$$1.menu.items()[0].focus();\n              }\n            }\n          }\n          elm = elm.parentNode;\n        }\n      });\n      self$$1.on('keydown', function (e) {\n        var rootControl;\n        if (e.keyCode === 13 && e.target.nodeName === 'INPUT') {\n          e.preventDefault();\n          self$$1.parents().reverse().each(function (ctrl) {\n            if (ctrl.toJSON) {\n              rootControl = ctrl;\n              return false;\n            }\n          });\n          self$$1.fire('submit', { data: rootControl.toJSON() });\n        }\n      });\n      self$$1.on('keyup', function (e) {\n        if (e.target.nodeName === 'INPUT') {\n          var oldValue = self$$1.state.get('value');\n          var newValue = e.target.value;\n          if (newValue !== oldValue) {\n            self$$1.state.set('value', newValue);\n            self$$1.fire('autocomplete', e);\n          }\n        }\n      });\n      self$$1.on('mouseover', function (e) {\n        var tooltip = self$$1.tooltip().moveTo(-65535);\n        if (self$$1.statusLevel() && e.target.className.indexOf(self$$1.classPrefix + 'status') !== -1) {\n          var statusMessage = self$$1.statusMessage() || 'Ok';\n          var rel = tooltip.text(statusMessage).show().testMoveRel(e.target, [\n            'bc-tc',\n            'bc-tl',\n            'bc-tr'\n          ]);\n          tooltip.classes.toggle('tooltip-n', rel === 'bc-tc');\n          tooltip.classes.toggle('tooltip-nw', rel === 'bc-tl');\n          tooltip.classes.toggle('tooltip-ne', rel === 'bc-tr');\n          tooltip.moveRel(e.target, rel);\n        }\n      });\n    },\n    statusLevel: function (value) {\n      if (arguments.length > 0) {\n        this.state.set('statusLevel', value);\n      }\n      return this.state.get('statusLevel');\n    },\n    statusMessage: function (value) {\n      if (arguments.length > 0) {\n        this.state.set('statusMessage', value);\n      }\n      return this.state.get('statusMessage');\n    },\n    showMenu: function () {\n      var self$$1 = this;\n      var settings = self$$1.settings;\n      var menu;\n      if (!self$$1.menu) {\n        menu = settings.menu || [];\n        if (menu.length) {\n          menu = {\n            type: 'menu',\n            items: menu\n          };\n        } else {\n          menu.type = menu.type || 'menu';\n        }\n        self$$1.menu = global$4.create(menu).parent(self$$1).renderTo(self$$1.getContainerElm());\n        self$$1.fire('createmenu');\n        self$$1.menu.reflow();\n        self$$1.menu.on('cancel', function (e) {\n          if (e.control === self$$1.menu) {\n            self$$1.focus();\n          }\n        });\n        self$$1.menu.on('show hide', function (e) {\n          e.control.items().each(function (ctrl) {\n            ctrl.active(ctrl.value() === self$$1.value());\n          });\n        }).fire('show');\n        self$$1.menu.on('select', function (e) {\n          self$$1.value(e.control.value());\n        });\n        self$$1.on('focusin', function (e) {\n          if (e.target.tagName.toUpperCase() === 'INPUT') {\n            self$$1.menu.hide();\n          }\n        });\n        self$$1.aria('expanded', true);\n      }\n      self$$1.menu.show();\n      self$$1.menu.layoutRect({ w: self$$1.layoutRect().w });\n      self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? [\n        'br-tr',\n        'tr-br'\n      ] : [\n        'bl-tl',\n        'tl-bl'\n      ]);\n    },\n    focus: function () {\n      this.getEl('inp').focus();\n    },\n    repaint: function () {\n      var self$$1 = this, elm = self$$1.getEl(), openElm = self$$1.getEl('open'), rect = self$$1.layoutRect();\n      var width, lineHeight, innerPadding = 0;\n      var inputElm = elm.firstChild;\n      if (self$$1.statusLevel() && self$$1.statusLevel() !== 'none') {\n        innerPadding = parseInt(funcs.getRuntimeStyle(inputElm, 'padding-right'), 10) - parseInt(funcs.getRuntimeStyle(inputElm, 'padding-left'), 10);\n      }\n      if (openElm) {\n        width = rect.w - funcs.getSize(openElm).width - 10;\n      } else {\n        width = rect.w - 10;\n      }\n      var doc = document;\n      if (doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\n        lineHeight = self$$1.layoutRect().h - 2 + 'px';\n      }\n      global$9(inputElm).css({\n        width: width - innerPadding,\n        lineHeight: lineHeight\n      });\n      self$$1._super();\n      return self$$1;\n    },\n    postRender: function () {\n      var self$$1 = this;\n      global$9(this.getEl('inp')).on('change', function (e) {\n        self$$1.state.set('value', e.target.value);\n        self$$1.fire('change', e);\n      });\n      return self$$1._super();\n    },\n    renderHtml: function () {\n      var self$$1 = this, id = self$$1._id, settings = self$$1.settings, prefix = self$$1.classPrefix;\n      var value = self$$1.state.get('value') || '';\n      var icon, text, openBtnHtml = '', extraAttrs = '', statusHtml = '';\n      if ('spellcheck' in settings) {\n        extraAttrs += ' spellcheck=\"' + settings.spellcheck + '\"';\n      }\n      if (settings.maxLength) {\n        extraAttrs += ' maxlength=\"' + settings.maxLength + '\"';\n      }\n      if (settings.size) {\n        extraAttrs += ' size=\"' + settings.size + '\"';\n      }\n      if (settings.subtype) {\n        extraAttrs += ' type=\"' + settings.subtype + '\"';\n      }\n      statusHtml = '<i id=\"' + id + '-status\" class=\"mce-status mce-ico\" style=\"display: none\"></i>';\n      if (self$$1.disabled()) {\n        extraAttrs += ' disabled=\"disabled\"';\n      }\n      icon = settings.icon;\n      if (icon && icon !== 'caret') {\n        icon = prefix + 'ico ' + prefix + 'i-' + settings.icon;\n      }\n      text = self$$1.state.get('text');\n      if (icon || text) {\n        openBtnHtml = '<div id=\"' + id + '-open\" class=\"' + prefix + 'btn ' + prefix + 'open\" tabIndex=\"-1\" role=\"button\">' + '<button id=\"' + id + '-action\" type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon !== 'caret' ? '<i class=\"' + icon + '\"></i>' : '<i class=\"' + prefix + 'caret\"></i>') + (text ? (icon ? ' ' : '') + text : '') + '</button>' + '</div>';\n        self$$1.classes.add('has-open');\n      }\n      return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\">' + '<input id=\"' + id + '-inp\" class=\"' + prefix + 'textbox\" value=\"' + self$$1.encode(value, false) + '\" hidefocus=\"1\"' + extraAttrs + ' placeholder=\"' + self$$1.encode(settings.placeholder) + '\" />' + statusHtml + openBtnHtml + '</div>';\n    },\n    value: function (value) {\n      if (arguments.length) {\n        this.state.set('value', value);\n        return this;\n      }\n      if (this.state.get('rendered')) {\n        this.state.set('value', this.getEl('inp').value);\n      }\n      return this.state.get('value');\n    },\n    showAutoComplete: function (items, term) {\n      var self$$1 = this;\n      if (items.length === 0) {\n        self$$1.hideMenu();\n        return;\n      }\n      var insert = function (value, title) {\n        return function () {\n          self$$1.fire('selectitem', {\n            title: title,\n            value: value\n          });\n        };\n      };\n      if (self$$1.menu) {\n        self$$1.menu.items().remove();\n      } else {\n        self$$1.menu = global$4.create({\n          type: 'menu',\n          classes: 'combobox-menu',\n          layout: 'flow'\n        }).parent(self$$1).renderTo();\n      }\n      global$2.each(items, function (item) {\n        self$$1.menu.add({\n          text: item.title,\n          url: item.previewUrl,\n          match: term,\n          classes: 'menu-item-ellipsis',\n          onclick: insert(item.value, item.title)\n        });\n      });\n      self$$1.menu.renderNew();\n      self$$1.hideMenu();\n      self$$1.menu.on('cancel', function (e) {\n        if (e.control.parent() === self$$1.menu) {\n          e.stopPropagation();\n          self$$1.focus();\n          self$$1.hideMenu();\n        }\n      });\n      self$$1.menu.on('select', function () {\n        self$$1.focus();\n      });\n      var maxW = self$$1.layoutRect().w;\n      self$$1.menu.layoutRect({\n        w: maxW,\n        minW: 0,\n        maxW: maxW\n      });\n      self$$1.menu.repaint();\n      self$$1.menu.reflow();\n      self$$1.menu.show();\n      self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? [\n        'br-tr',\n        'tr-br'\n      ] : [\n        'bl-tl',\n        'tl-bl'\n      ]);\n    },\n    hideMenu: function () {\n      if (this.menu) {\n        this.menu.hide();\n      }\n    },\n    bindStates: function () {\n      var self$$1 = this;\n      self$$1.state.on('change:value', function (e) {\n        if (self$$1.getEl('inp').value !== e.value) {\n          self$$1.getEl('inp').value = e.value;\n        }\n      });\n      self$$1.state.on('change:disabled', function (e) {\n        self$$1.getEl('inp').disabled = e.value;\n      });\n      self$$1.state.on('change:statusLevel', function (e) {\n        var statusIconElm = self$$1.getEl('status');\n        var prefix = self$$1.classPrefix, value = e.value;\n        funcs.css(statusIconElm, 'display', value === 'none' ? 'none' : '');\n        funcs.toggleClass(statusIconElm, prefix + 'i-checkmark', value === 'ok');\n        funcs.toggleClass(statusIconElm, prefix + 'i-warning', value === 'warn');\n        funcs.toggleClass(statusIconElm, prefix + 'i-error', value === 'error');\n        self$$1.classes.toggle('has-status', value !== 'none');\n        self$$1.repaint();\n      });\n      funcs.on(self$$1.getEl('status'), 'mouseleave', function () {\n        self$$1.tooltip().hide();\n      });\n      self$$1.on('cancel', function (e) {\n        if (self$$1.menu && self$$1.menu.visible()) {\n          e.stopPropagation();\n          self$$1.hideMenu();\n        }\n      });\n      var focusIdx = function (idx, menu) {\n        if (menu && menu.items().length > 0) {\n          menu.items().eq(idx)[0].focus();\n        }\n      };\n      self$$1.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        if (e.target.nodeName === 'INPUT') {\n          if (keyCode === global$13.DOWN) {\n            e.preventDefault();\n            self$$1.fire('autocomplete');\n            focusIdx(0, self$$1.menu);\n          } else if (keyCode === global$13.UP) {\n            e.preventDefault();\n            focusIdx(-1, self$$1.menu);\n          }\n        }\n      });\n      return self$$1._super();\n    },\n    remove: function () {\n      global$9(this.getEl('inp')).off();\n      if (this.menu) {\n        this.menu.remove();\n      }\n      this._super();\n    }\n  });\n\n  var ColorBox = ComboBox.extend({\n    init: function (settings) {\n      var self = this;\n      settings.spellcheck = false;\n      if (settings.onaction) {\n        settings.icon = 'none';\n      }\n      self._super(settings);\n      self.classes.add('colorbox');\n      self.on('change keyup postrender', function () {\n        self.repaintColor(self.value());\n      });\n    },\n    repaintColor: function (value) {\n      var openElm = this.getEl('open');\n      var elm = openElm ? openElm.getElementsByTagName('i')[0] : null;\n      if (elm) {\n        try {\n          elm.style.background = value;\n        } catch (ex) {\n        }\n      }\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:value', function (e) {\n        if (self.state.get('rendered')) {\n          self.repaintColor(e.value);\n        }\n      });\n      return self._super();\n    }\n  });\n\n  var PanelButton = Button.extend({\n    showPanel: function () {\n      var self = this, settings = self.settings;\n      self.classes.add('opened');\n      if (!self.panel) {\n        var panelSettings = settings.panel;\n        if (panelSettings.type) {\n          panelSettings = {\n            layout: 'grid',\n            items: panelSettings\n          };\n        }\n        panelSettings.role = panelSettings.role || 'dialog';\n        panelSettings.popover = true;\n        panelSettings.autohide = true;\n        panelSettings.ariaRoot = true;\n        self.panel = new FloatPanel(panelSettings).on('hide', function () {\n          self.classes.remove('opened');\n        }).on('cancel', function (e) {\n          e.stopPropagation();\n          self.focus();\n          self.hidePanel();\n        }).parent(self).renderTo(self.getContainerElm());\n        self.panel.fire('show');\n        self.panel.reflow();\n      } else {\n        self.panel.show();\n      }\n      var rtlRels = [\n        'bc-tc',\n        'bc-tl',\n        'bc-tr'\n      ];\n      var ltrRels = [\n        'bc-tc',\n        'bc-tr',\n        'bc-tl',\n        'tc-bc',\n        'tc-br',\n        'tc-bl'\n      ];\n      var rel = self.panel.testMoveRel(self.getEl(), settings.popoverAlign || (self.isRtl() ? rtlRels : ltrRels));\n      self.panel.classes.toggle('start', rel.substr(-1) === 'l');\n      self.panel.classes.toggle('end', rel.substr(-1) === 'r');\n      var isTop = rel.substr(0, 1) === 't';\n      self.panel.classes.toggle('bottom', !isTop);\n      self.panel.classes.toggle('top', isTop);\n      self.panel.moveRel(self.getEl(), rel);\n    },\n    hidePanel: function () {\n      var self = this;\n      if (self.panel) {\n        self.panel.hide();\n      }\n    },\n    postRender: function () {\n      var self = this;\n      self.aria('haspopup', true);\n      self.on('click', function (e) {\n        if (e.control === self) {\n          if (self.panel && self.panel.visible()) {\n            self.hidePanel();\n          } else {\n            self.showPanel();\n            self.panel.focus(!!e.aria);\n          }\n        }\n      });\n      return self._super();\n    },\n    remove: function () {\n      if (this.panel) {\n        this.panel.remove();\n        this.panel = null;\n      }\n      return this._super();\n    }\n  });\n\n  var DOM$3 = global$3.DOM;\n  var ColorButton = PanelButton.extend({\n    init: function (settings) {\n      this._super(settings);\n      this.classes.add('splitbtn');\n      this.classes.add('colorbutton');\n    },\n    color: function (color) {\n      if (color) {\n        this._color = color;\n        this.getEl('preview').style.backgroundColor = color;\n        return this;\n      }\n      return this._color;\n    },\n    resetColor: function () {\n      this._color = null;\n      this.getEl('preview').style.backgroundColor = null;\n      return this;\n    },\n    renderHtml: function () {\n      var self = this, id = self._id, prefix = self.classPrefix, text = self.state.get('text');\n      var icon = self.settings.icon ? prefix + 'ico ' + prefix + 'i-' + self.settings.icon : '';\n      var image = self.settings.image ? ' style=\"background-image: url(\\'' + self.settings.image + '\\')\"' : '';\n      var textHtml = '';\n      if (text) {\n        self.classes.add('btn-has-text');\n        textHtml = '<span class=\"' + prefix + 'txt\">' + self.encode(text) + '</span>';\n      }\n      return '<div id=\"' + id + '\" class=\"' + self.classes + '\" role=\"button\" tabindex=\"-1\" aria-haspopup=\"true\">' + '<button role=\"presentation\" hidefocus=\"1\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + '<span id=\"' + id + '-preview\" class=\"' + prefix + 'preview\"></span>' + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n    },\n    postRender: function () {\n      var self = this, onClickHandler = self.settings.onclick;\n      self.on('click', function (e) {\n        if (e.aria && e.aria.key === 'down') {\n          return;\n        }\n        if (e.control === self && !DOM$3.getParent(e.target, '.' + self.classPrefix + 'open')) {\n          e.stopImmediatePropagation();\n          onClickHandler.call(self, e);\n        }\n      });\n      delete self.settings.onclick;\n      return self._super();\n    }\n  });\n\n  var global$14 = tinymce.util.Tools.resolve('tinymce.util.Color');\n\n  var ColorPicker = Widget.extend({\n    Defaults: { classes: 'widget colorpicker' },\n    init: function (settings) {\n      this._super(settings);\n    },\n    postRender: function () {\n      var self = this;\n      var color = self.color();\n      var hsv, hueRootElm, huePointElm, svRootElm, svPointElm;\n      hueRootElm = self.getEl('h');\n      huePointElm = self.getEl('hp');\n      svRootElm = self.getEl('sv');\n      svPointElm = self.getEl('svp');\n      function getPos(elm, event) {\n        var pos = funcs.getPos(elm);\n        var x, y;\n        x = event.pageX - pos.x;\n        y = event.pageY - pos.y;\n        x = Math.max(0, Math.min(x / elm.clientWidth, 1));\n        y = Math.max(0, Math.min(y / elm.clientHeight, 1));\n        return {\n          x: x,\n          y: y\n        };\n      }\n      function updateColor(hsv, hueUpdate) {\n        var hue = (360 - hsv.h) / 360;\n        funcs.css(huePointElm, { top: hue * 100 + '%' });\n        if (!hueUpdate) {\n          funcs.css(svPointElm, {\n            left: hsv.s + '%',\n            top: 100 - hsv.v + '%'\n          });\n        }\n        svRootElm.style.background = global$14({\n          s: 100,\n          v: 100,\n          h: hsv.h\n        }).toHex();\n        self.color().parse({\n          s: hsv.s,\n          v: hsv.v,\n          h: hsv.h\n        });\n      }\n      function updateSaturationAndValue(e) {\n        var pos;\n        pos = getPos(svRootElm, e);\n        hsv.s = pos.x * 100;\n        hsv.v = (1 - pos.y) * 100;\n        updateColor(hsv);\n        self.fire('change');\n      }\n      function updateHue(e) {\n        var pos;\n        pos = getPos(hueRootElm, e);\n        hsv = color.toHsv();\n        hsv.h = (1 - pos.y) * 360;\n        updateColor(hsv, true);\n        self.fire('change');\n      }\n      self._repaint = function () {\n        hsv = color.toHsv();\n        updateColor(hsv);\n      };\n      self._super();\n      self._svdraghelper = new DragHelper(self._id + '-sv', {\n        start: updateSaturationAndValue,\n        drag: updateSaturationAndValue\n      });\n      self._hdraghelper = new DragHelper(self._id + '-h', {\n        start: updateHue,\n        drag: updateHue\n      });\n      self._repaint();\n    },\n    rgb: function () {\n      return this.color().toRgb();\n    },\n    value: function (value) {\n      var self = this;\n      if (arguments.length) {\n        self.color().parse(value);\n        if (self._rendered) {\n          self._repaint();\n        }\n      } else {\n        return self.color().toHex();\n      }\n    },\n    color: function () {\n      if (!this._color) {\n        this._color = global$14();\n      }\n      return this._color;\n    },\n    renderHtml: function () {\n      var self = this;\n      var id = self._id;\n      var prefix = self.classPrefix;\n      var hueHtml;\n      var stops = '#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000';\n      function getOldIeFallbackHtml() {\n        var i, l, html = '', gradientPrefix, stopsList;\n        gradientPrefix = 'filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=';\n        stopsList = stops.split(',');\n        for (i = 0, l = stopsList.length - 1; i < l; i++) {\n          html += '<div class=\"' + prefix + 'colorpicker-h-chunk\" style=\"' + 'height:' + 100 / l + '%;' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ');' + '-ms-' + gradientPrefix + stopsList[i] + ',endColorstr=' + stopsList[i + 1] + ')' + '\"></div>';\n        }\n        return html;\n      }\n      var gradientCssText = 'background: -ms-linear-gradient(top,' + stops + ');' + 'background: linear-gradient(to bottom,' + stops + ');';\n      hueHtml = '<div id=\"' + id + '-h\" class=\"' + prefix + 'colorpicker-h\" style=\"' + gradientCssText + '\">' + getOldIeFallbackHtml() + '<div id=\"' + id + '-hp\" class=\"' + prefix + 'colorpicker-h-marker\"></div>' + '</div>';\n      return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-sv\" class=\"' + prefix + 'colorpicker-sv\">' + '<div class=\"' + prefix + 'colorpicker-overlay1\">' + '<div class=\"' + prefix + 'colorpicker-overlay2\">' + '<div id=\"' + id + '-svp\" class=\"' + prefix + 'colorpicker-selector1\">' + '<div class=\"' + prefix + 'colorpicker-selector2\"></div>' + '</div>' + '</div>' + '</div>' + '</div>' + hueHtml + '</div>';\n    }\n  });\n\n  var DropZone = Widget.extend({\n    init: function (settings) {\n      var self = this;\n      settings = global$2.extend({\n        height: 100,\n        text: 'Drop an image here',\n        multiple: false,\n        accept: null\n      }, settings);\n      self._super(settings);\n      self.classes.add('dropzone');\n      if (settings.multiple) {\n        self.classes.add('multiple');\n      }\n    },\n    renderHtml: function () {\n      var self = this;\n      var attrs, elm;\n      var cfg = self.settings;\n      attrs = {\n        id: self._id,\n        hidefocus: '1'\n      };\n      elm = funcs.create('div', attrs, '<span>' + this.translate(cfg.text) + '</span>');\n      if (cfg.height) {\n        funcs.css(elm, 'height', cfg.height + 'px');\n      }\n      if (cfg.width) {\n        funcs.css(elm, 'width', cfg.width + 'px');\n      }\n      elm.className = self.classes;\n      return elm.outerHTML;\n    },\n    postRender: function () {\n      var self = this;\n      var toggleDragClass = function (e) {\n        e.preventDefault();\n        self.classes.toggle('dragenter');\n        self.getEl().className = self.classes;\n      };\n      var filter = function (files) {\n        var accept = self.settings.accept;\n        if (typeof accept !== 'string') {\n          return files;\n        }\n        var re = new RegExp('(' + accept.split(/\\s*,\\s*/).join('|') + ')$', 'i');\n        return global$2.grep(files, function (file) {\n          return re.test(file.name);\n        });\n      };\n      self._super();\n      self.$el.on('dragover', function (e) {\n        e.preventDefault();\n      });\n      self.$el.on('dragenter', toggleDragClass);\n      self.$el.on('dragleave', toggleDragClass);\n      self.$el.on('drop', function (e) {\n        e.preventDefault();\n        if (self.state.get('disabled')) {\n          return;\n        }\n        var files = filter(e.dataTransfer.files);\n        self.value = function () {\n          if (!files.length) {\n            return null;\n          } else if (self.settings.multiple) {\n            return files;\n          } else {\n            return files[0];\n          }\n        };\n        if (files.length) {\n          self.fire('change', e);\n        }\n      });\n    },\n    remove: function () {\n      this.$el.off();\n      this._super();\n    }\n  });\n\n  var Path = Widget.extend({\n    init: function (settings) {\n      var self = this;\n      if (!settings.delimiter) {\n        settings.delimiter = '\\xBB';\n      }\n      self._super(settings);\n      self.classes.add('path');\n      self.canFocus = true;\n      self.on('click', function (e) {\n        var index;\n        var target = e.target;\n        if (index = target.getAttribute('data-index')) {\n          self.fire('select', {\n            value: self.row()[index],\n            index: index\n          });\n        }\n      });\n      self.row(self.settings.row);\n    },\n    focus: function () {\n      var self = this;\n      self.getEl().firstChild.focus();\n      return self;\n    },\n    row: function (row) {\n      if (!arguments.length) {\n        return this.state.get('row');\n      }\n      this.state.set('row', row);\n      return this;\n    },\n    renderHtml: function () {\n      var self = this;\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + self._getDataPathHtml(self.state.get('row')) + '</div>';\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:row', function (e) {\n        self.innerHtml(self._getDataPathHtml(e.value));\n      });\n      return self._super();\n    },\n    _getDataPathHtml: function (data) {\n      var self = this;\n      var parts = data || [];\n      var i, l, html = '';\n      var prefix = self.classPrefix;\n      for (i = 0, l = parts.length; i < l; i++) {\n        html += (i > 0 ? '<div class=\"' + prefix + 'divider\" aria-hidden=\"true\"> ' + self.settings.delimiter + ' </div>' : '') + '<div role=\"button\" class=\"' + prefix + 'path-item' + (i === l - 1 ? ' ' + prefix + 'last' : '') + '\" data-index=\"' + i + '\" tabindex=\"-1\" id=\"' + self._id + '-' + i + '\" aria-level=\"' + (i + 1) + '\">' + parts[i].name + '</div>';\n      }\n      if (!html) {\n        html = '<div class=\"' + prefix + 'path-item\">\\xA0</div>';\n      }\n      return html;\n    }\n  });\n\n  var ElementPath = Path.extend({\n    postRender: function () {\n      var self = this, editor = self.settings.editor;\n      function isHidden(elm) {\n        if (elm.nodeType === 1) {\n          if (elm.nodeName === 'BR' || !!elm.getAttribute('data-mce-bogus')) {\n            return true;\n          }\n          if (elm.getAttribute('data-mce-type') === 'bookmark') {\n            return true;\n          }\n        }\n        return false;\n      }\n      if (editor.settings.elementpath !== false) {\n        self.on('select', function (e) {\n          editor.focus();\n          editor.selection.select(this.row()[e.index].element);\n          editor.nodeChanged();\n        });\n        editor.on('nodeChange', function (e) {\n          var outParents = [];\n          var parents = e.parents;\n          var i = parents.length;\n          while (i--) {\n            if (parents[i].nodeType === 1 && !isHidden(parents[i])) {\n              var args = editor.fire('ResolveName', {\n                name: parents[i].nodeName.toLowerCase(),\n                target: parents[i]\n              });\n              if (!args.isDefaultPrevented()) {\n                outParents.push({\n                  name: args.name,\n                  element: parents[i]\n                });\n              }\n              if (args.isPropagationStopped()) {\n                break;\n              }\n            }\n          }\n          self.row(outParents);\n        });\n      }\n      return self._super();\n    }\n  });\n\n  var FormItem = Container.extend({\n    Defaults: {\n      layout: 'flex',\n      align: 'center',\n      defaults: { flex: 1 }\n    },\n    renderHtml: function () {\n      var self = this, layout = self._layout, prefix = self.classPrefix;\n      self.classes.add('formitem');\n      layout.preRender(self);\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<div id=\"' + self._id + '-title\" class=\"' + prefix + 'title\">' + self.settings.title + '</div>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</div>';\n    }\n  });\n\n  var Form = Container.extend({\n    Defaults: {\n      containerCls: 'form',\n      layout: 'flex',\n      direction: 'column',\n      align: 'stretch',\n      flex: 1,\n      padding: 15,\n      labelGap: 30,\n      spacing: 10,\n      callbacks: {\n        submit: function () {\n          this.submit();\n        }\n      }\n    },\n    preRender: function () {\n      var self = this, items = self.items();\n      if (!self.settings.formItemDefaults) {\n        self.settings.formItemDefaults = {\n          layout: 'flex',\n          autoResize: 'overflow',\n          defaults: { flex: 1 }\n        };\n      }\n      items.each(function (ctrl) {\n        var formItem;\n        var label = ctrl.settings.label;\n        if (label) {\n          formItem = new FormItem(global$2.extend({\n            items: {\n              type: 'label',\n              id: ctrl._id + '-l',\n              text: label,\n              flex: 0,\n              forId: ctrl._id,\n              disabled: ctrl.disabled()\n            }\n          }, self.settings.formItemDefaults));\n          formItem.type = 'formitem';\n          ctrl.aria('labelledby', ctrl._id + '-l');\n          if (typeof ctrl.settings.flex === 'undefined') {\n            ctrl.settings.flex = 1;\n          }\n          self.replace(ctrl, formItem);\n          formItem.add(ctrl);\n        }\n      });\n    },\n    submit: function () {\n      return this.fire('submit', { data: this.toJSON() });\n    },\n    postRender: function () {\n      var self = this;\n      self._super();\n      self.fromJSON(self.settings.data);\n    },\n    bindStates: function () {\n      var self = this;\n      self._super();\n      function recalcLabels() {\n        var maxLabelWidth = 0;\n        var labels = [];\n        var i, labelGap, items;\n        if (self.settings.labelGapCalc === false) {\n          return;\n        }\n        if (self.settings.labelGapCalc === 'children') {\n          items = self.find('formitem');\n        } else {\n          items = self.items();\n        }\n        items.filter('formitem').each(function (item) {\n          var labelCtrl = item.items()[0], labelWidth = labelCtrl.getEl().clientWidth;\n          maxLabelWidth = labelWidth > maxLabelWidth ? labelWidth : maxLabelWidth;\n          labels.push(labelCtrl);\n        });\n        labelGap = self.settings.labelGap || 0;\n        i = labels.length;\n        while (i--) {\n          labels[i].settings.minWidth = maxLabelWidth + labelGap;\n        }\n      }\n      self.on('show', recalcLabels);\n      recalcLabels();\n    }\n  });\n\n  var FieldSet = Form.extend({\n    Defaults: {\n      containerCls: 'fieldset',\n      layout: 'flex',\n      direction: 'column',\n      align: 'stretch',\n      flex: 1,\n      padding: '25 15 5 15',\n      labelGap: 30,\n      spacing: 10,\n      border: 1\n    },\n    renderHtml: function () {\n      var self = this, layout = self._layout, prefix = self.classPrefix;\n      self.preRender();\n      layout.preRender(self);\n      return '<fieldset id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + (self.settings.title ? '<legend id=\"' + self._id + '-title\" class=\"' + prefix + 'fieldset-title\">' + self.settings.title + '</legend>' : '') + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + (self.settings.html || '') + layout.renderHtml(self) + '</div>' + '</fieldset>';\n    }\n  });\n\n  var unique$1 = 0;\n  var generate = function (prefix) {\n    var date = new Date();\n    var time = date.getTime();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique$1++;\n    return prefix + '_' + random + unique$1 + String(time);\n  };\n\n  var fromHtml = function (html, scope) {\n    var doc = scope || document;\n    var div = doc.createElement('div');\n    div.innerHTML = html;\n    if (!div.hasChildNodes() || div.childNodes.length > 1) {\n      console.error('HTML does not have a single root node', html);\n      throw 'HTML must have a single root node';\n    }\n    return fromDom(div.childNodes[0]);\n  };\n  var fromTag = function (tag, scope) {\n    var doc = scope || document;\n    var node = doc.createElement(tag);\n    return fromDom(node);\n  };\n  var fromText = function (text, scope) {\n    var doc = scope || document;\n    var node = doc.createTextNode(text);\n    return fromDom(node);\n  };\n  var fromDom = function (node) {\n    if (node === null || node === undefined)\n      throw new Error('Node cannot be null or undefined');\n    return { dom: constant(node) };\n  };\n  var fromPoint = function (docElm, x, y) {\n    var doc = docElm.dom();\n    return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n  };\n  var Element$$1 = {\n    fromHtml: fromHtml,\n    fromTag: fromTag,\n    fromText: fromText,\n    fromDom: fromDom,\n    fromPoint: fromPoint\n  };\n\n  var cached = function (f) {\n    var called = false;\n    var r;\n    return function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      if (!called) {\n        called = true;\n        r = f.apply(null, args);\n      }\n      return r;\n    };\n  };\n\n  var $_97et1hw7jnlpb5gk = {\n    ATTRIBUTE: Node.ATTRIBUTE_NODE,\n    CDATA_SECTION: Node.CDATA_SECTION_NODE,\n    COMMENT: Node.COMMENT_NODE,\n    DOCUMENT: Node.DOCUMENT_NODE,\n    DOCUMENT_TYPE: Node.DOCUMENT_TYPE_NODE,\n    DOCUMENT_FRAGMENT: Node.DOCUMENT_FRAGMENT_NODE,\n    ELEMENT: Node.ELEMENT_NODE,\n    TEXT: Node.TEXT_NODE,\n    PROCESSING_INSTRUCTION: Node.PROCESSING_INSTRUCTION_NODE,\n    ENTITY_REFERENCE: Node.ENTITY_REFERENCE_NODE,\n    ENTITY: Node.ENTITY_NODE,\n    NOTATION: Node.NOTATION_NODE\n  };\n\n  var name = function (element) {\n    var r = element.dom().nodeName;\n    return r.toLowerCase();\n  };\n  var type = function (element) {\n    return element.dom().nodeType;\n  };\n  var value = function (element) {\n    return element.dom().nodeValue;\n  };\n  var isType$1 = function (t) {\n    return function (element) {\n      return type(element) === t;\n    };\n  };\n  var isComment = function (element) {\n    return type(element) === $_97et1hw7jnlpb5gk.COMMENT || name(element) === '#comment';\n  };\n  var isElement = isType$1($_97et1hw7jnlpb5gk.ELEMENT);\n  var isText = isType$1($_97et1hw7jnlpb5gk.TEXT);\n  var isDocument = isType$1($_97et1hw7jnlpb5gk.DOCUMENT);\n  var $_52ij6yw6jnlpb5gi = {\n    name: name,\n    type: type,\n    value: value,\n    isElement: isElement,\n    isText: isText,\n    isDocument: isDocument,\n    isComment: isComment\n  };\n\n  var inBody = function (element) {\n    var dom = $_52ij6yw6jnlpb5gi.isText(element) ? element.dom().parentNode : element.dom();\n    return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n  };\n  var body = cached(function () {\n    return getBody(Element$$1.fromDom(document));\n  });\n  var getBody = function (doc) {\n    var body = doc.dom().body;\n    if (body === null || body === undefined)\n      throw 'Body is not available yet';\n    return Element$$1.fromDom(body);\n  };\n  var $_eyy768w4jnlpb5gd = {\n    body: body,\n    getBody: getBody,\n    inBody: inBody\n  };\n\n  var Immutable = function () {\n    var fields = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      fields[_i] = arguments[_i];\n    }\n    return function () {\n      var values = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n      }\n      if (fields.length !== values.length) {\n        throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n      }\n      var struct = {};\n      each(fields, function (name, i) {\n        struct[name] = constant(values[i]);\n      });\n      return struct;\n    };\n  };\n\n  var toArray = function (target, f) {\n    var r = [];\n    var recurse = function (e) {\n      r.push(e);\n      return f(e);\n    };\n    var cur = f(target);\n    do {\n      cur = cur.bind(recurse);\n    } while (cur.isSome());\n    return r;\n  };\n  var $_99zdh5wejnlpb5h8 = { toArray: toArray };\n\n  var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n  var path = function (parts, scope) {\n    var o = scope !== undefined && scope !== null ? scope : Global;\n    for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i)\n      o = o[parts[i]];\n    return o;\n  };\n  var resolve = function (p, scope) {\n    var parts = p.split('.');\n    return path(parts, scope);\n  };\n\n  var unsafe = function (name, scope) {\n    return resolve(name, scope);\n  };\n  var getOrDie = function (name, scope) {\n    var actual = unsafe(name, scope);\n    if (actual === undefined || actual === null)\n      throw name + ' not available on this browser';\n    return actual;\n  };\n  var $_c2u51zwhjnlpb5hu = { getOrDie: getOrDie };\n\n  var node = function () {\n    var f = $_c2u51zwhjnlpb5hu.getOrDie('Node');\n    return f;\n  };\n  var compareDocumentPosition = function (a, b, match) {\n    return (a.compareDocumentPosition(b) & match) !== 0;\n  };\n  var documentPositionPreceding = function (a, b) {\n    return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\n  };\n  var documentPositionContainedBy = function (a, b) {\n    return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\n  };\n  var $_26zoqmwgjnlpb5hs = {\n    documentPositionPreceding: documentPositionPreceding,\n    documentPositionContainedBy: documentPositionContainedBy\n  };\n\n  var firstMatch = function (regexes, s) {\n    for (var i = 0; i < regexes.length; i++) {\n      var x = regexes[i];\n      if (x.test(s))\n        return x;\n    }\n    return undefined;\n  };\n  var find$2 = function (regexes, agent) {\n    var r = firstMatch(regexes, agent);\n    if (!r)\n      return {\n        major: 0,\n        minor: 0\n      };\n    var group = function (i) {\n      return Number(agent.replace(r, '$' + i));\n    };\n    return nu(group(1), group(2));\n  };\n  var detect = function (versionRegexes, agent) {\n    var cleanedAgent = String(agent).toLowerCase();\n    if (versionRegexes.length === 0)\n      return unknown();\n    return find$2(versionRegexes, cleanedAgent);\n  };\n  var unknown = function () {\n    return nu(0, 0);\n  };\n  var nu = function (major, minor) {\n    return {\n      major: major,\n      minor: minor\n    };\n  };\n  var Version = {\n    nu: nu,\n    detect: detect,\n    unknown: unknown\n  };\n\n  var edge = 'Edge';\n  var chrome = 'Chrome';\n  var ie = 'IE';\n  var opera = 'Opera';\n  var firefox = 'Firefox';\n  var safari = 'Safari';\n  var isBrowser = function (name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n  var unknown$1 = function () {\n    return nu$1({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n  var nu$1 = function (info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isEdge: isBrowser(edge, current),\n      isChrome: isBrowser(chrome, current),\n      isIE: isBrowser(ie, current),\n      isOpera: isBrowser(opera, current),\n      isFirefox: isBrowser(firefox, current),\n      isSafari: isBrowser(safari, current)\n    };\n  };\n  var Browser = {\n    unknown: unknown$1,\n    nu: nu$1,\n    edge: constant(edge),\n    chrome: constant(chrome),\n    ie: constant(ie),\n    opera: constant(opera),\n    firefox: constant(firefox),\n    safari: constant(safari)\n  };\n\n  var windows$1 = 'Windows';\n  var ios = 'iOS';\n  var android = 'Android';\n  var linux = 'Linux';\n  var osx = 'OSX';\n  var solaris = 'Solaris';\n  var freebsd = 'FreeBSD';\n  var isOS = function (name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n  var unknown$2 = function () {\n    return nu$2({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n  var nu$2 = function (info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isWindows: isOS(windows$1, current),\n      isiOS: isOS(ios, current),\n      isAndroid: isOS(android, current),\n      isOSX: isOS(osx, current),\n      isLinux: isOS(linux, current),\n      isSolaris: isOS(solaris, current),\n      isFreeBSD: isOS(freebsd, current)\n    };\n  };\n  var OperatingSystem = {\n    unknown: unknown$2,\n    nu: nu$2,\n    windows: constant(windows$1),\n    ios: constant(ios),\n    android: constant(android),\n    linux: constant(linux),\n    osx: constant(osx),\n    solaris: constant(solaris),\n    freebsd: constant(freebsd)\n  };\n\n  var DeviceType = function (os, browser, userAgent) {\n    var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n    var isiPhone = os.isiOS() && !isiPad;\n    var isAndroid3 = os.isAndroid() && os.version.major === 3;\n    var isAndroid4 = os.isAndroid() && os.version.major === 4;\n    var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n    var isTouch = os.isiOS() || os.isAndroid();\n    var isPhone = isTouch && !isTablet;\n    var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n    return {\n      isiPad: constant(isiPad),\n      isiPhone: constant(isiPhone),\n      isTablet: constant(isTablet),\n      isPhone: constant(isPhone),\n      isTouch: constant(isTouch),\n      isAndroid: os.isAndroid,\n      isiOS: os.isiOS,\n      isWebView: constant(iOSwebview)\n    };\n  };\n\n  var detect$1 = function (candidates, userAgent) {\n    var agent = String(userAgent).toLowerCase();\n    return find(candidates, function (candidate) {\n      return candidate.search(agent);\n    });\n  };\n  var detectBrowser = function (browsers, userAgent) {\n    return detect$1(browsers, userAgent).map(function (browser) {\n      var version = Version.detect(browser.versionRegexes, userAgent);\n      return {\n        current: browser.name,\n        version: version\n      };\n    });\n  };\n  var detectOs = function (oses, userAgent) {\n    return detect$1(oses, userAgent).map(function (os) {\n      var version = Version.detect(os.versionRegexes, userAgent);\n      return {\n        current: os.name,\n        version: version\n      };\n    });\n  };\n  var UaString = {\n    detectBrowser: detectBrowser,\n    detectOs: detectOs\n  };\n\n  var contains$1 = function (str, substr) {\n    return str.indexOf(substr) !== -1;\n  };\n\n  var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n  var checkContains = function (target) {\n    return function (uastring) {\n      return contains$1(uastring, target);\n    };\n  };\n  var browsers = [\n    {\n      name: 'Edge',\n      versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n      search: function (uastring) {\n        var monstrosity = contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        return monstrosity;\n      }\n    },\n    {\n      name: 'Chrome',\n      versionRegexes: [\n        /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n        normalVersionRegex\n      ],\n      search: function (uastring) {\n        return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n      }\n    },\n    {\n      name: 'IE',\n      versionRegexes: [\n        /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n        /.*?rv:([0-9]+)\\.([0-9]+).*/\n      ],\n      search: function (uastring) {\n        return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n      }\n    },\n    {\n      name: 'Opera',\n      versionRegexes: [\n        normalVersionRegex,\n        /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n      ],\n      search: checkContains('opera')\n    },\n    {\n      name: 'Firefox',\n      versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n      search: checkContains('firefox')\n    },\n    {\n      name: 'Safari',\n      versionRegexes: [\n        normalVersionRegex,\n        /.*?cpu os ([0-9]+)_([0-9]+).*/\n      ],\n      search: function (uastring) {\n        return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n      }\n    }\n  ];\n  var oses = [\n    {\n      name: 'Windows',\n      search: checkContains('win'),\n      versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n    },\n    {\n      name: 'iOS',\n      search: function (uastring) {\n        return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n      },\n      versionRegexes: [\n        /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n        /.*cpu os ([0-9]+)_([0-9]+).*/,\n        /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n      ]\n    },\n    {\n      name: 'Android',\n      search: checkContains('android'),\n      versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n    },\n    {\n      name: 'OSX',\n      search: checkContains('os x'),\n      versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n    },\n    {\n      name: 'Linux',\n      search: checkContains('linux'),\n      versionRegexes: []\n    },\n    {\n      name: 'Solaris',\n      search: checkContains('sunos'),\n      versionRegexes: []\n    },\n    {\n      name: 'FreeBSD',\n      search: checkContains('freebsd'),\n      versionRegexes: []\n    }\n  ];\n  var PlatformInfo = {\n    browsers: constant(browsers),\n    oses: constant(oses)\n  };\n\n  var detect$2 = function (userAgent) {\n    var browsers = PlatformInfo.browsers();\n    var oses = PlatformInfo.oses();\n    var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n    var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n    var deviceType = DeviceType(os, browser, userAgent);\n    return {\n      browser: browser,\n      os: os,\n      deviceType: deviceType\n    };\n  };\n  var PlatformDetection = { detect: detect$2 };\n\n  var detect$3 = cached(function () {\n    var userAgent = navigator.userAgent;\n    return PlatformDetection.detect(userAgent);\n  });\n  var $_7pc76cwkjnlpb5hz = { detect: detect$3 };\n\n  var ELEMENT = $_97et1hw7jnlpb5gk.ELEMENT;\n  var DOCUMENT = $_97et1hw7jnlpb5gk.DOCUMENT;\n  var is = function (element, selector) {\n    var elem = element.dom();\n    if (elem.nodeType !== ELEMENT)\n      return false;\n    else if (elem.matches !== undefined)\n      return elem.matches(selector);\n    else if (elem.msMatchesSelector !== undefined)\n      return elem.msMatchesSelector(selector);\n    else if (elem.webkitMatchesSelector !== undefined)\n      return elem.webkitMatchesSelector(selector);\n    else if (elem.mozMatchesSelector !== undefined)\n      return elem.mozMatchesSelector(selector);\n    else\n      throw new Error('Browser lacks native selectors');\n  };\n  var bypassSelector = function (dom) {\n    return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT || dom.childElementCount === 0;\n  };\n  var all = function (selector, scope) {\n    var base = scope === undefined ? document : scope.dom();\n    return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element$$1.fromDom);\n  };\n  var one = function (selector, scope) {\n    var base = scope === undefined ? document : scope.dom();\n    return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element$$1.fromDom);\n  };\n  var $_7lblvdwvjnlpb5j4 = {\n    all: all,\n    is: is,\n    one: one\n  };\n\n  var eq = function (e1, e2) {\n    return e1.dom() === e2.dom();\n  };\n  var isEqualNode = function (e1, e2) {\n    return e1.dom().isEqualNode(e2.dom());\n  };\n  var member = function (element, elements) {\n    return exists(elements, curry(eq, element));\n  };\n  var regularContains = function (e1, e2) {\n    var d1 = e1.dom(), d2 = e2.dom();\n    return d1 === d2 ? false : d1.contains(d2);\n  };\n  var ieContains = function (e1, e2) {\n    return $_26zoqmwgjnlpb5hs.documentPositionContainedBy(e1.dom(), e2.dom());\n  };\n  var browser = $_7pc76cwkjnlpb5hz.detect().browser;\n  var contains$2 = browser.isIE() ? ieContains : regularContains;\n  var $_dvypmswfjnlpb5h9 = {\n    eq: eq,\n    isEqualNode: isEqualNode,\n    member: member,\n    contains: contains$2,\n    is: $_7lblvdwvjnlpb5j4.is\n  };\n\n  var owner = function (element) {\n    return Element$$1.fromDom(element.dom().ownerDocument);\n  };\n  var documentElement = function (element) {\n    return Element$$1.fromDom(element.dom().ownerDocument.documentElement);\n  };\n  var defaultView = function (element) {\n    var el = element.dom();\n    var defaultView = el.ownerDocument.defaultView;\n    return Element$$1.fromDom(defaultView);\n  };\n  var parent = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.parentNode).map(Element$$1.fromDom);\n  };\n  var findIndex$1 = function (element) {\n    return parent(element).bind(function (p) {\n      var kin = children(p);\n      return findIndex(kin, function (elem) {\n        return $_dvypmswfjnlpb5h9.eq(element, elem);\n      });\n    });\n  };\n  var parents = function (element, isRoot) {\n    var stop = isFunction(isRoot) ? isRoot : constant(false);\n    var dom = element.dom();\n    var ret = [];\n    while (dom.parentNode !== null && dom.parentNode !== undefined) {\n      var rawParent = dom.parentNode;\n      var parent = Element$$1.fromDom(rawParent);\n      ret.push(parent);\n      if (stop(parent) === true)\n        break;\n      else\n        dom = rawParent;\n    }\n    return ret;\n  };\n  var siblings = function (element) {\n    var filterSelf = function (elements) {\n      return filter(elements, function (x) {\n        return !$_dvypmswfjnlpb5h9.eq(element, x);\n      });\n    };\n    return parent(element).map(children).map(filterSelf).getOr([]);\n  };\n  var offsetParent = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.offsetParent).map(Element$$1.fromDom);\n  };\n  var prevSibling = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.previousSibling).map(Element$$1.fromDom);\n  };\n  var nextSibling = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.nextSibling).map(Element$$1.fromDom);\n  };\n  var prevSiblings = function (element) {\n    return reverse($_99zdh5wejnlpb5h8.toArray(element, prevSibling));\n  };\n  var nextSiblings = function (element) {\n    return $_99zdh5wejnlpb5h8.toArray(element, nextSibling);\n  };\n  var children = function (element) {\n    var dom = element.dom();\n    return map(dom.childNodes, Element$$1.fromDom);\n  };\n  var child = function (element, index) {\n    var children = element.dom().childNodes;\n    return Option.from(children[index]).map(Element$$1.fromDom);\n  };\n  var firstChild = function (element) {\n    return child(element, 0);\n  };\n  var lastChild = function (element) {\n    return child(element, element.dom().childNodes.length - 1);\n  };\n  var childNodesCount = function (element) {\n    return element.dom().childNodes.length;\n  };\n  var hasChildNodes = function (element) {\n    return element.dom().hasChildNodes();\n  };\n  var spot = Immutable('element', 'offset');\n  var leaf = function (element, offset) {\n    var cs = children(element);\n    return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n  };\n  var $_bjcg3aw8jnlpb5gn = {\n    owner: owner,\n    defaultView: defaultView,\n    documentElement: documentElement,\n    parent: parent,\n    findIndex: findIndex$1,\n    parents: parents,\n    siblings: siblings,\n    prevSibling: prevSibling,\n    offsetParent: offsetParent,\n    prevSiblings: prevSiblings,\n    nextSibling: nextSibling,\n    nextSiblings: nextSiblings,\n    children: children,\n    child: child,\n    firstChild: firstChild,\n    lastChild: lastChild,\n    childNodesCount: childNodesCount,\n    hasChildNodes: hasChildNodes,\n    leaf: leaf\n  };\n\n  var all$1 = function (predicate) {\n    return descendants($_eyy768w4jnlpb5gd.body(), predicate);\n  };\n  var ancestors = function (scope, predicate, isRoot) {\n    return filter($_bjcg3aw8jnlpb5gn.parents(scope, isRoot), predicate);\n  };\n  var siblings$1 = function (scope, predicate) {\n    return filter($_bjcg3aw8jnlpb5gn.siblings(scope), predicate);\n  };\n  var children$1 = function (scope, predicate) {\n    return filter($_bjcg3aw8jnlpb5gn.children(scope), predicate);\n  };\n  var descendants = function (scope, predicate) {\n    var result = [];\n    each($_bjcg3aw8jnlpb5gn.children(scope), function (x) {\n      if (predicate(x)) {\n        result = result.concat([x]);\n      }\n      result = result.concat(descendants(x, predicate));\n    });\n    return result;\n  };\n  var $_cac83tw3jnlpb5ga = {\n    all: all$1,\n    ancestors: ancestors,\n    siblings: siblings$1,\n    children: children$1,\n    descendants: descendants\n  };\n\n  var all$2 = function (selector) {\n    return $_7lblvdwvjnlpb5j4.all(selector);\n  };\n  var ancestors$1 = function (scope, selector, isRoot) {\n    return $_cac83tw3jnlpb5ga.ancestors(scope, function (e) {\n      return $_7lblvdwvjnlpb5j4.is(e, selector);\n    }, isRoot);\n  };\n  var siblings$2 = function (scope, selector) {\n    return $_cac83tw3jnlpb5ga.siblings(scope, function (e) {\n      return $_7lblvdwvjnlpb5j4.is(e, selector);\n    });\n  };\n  var children$2 = function (scope, selector) {\n    return $_cac83tw3jnlpb5ga.children(scope, function (e) {\n      return $_7lblvdwvjnlpb5j4.is(e, selector);\n    });\n  };\n  var descendants$1 = function (scope, selector) {\n    return $_7lblvdwvjnlpb5j4.all(selector, scope);\n  };\n  var $_68zznuw2jnlpb5g8 = {\n    all: all$2,\n    ancestors: ancestors$1,\n    siblings: siblings$2,\n    children: children$2,\n    descendants: descendants$1\n  };\n\n  var trim$1 = global$2.trim;\n  var hasContentEditableState = function (value) {\n    return function (node) {\n      if (node && node.nodeType === 1) {\n        if (node.contentEditable === value) {\n          return true;\n        }\n        if (node.getAttribute('data-mce-contenteditable') === value) {\n          return true;\n        }\n      }\n      return false;\n    };\n  };\n  var isContentEditableTrue = hasContentEditableState('true');\n  var isContentEditableFalse = hasContentEditableState('false');\n  var create = function (type, title, url, level, attach) {\n    return {\n      type: type,\n      title: title,\n      url: url,\n      level: level,\n      attach: attach\n    };\n  };\n  var isChildOfContentEditableTrue = function (node) {\n    while (node = node.parentNode) {\n      var value = node.contentEditable;\n      if (value && value !== 'inherit') {\n        return isContentEditableTrue(node);\n      }\n    }\n    return false;\n  };\n  var select = function (selector, root) {\n    return map($_68zznuw2jnlpb5g8.descendants(Element$$1.fromDom(root), selector), function (element) {\n      return element.dom();\n    });\n  };\n  var getElementText = function (elm) {\n    return elm.innerText || elm.textContent;\n  };\n  var getOrGenerateId = function (elm) {\n    return elm.id ? elm.id : generate('h');\n  };\n  var isAnchor = function (elm) {\n    return elm && elm.nodeName === 'A' && (elm.id || elm.name);\n  };\n  var isValidAnchor = function (elm) {\n    return isAnchor(elm) && isEditable(elm);\n  };\n  var isHeader = function (elm) {\n    return elm && /^(H[1-6])$/.test(elm.nodeName);\n  };\n  var isEditable = function (elm) {\n    return isChildOfContentEditableTrue(elm) && !isContentEditableFalse(elm);\n  };\n  var isValidHeader = function (elm) {\n    return isHeader(elm) && isEditable(elm);\n  };\n  var getLevel = function (elm) {\n    return isHeader(elm) ? parseInt(elm.nodeName.substr(1), 10) : 0;\n  };\n  var headerTarget = function (elm) {\n    var headerId = getOrGenerateId(elm);\n    var attach = function () {\n      elm.id = headerId;\n    };\n    return create('header', getElementText(elm), '#' + headerId, getLevel(elm), attach);\n  };\n  var anchorTarget = function (elm) {\n    var anchorId = elm.id || elm.name;\n    var anchorText = getElementText(elm);\n    return create('anchor', anchorText ? anchorText : '#' + anchorId, '#' + anchorId, 0, noop);\n  };\n  var getHeaderTargets = function (elms) {\n    return map(filter(elms, isValidHeader), headerTarget);\n  };\n  var getAnchorTargets = function (elms) {\n    return map(filter(elms, isValidAnchor), anchorTarget);\n  };\n  var getTargetElements = function (elm) {\n    var elms = select('h1,h2,h3,h4,h5,h6,a:not([href])', elm);\n    return elms;\n  };\n  var hasTitle = function (target) {\n    return trim$1(target.title).length > 0;\n  };\n  var find$3 = function (elm) {\n    var elms = getTargetElements(elm);\n    return filter(getHeaderTargets(elms).concat(getAnchorTargets(elms)), hasTitle);\n  };\n  var $_73vvu4vzjnlpb5fn = { find: find$3 };\n\n  var getActiveEditor = function () {\n    return window.tinymce ? window.tinymce.activeEditor : global$1.activeEditor;\n  };\n  var history = {};\n  var HISTORY_LENGTH = 5;\n  var clearHistory = function () {\n    history = {};\n  };\n  var toMenuItem = function (target) {\n    return {\n      title: target.title,\n      value: {\n        title: { raw: target.title },\n        url: target.url,\n        attach: target.attach\n      }\n    };\n  };\n  var toMenuItems = function (targets) {\n    return global$2.map(targets, toMenuItem);\n  };\n  var staticMenuItem = function (title, url) {\n    return {\n      title: title,\n      value: {\n        title: title,\n        url: url,\n        attach: noop\n      }\n    };\n  };\n  var isUniqueUrl = function (url, targets) {\n    var foundTarget = exists(targets, function (target) {\n      return target.url === url;\n    });\n    return !foundTarget;\n  };\n  var getSetting = function (editorSettings, name, defaultValue) {\n    var value = name in editorSettings ? editorSettings[name] : defaultValue;\n    return value === false ? null : value;\n  };\n  var createMenuItems = function (term, targets, fileType, editorSettings) {\n    var separator = { title: '-' };\n    var fromHistoryMenuItems = function (history) {\n      var historyItems = history.hasOwnProperty(fileType) ? history[fileType] : [];\n      var uniqueHistory = filter(historyItems, function (url) {\n        return isUniqueUrl(url, targets);\n      });\n      return global$2.map(uniqueHistory, function (url) {\n        return {\n          title: url,\n          value: {\n            title: url,\n            url: url,\n            attach: noop\n          }\n        };\n      });\n    };\n    var fromMenuItems = function (type) {\n      var filteredTargets = filter(targets, function (target) {\n        return target.type === type;\n      });\n      return toMenuItems(filteredTargets);\n    };\n    var anchorMenuItems = function () {\n      var anchorMenuItems = fromMenuItems('anchor');\n      var topAnchor = getSetting(editorSettings, 'anchor_top', '#top');\n      var bottomAchor = getSetting(editorSettings, 'anchor_bottom', '#bottom');\n      if (topAnchor !== null) {\n        anchorMenuItems.unshift(staticMenuItem('<top>', topAnchor));\n      }\n      if (bottomAchor !== null) {\n        anchorMenuItems.push(staticMenuItem('<bottom>', bottomAchor));\n      }\n      return anchorMenuItems;\n    };\n    var join = function (items) {\n      return foldl(items, function (a, b) {\n        var bothEmpty = a.length === 0 || b.length === 0;\n        return bothEmpty ? a.concat(b) : a.concat(separator, b);\n      }, []);\n    };\n    if (editorSettings.typeahead_urls === false) {\n      return [];\n    }\n    return fileType === 'file' ? join([\n      filterByQuery(term, fromHistoryMenuItems(history)),\n      filterByQuery(term, fromMenuItems('header')),\n      filterByQuery(term, anchorMenuItems())\n    ]) : filterByQuery(term, fromHistoryMenuItems(history));\n  };\n  var addToHistory = function (url, fileType) {\n    var items = history[fileType];\n    if (!/^https?/.test(url)) {\n      return;\n    }\n    if (items) {\n      if (indexOf(items, url).isNone()) {\n        history[fileType] = items.slice(0, HISTORY_LENGTH).concat(url);\n      }\n    } else {\n      history[fileType] = [url];\n    }\n  };\n  var filterByQuery = function (term, menuItems) {\n    var lowerCaseTerm = term.toLowerCase();\n    var result = global$2.grep(menuItems, function (item) {\n      return item.title.toLowerCase().indexOf(lowerCaseTerm) !== -1;\n    });\n    return result.length === 1 && result[0].title === term ? [] : result;\n  };\n  var getTitle = function (linkDetails) {\n    var title = linkDetails.title;\n    return title.raw ? title.raw : title;\n  };\n  var setupAutoCompleteHandler = function (ctrl, editorSettings, bodyElm, fileType) {\n    var autocomplete = function (term) {\n      var linkTargets = $_73vvu4vzjnlpb5fn.find(bodyElm);\n      var menuItems = createMenuItems(term, linkTargets, fileType, editorSettings);\n      ctrl.showAutoComplete(menuItems, term);\n    };\n    ctrl.on('autocomplete', function () {\n      autocomplete(ctrl.value());\n    });\n    ctrl.on('selectitem', function (e) {\n      var linkDetails = e.value;\n      ctrl.value(linkDetails.url);\n      var title = getTitle(linkDetails);\n      if (fileType === 'image') {\n        ctrl.fire('change', {\n          meta: {\n            alt: title,\n            attach: linkDetails.attach\n          }\n        });\n      } else {\n        ctrl.fire('change', {\n          meta: {\n            text: title,\n            attach: linkDetails.attach\n          }\n        });\n      }\n      ctrl.focus();\n    });\n    ctrl.on('click', function (e) {\n      if (ctrl.value().length === 0 && e.target.nodeName === 'INPUT') {\n        autocomplete('');\n      }\n    });\n    ctrl.on('PostRender', function () {\n      ctrl.getRoot().on('submit', function (e) {\n        if (!e.isDefaultPrevented()) {\n          addToHistory(ctrl.value(), fileType);\n        }\n      });\n    });\n  };\n  var statusToUiState = function (result) {\n    var status = result.status, message = result.message;\n    if (status === 'valid') {\n      return {\n        status: 'ok',\n        message: message\n      };\n    } else if (status === 'unknown') {\n      return {\n        status: 'warn',\n        message: message\n      };\n    } else if (status === 'invalid') {\n      return {\n        status: 'warn',\n        message: message\n      };\n    } else {\n      return {\n        status: 'none',\n        message: ''\n      };\n    }\n  };\n  var setupLinkValidatorHandler = function (ctrl, editorSettings, fileType) {\n    var validatorHandler = editorSettings.filepicker_validator_handler;\n    if (validatorHandler) {\n      var validateUrl_1 = function (url) {\n        if (url.length === 0) {\n          ctrl.statusLevel('none');\n          return;\n        }\n        validatorHandler({\n          url: url,\n          type: fileType\n        }, function (result) {\n          var uiState = statusToUiState(result);\n          ctrl.statusMessage(uiState.message);\n          ctrl.statusLevel(uiState.status);\n        });\n      };\n      ctrl.state.on('change:value', function (e) {\n        validateUrl_1(e.value);\n      });\n    }\n  };\n  var FilePicker = ComboBox.extend({\n    Statics: { clearHistory: clearHistory },\n    init: function (settings) {\n      var self = this, editor = getActiveEditor(), editorSettings = editor.settings;\n      var actionCallback, fileBrowserCallback, fileBrowserCallbackTypes;\n      var fileType = settings.filetype;\n      settings.spellcheck = false;\n      fileBrowserCallbackTypes = editorSettings.file_picker_types || editorSettings.file_browser_callback_types;\n      if (fileBrowserCallbackTypes) {\n        fileBrowserCallbackTypes = global$2.makeMap(fileBrowserCallbackTypes, /[, ]/);\n      }\n      if (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType]) {\n        fileBrowserCallback = editorSettings.file_picker_callback;\n        if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\n          actionCallback = function () {\n            var meta = self.fire('beforecall').meta;\n            meta = global$2.extend({ filetype: fileType }, meta);\n            fileBrowserCallback.call(editor, function (value, meta) {\n              self.value(value).fire('change', { meta: meta });\n            }, self.value(), meta);\n          };\n        } else {\n          fileBrowserCallback = editorSettings.file_browser_callback;\n          if (fileBrowserCallback && (!fileBrowserCallbackTypes || fileBrowserCallbackTypes[fileType])) {\n            actionCallback = function () {\n              fileBrowserCallback(self.getEl('inp').id, self.value(), fileType, window);\n            };\n          }\n        }\n      }\n      if (actionCallback) {\n        settings.icon = 'browse';\n        settings.onaction = actionCallback;\n      }\n      self._super(settings);\n      self.classes.add('filepicker');\n      setupAutoCompleteHandler(self, editorSettings, editor.getBody(), fileType);\n      setupLinkValidatorHandler(self, editorSettings, fileType);\n    }\n  });\n\n  var FitLayout = AbsoluteLayout.extend({\n    recalc: function (container) {\n      var contLayoutRect = container.layoutRect(), paddingBox = container.paddingBox;\n      container.items().filter(':visible').each(function (ctrl) {\n        ctrl.layoutRect({\n          x: paddingBox.left,\n          y: paddingBox.top,\n          w: contLayoutRect.innerW - paddingBox.right - paddingBox.left,\n          h: contLayoutRect.innerH - paddingBox.top - paddingBox.bottom\n        });\n        if (ctrl.recalc) {\n          ctrl.recalc();\n        }\n      });\n    }\n  });\n\n  var FlexLayout = AbsoluteLayout.extend({\n    recalc: function (container) {\n      var i, l, items, contLayoutRect, contPaddingBox, contSettings, align, pack, spacing, totalFlex, availableSpace, direction;\n      var ctrl, ctrlLayoutRect, ctrlSettings, flex;\n      var maxSizeItems = [];\n      var size, maxSize, ratio, rect, pos, maxAlignEndPos;\n      var sizeName, minSizeName, posName, maxSizeName, beforeName, innerSizeName, deltaSizeName, contentSizeName;\n      var alignAxisName, alignInnerSizeName, alignSizeName, alignMinSizeName, alignBeforeName, alignAfterName;\n      var alignDeltaSizeName, alignContentSizeName;\n      var max = Math.max, min = Math.min;\n      items = container.items().filter(':visible');\n      contLayoutRect = container.layoutRect();\n      contPaddingBox = container.paddingBox;\n      contSettings = container.settings;\n      direction = container.isRtl() ? contSettings.direction || 'row-reversed' : contSettings.direction;\n      align = contSettings.align;\n      pack = container.isRtl() ? contSettings.pack || 'end' : contSettings.pack;\n      spacing = contSettings.spacing || 0;\n      if (direction === 'row-reversed' || direction === 'column-reverse') {\n        items = items.set(items.toArray().reverse());\n        direction = direction.split('-')[0];\n      }\n      if (direction === 'column') {\n        posName = 'y';\n        sizeName = 'h';\n        minSizeName = 'minH';\n        maxSizeName = 'maxH';\n        innerSizeName = 'innerH';\n        beforeName = 'top';\n        deltaSizeName = 'deltaH';\n        contentSizeName = 'contentH';\n        alignBeforeName = 'left';\n        alignSizeName = 'w';\n        alignAxisName = 'x';\n        alignInnerSizeName = 'innerW';\n        alignMinSizeName = 'minW';\n        alignAfterName = 'right';\n        alignDeltaSizeName = 'deltaW';\n        alignContentSizeName = 'contentW';\n      } else {\n        posName = 'x';\n        sizeName = 'w';\n        minSizeName = 'minW';\n        maxSizeName = 'maxW';\n        innerSizeName = 'innerW';\n        beforeName = 'left';\n        deltaSizeName = 'deltaW';\n        contentSizeName = 'contentW';\n        alignBeforeName = 'top';\n        alignSizeName = 'h';\n        alignAxisName = 'y';\n        alignInnerSizeName = 'innerH';\n        alignMinSizeName = 'minH';\n        alignAfterName = 'bottom';\n        alignDeltaSizeName = 'deltaH';\n        alignContentSizeName = 'contentH';\n      }\n      availableSpace = contLayoutRect[innerSizeName] - contPaddingBox[beforeName] - contPaddingBox[beforeName];\n      maxAlignEndPos = totalFlex = 0;\n      for (i = 0, l = items.length; i < l; i++) {\n        ctrl = items[i];\n        ctrlLayoutRect = ctrl.layoutRect();\n        ctrlSettings = ctrl.settings;\n        flex = ctrlSettings.flex;\n        availableSpace -= i < l - 1 ? spacing : 0;\n        if (flex > 0) {\n          totalFlex += flex;\n          if (ctrlLayoutRect[maxSizeName]) {\n            maxSizeItems.push(ctrl);\n          }\n          ctrlLayoutRect.flex = flex;\n        }\n        availableSpace -= ctrlLayoutRect[minSizeName];\n        size = contPaddingBox[alignBeforeName] + ctrlLayoutRect[alignMinSizeName] + contPaddingBox[alignAfterName];\n        if (size > maxAlignEndPos) {\n          maxAlignEndPos = size;\n        }\n      }\n      rect = {};\n      if (availableSpace < 0) {\n        rect[minSizeName] = contLayoutRect[minSizeName] - availableSpace + contLayoutRect[deltaSizeName];\n      } else {\n        rect[minSizeName] = contLayoutRect[innerSizeName] - availableSpace + contLayoutRect[deltaSizeName];\n      }\n      rect[alignMinSizeName] = maxAlignEndPos + contLayoutRect[alignDeltaSizeName];\n      rect[contentSizeName] = contLayoutRect[innerSizeName] - availableSpace;\n      rect[alignContentSizeName] = maxAlignEndPos;\n      rect.minW = min(rect.minW, contLayoutRect.maxW);\n      rect.minH = min(rect.minH, contLayoutRect.maxH);\n      rect.minW = max(rect.minW, contLayoutRect.startMinWidth);\n      rect.minH = max(rect.minH, contLayoutRect.startMinHeight);\n      if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\n        rect.w = rect.minW;\n        rect.h = rect.minH;\n        container.layoutRect(rect);\n        this.recalc(container);\n        if (container._lastRect === null) {\n          var parentCtrl = container.parent();\n          if (parentCtrl) {\n            parentCtrl._lastRect = null;\n            parentCtrl.recalc();\n          }\n        }\n        return;\n      }\n      ratio = availableSpace / totalFlex;\n      for (i = 0, l = maxSizeItems.length; i < l; i++) {\n        ctrl = maxSizeItems[i];\n        ctrlLayoutRect = ctrl.layoutRect();\n        maxSize = ctrlLayoutRect[maxSizeName];\n        size = ctrlLayoutRect[minSizeName] + ctrlLayoutRect.flex * ratio;\n        if (size > maxSize) {\n          availableSpace -= ctrlLayoutRect[maxSizeName] - ctrlLayoutRect[minSizeName];\n          totalFlex -= ctrlLayoutRect.flex;\n          ctrlLayoutRect.flex = 0;\n          ctrlLayoutRect.maxFlexSize = maxSize;\n        } else {\n          ctrlLayoutRect.maxFlexSize = 0;\n        }\n      }\n      ratio = availableSpace / totalFlex;\n      pos = contPaddingBox[beforeName];\n      rect = {};\n      if (totalFlex === 0) {\n        if (pack === 'end') {\n          pos = availableSpace + contPaddingBox[beforeName];\n        } else if (pack === 'center') {\n          pos = Math.round(contLayoutRect[innerSizeName] / 2 - (contLayoutRect[innerSizeName] - availableSpace) / 2) + contPaddingBox[beforeName];\n          if (pos < 0) {\n            pos = contPaddingBox[beforeName];\n          }\n        } else if (pack === 'justify') {\n          pos = contPaddingBox[beforeName];\n          spacing = Math.floor(availableSpace / (items.length - 1));\n        }\n      }\n      rect[alignAxisName] = contPaddingBox[alignBeforeName];\n      for (i = 0, l = items.length; i < l; i++) {\n        ctrl = items[i];\n        ctrlLayoutRect = ctrl.layoutRect();\n        size = ctrlLayoutRect.maxFlexSize || ctrlLayoutRect[minSizeName];\n        if (align === 'center') {\n          rect[alignAxisName] = Math.round(contLayoutRect[alignInnerSizeName] / 2 - ctrlLayoutRect[alignSizeName] / 2);\n        } else if (align === 'stretch') {\n          rect[alignSizeName] = max(ctrlLayoutRect[alignMinSizeName] || 0, contLayoutRect[alignInnerSizeName] - contPaddingBox[alignBeforeName] - contPaddingBox[alignAfterName]);\n          rect[alignAxisName] = contPaddingBox[alignBeforeName];\n        } else if (align === 'end') {\n          rect[alignAxisName] = contLayoutRect[alignInnerSizeName] - ctrlLayoutRect[alignSizeName] - contPaddingBox.top;\n        }\n        if (ctrlLayoutRect.flex > 0) {\n          size += ctrlLayoutRect.flex * ratio;\n        }\n        rect[sizeName] = size;\n        rect[posName] = pos;\n        ctrl.layoutRect(rect);\n        if (ctrl.recalc) {\n          ctrl.recalc();\n        }\n        pos += size + spacing;\n      }\n    }\n  });\n\n  var FlowLayout = Layout.extend({\n    Defaults: {\n      containerClass: 'flow-layout',\n      controlClass: 'flow-layout-item',\n      endClass: 'break'\n    },\n    recalc: function (container) {\n      container.items().filter(':visible').each(function (ctrl) {\n        if (ctrl.recalc) {\n          ctrl.recalc();\n        }\n      });\n    },\n    isNative: function () {\n      return true;\n    }\n  });\n\n  function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n    return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n  }\n\n  var first$1 = function (predicate) {\n    return descendant($_eyy768w4jnlpb5gd.body(), predicate);\n  };\n  var ancestor = function (scope, predicate, isRoot) {\n    var element = scope.dom();\n    var stop = isFunction(isRoot) ? isRoot : constant(false);\n    while (element.parentNode) {\n      element = element.parentNode;\n      var el = Element$$1.fromDom(element);\n      if (predicate(el))\n        return Option.some(el);\n      else if (stop(el))\n        break;\n    }\n    return Option.none();\n  };\n  var closest = function (scope, predicate, isRoot) {\n    var is = function (scope) {\n      return predicate(scope);\n    };\n    return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n  };\n  var sibling = function (scope, predicate) {\n    var element = scope.dom();\n    if (!element.parentNode)\n      return Option.none();\n    return child$1(Element$$1.fromDom(element.parentNode), function (x) {\n      return !$_dvypmswfjnlpb5h9.eq(scope, x) && predicate(x);\n    });\n  };\n  var child$1 = function (scope, predicate) {\n    var result = find(scope.dom().childNodes, compose(predicate, Element$$1.fromDom));\n    return result.map(Element$$1.fromDom);\n  };\n  var descendant = function (scope, predicate) {\n    var descend = function (node) {\n      for (var i = 0; i < node.childNodes.length; i++) {\n        if (predicate(Element$$1.fromDom(node.childNodes[i])))\n          return Option.some(Element$$1.fromDom(node.childNodes[i]));\n        var res = descend(node.childNodes[i]);\n        if (res.isSome())\n          return res;\n      }\n      return Option.none();\n    };\n    return descend(scope.dom());\n  };\n  var $_djyk0qx1jnlpb5jw = {\n    first: first$1,\n    ancestor: ancestor,\n    closest: closest,\n    sibling: sibling,\n    child: child$1,\n    descendant: descendant\n  };\n\n  var first$2 = function (selector) {\n    return $_7lblvdwvjnlpb5j4.one(selector);\n  };\n  var ancestor$1 = function (scope, selector, isRoot) {\n    return $_djyk0qx1jnlpb5jw.ancestor(scope, function (e) {\n      return $_7lblvdwvjnlpb5j4.is(e, selector);\n    }, isRoot);\n  };\n  var sibling$1 = function (scope, selector) {\n    return $_djyk0qx1jnlpb5jw.sibling(scope, function (e) {\n      return $_7lblvdwvjnlpb5j4.is(e, selector);\n    });\n  };\n  var child$2 = function (scope, selector) {\n    return $_djyk0qx1jnlpb5jw.child(scope, function (e) {\n      return $_7lblvdwvjnlpb5j4.is(e, selector);\n    });\n  };\n  var descendant$1 = function (scope, selector) {\n    return $_7lblvdwvjnlpb5j4.one(selector, scope);\n  };\n  var closest$1 = function (scope, selector, isRoot) {\n    return ClosestOrAncestor($_7lblvdwvjnlpb5j4.is, ancestor$1, scope, selector, isRoot);\n  };\n  var $_gafa38x0jnlpb5jo = {\n    first: first$2,\n    ancestor: ancestor$1,\n    sibling: sibling$1,\n    child: child$2,\n    descendant: descendant$1,\n    closest: closest$1\n  };\n\n  var toggleFormat = function (editor, fmt) {\n    return function () {\n      editor.execCommand('mceToggleFormat', false, fmt);\n    };\n  };\n  var addFormatChangedListener = function (editor, name, changed) {\n    var handler = function (state) {\n      changed(state, name);\n    };\n    if (editor.formatter) {\n      editor.formatter.formatChanged(name, handler);\n    } else {\n      editor.on('init', function () {\n        editor.formatter.formatChanged(name, handler);\n      });\n    }\n  };\n  var postRenderFormatToggle = function (editor, name) {\n    return function (e) {\n      addFormatChangedListener(editor, name, function (state) {\n        e.control.active(state);\n      });\n    };\n  };\n\n  var register = function (editor) {\n    var alignFormats = [\n      'alignleft',\n      'aligncenter',\n      'alignright',\n      'alignjustify'\n    ];\n    var defaultAlign = 'alignleft';\n    var alignMenuItems = [\n      {\n        text: 'Left',\n        icon: 'alignleft',\n        onclick: toggleFormat(editor, 'alignleft')\n      },\n      {\n        text: 'Center',\n        icon: 'aligncenter',\n        onclick: toggleFormat(editor, 'aligncenter')\n      },\n      {\n        text: 'Right',\n        icon: 'alignright',\n        onclick: toggleFormat(editor, 'alignright')\n      },\n      {\n        text: 'Justify',\n        icon: 'alignjustify',\n        onclick: toggleFormat(editor, 'alignjustify')\n      }\n    ];\n    editor.addMenuItem('align', {\n      text: 'Align',\n      menu: alignMenuItems\n    });\n    editor.addButton('align', {\n      type: 'menubutton',\n      icon: defaultAlign,\n      menu: alignMenuItems,\n      onShowMenu: function (e) {\n        var menu = e.control.menu;\n        global$2.each(alignFormats, function (formatName, idx) {\n          menu.items().eq(idx).each(function (item) {\n            return item.active(editor.formatter.match(formatName));\n          });\n        });\n      },\n      onPostRender: function (e) {\n        var ctrl = e.control;\n        global$2.each(alignFormats, function (formatName, idx) {\n          addFormatChangedListener(editor, formatName, function (state) {\n            ctrl.icon(defaultAlign);\n            if (state) {\n              ctrl.icon(formatName);\n            }\n          });\n        });\n      }\n    });\n    global$2.each({\n      alignleft: [\n        'Align left',\n        'JustifyLeft'\n      ],\n      aligncenter: [\n        'Align center',\n        'JustifyCenter'\n      ],\n      alignright: [\n        'Align right',\n        'JustifyRight'\n      ],\n      alignjustify: [\n        'Justify',\n        'JustifyFull'\n      ],\n      alignnone: [\n        'No alignment',\n        'JustifyNone'\n      ]\n    }, function (item, name) {\n      editor.addButton(name, {\n        active: false,\n        tooltip: item[0],\n        cmd: item[1],\n        onPostRender: postRenderFormatToggle(editor, name)\n      });\n    });\n  };\n  var $_38gylwx3jnlpb5kc = { register: register };\n\n  var getFirstFont = function (fontFamily) {\n    return fontFamily ? fontFamily.split(',')[0] : '';\n  };\n  var findMatchingValue = function (items, fontFamily) {\n    var font = fontFamily ? fontFamily.toLowerCase() : '';\n    var value;\n    global$2.each(items, function (item) {\n      if (item.value.toLowerCase() === font) {\n        value = item.value;\n      }\n    });\n    global$2.each(items, function (item) {\n      if (!value && getFirstFont(item.value).toLowerCase() === getFirstFont(font).toLowerCase()) {\n        value = item.value;\n      }\n    });\n    return value;\n  };\n  var createFontNameListBoxChangeHandler = function (editor, items) {\n    return function () {\n      var self = this;\n      self.state.set('value', null);\n      editor.on('init nodeChange', function (e) {\n        var fontFamily = editor.queryCommandValue('FontName');\n        var match = findMatchingValue(items, fontFamily);\n        self.value(match ? match : null);\n        if (!match && fontFamily) {\n          self.text(getFirstFont(fontFamily));\n        }\n      });\n    };\n  };\n  var createFormats = function (formats) {\n    formats = formats.replace(/;$/, '').split(';');\n    var i = formats.length;\n    while (i--) {\n      formats[i] = formats[i].split('=');\n    }\n    return formats;\n  };\n  var getFontItems = function (editor) {\n    var defaultFontsFormats = 'Andale Mono=andale mono,monospace;' + 'Arial=arial,helvetica,sans-serif;' + 'Arial Black=arial black,sans-serif;' + 'Book Antiqua=book antiqua,palatino,serif;' + 'Comic Sans MS=comic sans ms,sans-serif;' + 'Courier New=courier new,courier,monospace;' + 'Georgia=georgia,palatino,serif;' + 'Helvetica=helvetica,arial,sans-serif;' + 'Impact=impact,sans-serif;' + 'Symbol=symbol;' + 'Tahoma=tahoma,arial,helvetica,sans-serif;' + 'Terminal=terminal,monaco,monospace;' + 'Times New Roman=times new roman,times,serif;' + 'Trebuchet MS=trebuchet ms,geneva,sans-serif;' + 'Verdana=verdana,geneva,sans-serif;' + 'Webdings=webdings;' + 'Wingdings=wingdings,zapf dingbats';\n    var fonts = createFormats(editor.settings.font_formats || defaultFontsFormats);\n    return global$2.map(fonts, function (font) {\n      return {\n        text: { raw: font[0] },\n        value: font[1],\n        textStyle: font[1].indexOf('dings') === -1 ? 'font-family:' + font[1] : ''\n      };\n    });\n  };\n  var registerButtons = function (editor) {\n    editor.addButton('fontselect', function () {\n      var items = getFontItems(editor);\n      return {\n        type: 'listbox',\n        text: 'Font Family',\n        tooltip: 'Font Family',\n        values: items,\n        fixedWidth: true,\n        onPostRender: createFontNameListBoxChangeHandler(editor, items),\n        onselect: function (e) {\n          if (e.control.settings.value) {\n            editor.execCommand('FontName', false, e.control.settings.value);\n          }\n        }\n      };\n    });\n  };\n  var register$1 = function (editor) {\n    registerButtons(editor);\n  };\n  var $_d4vvsqx5jnlpb5kf = { register: register$1 };\n\n  var round = function (number, precision) {\n    var factor = Math.pow(10, precision);\n    return Math.round(number * factor) / factor;\n  };\n  var toPt = function (fontSize, precision) {\n    if (/[0-9.]+px$/.test(fontSize)) {\n      return round(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n    }\n    return fontSize;\n  };\n  var findMatchingValue$1 = function (items, pt, px) {\n    var value;\n    global$2.each(items, function (item) {\n      if (item.value === px) {\n        value = px;\n      } else if (item.value === pt) {\n        value = pt;\n      }\n    });\n    return value;\n  };\n  var createFontSizeListBoxChangeHandler = function (editor, items) {\n    return function () {\n      var self = this;\n      editor.on('init nodeChange', function (e) {\n        var px, pt, precision, match;\n        px = editor.queryCommandValue('FontSize');\n        if (px) {\n          for (precision = 3; !match && precision >= 0; precision--) {\n            pt = toPt(px, precision);\n            match = findMatchingValue$1(items, pt, px);\n          }\n        }\n        self.value(match ? match : null);\n        if (!match) {\n          self.text(pt);\n        }\n      });\n    };\n  };\n  var getFontSizeItems = function (editor) {\n    var defaultFontsizeFormats = '8pt 10pt 12pt 14pt 18pt 24pt 36pt';\n    var fontsizeFormats = editor.settings.fontsize_formats || defaultFontsizeFormats;\n    return global$2.map(fontsizeFormats.split(' '), function (item) {\n      var text = item, value = item;\n      var values = item.split('=');\n      if (values.length > 1) {\n        text = values[0];\n        value = values[1];\n      }\n      return {\n        text: text,\n        value: value\n      };\n    });\n  };\n  var registerButtons$1 = function (editor) {\n    editor.addButton('fontsizeselect', function () {\n      var items = getFontSizeItems(editor);\n      return {\n        type: 'listbox',\n        text: 'Font Sizes',\n        tooltip: 'Font Sizes',\n        values: items,\n        fixedWidth: true,\n        onPostRender: createFontSizeListBoxChangeHandler(editor, items),\n        onclick: function (e) {\n          if (e.control.settings.value) {\n            editor.execCommand('FontSize', false, e.control.settings.value);\n          }\n        }\n      };\n    });\n  };\n  var register$2 = function (editor) {\n    registerButtons$1(editor);\n  };\n  var $_2ch5e1x6jnlpb5ki = { register: register$2 };\n\n  var hideMenuObjects = function (editor, menu) {\n    var count = menu.length;\n    global$2.each(menu, function (item) {\n      if (item.menu) {\n        item.hidden = hideMenuObjects(editor, item.menu) === 0;\n      }\n      var formatName = item.format;\n      if (formatName) {\n        item.hidden = !editor.formatter.canApply(formatName);\n      }\n      if (item.hidden) {\n        count--;\n      }\n    });\n    return count;\n  };\n  var hideFormatMenuItems = function (editor, menu) {\n    var count = menu.items().length;\n    menu.items().each(function (item) {\n      if (item.menu) {\n        item.visible(hideFormatMenuItems(editor, item.menu) > 0);\n      }\n      if (!item.menu && item.settings.menu) {\n        item.visible(hideMenuObjects(editor, item.settings.menu) > 0);\n      }\n      var formatName = item.settings.format;\n      if (formatName) {\n        item.visible(editor.formatter.canApply(formatName));\n      }\n      if (!item.visible()) {\n        count--;\n      }\n    });\n    return count;\n  };\n  var createFormatMenu = function (editor) {\n    var count = 0;\n    var newFormats = [];\n    var defaultStyleFormats = [\n      {\n        title: 'Headings',\n        items: [\n          {\n            title: 'Heading 1',\n            format: 'h1'\n          },\n          {\n            title: 'Heading 2',\n            format: 'h2'\n          },\n          {\n            title: 'Heading 3',\n            format: 'h3'\n          },\n          {\n            title: 'Heading 4',\n            format: 'h4'\n          },\n          {\n            title: 'Heading 5',\n            format: 'h5'\n          },\n          {\n            title: 'Heading 6',\n            format: 'h6'\n          }\n        ]\n      },\n      {\n        title: 'Inline',\n        items: [\n          {\n            title: 'Bold',\n            icon: 'bold',\n            format: 'bold'\n          },\n          {\n            title: 'Italic',\n            icon: 'italic',\n            format: 'italic'\n          },\n          {\n            title: 'Underline',\n            icon: 'underline',\n            format: 'underline'\n          },\n          {\n            title: 'Strikethrough',\n            icon: 'strikethrough',\n            format: 'strikethrough'\n          },\n          {\n            title: 'Superscript',\n            icon: 'superscript',\n            format: 'superscript'\n          },\n          {\n            title: 'Subscript',\n            icon: 'subscript',\n            format: 'subscript'\n          },\n          {\n            title: 'Code',\n            icon: 'code',\n            format: 'code'\n          }\n        ]\n      },\n      {\n        title: 'Blocks',\n        items: [\n          {\n            title: 'Paragraph',\n            format: 'p'\n          },\n          {\n            title: 'Blockquote',\n            format: 'blockquote'\n          },\n          {\n            title: 'Div',\n            format: 'div'\n          },\n          {\n            title: 'Pre',\n            format: 'pre'\n          }\n        ]\n      },\n      {\n        title: 'Alignment',\n        items: [\n          {\n            title: 'Left',\n            icon: 'alignleft',\n            format: 'alignleft'\n          },\n          {\n            title: 'Center',\n            icon: 'aligncenter',\n            format: 'aligncenter'\n          },\n          {\n            title: 'Right',\n            icon: 'alignright',\n            format: 'alignright'\n          },\n          {\n            title: 'Justify',\n            icon: 'alignjustify',\n            format: 'alignjustify'\n          }\n        ]\n      }\n    ];\n    var createMenu = function (formats) {\n      var menu = [];\n      if (!formats) {\n        return;\n      }\n      global$2.each(formats, function (format) {\n        var menuItem = {\n          text: format.title,\n          icon: format.icon\n        };\n        if (format.items) {\n          menuItem.menu = createMenu(format.items);\n        } else {\n          var formatName = format.format || 'custom' + count++;\n          if (!format.format) {\n            format.name = formatName;\n            newFormats.push(format);\n          }\n          menuItem.format = formatName;\n          menuItem.cmd = format.cmd;\n        }\n        menu.push(menuItem);\n      });\n      return menu;\n    };\n    var createStylesMenu = function () {\n      var menu;\n      if (editor.settings.style_formats_merge) {\n        if (editor.settings.style_formats) {\n          menu = createMenu(defaultStyleFormats.concat(editor.settings.style_formats));\n        } else {\n          menu = createMenu(defaultStyleFormats);\n        }\n      } else {\n        menu = createMenu(editor.settings.style_formats || defaultStyleFormats);\n      }\n      return menu;\n    };\n    editor.on('init', function () {\n      global$2.each(newFormats, function (format) {\n        editor.formatter.register(format.name, format);\n      });\n    });\n    return {\n      type: 'menu',\n      items: createStylesMenu(),\n      onPostRender: function (e) {\n        editor.fire('renderFormatsMenu', { control: e.control });\n      },\n      itemDefaults: {\n        preview: true,\n        textStyle: function () {\n          if (this.settings.format) {\n            return editor.formatter.getCssText(this.settings.format);\n          }\n        },\n        onPostRender: function () {\n          var self = this;\n          self.parent().on('show', function () {\n            var formatName, command;\n            formatName = self.settings.format;\n            if (formatName) {\n              self.disabled(!editor.formatter.canApply(formatName));\n              self.active(editor.formatter.match(formatName));\n            }\n            command = self.settings.cmd;\n            if (command) {\n              self.active(editor.queryCommandState(command));\n            }\n          });\n        },\n        onclick: function () {\n          if (this.settings.format) {\n            toggleFormat(editor, this.settings.format)();\n          }\n          if (this.settings.cmd) {\n            editor.execCommand(this.settings.cmd);\n          }\n        }\n      }\n    };\n  };\n  var registerMenuItems = function (editor, formatMenu) {\n    editor.addMenuItem('formats', {\n      text: 'Formats',\n      menu: formatMenu\n    });\n  };\n  var registerButtons$2 = function (editor, formatMenu) {\n    editor.addButton('styleselect', {\n      type: 'menubutton',\n      text: 'Formats',\n      menu: formatMenu,\n      onShowMenu: function () {\n        if (editor.settings.style_formats_autohide) {\n          hideFormatMenuItems(editor, this.menu);\n        }\n      }\n    });\n  };\n  var register$3 = function (editor) {\n    var formatMenu = createFormatMenu(editor);\n    registerMenuItems(editor, formatMenu);\n    registerButtons$2(editor, formatMenu);\n  };\n  var $_ccldm5x7jnlpb5kl = { register: register$3 };\n\n  var defaultBlocks = 'Paragraph=p;' + 'Heading 1=h1;' + 'Heading 2=h2;' + 'Heading 3=h3;' + 'Heading 4=h4;' + 'Heading 5=h5;' + 'Heading 6=h6;' + 'Preformatted=pre';\n  var createFormats$1 = function (formats) {\n    formats = formats.replace(/;$/, '').split(';');\n    var i = formats.length;\n    while (i--) {\n      formats[i] = formats[i].split('=');\n    }\n    return formats;\n  };\n  var createListBoxChangeHandler = function (editor, items, formatName) {\n    return function () {\n      var self = this;\n      editor.on('nodeChange', function (e) {\n        var formatter = editor.formatter;\n        var value = null;\n        global$2.each(e.parents, function (node) {\n          global$2.each(items, function (item) {\n            if (formatName) {\n              if (formatter.matchNode(node, formatName, { value: item.value })) {\n                value = item.value;\n              }\n            } else {\n              if (formatter.matchNode(node, item.value)) {\n                value = item.value;\n              }\n            }\n            if (value) {\n              return false;\n            }\n          });\n          if (value) {\n            return false;\n          }\n        });\n        self.value(value);\n      });\n    };\n  };\n  var lazyFormatSelectBoxItems = function (editor, blocks) {\n    return function () {\n      var items = [];\n      global$2.each(blocks, function (block) {\n        items.push({\n          text: block[0],\n          value: block[1],\n          textStyle: function () {\n            return editor.formatter.getCssText(block[1]);\n          }\n        });\n      });\n      return {\n        type: 'listbox',\n        text: blocks[0][0],\n        values: items,\n        fixedWidth: true,\n        onselect: function (e) {\n          if (e.control) {\n            var fmt = e.control.value();\n            toggleFormat(editor, fmt)();\n          }\n        },\n        onPostRender: createListBoxChangeHandler(editor, items)\n      };\n    };\n  };\n  var buildMenuItems = function (editor, blocks) {\n    return global$2.map(blocks, function (block) {\n      return {\n        text: block[0],\n        onclick: toggleFormat(editor, block[1]),\n        textStyle: function () {\n          return editor.formatter.getCssText(block[1]);\n        }\n      };\n    });\n  };\n  var register$4 = function (editor) {\n    var blocks = createFormats$1(editor.settings.block_formats || defaultBlocks);\n    editor.addMenuItem('blockformats', {\n      text: 'Blocks',\n      menu: buildMenuItems(editor, blocks)\n    });\n    editor.addButton('formatselect', lazyFormatSelectBoxItems(editor, blocks));\n  };\n  var $_dsifr2x8jnlpb5kq = { register: register$4 };\n\n  var createCustomMenuItems = function (editor, names) {\n    var items, nameList;\n    if (typeof names === 'string') {\n      nameList = names.split(' ');\n    } else if (global$2.isArray(names)) {\n      return flatten(global$2.map(names, function (names) {\n        return createCustomMenuItems(editor, names);\n      }));\n    }\n    items = global$2.grep(nameList, function (name) {\n      return name === '|' || name in editor.menuItems;\n    });\n    return global$2.map(items, function (name) {\n      return name === '|' ? { text: '-' } : editor.menuItems[name];\n    });\n  };\n  var isSeparator$1 = function (menuItem) {\n    return menuItem && menuItem.text === '-';\n  };\n  var trimMenuItems = function (menuItems) {\n    var menuItems2 = filter(menuItems, function (menuItem, i, menuItems) {\n      return !isSeparator$1(menuItem) || !isSeparator$1(menuItems[i - 1]);\n    });\n    return filter(menuItems2, function (menuItem, i, menuItems) {\n      return !isSeparator$1(menuItem) || i > 0 && i < menuItems.length - 1;\n    });\n  };\n  var createContextMenuItems = function (editor, context) {\n    var outputMenuItems = [{ text: '-' }];\n    var menuItems = global$2.grep(editor.menuItems, function (menuItem) {\n      return menuItem.context === context;\n    });\n    global$2.each(menuItems, function (menuItem) {\n      if (menuItem.separator === 'before') {\n        outputMenuItems.push({ text: '|' });\n      }\n      if (menuItem.prependToContext) {\n        outputMenuItems.unshift(menuItem);\n      } else {\n        outputMenuItems.push(menuItem);\n      }\n      if (menuItem.separator === 'after') {\n        outputMenuItems.push({ text: '|' });\n      }\n    });\n    return outputMenuItems;\n  };\n  var createInsertMenu = function (editor) {\n    var insertButtonItems = editor.settings.insert_button_items;\n    if (insertButtonItems) {\n      return trimMenuItems(createCustomMenuItems(editor, insertButtonItems));\n    } else {\n      return trimMenuItems(createContextMenuItems(editor, 'insert'));\n    }\n  };\n  var registerButtons$3 = function (editor) {\n    editor.addButton('insert', {\n      type: 'menubutton',\n      icon: 'insert',\n      menu: [],\n      oncreatemenu: function () {\n        this.menu.add(createInsertMenu(editor));\n        this.menu.renderNew();\n      }\n    });\n  };\n  var register$5 = function (editor) {\n    registerButtons$3(editor);\n  };\n  var $_c26esyx9jnlpb5kt = { register: register$5 };\n\n  var registerFormatButtons = function (editor) {\n    global$2.each({\n      bold: 'Bold',\n      italic: 'Italic',\n      underline: 'Underline',\n      strikethrough: 'Strikethrough',\n      subscript: 'Subscript',\n      superscript: 'Superscript'\n    }, function (text, name) {\n      editor.addButton(name, {\n        active: false,\n        tooltip: text,\n        onPostRender: postRenderFormatToggle(editor, name),\n        onclick: toggleFormat(editor, name)\n      });\n    });\n  };\n  var registerCommandButtons = function (editor) {\n    global$2.each({\n      outdent: [\n        'Decrease indent',\n        'Outdent'\n      ],\n      indent: [\n        'Increase indent',\n        'Indent'\n      ],\n      cut: [\n        'Cut',\n        'Cut'\n      ],\n      copy: [\n        'Copy',\n        'Copy'\n      ],\n      paste: [\n        'Paste',\n        'Paste'\n      ],\n      help: [\n        'Help',\n        'mceHelp'\n      ],\n      selectall: [\n        'Select all',\n        'SelectAll'\n      ],\n      visualaid: [\n        'Visual aids',\n        'mceToggleVisualAid'\n      ],\n      newdocument: [\n        'New document',\n        'mceNewDocument'\n      ],\n      removeformat: [\n        'Clear formatting',\n        'RemoveFormat'\n      ],\n      remove: [\n        'Remove',\n        'Delete'\n      ]\n    }, function (item, name) {\n      editor.addButton(name, {\n        tooltip: item[0],\n        cmd: item[1]\n      });\n    });\n  };\n  var registerCommandToggleButtons = function (editor) {\n    global$2.each({\n      blockquote: [\n        'Blockquote',\n        'mceBlockQuote'\n      ],\n      subscript: [\n        'Subscript',\n        'Subscript'\n      ],\n      superscript: [\n        'Superscript',\n        'Superscript'\n      ]\n    }, function (item, name) {\n      editor.addButton(name, {\n        active: false,\n        tooltip: item[0],\n        cmd: item[1],\n        onPostRender: postRenderFormatToggle(editor, name)\n      });\n    });\n  };\n  var registerButtons$4 = function (editor) {\n    registerFormatButtons(editor);\n    registerCommandButtons(editor);\n    registerCommandToggleButtons(editor);\n  };\n  var registerMenuItems$1 = function (editor) {\n    global$2.each({\n      bold: [\n        'Bold',\n        'Bold',\n        'Meta+B'\n      ],\n      italic: [\n        'Italic',\n        'Italic',\n        'Meta+I'\n      ],\n      underline: [\n        'Underline',\n        'Underline',\n        'Meta+U'\n      ],\n      strikethrough: [\n        'Strikethrough',\n        'Strikethrough'\n      ],\n      subscript: [\n        'Subscript',\n        'Subscript'\n      ],\n      superscript: [\n        'Superscript',\n        'Superscript'\n      ],\n      removeformat: [\n        'Clear formatting',\n        'RemoveFormat'\n      ],\n      newdocument: [\n        'New document',\n        'mceNewDocument'\n      ],\n      cut: [\n        'Cut',\n        'Cut',\n        'Meta+X'\n      ],\n      copy: [\n        'Copy',\n        'Copy',\n        'Meta+C'\n      ],\n      paste: [\n        'Paste',\n        'Paste',\n        'Meta+V'\n      ],\n      selectall: [\n        'Select all',\n        'SelectAll',\n        'Meta+A'\n      ]\n    }, function (item, name) {\n      editor.addMenuItem(name, {\n        text: item[0],\n        icon: name,\n        shortcut: item[2],\n        cmd: item[1]\n      });\n    });\n    editor.addMenuItem('codeformat', {\n      text: 'Code',\n      icon: 'code',\n      onclick: toggleFormat(editor, 'code')\n    });\n  };\n  var register$6 = function (editor) {\n    registerButtons$4(editor);\n    registerMenuItems$1(editor);\n  };\n  var $_57i6mkxajnlpb5kx = { register: register$6 };\n\n  var toggleUndoRedoState = function (editor, type) {\n    return function () {\n      var self = this;\n      var checkState = function () {\n        var typeFn = type === 'redo' ? 'hasRedo' : 'hasUndo';\n        return editor.undoManager ? editor.undoManager[typeFn]() : false;\n      };\n      self.disabled(!checkState());\n      editor.on('Undo Redo AddUndo TypingUndo ClearUndos SwitchMode', function () {\n        self.disabled(editor.readonly || !checkState());\n      });\n    };\n  };\n  var registerMenuItems$2 = function (editor) {\n    editor.addMenuItem('undo', {\n      text: 'Undo',\n      icon: 'undo',\n      shortcut: 'Meta+Z',\n      onPostRender: toggleUndoRedoState(editor, 'undo'),\n      cmd: 'undo'\n    });\n    editor.addMenuItem('redo', {\n      text: 'Redo',\n      icon: 'redo',\n      shortcut: 'Meta+Y',\n      onPostRender: toggleUndoRedoState(editor, 'redo'),\n      cmd: 'redo'\n    });\n  };\n  var registerButtons$5 = function (editor) {\n    editor.addButton('undo', {\n      tooltip: 'Undo',\n      onPostRender: toggleUndoRedoState(editor, 'undo'),\n      cmd: 'undo'\n    });\n    editor.addButton('redo', {\n      tooltip: 'Redo',\n      onPostRender: toggleUndoRedoState(editor, 'redo'),\n      cmd: 'redo'\n    });\n  };\n  var register$7 = function (editor) {\n    registerMenuItems$2(editor);\n    registerButtons$5(editor);\n  };\n  var $_8u3xlwxbjnlpb5kz = { register: register$7 };\n\n  var toggleVisualAidState = function (editor) {\n    return function () {\n      var self = this;\n      editor.on('VisualAid', function (e) {\n        self.active(e.hasVisual);\n      });\n      self.active(editor.hasVisual);\n    };\n  };\n  var registerMenuItems$3 = function (editor) {\n    editor.addMenuItem('visualaid', {\n      text: 'Visual aids',\n      selectable: true,\n      onPostRender: toggleVisualAidState(editor),\n      cmd: 'mceToggleVisualAid'\n    });\n  };\n  var register$8 = function (editor) {\n    registerMenuItems$3(editor);\n  };\n  var $_9hgsbdxcjnlpb5l1 = { register: register$8 };\n\n  var setupEnvironment = function () {\n    Widget.tooltips = !global$8.iOS;\n    Control$1.translate = function (text) {\n      return global$1.translate(text);\n    };\n  };\n  var setupUiContainer = function (editor) {\n    if (editor.settings.ui_container) {\n      global$8.container = $_gafa38x0jnlpb5jo.descendant(Element$$1.fromDom(document.body), editor.settings.ui_container).fold(constant(null), function (elm) {\n        return elm.dom();\n      });\n    }\n  };\n  var setupRtlMode = function (editor) {\n    if (editor.rtl) {\n      Control$1.rtl = true;\n    }\n  };\n  var setupHideFloatPanels = function (editor) {\n    editor.on('mousedown', function () {\n      FloatPanel.hideAll();\n    });\n  };\n  var setup$1 = function (editor) {\n    setupRtlMode(editor);\n    setupHideFloatPanels(editor);\n    setupUiContainer(editor);\n    setupEnvironment();\n    $_dsifr2x8jnlpb5kq.register(editor);\n    $_38gylwx3jnlpb5kc.register(editor);\n    $_57i6mkxajnlpb5kx.register(editor);\n    $_8u3xlwxbjnlpb5kz.register(editor);\n    $_2ch5e1x6jnlpb5ki.register(editor);\n    $_d4vvsqx5jnlpb5kf.register(editor);\n    $_ccldm5x7jnlpb5kl.register(editor);\n    $_9hgsbdxcjnlpb5l1.register(editor);\n    $_c26esyx9jnlpb5kt.register(editor);\n  };\n  var $_4hizytwzjnlpb5jj = { setup: setup$1 };\n\n  var GridLayout = AbsoluteLayout.extend({\n    recalc: function (container) {\n      var settings, rows, cols, items, contLayoutRect, width, height, rect, ctrlLayoutRect, ctrl, x, y, posX, posY, ctrlSettings, contPaddingBox, align, spacingH, spacingV, alignH, alignV, maxX, maxY;\n      var colWidths = [];\n      var rowHeights = [];\n      var ctrlMinWidth, ctrlMinHeight, availableWidth, availableHeight, reverseRows, idx;\n      settings = container.settings;\n      items = container.items().filter(':visible');\n      contLayoutRect = container.layoutRect();\n      cols = settings.columns || Math.ceil(Math.sqrt(items.length));\n      rows = Math.ceil(items.length / cols);\n      spacingH = settings.spacingH || settings.spacing || 0;\n      spacingV = settings.spacingV || settings.spacing || 0;\n      alignH = settings.alignH || settings.align;\n      alignV = settings.alignV || settings.align;\n      contPaddingBox = container.paddingBox;\n      reverseRows = 'reverseRows' in settings ? settings.reverseRows : container.isRtl();\n      if (alignH && typeof alignH === 'string') {\n        alignH = [alignH];\n      }\n      if (alignV && typeof alignV === 'string') {\n        alignV = [alignV];\n      }\n      for (x = 0; x < cols; x++) {\n        colWidths.push(0);\n      }\n      for (y = 0; y < rows; y++) {\n        rowHeights.push(0);\n      }\n      for (y = 0; y < rows; y++) {\n        for (x = 0; x < cols; x++) {\n          ctrl = items[y * cols + x];\n          if (!ctrl) {\n            break;\n          }\n          ctrlLayoutRect = ctrl.layoutRect();\n          ctrlMinWidth = ctrlLayoutRect.minW;\n          ctrlMinHeight = ctrlLayoutRect.minH;\n          colWidths[x] = ctrlMinWidth > colWidths[x] ? ctrlMinWidth : colWidths[x];\n          rowHeights[y] = ctrlMinHeight > rowHeights[y] ? ctrlMinHeight : rowHeights[y];\n        }\n      }\n      availableWidth = contLayoutRect.innerW - contPaddingBox.left - contPaddingBox.right;\n      for (maxX = 0, x = 0; x < cols; x++) {\n        maxX += colWidths[x] + (x > 0 ? spacingH : 0);\n        availableWidth -= (x > 0 ? spacingH : 0) + colWidths[x];\n      }\n      availableHeight = contLayoutRect.innerH - contPaddingBox.top - contPaddingBox.bottom;\n      for (maxY = 0, y = 0; y < rows; y++) {\n        maxY += rowHeights[y] + (y > 0 ? spacingV : 0);\n        availableHeight -= (y > 0 ? spacingV : 0) + rowHeights[y];\n      }\n      maxX += contPaddingBox.left + contPaddingBox.right;\n      maxY += contPaddingBox.top + contPaddingBox.bottom;\n      rect = {};\n      rect.minW = maxX + (contLayoutRect.w - contLayoutRect.innerW);\n      rect.minH = maxY + (contLayoutRect.h - contLayoutRect.innerH);\n      rect.contentW = rect.minW - contLayoutRect.deltaW;\n      rect.contentH = rect.minH - contLayoutRect.deltaH;\n      rect.minW = Math.min(rect.minW, contLayoutRect.maxW);\n      rect.minH = Math.min(rect.minH, contLayoutRect.maxH);\n      rect.minW = Math.max(rect.minW, contLayoutRect.startMinWidth);\n      rect.minH = Math.max(rect.minH, contLayoutRect.startMinHeight);\n      if (contLayoutRect.autoResize && (rect.minW !== contLayoutRect.minW || rect.minH !== contLayoutRect.minH)) {\n        rect.w = rect.minW;\n        rect.h = rect.minH;\n        container.layoutRect(rect);\n        this.recalc(container);\n        if (container._lastRect === null) {\n          var parentCtrl = container.parent();\n          if (parentCtrl) {\n            parentCtrl._lastRect = null;\n            parentCtrl.recalc();\n          }\n        }\n        return;\n      }\n      if (contLayoutRect.autoResize) {\n        rect = container.layoutRect(rect);\n        rect.contentW = rect.minW - contLayoutRect.deltaW;\n        rect.contentH = rect.minH - contLayoutRect.deltaH;\n      }\n      var flexV;\n      if (settings.packV === 'start') {\n        flexV = 0;\n      } else {\n        flexV = availableHeight > 0 ? Math.floor(availableHeight / rows) : 0;\n      }\n      var totalFlex = 0;\n      var flexWidths = settings.flexWidths;\n      if (flexWidths) {\n        for (x = 0; x < flexWidths.length; x++) {\n          totalFlex += flexWidths[x];\n        }\n      } else {\n        totalFlex = cols;\n      }\n      var ratio = availableWidth / totalFlex;\n      for (x = 0; x < cols; x++) {\n        colWidths[x] += flexWidths ? flexWidths[x] * ratio : ratio;\n      }\n      posY = contPaddingBox.top;\n      for (y = 0; y < rows; y++) {\n        posX = contPaddingBox.left;\n        height = rowHeights[y] + flexV;\n        for (x = 0; x < cols; x++) {\n          if (reverseRows) {\n            idx = y * cols + cols - 1 - x;\n          } else {\n            idx = y * cols + x;\n          }\n          ctrl = items[idx];\n          if (!ctrl) {\n            break;\n          }\n          ctrlSettings = ctrl.settings;\n          ctrlLayoutRect = ctrl.layoutRect();\n          width = Math.max(colWidths[x], ctrlLayoutRect.startMinWidth);\n          ctrlLayoutRect.x = posX;\n          ctrlLayoutRect.y = posY;\n          align = ctrlSettings.alignH || (alignH ? alignH[x] || alignH[0] : null);\n          if (align === 'center') {\n            ctrlLayoutRect.x = posX + width / 2 - ctrlLayoutRect.w / 2;\n          } else if (align === 'right') {\n            ctrlLayoutRect.x = posX + width - ctrlLayoutRect.w;\n          } else if (align === 'stretch') {\n            ctrlLayoutRect.w = width;\n          }\n          align = ctrlSettings.alignV || (alignV ? alignV[x] || alignV[0] : null);\n          if (align === 'center') {\n            ctrlLayoutRect.y = posY + height / 2 - ctrlLayoutRect.h / 2;\n          } else if (align === 'bottom') {\n            ctrlLayoutRect.y = posY + height - ctrlLayoutRect.h;\n          } else if (align === 'stretch') {\n            ctrlLayoutRect.h = height;\n          }\n          ctrl.layoutRect(ctrlLayoutRect);\n          posX += width + spacingH;\n          if (ctrl.recalc) {\n            ctrl.recalc();\n          }\n        }\n        posY += height + spacingV;\n      }\n    }\n  });\n\n  var Iframe$1 = Widget.extend({\n    renderHtml: function () {\n      var self = this;\n      self.classes.add('iframe');\n      self.canFocus = false;\n      return '<iframe id=\"' + self._id + '\" class=\"' + self.classes + '\" tabindex=\"-1\" src=\"' + (self.settings.url || 'javascript:\\'\\'') + '\" frameborder=\"0\"></iframe>';\n    },\n    src: function (src) {\n      this.getEl().src = src;\n    },\n    html: function (html, callback) {\n      var self = this, body = this.getEl().contentWindow.document.body;\n      if (!body) {\n        global$7.setTimeout(function () {\n          self.html(html);\n        });\n      } else {\n        body.innerHTML = html;\n        if (callback) {\n          callback();\n        }\n      }\n      return this;\n    }\n  });\n\n  var InfoBox = Widget.extend({\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      self.classes.add('widget').add('infobox');\n      self.canFocus = false;\n    },\n    severity: function (level) {\n      this.classes.remove('error');\n      this.classes.remove('warning');\n      this.classes.remove('success');\n      this.classes.add(level);\n    },\n    help: function (state) {\n      this.state.set('help', state);\n    },\n    renderHtml: function () {\n      var self = this, prefix = self.classPrefix;\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + self._id + '-body\">' + self.encode(self.state.get('text')) + '<button role=\"button\" tabindex=\"-1\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-help\"></i>' + '</button>' + '</div>' + '</div>';\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:text', function (e) {\n        self.getEl('body').firstChild.data = self.encode(e.value);\n        if (self.state.get('rendered')) {\n          self.updateLayoutRect();\n        }\n      });\n      self.state.on('change:help', function (e) {\n        self.classes.toggle('has-help', e.value);\n        if (self.state.get('rendered')) {\n          self.updateLayoutRect();\n        }\n      });\n      return self._super();\n    }\n  });\n\n  var Label = Widget.extend({\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      self.classes.add('widget').add('label');\n      self.canFocus = false;\n      if (settings.multiline) {\n        self.classes.add('autoscroll');\n      }\n      if (settings.strong) {\n        self.classes.add('strong');\n      }\n    },\n    initLayoutRect: function () {\n      var self = this, layoutRect = self._super();\n      if (self.settings.multiline) {\n        var size = funcs.getSize(self.getEl());\n        if (size.width > layoutRect.maxW) {\n          layoutRect.minW = layoutRect.maxW;\n          self.classes.add('multiline');\n        }\n        self.getEl().style.width = layoutRect.minW + 'px';\n        layoutRect.startMinH = layoutRect.h = layoutRect.minH = Math.min(layoutRect.maxH, funcs.getSize(self.getEl()).height);\n      }\n      return layoutRect;\n    },\n    repaint: function () {\n      var self = this;\n      if (!self.settings.multiline) {\n        self.getEl().style.lineHeight = self.layoutRect().h + 'px';\n      }\n      return self._super();\n    },\n    severity: function (level) {\n      this.classes.remove('error');\n      this.classes.remove('warning');\n      this.classes.remove('success');\n      this.classes.add(level);\n    },\n    renderHtml: function () {\n      var self = this;\n      var targetCtrl, forName, forId = self.settings.forId;\n      var text = self.settings.html ? self.settings.html : self.encode(self.state.get('text'));\n      if (!forId && (forName = self.settings.forName)) {\n        targetCtrl = self.getRoot().find('#' + forName)[0];\n        if (targetCtrl) {\n          forId = targetCtrl._id;\n        }\n      }\n      if (forId) {\n        return '<label id=\"' + self._id + '\" class=\"' + self.classes + '\"' + (forId ? ' for=\"' + forId + '\"' : '') + '>' + text + '</label>';\n      }\n      return '<span id=\"' + self._id + '\" class=\"' + self.classes + '\">' + text + '</span>';\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:text', function (e) {\n        self.innerHtml(self.encode(e.value));\n        if (self.state.get('rendered')) {\n          self.updateLayoutRect();\n        }\n      });\n      return self._super();\n    }\n  });\n\n  var Toolbar$1 = Container.extend({\n    Defaults: {\n      role: 'toolbar',\n      layout: 'flow'\n    },\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      self.classes.add('toolbar');\n    },\n    postRender: function () {\n      var self = this;\n      self.items().each(function (ctrl) {\n        ctrl.classes.add('toolbar-item');\n      });\n      return self._super();\n    }\n  });\n\n  var MenuBar = Toolbar$1.extend({\n    Defaults: {\n      role: 'menubar',\n      containerCls: 'menubar',\n      ariaRoot: true,\n      defaults: { type: 'menubutton' }\n    }\n  });\n\n  function isChildOf$1(node, parent$$1) {\n    while (node) {\n      if (parent$$1 === node) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n    return false;\n  }\n  var MenuButton = Button.extend({\n    init: function (settings) {\n      var self$$1 = this;\n      self$$1._renderOpen = true;\n      self$$1._super(settings);\n      settings = self$$1.settings;\n      self$$1.classes.add('menubtn');\n      if (settings.fixedWidth) {\n        self$$1.classes.add('fixed-width');\n      }\n      self$$1.aria('haspopup', true);\n      self$$1.state.set('menu', settings.menu || self$$1.render());\n    },\n    showMenu: function (toggle) {\n      var self$$1 = this;\n      var menu;\n      if (self$$1.menu && self$$1.menu.visible() && toggle !== false) {\n        return self$$1.hideMenu();\n      }\n      if (!self$$1.menu) {\n        menu = self$$1.state.get('menu') || [];\n        self$$1.classes.add('opened');\n        if (menu.length) {\n          menu = {\n            type: 'menu',\n            animate: true,\n            items: menu\n          };\n        } else {\n          menu.type = menu.type || 'menu';\n          menu.animate = true;\n        }\n        if (!menu.renderTo) {\n          self$$1.menu = global$4.create(menu).parent(self$$1).renderTo();\n        } else {\n          self$$1.menu = menu.parent(self$$1).show().renderTo();\n        }\n        self$$1.fire('createmenu');\n        self$$1.menu.reflow();\n        self$$1.menu.on('cancel', function (e) {\n          if (e.control.parent() === self$$1.menu) {\n            e.stopPropagation();\n            self$$1.focus();\n            self$$1.hideMenu();\n          }\n        });\n        self$$1.menu.on('select', function () {\n          self$$1.focus();\n        });\n        self$$1.menu.on('show hide', function (e) {\n          if (e.type === 'hide' && e.control.parent() === self$$1) {\n            self$$1.classes.remove('opened-under');\n          }\n          if (e.control === self$$1.menu) {\n            self$$1.activeMenu(e.type === 'show');\n            self$$1.classes.toggle('opened', e.type === 'show');\n          }\n          self$$1.aria('expanded', e.type === 'show');\n        }).fire('show');\n      }\n      self$$1.menu.show();\n      self$$1.menu.layoutRect({ w: self$$1.layoutRect().w });\n      self$$1.menu.repaint();\n      self$$1.menu.moveRel(self$$1.getEl(), self$$1.isRtl() ? [\n        'br-tr',\n        'tr-br'\n      ] : [\n        'bl-tl',\n        'tl-bl'\n      ]);\n      var menuLayoutRect = self$$1.menu.layoutRect();\n      var selfBottom = self$$1.$el.offset().top + self$$1.layoutRect().h;\n      if (selfBottom > menuLayoutRect.y && selfBottom < menuLayoutRect.y + menuLayoutRect.h) {\n        self$$1.classes.add('opened-under');\n      }\n      self$$1.fire('showmenu');\n    },\n    hideMenu: function () {\n      var self$$1 = this;\n      if (self$$1.menu) {\n        self$$1.menu.items().each(function (item) {\n          if (item.hideMenu) {\n            item.hideMenu();\n          }\n        });\n        self$$1.menu.hide();\n      }\n    },\n    activeMenu: function (state) {\n      this.classes.toggle('active', state);\n    },\n    renderHtml: function () {\n      var self$$1 = this, id = self$$1._id, prefix = self$$1.classPrefix;\n      var icon = self$$1.settings.icon, image;\n      var text = self$$1.state.get('text');\n      var textHtml = '';\n      image = self$$1.settings.image;\n      if (image) {\n        icon = 'none';\n        if (typeof image !== 'string') {\n          image = window.getSelection ? image[0] : image[1];\n        }\n        image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n      } else {\n        image = '';\n      }\n      if (text) {\n        self$$1.classes.add('btn-has-text');\n        textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\n      }\n      icon = self$$1.settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n      self$$1.aria('role', self$$1.parent() instanceof MenuBar ? 'menuitem' : 'button');\n      return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" tabindex=\"-1\" aria-labelledby=\"' + id + '\">' + '<button id=\"' + id + '-open\" role=\"presentation\" type=\"button\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n    },\n    postRender: function () {\n      var self$$1 = this;\n      self$$1.on('click', function (e) {\n        if (e.control === self$$1 && isChildOf$1(e.target, self$$1.getEl())) {\n          self$$1.focus();\n          self$$1.showMenu(!e.aria);\n          if (e.aria) {\n            self$$1.menu.items().filter(':visible')[0].focus();\n          }\n        }\n      });\n      self$$1.on('mouseenter', function (e) {\n        var overCtrl = e.control;\n        var parent$$1 = self$$1.parent();\n        var hasVisibleSiblingMenu;\n        if (overCtrl && parent$$1 && overCtrl instanceof MenuButton && overCtrl.parent() === parent$$1) {\n          parent$$1.items().filter('MenuButton').each(function (ctrl) {\n            if (ctrl.hideMenu && ctrl !== overCtrl) {\n              if (ctrl.menu && ctrl.menu.visible()) {\n                hasVisibleSiblingMenu = true;\n              }\n              ctrl.hideMenu();\n            }\n          });\n          if (hasVisibleSiblingMenu) {\n            overCtrl.focus();\n            overCtrl.showMenu();\n          }\n        }\n      });\n      return self$$1._super();\n    },\n    bindStates: function () {\n      var self$$1 = this;\n      self$$1.state.on('change:menu', function () {\n        if (self$$1.menu) {\n          self$$1.menu.remove();\n        }\n        self$$1.menu = null;\n      });\n      return self$$1._super();\n    },\n    remove: function () {\n      this._super();\n      if (this.menu) {\n        this.menu.remove();\n      }\n    }\n  });\n\n  var Menu = FloatPanel.extend({\n    Defaults: {\n      defaultType: 'menuitem',\n      border: 1,\n      layout: 'stack',\n      role: 'application',\n      bodyRole: 'menu',\n      ariaRoot: true\n    },\n    init: function (settings) {\n      var self = this;\n      settings.autohide = true;\n      settings.constrainToViewport = true;\n      if (typeof settings.items === 'function') {\n        settings.itemsFactory = settings.items;\n        settings.items = [];\n      }\n      if (settings.itemDefaults) {\n        var items = settings.items;\n        var i = items.length;\n        while (i--) {\n          items[i] = global$2.extend({}, settings.itemDefaults, items[i]);\n        }\n      }\n      self._super(settings);\n      self.classes.add('menu');\n      if (settings.animate && global$8.ie !== 11) {\n        self.classes.add('animate');\n      }\n    },\n    repaint: function () {\n      this.classes.toggle('menu-align', true);\n      this._super();\n      this.getEl().style.height = '';\n      this.getEl('body').style.height = '';\n      return this;\n    },\n    cancel: function () {\n      var self = this;\n      self.hideAll();\n      self.fire('select');\n    },\n    load: function () {\n      var self = this;\n      var time, factory;\n      function hideThrobber() {\n        if (self.throbber) {\n          self.throbber.hide();\n          self.throbber = null;\n        }\n      }\n      factory = self.settings.itemsFactory;\n      if (!factory) {\n        return;\n      }\n      if (!self.throbber) {\n        self.throbber = new Throbber(self.getEl('body'), true);\n        if (self.items().length === 0) {\n          self.throbber.show();\n          self.fire('loading');\n        } else {\n          self.throbber.show(100, function () {\n            self.items().remove();\n            self.fire('loading');\n          });\n        }\n        self.on('hide close', hideThrobber);\n      }\n      self.requestTime = time = new Date().getTime();\n      self.settings.itemsFactory(function (items) {\n        if (items.length === 0) {\n          self.hide();\n          return;\n        }\n        if (self.requestTime !== time) {\n          return;\n        }\n        self.getEl().style.width = '';\n        self.getEl('body').style.width = '';\n        hideThrobber();\n        self.items().remove();\n        self.getEl('body').innerHTML = '';\n        self.add(items);\n        self.renderNew();\n        self.fire('loaded');\n      });\n    },\n    hideAll: function () {\n      var self = this;\n      this.find('menuitem').exec('hideMenu');\n      return self._super();\n    },\n    preRender: function () {\n      var self = this;\n      self.items().each(function (ctrl) {\n        var settings = ctrl.settings;\n        if (settings.icon || settings.image || settings.selectable) {\n          self._hasIcons = true;\n          return false;\n        }\n      });\n      if (self.settings.itemsFactory) {\n        self.on('postrender', function () {\n          if (self.settings.itemsFactory) {\n            self.load();\n          }\n        });\n      }\n      self.on('show hide', function (e) {\n        if (e.control === self) {\n          if (e.type === 'show') {\n            global$7.setTimeout(function () {\n              self.classes.add('in');\n            }, 0);\n          } else {\n            self.classes.remove('in');\n          }\n        }\n      });\n      return self._super();\n    }\n  });\n\n  var ListBox = MenuButton.extend({\n    init: function (settings) {\n      var self = this;\n      var values, selected, selectedText, lastItemCtrl;\n      function setSelected(menuValues) {\n        for (var i = 0; i < menuValues.length; i++) {\n          selected = menuValues[i].selected || settings.value === menuValues[i].value;\n          if (selected) {\n            selectedText = selectedText || menuValues[i].text;\n            self.state.set('value', menuValues[i].value);\n            return true;\n          }\n          if (menuValues[i].menu) {\n            if (setSelected(menuValues[i].menu)) {\n              return true;\n            }\n          }\n        }\n      }\n      self._super(settings);\n      settings = self.settings;\n      self._values = values = settings.values;\n      if (values) {\n        if (typeof settings.value !== 'undefined') {\n          setSelected(values);\n        }\n        if (!selected && values.length > 0) {\n          selectedText = values[0].text;\n          self.state.set('value', values[0].value);\n        }\n        self.state.set('menu', values);\n      }\n      self.state.set('text', settings.text || selectedText);\n      self.classes.add('listbox');\n      self.on('select', function (e) {\n        var ctrl = e.control;\n        if (lastItemCtrl) {\n          e.lastControl = lastItemCtrl;\n        }\n        if (settings.multiple) {\n          ctrl.active(!ctrl.active());\n        } else {\n          self.value(e.control.value());\n        }\n        lastItemCtrl = ctrl;\n      });\n    },\n    value: function (value) {\n      if (arguments.length === 0) {\n        return this.state.get('value');\n      }\n      if (typeof value === 'undefined') {\n        return this;\n      }\n      function valueExists(values) {\n        return exists(values, function (a) {\n          return a.menu ? valueExists(a.menu) : a.value === value;\n        });\n      }\n      if (this.settings.values) {\n        if (valueExists(this.settings.values)) {\n          this.state.set('value', value);\n        } else if (value === null) {\n          this.state.set('value', null);\n        }\n      } else {\n        this.state.set('value', value);\n      }\n      return this;\n    },\n    bindStates: function () {\n      var self = this;\n      function activateMenuItemsByValue(menu, value) {\n        if (menu instanceof Menu) {\n          menu.items().each(function (ctrl) {\n            if (!ctrl.hasMenus()) {\n              ctrl.active(ctrl.value() === value);\n            }\n          });\n        }\n      }\n      function getSelectedItem(menuValues, value) {\n        var selectedItem;\n        if (!menuValues) {\n          return;\n        }\n        for (var i = 0; i < menuValues.length; i++) {\n          if (menuValues[i].value === value) {\n            return menuValues[i];\n          }\n          if (menuValues[i].menu) {\n            selectedItem = getSelectedItem(menuValues[i].menu, value);\n            if (selectedItem) {\n              return selectedItem;\n            }\n          }\n        }\n      }\n      self.on('show', function (e) {\n        activateMenuItemsByValue(e.control, self.value());\n      });\n      self.state.on('change:value', function (e) {\n        var selectedItem = getSelectedItem(self.state.get('menu'), e.value);\n        if (selectedItem) {\n          self.text(selectedItem.text);\n        } else {\n          self.text(self.settings.text);\n        }\n      });\n      return self._super();\n    }\n  });\n\n  var toggleTextStyle = function (ctrl, state) {\n    var textStyle = ctrl._textStyle;\n    if (textStyle) {\n      var textElm = ctrl.getEl('text');\n      textElm.setAttribute('style', textStyle);\n      if (state) {\n        textElm.style.color = '';\n        textElm.style.backgroundColor = '';\n      }\n    }\n  };\n  var MenuItem = Widget.extend({\n    Defaults: {\n      border: 0,\n      role: 'menuitem'\n    },\n    init: function (settings) {\n      var self = this;\n      var text;\n      self._super(settings);\n      settings = self.settings;\n      self.classes.add('menu-item');\n      if (settings.menu) {\n        self.classes.add('menu-item-expand');\n      }\n      if (settings.preview) {\n        self.classes.add('menu-item-preview');\n      }\n      text = self.state.get('text');\n      if (text === '-' || text === '|') {\n        self.classes.add('menu-item-sep');\n        self.aria('role', 'separator');\n        self.state.set('text', '-');\n      }\n      if (settings.selectable) {\n        self.aria('role', 'menuitemcheckbox');\n        self.classes.add('menu-item-checkbox');\n        settings.icon = 'selected';\n      }\n      if (!settings.preview && !settings.selectable) {\n        self.classes.add('menu-item-normal');\n      }\n      self.on('mousedown', function (e) {\n        e.preventDefault();\n      });\n      if (settings.menu && !settings.ariaHideMenu) {\n        self.aria('haspopup', true);\n      }\n    },\n    hasMenus: function () {\n      return !!this.settings.menu;\n    },\n    showMenu: function () {\n      var self = this;\n      var settings = self.settings;\n      var menu;\n      var parent = self.parent();\n      parent.items().each(function (ctrl) {\n        if (ctrl !== self) {\n          ctrl.hideMenu();\n        }\n      });\n      if (settings.menu) {\n        menu = self.menu;\n        if (!menu) {\n          menu = settings.menu;\n          if (menu.length) {\n            menu = {\n              type: 'menu',\n              items: menu\n            };\n          } else {\n            menu.type = menu.type || 'menu';\n          }\n          if (parent.settings.itemDefaults) {\n            menu.itemDefaults = parent.settings.itemDefaults;\n          }\n          menu = self.menu = global$4.create(menu).parent(self).renderTo();\n          menu.reflow();\n          menu.on('cancel', function (e) {\n            e.stopPropagation();\n            self.focus();\n            menu.hide();\n          });\n          menu.on('show hide', function (e) {\n            if (e.control.items) {\n              e.control.items().each(function (ctrl) {\n                ctrl.active(ctrl.settings.selected);\n              });\n            }\n          }).fire('show');\n          menu.on('hide', function (e) {\n            if (e.control === menu) {\n              self.classes.remove('selected');\n            }\n          });\n          menu.submenu = true;\n        } else {\n          menu.show();\n        }\n        menu._parentMenu = parent;\n        menu.classes.add('menu-sub');\n        var rel = menu.testMoveRel(self.getEl(), self.isRtl() ? [\n          'tl-tr',\n          'bl-br',\n          'tr-tl',\n          'br-bl'\n        ] : [\n          'tr-tl',\n          'br-bl',\n          'tl-tr',\n          'bl-br'\n        ]);\n        menu.moveRel(self.getEl(), rel);\n        menu.rel = rel;\n        rel = 'menu-sub-' + rel;\n        menu.classes.remove(menu._lastRel).add(rel);\n        menu._lastRel = rel;\n        self.classes.add('selected');\n        self.aria('expanded', true);\n      }\n    },\n    hideMenu: function () {\n      var self = this;\n      if (self.menu) {\n        self.menu.items().each(function (item) {\n          if (item.hideMenu) {\n            item.hideMenu();\n          }\n        });\n        self.menu.hide();\n        self.aria('expanded', false);\n      }\n      return self;\n    },\n    renderHtml: function () {\n      var self = this;\n      var id = self._id;\n      var settings = self.settings;\n      var prefix = self.classPrefix;\n      var text = self.state.get('text');\n      var icon = self.settings.icon, image = '', shortcut = settings.shortcut;\n      var url = self.encode(settings.url), iconHtml = '';\n      function convertShortcut(shortcut) {\n        var i, value, replace = {};\n        if (global$8.mac) {\n          replace = {\n            alt: '&#x2325;',\n            ctrl: '&#x2318;',\n            shift: '&#x21E7;',\n            meta: '&#x2318;'\n          };\n        } else {\n          replace = { meta: 'Ctrl' };\n        }\n        shortcut = shortcut.split('+');\n        for (i = 0; i < shortcut.length; i++) {\n          value = replace[shortcut[i].toLowerCase()];\n          if (value) {\n            shortcut[i] = value;\n          }\n        }\n        return shortcut.join('+');\n      }\n      function escapeRegExp(str) {\n        return str.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n      }\n      function markMatches(text) {\n        var match = settings.match || '';\n        return match ? text.replace(new RegExp(escapeRegExp(match), 'gi'), function (match) {\n          return '!mce~match[' + match + ']mce~match!';\n        }) : text;\n      }\n      function boldMatches(text) {\n        return text.replace(new RegExp(escapeRegExp('!mce~match['), 'g'), '<b>').replace(new RegExp(escapeRegExp(']mce~match!'), 'g'), '</b>');\n      }\n      if (icon) {\n        self.parent().classes.add('menu-has-icons');\n      }\n      if (settings.image) {\n        image = ' style=\"background-image: url(\\'' + settings.image + '\\')\"';\n      }\n      if (shortcut) {\n        shortcut = convertShortcut(shortcut);\n      }\n      icon = prefix + 'ico ' + prefix + 'i-' + (self.settings.icon || 'none');\n      iconHtml = text !== '-' ? '<i class=\"' + icon + '\"' + image + '></i>\\xA0' : '';\n      text = boldMatches(self.encode(markMatches(text)));\n      url = boldMatches(self.encode(markMatches(url)));\n      return '<div id=\"' + id + '\" class=\"' + self.classes + '\" tabindex=\"-1\">' + iconHtml + (text !== '-' ? '<span id=\"' + id + '-text\" class=\"' + prefix + 'text\">' + text + '</span>' : '') + (shortcut ? '<div id=\"' + id + '-shortcut\" class=\"' + prefix + 'menu-shortcut\">' + shortcut + '</div>' : '') + (settings.menu ? '<div class=\"' + prefix + 'caret\"></div>' : '') + (url ? '<div class=\"' + prefix + 'menu-item-link\">' + url + '</div>' : '') + '</div>';\n    },\n    postRender: function () {\n      var self = this, settings = self.settings;\n      var textStyle = settings.textStyle;\n      if (typeof textStyle === 'function') {\n        textStyle = textStyle.call(this);\n      }\n      if (textStyle) {\n        var textElm = self.getEl('text');\n        if (textElm) {\n          textElm.setAttribute('style', textStyle);\n          self._textStyle = textStyle;\n        }\n      }\n      self.on('mouseenter click', function (e) {\n        if (e.control === self) {\n          if (!settings.menu && e.type === 'click') {\n            self.fire('select');\n            global$7.requestAnimationFrame(function () {\n              self.parent().hideAll();\n            });\n          } else {\n            self.showMenu();\n            if (e.aria) {\n              self.menu.focus(true);\n            }\n          }\n        }\n      });\n      self._super();\n      return self;\n    },\n    hover: function () {\n      var self = this;\n      self.parent().items().each(function (ctrl) {\n        ctrl.classes.remove('selected');\n      });\n      self.classes.toggle('selected', true);\n      return self;\n    },\n    active: function (state) {\n      toggleTextStyle(this, state);\n      if (typeof state !== 'undefined') {\n        this.aria('checked', state);\n      }\n      return this._super(state);\n    },\n    remove: function () {\n      this._super();\n      if (this.menu) {\n        this.menu.remove();\n      }\n    }\n  });\n\n  var Radio = Checkbox.extend({\n    Defaults: {\n      classes: 'radio',\n      role: 'radio'\n    }\n  });\n\n  var ResizeHandle = Widget.extend({\n    renderHtml: function () {\n      var self = this, prefix = self.classPrefix;\n      self.classes.add('resizehandle');\n      if (self.settings.direction === 'both') {\n        self.classes.add('resizehandle-both');\n      }\n      self.canFocus = false;\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\">' + '<i class=\"' + prefix + 'ico ' + prefix + 'i-resize\"></i>' + '</div>';\n    },\n    postRender: function () {\n      var self = this;\n      self._super();\n      self.resizeDragHelper = new DragHelper(this._id, {\n        start: function () {\n          self.fire('ResizeStart');\n        },\n        drag: function (e) {\n          if (self.settings.direction !== 'both') {\n            e.deltaX = 0;\n          }\n          self.fire('Resize', e);\n        },\n        stop: function () {\n          self.fire('ResizeEnd');\n        }\n      });\n    },\n    remove: function () {\n      if (this.resizeDragHelper) {\n        this.resizeDragHelper.destroy();\n      }\n      return this._super();\n    }\n  });\n\n  function createOptions(options) {\n    var strOptions = '';\n    if (options) {\n      for (var i = 0; i < options.length; i++) {\n        strOptions += '<option value=\"' + options[i] + '\">' + options[i] + '</option>';\n      }\n    }\n    return strOptions;\n  }\n  var SelectBox = Widget.extend({\n    Defaults: {\n      classes: 'selectbox',\n      role: 'selectbox',\n      options: []\n    },\n    init: function (settings) {\n      var self = this;\n      self._super(settings);\n      if (self.settings.size) {\n        self.size = self.settings.size;\n      }\n      if (self.settings.options) {\n        self._options = self.settings.options;\n      }\n      self.on('keydown', function (e) {\n        var rootControl;\n        if (e.keyCode === 13) {\n          e.preventDefault();\n          self.parents().reverse().each(function (ctrl) {\n            if (ctrl.toJSON) {\n              rootControl = ctrl;\n              return false;\n            }\n          });\n          self.fire('submit', { data: rootControl.toJSON() });\n        }\n      });\n    },\n    options: function (state) {\n      if (!arguments.length) {\n        return this.state.get('options');\n      }\n      this.state.set('options', state);\n      return this;\n    },\n    renderHtml: function () {\n      var self = this;\n      var options, size = '';\n      options = createOptions(self._options);\n      if (self.size) {\n        size = ' size = \"' + self.size + '\"';\n      }\n      return '<select id=\"' + self._id + '\" class=\"' + self.classes + '\"' + size + '>' + options + '</select>';\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:options', function (e) {\n        self.getEl().innerHTML = createOptions(e.value);\n      });\n      return self._super();\n    }\n  });\n\n  function constrain(value, minVal, maxVal) {\n    if (value < minVal) {\n      value = minVal;\n    }\n    if (value > maxVal) {\n      value = maxVal;\n    }\n    return value;\n  }\n  function setAriaProp(el, name, value) {\n    el.setAttribute('aria-' + name, value);\n  }\n  function updateSliderHandle(ctrl, value) {\n    var maxHandlePos, shortSizeName, sizeName, stylePosName, styleValue, handleEl;\n    if (ctrl.settings.orientation === 'v') {\n      stylePosName = 'top';\n      sizeName = 'height';\n      shortSizeName = 'h';\n    } else {\n      stylePosName = 'left';\n      sizeName = 'width';\n      shortSizeName = 'w';\n    }\n    handleEl = ctrl.getEl('handle');\n    maxHandlePos = (ctrl.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\n    styleValue = maxHandlePos * ((value - ctrl._minValue) / (ctrl._maxValue - ctrl._minValue)) + 'px';\n    handleEl.style[stylePosName] = styleValue;\n    handleEl.style.height = ctrl.layoutRect().h + 'px';\n    setAriaProp(handleEl, 'valuenow', value);\n    setAriaProp(handleEl, 'valuetext', '' + ctrl.settings.previewFilter(value));\n    setAriaProp(handleEl, 'valuemin', ctrl._minValue);\n    setAriaProp(handleEl, 'valuemax', ctrl._maxValue);\n  }\n  var Slider = Widget.extend({\n    init: function (settings) {\n      var self = this;\n      if (!settings.previewFilter) {\n        settings.previewFilter = function (value) {\n          return Math.round(value * 100) / 100;\n        };\n      }\n      self._super(settings);\n      self.classes.add('slider');\n      if (settings.orientation === 'v') {\n        self.classes.add('vertical');\n      }\n      self._minValue = isNumber(settings.minValue) ? settings.minValue : 0;\n      self._maxValue = isNumber(settings.maxValue) ? settings.maxValue : 100;\n      self._initValue = self.state.get('value');\n    },\n    renderHtml: function () {\n      var self = this, id = self._id, prefix = self.classPrefix;\n      return '<div id=\"' + id + '\" class=\"' + self.classes + '\">' + '<div id=\"' + id + '-handle\" class=\"' + prefix + 'slider-handle\" role=\"slider\" tabindex=\"-1\"></div>' + '</div>';\n    },\n    reset: function () {\n      this.value(this._initValue).repaint();\n    },\n    postRender: function () {\n      var self = this;\n      var minValue, maxValue, screenCordName, stylePosName, sizeName, shortSizeName;\n      function toFraction(min, max, val) {\n        return (val + min) / (max - min);\n      }\n      function fromFraction(min, max, val) {\n        return val * (max - min) - min;\n      }\n      function handleKeyboard(minValue, maxValue) {\n        function alter(delta) {\n          var value;\n          value = self.value();\n          value = fromFraction(minValue, maxValue, toFraction(minValue, maxValue, value) + delta * 0.05);\n          value = constrain(value, minValue, maxValue);\n          self.value(value);\n          self.fire('dragstart', { value: value });\n          self.fire('drag', { value: value });\n          self.fire('dragend', { value: value });\n        }\n        self.on('keydown', function (e) {\n          switch (e.keyCode) {\n          case 37:\n          case 38:\n            alter(-1);\n            break;\n          case 39:\n          case 40:\n            alter(1);\n            break;\n          }\n        });\n      }\n      function handleDrag(minValue, maxValue, handleEl) {\n        var startPos, startHandlePos, maxHandlePos, handlePos, value;\n        self._dragHelper = new DragHelper(self._id, {\n          handle: self._id + '-handle',\n          start: function (e) {\n            startPos = e[screenCordName];\n            startHandlePos = parseInt(self.getEl('handle').style[stylePosName], 10);\n            maxHandlePos = (self.layoutRect()[shortSizeName] || 100) - funcs.getSize(handleEl)[sizeName];\n            self.fire('dragstart', { value: value });\n          },\n          drag: function (e) {\n            var delta = e[screenCordName] - startPos;\n            handlePos = constrain(startHandlePos + delta, 0, maxHandlePos);\n            handleEl.style[stylePosName] = handlePos + 'px';\n            value = minValue + handlePos / maxHandlePos * (maxValue - minValue);\n            self.value(value);\n            self.tooltip().text('' + self.settings.previewFilter(value)).show().moveRel(handleEl, 'bc tc');\n            self.fire('drag', { value: value });\n          },\n          stop: function () {\n            self.tooltip().hide();\n            self.fire('dragend', { value: value });\n          }\n        });\n      }\n      minValue = self._minValue;\n      maxValue = self._maxValue;\n      if (self.settings.orientation === 'v') {\n        screenCordName = 'screenY';\n        stylePosName = 'top';\n        sizeName = 'height';\n        shortSizeName = 'h';\n      } else {\n        screenCordName = 'screenX';\n        stylePosName = 'left';\n        sizeName = 'width';\n        shortSizeName = 'w';\n      }\n      self._super();\n      handleKeyboard(minValue, maxValue);\n      handleDrag(minValue, maxValue, self.getEl('handle'));\n    },\n    repaint: function () {\n      this._super();\n      updateSliderHandle(this, this.value());\n    },\n    bindStates: function () {\n      var self = this;\n      self.state.on('change:value', function (e) {\n        updateSliderHandle(self, e.value);\n      });\n      return self._super();\n    }\n  });\n\n  var Spacer = Widget.extend({\n    renderHtml: function () {\n      var self = this;\n      self.classes.add('spacer');\n      self.canFocus = false;\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\"></div>';\n    }\n  });\n\n  var SplitButton = MenuButton.extend({\n    Defaults: {\n      classes: 'widget btn splitbtn',\n      role: 'button'\n    },\n    repaint: function () {\n      var self$$1 = this;\n      var elm = self$$1.getEl();\n      var rect = self$$1.layoutRect();\n      var mainButtonElm, menuButtonElm;\n      self$$1._super();\n      mainButtonElm = elm.firstChild;\n      menuButtonElm = elm.lastChild;\n      global$9(mainButtonElm).css({\n        width: rect.w - funcs.getSize(menuButtonElm).width,\n        height: rect.h - 2\n      });\n      global$9(menuButtonElm).css({ height: rect.h - 2 });\n      return self$$1;\n    },\n    activeMenu: function (state) {\n      var self$$1 = this;\n      global$9(self$$1.getEl().lastChild).toggleClass(self$$1.classPrefix + 'active', state);\n    },\n    renderHtml: function () {\n      var self$$1 = this;\n      var id = self$$1._id;\n      var prefix = self$$1.classPrefix;\n      var image;\n      var icon = self$$1.state.get('icon');\n      var text = self$$1.state.get('text');\n      var settings = self$$1.settings;\n      var textHtml = '', ariaPressed;\n      image = settings.image;\n      if (image) {\n        icon = 'none';\n        if (typeof image !== 'string') {\n          image = window.getSelection ? image[0] : image[1];\n        }\n        image = ' style=\"background-image: url(\\'' + image + '\\')\"';\n      } else {\n        image = '';\n      }\n      icon = settings.icon ? prefix + 'ico ' + prefix + 'i-' + icon : '';\n      if (text) {\n        self$$1.classes.add('btn-has-text');\n        textHtml = '<span class=\"' + prefix + 'txt\">' + self$$1.encode(text) + '</span>';\n      }\n      ariaPressed = typeof settings.active === 'boolean' ? ' aria-pressed=\"' + settings.active + '\"' : '';\n      return '<div id=\"' + id + '\" class=\"' + self$$1.classes + '\" role=\"button\"' + ariaPressed + ' tabindex=\"-1\">' + '<button type=\"button\" hidefocus=\"1\" tabindex=\"-1\">' + (icon ? '<i class=\"' + icon + '\"' + image + '></i>' : '') + textHtml + '</button>' + '<button type=\"button\" class=\"' + prefix + 'open\" hidefocus=\"1\" tabindex=\"-1\">' + (self$$1._menuBtnText ? (icon ? '\\xA0' : '') + self$$1._menuBtnText : '') + ' <i class=\"' + prefix + 'caret\"></i>' + '</button>' + '</div>';\n    },\n    postRender: function () {\n      var self$$1 = this, onClickHandler = self$$1.settings.onclick;\n      self$$1.on('click', function (e) {\n        var node = e.target;\n        if (e.control === this) {\n          while (node) {\n            if (e.aria && e.aria.key !== 'down' || node.nodeName === 'BUTTON' && node.className.indexOf('open') === -1) {\n              e.stopImmediatePropagation();\n              if (onClickHandler) {\n                onClickHandler.call(this, e);\n              }\n              return;\n            }\n            node = node.parentNode;\n          }\n        }\n      });\n      delete self$$1.settings.onclick;\n      return self$$1._super();\n    }\n  });\n\n  var StackLayout = FlowLayout.extend({\n    Defaults: {\n      containerClass: 'stack-layout',\n      controlClass: 'stack-layout-item',\n      endClass: 'break'\n    },\n    isNative: function () {\n      return true;\n    }\n  });\n\n  var TabPanel = Panel.extend({\n    Defaults: {\n      layout: 'absolute',\n      defaults: { type: 'panel' }\n    },\n    activateTab: function (idx) {\n      var activeTabElm;\n      if (this.activeTabId) {\n        activeTabElm = this.getEl(this.activeTabId);\n        global$9(activeTabElm).removeClass(this.classPrefix + 'active');\n        activeTabElm.setAttribute('aria-selected', 'false');\n      }\n      this.activeTabId = 't' + idx;\n      activeTabElm = this.getEl('t' + idx);\n      activeTabElm.setAttribute('aria-selected', 'true');\n      global$9(activeTabElm).addClass(this.classPrefix + 'active');\n      this.items()[idx].show().fire('showtab');\n      this.reflow();\n      this.items().each(function (item, i) {\n        if (idx !== i) {\n          item.hide();\n        }\n      });\n    },\n    renderHtml: function () {\n      var self = this;\n      var layout = self._layout;\n      var tabsHtml = '';\n      var prefix = self.classPrefix;\n      self.preRender();\n      layout.preRender(self);\n      self.items().each(function (ctrl, i) {\n        var id = self._id + '-t' + i;\n        ctrl.aria('role', 'tabpanel');\n        ctrl.aria('labelledby', id);\n        tabsHtml += '<div id=\"' + id + '\" class=\"' + prefix + 'tab\" ' + 'unselectable=\"on\" role=\"tab\" aria-controls=\"' + ctrl._id + '\" aria-selected=\"false\" tabIndex=\"-1\">' + self.encode(ctrl.settings.title) + '</div>';\n      });\n      return '<div id=\"' + self._id + '\" class=\"' + self.classes + '\" hidefocus=\"1\" tabindex=\"-1\">' + '<div id=\"' + self._id + '-head\" class=\"' + prefix + 'tabs\" role=\"tablist\">' + tabsHtml + '</div>' + '<div id=\"' + self._id + '-body\" class=\"' + self.bodyClasses + '\">' + layout.renderHtml(self) + '</div>' + '</div>';\n    },\n    postRender: function () {\n      var self = this;\n      self._super();\n      self.settings.activeTab = self.settings.activeTab || 0;\n      self.activateTab(self.settings.activeTab);\n      this.on('click', function (e) {\n        var targetParent = e.target.parentNode;\n        if (targetParent && targetParent.id === self._id + '-head') {\n          var i = targetParent.childNodes.length;\n          while (i--) {\n            if (targetParent.childNodes[i] === e.target) {\n              self.activateTab(i);\n            }\n          }\n        }\n      });\n    },\n    initLayoutRect: function () {\n      var self = this;\n      var rect, minW, minH;\n      minW = funcs.getSize(self.getEl('head')).width;\n      minW = minW < 0 ? 0 : minW;\n      minH = 0;\n      self.items().each(function (item) {\n        minW = Math.max(minW, item.layoutRect().minW);\n        minH = Math.max(minH, item.layoutRect().minH);\n      });\n      self.items().each(function (ctrl) {\n        ctrl.settings.x = 0;\n        ctrl.settings.y = 0;\n        ctrl.settings.w = minW;\n        ctrl.settings.h = minH;\n        ctrl.layoutRect({\n          x: 0,\n          y: 0,\n          w: minW,\n          h: minH\n        });\n      });\n      var headH = funcs.getSize(self.getEl('head')).height;\n      self.settings.minWidth = minW;\n      self.settings.minHeight = minH + headH;\n      rect = self._super();\n      rect.deltaH += headH;\n      rect.innerH = rect.h - rect.deltaH;\n      return rect;\n    }\n  });\n\n  var TextBox = Widget.extend({\n    init: function (settings) {\n      var self$$1 = this;\n      self$$1._super(settings);\n      self$$1.classes.add('textbox');\n      if (settings.multiline) {\n        self$$1.classes.add('multiline');\n      } else {\n        self$$1.on('keydown', function (e) {\n          var rootControl;\n          if (e.keyCode === 13) {\n            e.preventDefault();\n            self$$1.parents().reverse().each(function (ctrl) {\n              if (ctrl.toJSON) {\n                rootControl = ctrl;\n                return false;\n              }\n            });\n            self$$1.fire('submit', { data: rootControl.toJSON() });\n          }\n        });\n        self$$1.on('keyup', function (e) {\n          self$$1.state.set('value', e.target.value);\n        });\n      }\n    },\n    repaint: function () {\n      var self$$1 = this;\n      var style, rect, borderBox, borderW, borderH = 0, lastRepaintRect;\n      style = self$$1.getEl().style;\n      rect = self$$1._layoutRect;\n      lastRepaintRect = self$$1._lastRepaintRect || {};\n      var doc = document;\n      if (!self$$1.settings.multiline && doc.all && (!doc.documentMode || doc.documentMode <= 8)) {\n        style.lineHeight = rect.h - borderH + 'px';\n      }\n      borderBox = self$$1.borderBox;\n      borderW = borderBox.left + borderBox.right + 8;\n      borderH = borderBox.top + borderBox.bottom + (self$$1.settings.multiline ? 8 : 0);\n      if (rect.x !== lastRepaintRect.x) {\n        style.left = rect.x + 'px';\n        lastRepaintRect.x = rect.x;\n      }\n      if (rect.y !== lastRepaintRect.y) {\n        style.top = rect.y + 'px';\n        lastRepaintRect.y = rect.y;\n      }\n      if (rect.w !== lastRepaintRect.w) {\n        style.width = rect.w - borderW + 'px';\n        lastRepaintRect.w = rect.w;\n      }\n      if (rect.h !== lastRepaintRect.h) {\n        style.height = rect.h - borderH + 'px';\n        lastRepaintRect.h = rect.h;\n      }\n      self$$1._lastRepaintRect = lastRepaintRect;\n      self$$1.fire('repaint', {}, false);\n      return self$$1;\n    },\n    renderHtml: function () {\n      var self$$1 = this;\n      var settings = self$$1.settings;\n      var attrs, elm;\n      attrs = {\n        id: self$$1._id,\n        hidefocus: '1'\n      };\n      global$2.each([\n        'rows',\n        'spellcheck',\n        'maxLength',\n        'size',\n        'readonly',\n        'min',\n        'max',\n        'step',\n        'list',\n        'pattern',\n        'placeholder',\n        'required',\n        'multiple'\n      ], function (name$$1) {\n        attrs[name$$1] = settings[name$$1];\n      });\n      if (self$$1.disabled()) {\n        attrs.disabled = 'disabled';\n      }\n      if (settings.subtype) {\n        attrs.type = settings.subtype;\n      }\n      elm = funcs.create(settings.multiline ? 'textarea' : 'input', attrs);\n      elm.value = self$$1.state.get('value');\n      elm.className = self$$1.classes.toString();\n      return elm.outerHTML;\n    },\n    value: function (value) {\n      if (arguments.length) {\n        this.state.set('value', value);\n        return this;\n      }\n      if (this.state.get('rendered')) {\n        this.state.set('value', this.getEl().value);\n      }\n      return this.state.get('value');\n    },\n    postRender: function () {\n      var self$$1 = this;\n      self$$1.getEl().value = self$$1.state.get('value');\n      self$$1._super();\n      self$$1.$el.on('change', function (e) {\n        self$$1.state.set('value', e.target.value);\n        self$$1.fire('change', e);\n      });\n    },\n    bindStates: function () {\n      var self$$1 = this;\n      self$$1.state.on('change:value', function (e) {\n        if (self$$1.getEl().value !== e.value) {\n          self$$1.getEl().value = e.value;\n        }\n      });\n      self$$1.state.on('change:disabled', function (e) {\n        self$$1.getEl().disabled = e.value;\n      });\n      return self$$1._super();\n    },\n    remove: function () {\n      this.$el.off();\n      this._super();\n    }\n  });\n\n  var getApi = function () {\n    return {\n      Selector: Selector,\n      Collection: Collection$2,\n      ReflowQueue: $_6dtmktuzjnlpb56i,\n      Control: Control$1,\n      Factory: global$4,\n      KeyboardNavigation: KeyboardNavigation,\n      Container: Container,\n      DragHelper: DragHelper,\n      Scrollable: $_2rcmydv1jnlpb56r,\n      Panel: Panel,\n      Movable: $_9hbasgumjnlpb54u,\n      Resizable: $_f2nebnv3jnlpb56x,\n      FloatPanel: FloatPanel,\n      Window: Window$$1,\n      MessageBox: MessageBox,\n      Tooltip: Tooltip,\n      Widget: Widget,\n      Progress: Progress,\n      Notification: Notification,\n      Layout: Layout,\n      AbsoluteLayout: AbsoluteLayout,\n      Button: Button,\n      ButtonGroup: ButtonGroup,\n      Checkbox: Checkbox,\n      ComboBox: ComboBox,\n      ColorBox: ColorBox,\n      PanelButton: PanelButton,\n      ColorButton: ColorButton,\n      ColorPicker: ColorPicker,\n      Path: Path,\n      ElementPath: ElementPath,\n      FormItem: FormItem,\n      Form: Form,\n      FieldSet: FieldSet,\n      FilePicker: FilePicker,\n      FitLayout: FitLayout,\n      FlexLayout: FlexLayout,\n      FlowLayout: FlowLayout,\n      FormatControls: $_4hizytwzjnlpb5jj,\n      GridLayout: GridLayout,\n      Iframe: Iframe$1,\n      InfoBox: InfoBox,\n      Label: Label,\n      Toolbar: Toolbar$1,\n      MenuBar: MenuBar,\n      MenuButton: MenuButton,\n      MenuItem: MenuItem,\n      Throbber: Throbber,\n      Menu: Menu,\n      ListBox: ListBox,\n      Radio: Radio,\n      ResizeHandle: ResizeHandle,\n      SelectBox: SelectBox,\n      Slider: Slider,\n      Spacer: Spacer,\n      SplitButton: SplitButton,\n      StackLayout: StackLayout,\n      TabPanel: TabPanel,\n      TextBox: TextBox,\n      DropZone: DropZone,\n      BrowseButton: BrowseButton\n    };\n  };\n  var appendTo = function (target) {\n    if (target.ui) {\n      global$2.each(getApi(), function (ref, key) {\n        target.ui[key] = ref;\n      });\n    } else {\n      target.ui = getApi();\n    }\n  };\n  var registerToFactory = function () {\n    global$2.each(getApi(), function (ref, key) {\n      global$4.add(key, ref);\n    });\n  };\n  var Api = {\n    appendTo: appendTo,\n    registerToFactory: registerToFactory\n  };\n\n  Api.registerToFactory();\n  Api.appendTo(window.tinymce ? window.tinymce : {});\n  global.add('modern', function (editor) {\n    $_4hizytwzjnlpb5jj.setup(editor);\n    return $_3xnbd6tsjnlpb52c.get(editor);\n  });\n  function Theme () {\n  }\n\n  return Theme;\n\n}());\n})();\n"]}]}