{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/anchor/plugin.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/anchor/plugin.js","mtime":1551936176000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var anchor = function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var isValidId = function (id) {\n      return /^[A-Za-z][A-Za-z0-9\\-:._]*$/.test(id);\n    };\n\n    var getId = function (editor) {\n      var selectedNode = editor.selection.getNode();\n      var isAnchor = selectedNode.tagName === 'A' && editor.dom.getAttrib(selectedNode, 'href') === '';\n      return isAnchor ? selectedNode.id || selectedNode.name : '';\n    };\n\n    var insert = function (editor, id) {\n      var selectedNode = editor.selection.getNode();\n      var isAnchor = selectedNode.tagName === 'A' && editor.dom.getAttrib(selectedNode, 'href') === '';\n\n      if (isAnchor) {\n        selectedNode.removeAttribute('name');\n        selectedNode.id = id;\n        editor.undoManager.add();\n      } else {\n        editor.focus();\n        editor.selection.collapse(true);\n        editor.execCommand('mceInsertContent', false, editor.dom.createHTML('a', {\n          id: id\n        }));\n      }\n    };\n\n    var $_5lal9k8ojnlpb0pa = {\n      isValidId: isValidId,\n      getId: getId,\n      insert: insert\n    };\n\n    var insertAnchor = function (editor, newId) {\n      if (!$_5lal9k8ojnlpb0pa.isValidId(newId)) {\n        editor.windowManager.alert('Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.');\n        return true;\n      } else {\n        $_5lal9k8ojnlpb0pa.insert(editor, newId);\n        return false;\n      }\n    };\n\n    var open = function (editor) {\n      var currentId = $_5lal9k8ojnlpb0pa.getId(editor);\n      editor.windowManager.open({\n        title: 'Anchor',\n        body: {\n          type: 'textbox',\n          name: 'id',\n          size: 40,\n          label: 'Id',\n          value: currentId\n        },\n        onsubmit: function (e) {\n          var newId = e.data.id;\n\n          if (insertAnchor(editor, newId)) {\n            e.preventDefault();\n          }\n        }\n      });\n    };\n\n    var $_1fc9w78njnlpb0p8 = {\n      open: open\n    };\n\n    var register = function (editor) {\n      editor.addCommand('mceAnchor', function () {\n        $_1fc9w78njnlpb0p8.open(editor);\n      });\n    };\n\n    var $_5m6ccx8mjnlpb0p7 = {\n      register: register\n    };\n\n    var isAnchorNode = function (node) {\n      return !node.attr('href') && (node.attr('id') || node.attr('name')) && !node.firstChild;\n    };\n\n    var setContentEditable = function (state) {\n      return function (nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n          if (isAnchorNode(nodes[i])) {\n            nodes[i].attr('contenteditable', state);\n          }\n        }\n      };\n    };\n\n    var setup = function (editor) {\n      editor.on('PreInit', function () {\n        editor.parser.addNodeFilter('a', setContentEditable('false'));\n        editor.serializer.addNodeFilter('a', setContentEditable(null));\n      });\n    };\n\n    var $_np20t8pjnlpb0pc = {\n      setup: setup\n    };\n\n    var register$1 = function (editor) {\n      editor.addButton('anchor', {\n        icon: 'anchor',\n        tooltip: 'Anchor',\n        cmd: 'mceAnchor',\n        stateSelector: 'a:not([href])'\n      });\n      editor.addMenuItem('anchor', {\n        icon: 'anchor',\n        text: 'Anchor',\n        context: 'insert',\n        cmd: 'mceAnchor'\n      });\n    };\n\n    var $_1ix5258qjnlpb0pd = {\n      register: register$1\n    };\n    global.add('anchor', function (editor) {\n      $_np20t8pjnlpb0pc.setup(editor);\n      $_5m6ccx8mjnlpb0p7.register(editor);\n      $_1ix5258qjnlpb0pd.register(editor);\n    });\n\n    function Plugin() {}\n\n    return Plugin;\n  }();\n})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/anchor/plugin.js"],"names":["anchor","global","tinymce","util","Tools","resolve","isValidId","id","test","getId","editor","selectedNode","selection","getNode","isAnchor","tagName","dom","getAttrib","name","insert","removeAttribute","undoManager","add","focus","collapse","execCommand","createHTML","$_5lal9k8ojnlpb0pa","insertAnchor","newId","windowManager","alert","open","currentId","title","body","type","size","label","value","onsubmit","e","data","preventDefault","$_1fc9w78njnlpb0p8","register","addCommand","$_5m6ccx8mjnlpb0p7","isAnchorNode","node","attr","firstChild","setContentEditable","state","nodes","i","length","setup","on","parser","addNodeFilter","serializer","$_np20t8pjnlpb0pc","register$1","addButton","icon","tooltip","cmd","stateSelector","addMenuItem","text","context","$_1ix5258qjnlpb0pd","Plugin"],"mappings":"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","sourcesContent":["(function () {\nvar anchor = (function () {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var isValidId = function (id) {\n    return /^[A-Za-z][A-Za-z0-9\\-:._]*$/.test(id);\n  };\n  var getId = function (editor) {\n    var selectedNode = editor.selection.getNode();\n    var isAnchor = selectedNode.tagName === 'A' && editor.dom.getAttrib(selectedNode, 'href') === '';\n    return isAnchor ? selectedNode.id || selectedNode.name : '';\n  };\n  var insert = function (editor, id) {\n    var selectedNode = editor.selection.getNode();\n    var isAnchor = selectedNode.tagName === 'A' && editor.dom.getAttrib(selectedNode, 'href') === '';\n    if (isAnchor) {\n      selectedNode.removeAttribute('name');\n      selectedNode.id = id;\n      editor.undoManager.add();\n    } else {\n      editor.focus();\n      editor.selection.collapse(true);\n      editor.execCommand('mceInsertContent', false, editor.dom.createHTML('a', { id: id }));\n    }\n  };\n  var $_5lal9k8ojnlpb0pa = {\n    isValidId: isValidId,\n    getId: getId,\n    insert: insert\n  };\n\n  var insertAnchor = function (editor, newId) {\n    if (!$_5lal9k8ojnlpb0pa.isValidId(newId)) {\n      editor.windowManager.alert('Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores.');\n      return true;\n    } else {\n      $_5lal9k8ojnlpb0pa.insert(editor, newId);\n      return false;\n    }\n  };\n  var open = function (editor) {\n    var currentId = $_5lal9k8ojnlpb0pa.getId(editor);\n    editor.windowManager.open({\n      title: 'Anchor',\n      body: {\n        type: 'textbox',\n        name: 'id',\n        size: 40,\n        label: 'Id',\n        value: currentId\n      },\n      onsubmit: function (e) {\n        var newId = e.data.id;\n        if (insertAnchor(editor, newId)) {\n          e.preventDefault();\n        }\n      }\n    });\n  };\n  var $_1fc9w78njnlpb0p8 = { open: open };\n\n  var register = function (editor) {\n    editor.addCommand('mceAnchor', function () {\n      $_1fc9w78njnlpb0p8.open(editor);\n    });\n  };\n  var $_5m6ccx8mjnlpb0p7 = { register: register };\n\n  var isAnchorNode = function (node) {\n    return !node.attr('href') && (node.attr('id') || node.attr('name')) && !node.firstChild;\n  };\n  var setContentEditable = function (state) {\n    return function (nodes) {\n      for (var i = 0; i < nodes.length; i++) {\n        if (isAnchorNode(nodes[i])) {\n          nodes[i].attr('contenteditable', state);\n        }\n      }\n    };\n  };\n  var setup = function (editor) {\n    editor.on('PreInit', function () {\n      editor.parser.addNodeFilter('a', setContentEditable('false'));\n      editor.serializer.addNodeFilter('a', setContentEditable(null));\n    });\n  };\n  var $_np20t8pjnlpb0pc = { setup: setup };\n\n  var register$1 = function (editor) {\n    editor.addButton('anchor', {\n      icon: 'anchor',\n      tooltip: 'Anchor',\n      cmd: 'mceAnchor',\n      stateSelector: 'a:not([href])'\n    });\n    editor.addMenuItem('anchor', {\n      icon: 'anchor',\n      text: 'Anchor',\n      context: 'insert',\n      cmd: 'mceAnchor'\n    });\n  };\n  var $_1ix5258qjnlpb0pd = { register: register$1 };\n\n  global.add('anchor', function (editor) {\n    $_np20t8pjnlpb0pc.setup(editor);\n    $_5m6ccx8mjnlpb0p7.register(editor);\n    $_1ix5258qjnlpb0pd.register(editor);\n  });\n  function Plugin () {\n  }\n\n  return Plugin;\n\n}());\n})();\n"]}]}