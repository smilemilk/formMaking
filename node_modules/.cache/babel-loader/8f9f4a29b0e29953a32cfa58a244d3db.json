{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/tinymce.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/tinymce.js","mtime":1551936177000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["// 4.8.4 (2018-10-23)\n(function(){(function(){'use strict';var noop=function(){var x=[];for(var _i=0;_i<arguments.length;_i++){x[_i]=arguments[_i];}};var compose=function(fa,fb){return function(){var x=[];for(var _i=0;_i<arguments.length;_i++){x[_i]=arguments[_i];}return fa(fb.apply(null,arguments));};};var constant=function(value){return function(){return value;};};var identity=function(x){return x;};var curry=function(f){var x=[];for(var _i=1;_i<arguments.length;_i++){x[_i-1]=arguments[_i];}var args=new Array(arguments.length-1);for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];return function(){var x=[];for(var _i=0;_i<arguments.length;_i++){x[_i]=arguments[_i];}var newArgs=new Array(arguments.length);for(var j=0;j<newArgs.length;j++)newArgs[j]=arguments[j];var all=args.concat(newArgs);return f.apply(null,all);};};var die=function(msg){return function(){throw new Error(msg);};};var never=constant(false);var always=constant(true);var never$1=never;var always$1=always;var none=function(){return NONE;};var NONE=function(){var eq=function(o){return o.isNone();};var call$$1=function(thunk){return thunk();};var id=function(n){return n;};var noop$$1=function(){};var nul=function(){return null;};var undef=function(){return undefined;};var me={fold:function(n,s){return n();},is:never$1,isSome:never$1,isNone:always$1,getOr:id,getOrThunk:call$$1,getOrDie:function(msg){throw new Error(msg||'error: getOrDie called on none.');},getOrNull:nul,getOrUndefined:undef,or:id,orThunk:call$$1,map:none,ap:none,each:noop$$1,bind:none,flatten:none,exists:never$1,forall:always$1,filter:none,equals:eq,equals_:eq,toArray:function(){return[];},toString:constant('none()')};if(Object.freeze)Object.freeze(me);return me;}();var some=function(a){var constant_a=function(){return a;};var self=function(){return me;};var map=function(f){return some(f(a));};var bind=function(f){return f(a);};var me={fold:function(n,s){return s(a);},is:function(v){return a===v;},isSome:always$1,isNone:never$1,getOr:constant_a,getOrThunk:constant_a,getOrDie:constant_a,getOrNull:constant_a,getOrUndefined:constant_a,or:self,orThunk:self,map:map,ap:function(optfab){return optfab.fold(none,function(fab){return some(fab(a));});},each:function(f){f(a);},bind:bind,flatten:constant_a,exists:bind,forall:bind,filter:function(f){return f(a)?me:NONE;},equals:function(o){return o.is(a);},equals_:function(o,elementEq){return o.fold(never$1,function(b){return elementEq(a,b);});},toArray:function(){return[a];},toString:function(){return'some('+a+')';}};return me;};var from=function(value){return value===null||value===undefined?NONE:some(value);};var Option={some:some,none:none,from:from};var typeOf=function(x){if(x===null)return'null';var t=typeof x;if(t==='object'&&Array.prototype.isPrototypeOf(x))return'array';if(t==='object'&&String.prototype.isPrototypeOf(x))return'string';return t;};var isType=function(type){return function(value){return typeOf(value)===type;};};var isString=isType('string');var isObject=isType('object');var isArray=isType('array');var isNull=isType('null');var isBoolean=isType('boolean');var isFunction=isType('function');var isNumber=isType('number');var rawIndexOf=function(){var pIndexOf=Array.prototype.indexOf;var fastIndex=function(xs,x){return pIndexOf.call(xs,x);};var slowIndex=function(xs,x){return slowIndexOf(xs,x);};return pIndexOf===undefined?slowIndex:fastIndex;}();var indexOf=function(xs,x){var r=rawIndexOf(xs,x);return r===-1?Option.none():Option.some(r);};var contains=function(xs,x){return rawIndexOf(xs,x)>-1;};var exists=function(xs,pred){return findIndex(xs,pred).isSome();};var map=function(xs,f){var len=xs.length;var r=new Array(len);for(var i=0;i<len;i++){var x=xs[i];r[i]=f(x,i,xs);}return r;};var each=function(xs,f){for(var i=0,len=xs.length;i<len;i++){var x=xs[i];f(x,i,xs);}};var eachr=function(xs,f){for(var i=xs.length-1;i>=0;i--){var x=xs[i];f(x,i,xs);}};var partition=function(xs,pred){var pass=[];var fail=[];for(var i=0,len=xs.length;i<len;i++){var x=xs[i];var arr=pred(x,i,xs)?pass:fail;arr.push(x);}return{pass:pass,fail:fail};};var filter=function(xs,pred){var r=[];for(var i=0,len=xs.length;i<len;i++){var x=xs[i];if(pred(x,i,xs)){r.push(x);}}return r;};var foldr=function(xs,f,acc){eachr(xs,function(x){acc=f(acc,x);});return acc;};var foldl=function(xs,f,acc){each(xs,function(x){acc=f(acc,x);});return acc;};var find=function(xs,pred){for(var i=0,len=xs.length;i<len;i++){var x=xs[i];if(pred(x,i,xs)){return Option.some(x);}}return Option.none();};var findIndex=function(xs,pred){for(var i=0,len=xs.length;i<len;i++){var x=xs[i];if(pred(x,i,xs)){return Option.some(i);}}return Option.none();};var slowIndexOf=function(xs,x){for(var i=0,len=xs.length;i<len;++i){if(xs[i]===x){return i;}}return-1;};var push=Array.prototype.push;var flatten=function(xs){var r=[];for(var i=0,len=xs.length;i<len;++i){if(!Array.prototype.isPrototypeOf(xs[i]))throw new Error('Arr.flatten item '+i+' was not an array, input: '+xs);push.apply(r,xs[i]);}return r;};var bind=function(xs,f){var output=map(xs,f);return flatten(output);};var forall=function(xs,pred){for(var i=0,len=xs.length;i<len;++i){var x=xs[i];if(pred(x,i,xs)!==true){return false;}}return true;};var slice=Array.prototype.slice;var reverse=function(xs){var r=slice.call(xs,0);r.reverse();return r;};var difference=function(a1,a2){return filter(a1,function(x){return!contains(a2,x);});};var mapToObject=function(xs,f){var r={};for(var i=0,len=xs.length;i<len;i++){var x=xs[i];r[String(x)]=f(x,i);}return r;};var sort=function(xs,comparator){var copy=slice.call(xs,0);copy.sort(comparator);return copy;};var head=function(xs){return xs.length===0?Option.none():Option.some(xs[0]);};var last=function(xs){return xs.length===0?Option.none():Option.some(xs[xs.length-1]);};var from$1=isFunction(Array.from)?Array.from:function(x){return slice.call(x);};var Global=typeof window!=='undefined'?window:Function('return this;')();var path=function(parts,scope){var o=scope!==undefined&&scope!==null?scope:Global;for(var i=0;i<parts.length&&o!==undefined&&o!==null;++i)o=o[parts[i]];return o;};var resolve=function(p,scope){var parts=p.split('.');return path(parts,scope);};var unsafe=function(name,scope){return resolve(name,scope);};var getOrDie=function(name,scope){var actual=unsafe(name,scope);if(actual===undefined||actual===null)throw name+' not available on this browser';return actual;};var $_3b2dlgcjnlpawlt={getOrDie:getOrDie};var url=function(){return $_3b2dlgcjnlpawlt.getOrDie('URL');};var createObjectURL=function(blob){return url().createObjectURL(blob);};var revokeObjectURL=function(u){url().revokeObjectURL(u);};var $_9khkh7bjnlpawls={createObjectURL:createObjectURL,revokeObjectURL:revokeObjectURL};var nav=navigator;var userAgent=nav.userAgent;var opera;var webkit;var ie;var ie11;var ie12;var gecko;var mac;var iDevice;var android;var fileApi;var phone;var tablet;var windowsPhone;var matchMediaQuery=function(query){return'matchMedia'in window?matchMedia(query).matches:false;};opera=false;android=/Android/.test(userAgent);webkit=/WebKit/.test(userAgent);ie=!webkit&&!opera&&/MSIE/gi.test(userAgent)&&/Explorer/gi.test(nav.appName);ie=ie&&/MSIE (\\w+)\\./.exec(userAgent)[1];ie11=userAgent.indexOf('Trident/')!==-1&&(userAgent.indexOf('rv:')!==-1||nav.appName.indexOf('Netscape')!==-1)?11:false;ie12=userAgent.indexOf('Edge/')!==-1&&!ie&&!ie11?12:false;ie=ie||ie11||ie12;gecko=!webkit&&!ie11&&/Gecko/.test(userAgent);mac=userAgent.indexOf('Mac')!==-1;iDevice=/(iPad|iPhone)/.test(userAgent);fileApi='FormData'in window&&'FileReader'in window&&'URL'in window&&!!$_9khkh7bjnlpawls.createObjectURL;phone=matchMediaQuery('only screen and (max-device-width: 480px)')&&(android||iDevice);tablet=matchMediaQuery('only screen and (min-width: 800px)')&&(android||iDevice);windowsPhone=userAgent.indexOf('Windows Phone')!==-1;if(ie12){webkit=false;}var contentEditable=!iDevice||fileApi||parseInt(userAgent.match(/AppleWebKit\\/(\\d*)/)[1],10)>=534;var $_cseqobajnlpawll={opera:opera,webkit:webkit,ie:ie,gecko:gecko,mac:mac,iOS:iDevice,android:android,contentEditable:contentEditable,transparentSrc:'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',caretAfter:ie!==8,range:window.getSelection&&'Range'in window,documentMode:ie&&!ie12?document.documentMode||7:10,fileApi:fileApi,ceFalse:ie===false||ie>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:false,canHaveCSP:ie===false||ie>11,desktop:!phone&&!tablet,windowsPhone:windowsPhone};var promise=function(){function bind(fn,thisArg){return function(){fn.apply(thisArg,arguments);};}var isArray=Array.isArray||function(value){return Object.prototype.toString.call(value)==='[object Array]';};var Promise=function(fn){if(typeof this!=='object'){throw new TypeError('Promises must be constructed via new');}if(typeof fn!=='function'){throw new TypeError('not a function');}this._state=null;this._value=null;this._deferreds=[];doResolve(fn,bind(resolve,this),bind(reject,this));};var asap=Promise.immediateFn||typeof setImmediate==='function'&&setImmediate||function(fn){setTimeout(fn,1);};function handle(deferred){var me=this;if(this._state===null){this._deferreds.push(deferred);return;}asap(function(){var cb=me._state?deferred.onFulfilled:deferred.onRejected;if(cb===null){(me._state?deferred.resolve:deferred.reject)(me._value);return;}var ret;try{ret=cb(me._value);}catch(e){deferred.reject(e);return;}deferred.resolve(ret);});}function resolve(newValue){try{if(newValue===this){throw new TypeError('A promise cannot be resolved with itself.');}if(newValue&&(typeof newValue==='object'||typeof newValue==='function')){var then=newValue.then;if(typeof then==='function'){doResolve(bind(then,newValue),bind(resolve,this),bind(reject,this));return;}}this._state=true;this._value=newValue;finale.call(this);}catch(e){reject.call(this,e);}}function reject(newValue){this._state=false;this._value=newValue;finale.call(this);}function finale(){for(var i=0,len=this._deferreds.length;i<len;i++){handle.call(this,this._deferreds[i]);}this._deferreds=null;}function Handler(onFulfilled,onRejected,resolve,reject){this.onFulfilled=typeof onFulfilled==='function'?onFulfilled:null;this.onRejected=typeof onRejected==='function'?onRejected:null;this.resolve=resolve;this.reject=reject;}function doResolve(fn,onFulfilled,onRejected){var done=false;try{fn(function(value){if(done){return;}done=true;onFulfilled(value);},function(reason){if(done){return;}done=true;onRejected(reason);});}catch(ex){if(done){return;}done=true;onRejected(ex);}}Promise.prototype.catch=function(onRejected){return this.then(null,onRejected);};Promise.prototype.then=function(onFulfilled,onRejected){var me=this;return new Promise(function(resolve,reject){handle.call(me,new Handler(onFulfilled,onRejected,resolve,reject));});};Promise.all=function(){var args=Array.prototype.slice.call(arguments.length===1&&isArray(arguments[0])?arguments[0]:arguments);return new Promise(function(resolve,reject){if(args.length===0){return resolve([]);}var remaining=args.length;function res(i,val){try{if(val&&(typeof val==='object'||typeof val==='function')){var then=val.then;if(typeof then==='function'){then.call(val,function(val){res(i,val);},reject);return;}}args[i]=val;if(--remaining===0){resolve(args);}}catch(ex){reject(ex);}}for(var i=0;i<args.length;i++){res(i,args[i]);}});};Promise.resolve=function(value){if(value&&typeof value==='object'&&value.constructor===Promise){return value;}return new Promise(function(resolve){resolve(value);});};Promise.reject=function(value){return new Promise(function(resolve,reject){reject(value);});};Promise.race=function(values){return new Promise(function(resolve,reject){for(var i=0,len=values.length;i<len;i++){values[i].then(resolve,reject);}});};return Promise;};var promiseObj=window.Promise?window.Promise:promise();var requestAnimationFramePromise;var requestAnimationFrame$$1=function(callback,element){var i,requestAnimationFrameFunc=window.requestAnimationFrame;var vendors=['ms','moz','webkit'];var featurefill=function(callback){window.setTimeout(callback,0);};for(i=0;i<vendors.length&&!requestAnimationFrameFunc;i++){requestAnimationFrameFunc=window[vendors[i]+'RequestAnimationFrame'];}if(!requestAnimationFrameFunc){requestAnimationFrameFunc=featurefill;}requestAnimationFrameFunc(callback,element);};var wrappedSetTimeout=function(callback,time){if(typeof time!=='number'){time=0;}return setTimeout(callback,time);};var wrappedSetInterval=function(callback,time){if(typeof time!=='number'){time=1;}return setInterval(callback,time);};var wrappedClearTimeout=function(id){return clearTimeout(id);};var wrappedClearInterval=function(id){return clearInterval(id);};var debounce=function(callback,time){var timer,func;func=function(){var args=arguments;clearTimeout(timer);timer=wrappedSetTimeout(function(){callback.apply(this,args);},time);};func.stop=function(){clearTimeout(timer);};return func;};var $_2nbnh1ijnlpawpi={requestAnimationFrame:function(callback,element){if(requestAnimationFramePromise){requestAnimationFramePromise.then(callback);return;}requestAnimationFramePromise=new promiseObj(function(resolve){if(!element){element=document.body;}requestAnimationFrame$$1(resolve,element);}).then(callback);},setTimeout:wrappedSetTimeout,setInterval:wrappedSetInterval,setEditorTimeout:function(editor,callback,time){return wrappedSetTimeout(function(){if(!editor.removed){callback();}},time);},setEditorInterval:function(editor,callback,time){var timer;timer=wrappedSetInterval(function(){if(!editor.removed){callback();}else{clearInterval(timer);}},time);return timer;},debounce:debounce,throttle:debounce,clearInterval:wrappedClearInterval,clearTimeout:wrappedClearTimeout};var eventExpandoPrefix='mce-data-';var mouseEventRe=/^(?:mouse|contextmenu)|click/;var deprecated={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};var hasIsDefaultPrevented=function(event$$1){return event$$1.isDefaultPrevented===returnTrue||event$$1.isDefaultPrevented===returnFalse;};var returnFalse=function(){return false;};var returnTrue=function(){return true;};var addEvent=function(target,name$$1,callback,capture){if(target.addEventListener){target.addEventListener(name$$1,callback,capture||false);}else if(target.attachEvent){target.attachEvent('on'+name$$1,callback);}};var removeEvent=function(target,name$$1,callback,capture){if(target.removeEventListener){target.removeEventListener(name$$1,callback,capture||false);}else if(target.detachEvent){target.detachEvent('on'+name$$1,callback);}};var getTargetFromShadowDom=function(event$$1,defaultTarget){if(event$$1.composedPath){var composedPath=event$$1.composedPath();if(composedPath&&composedPath.length>0){return composedPath[0];}}return defaultTarget;};var fix=function(originalEvent,data){var name$$1;var event$$1=data||{};for(name$$1 in originalEvent){if(!deprecated[name$$1]){event$$1[name$$1]=originalEvent[name$$1];}}if(!event$$1.target){event$$1.target=event$$1.srcElement||document;}if($_cseqobajnlpawll.experimentalShadowDom){event$$1.target=getTargetFromShadowDom(originalEvent,event$$1.target);}if(originalEvent&&mouseEventRe.test(originalEvent.type)&&originalEvent.pageX===undefined&&originalEvent.clientX!==undefined){var eventDoc=event$$1.target.ownerDocument||document;var doc=eventDoc.documentElement;var body=eventDoc.body;event$$1.pageX=originalEvent.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event$$1.pageY=originalEvent.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}event$$1.preventDefault=function(){event$$1.isDefaultPrevented=returnTrue;if(originalEvent){if(originalEvent.preventDefault){originalEvent.preventDefault();}else{originalEvent.returnValue=false;}}};event$$1.stopPropagation=function(){event$$1.isPropagationStopped=returnTrue;if(originalEvent){if(originalEvent.stopPropagation){originalEvent.stopPropagation();}else{originalEvent.cancelBubble=true;}}};event$$1.stopImmediatePropagation=function(){event$$1.isImmediatePropagationStopped=returnTrue;event$$1.stopPropagation();};if(hasIsDefaultPrevented(event$$1)===false){event$$1.isDefaultPrevented=returnFalse;event$$1.isPropagationStopped=returnFalse;event$$1.isImmediatePropagationStopped=returnFalse;}if(typeof event$$1.metaKey==='undefined'){event$$1.metaKey=false;}return event$$1;};var bindOnReady=function(win,callback,eventUtils){var doc=win.document,event$$1={type:'ready'};if(eventUtils.domLoaded){callback(event$$1);return;}var isDocReady=function(){return doc.readyState==='complete'||doc.readyState==='interactive'&&doc.body;};var readyHandler=function(){if(!eventUtils.domLoaded){eventUtils.domLoaded=true;callback(event$$1);}};var waitForDomLoaded=function(){if(isDocReady()){removeEvent(doc,'readystatechange',waitForDomLoaded);readyHandler();}};var tryScroll=function(){try{doc.documentElement.doScroll('left');}catch(ex){$_2nbnh1ijnlpawpi.setTimeout(tryScroll);return;}readyHandler();};if(doc.addEventListener&&!($_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie<11)){if(isDocReady()){readyHandler();}else{addEvent(win,'DOMContentLoaded',readyHandler);}}else{addEvent(doc,'readystatechange',waitForDomLoaded);if(doc.documentElement.doScroll&&win.self===win.top){tryScroll();}}addEvent(win,'load',readyHandler);};var EventUtils=function(){var self$$1=this;var events={},count,expando,hasFocusIn,hasMouseEnterLeave,mouseEnterLeave;expando=eventExpandoPrefix+(+new Date()).toString(32);hasMouseEnterLeave='onmouseenter'in document.documentElement;hasFocusIn='onfocusin'in document.documentElement;mouseEnterLeave={mouseenter:'mouseover',mouseleave:'mouseout'};count=1;self$$1.domLoaded=false;self$$1.events=events;var executeHandlers=function(evt,id){var callbackList,i,l,callback;var container=events[id];callbackList=container&&container[evt.type];if(callbackList){for(i=0,l=callbackList.length;i<l;i++){callback=callbackList[i];if(callback&&callback.func.call(callback.scope,evt)===false){evt.preventDefault();}if(evt.isImmediatePropagationStopped()){return;}}}};self$$1.bind=function(target,names,callback,scope){var id,callbackList,i,name$$1,fakeName,nativeHandler,capture;var win=window;var defaultNativeHandler=function(evt){executeHandlers(fix(evt||win.event),id);};if(!target||target.nodeType===3||target.nodeType===8){return;}if(!target[expando]){id=count++;target[expando]=id;events[id]={};}else{id=target[expando];}scope=scope||target;names=names.split(' ');i=names.length;while(i--){name$$1=names[i];nativeHandler=defaultNativeHandler;fakeName=capture=false;if(name$$1==='DOMContentLoaded'){name$$1='ready';}if(self$$1.domLoaded&&name$$1==='ready'&&target.readyState==='complete'){callback.call(scope,fix({type:name$$1}));continue;}if(!hasMouseEnterLeave){fakeName=mouseEnterLeave[name$$1];if(fakeName){nativeHandler=function(evt){var current,related;current=evt.currentTarget;related=evt.relatedTarget;if(related&&current.contains){related=current.contains(related);}else{while(related&&related!==current){related=related.parentNode;}}if(!related){evt=fix(evt||win.event);evt.type=evt.type==='mouseout'?'mouseleave':'mouseenter';evt.target=current;executeHandlers(evt,id);}};}}if(!hasFocusIn&&(name$$1==='focusin'||name$$1==='focusout')){capture=true;fakeName=name$$1==='focusin'?'focus':'blur';nativeHandler=function(evt){evt=fix(evt||win.event);evt.type=evt.type==='focus'?'focusin':'focusout';executeHandlers(evt,id);};}callbackList=events[id][name$$1];if(!callbackList){events[id][name$$1]=callbackList=[{func:callback,scope:scope}];callbackList.fakeName=fakeName;callbackList.capture=capture;callbackList.nativeHandler=nativeHandler;if(name$$1==='ready'){bindOnReady(target,nativeHandler,self$$1);}else{addEvent(target,fakeName||name$$1,nativeHandler,capture);}}else{if(name$$1==='ready'&&self$$1.domLoaded){callback({type:name$$1});}else{callbackList.push({func:callback,scope:scope});}}}target=callbackList=0;return callback;};self$$1.unbind=function(target,names,callback){var id,callbackList,i,ci,name$$1,eventMap;if(!target||target.nodeType===3||target.nodeType===8){return self$$1;}id=target[expando];if(id){eventMap=events[id];if(names){names=names.split(' ');i=names.length;while(i--){name$$1=names[i];callbackList=eventMap[name$$1];if(callbackList){if(callback){ci=callbackList.length;while(ci--){if(callbackList[ci].func===callback){var nativeHandler=callbackList.nativeHandler;var fakeName=callbackList.fakeName,capture=callbackList.capture;callbackList=callbackList.slice(0,ci).concat(callbackList.slice(ci+1));callbackList.nativeHandler=nativeHandler;callbackList.fakeName=fakeName;callbackList.capture=capture;eventMap[name$$1]=callbackList;}}}if(!callback||callbackList.length===0){delete eventMap[name$$1];removeEvent(target,callbackList.fakeName||name$$1,callbackList.nativeHandler,callbackList.capture);}}}}else{for(name$$1 in eventMap){callbackList=eventMap[name$$1];removeEvent(target,callbackList.fakeName||name$$1,callbackList.nativeHandler,callbackList.capture);}eventMap={};}for(name$$1 in eventMap){return self$$1;}delete events[id];try{delete target[expando];}catch(ex){target[expando]=null;}}return self$$1;};self$$1.fire=function(target,name$$1,args){var id;if(!target||target.nodeType===3||target.nodeType===8){return self$$1;}args=fix(null,args);args.type=name$$1;args.target=target;do{id=target[expando];if(id){executeHandlers(args,id);}target=target.parentNode||target.ownerDocument||target.defaultView||target.parentWindow;}while(target&&!args.isPropagationStopped());return self$$1;};self$$1.clean=function(target){var i,children;var unbind=self$$1.unbind;if(!target||target.nodeType===3||target.nodeType===8){return self$$1;}if(target[expando]){unbind(target);}if(!target.getElementsByTagName){target=target.document;}if(target&&target.getElementsByTagName){unbind(target);children=target.getElementsByTagName('*');i=children.length;while(i--){target=children[i];if(target[expando]){unbind(target);}}}return self$$1;};self$$1.destroy=function(){events={};};self$$1.cancel=function(e){if(e){e.preventDefault();e.stopImmediatePropagation();}return false;};};EventUtils.Event=new EventUtils();EventUtils.Event.bind(window,'ready',function(){});var i;var support;var Expr;var getText;var isXML;var tokenize;var compile;var select;var outermostContext;var sortInput;var hasDuplicate;var setDocument;var document$1;var docElem;var documentIsHTML;var rbuggyQSA;var rbuggyMatches;var matches;var contains$1;var expando='sizzle'+-new Date();var preferredDoc=window.document;var dirruns=0;var done=0;var classCache=createCache();var tokenCache=createCache();var compilerCache=createCache();var sortOrder=function(a,b){if(a===b){hasDuplicate=true;}return 0;};var strundefined=typeof undefined;var MAX_NEGATIVE=1<<31;var hasOwn={}.hasOwnProperty;var arr=[];var pop=arr.pop;var push_native=arr.push;var push$1=arr.push;var slice$1=arr.slice;var indexOf$1=arr.indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i;}}return-1;};var booleans='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped';var whitespace='[\\\\x20\\\\t\\\\r\\\\n\\\\f]';var identifier='(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+';var attributes='\\\\['+whitespace+'*('+identifier+')(?:'+whitespace+'*([*^$|!~]?=)'+whitespace+'*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|('+identifier+'))|)'+whitespace+'*\\\\]';var pseudos=':('+identifier+')(?:\\\\(('+'(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|'+'((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|'+attributes+')*)|'+'.*'+')\\\\)|)';var rtrim=new RegExp('^'+whitespace+'+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)'+whitespace+'+$','g');var rcomma=new RegExp('^'+whitespace+'*,'+whitespace+'*');var rcombinators=new RegExp('^'+whitespace+'*([>+~]|'+whitespace+')'+whitespace+'*');var rattributeQuotes=new RegExp('='+whitespace+'*([^\\\\]\\'\"]*?)'+whitespace+'*\\\\]','g');var rpseudo=new RegExp(pseudos);var ridentifier=new RegExp('^'+identifier+'$');var matchExpr={ID:new RegExp('^#('+identifier+')'),CLASS:new RegExp('^\\\\.('+identifier+')'),TAG:new RegExp('^('+identifier+'|[*])'),ATTR:new RegExp('^'+attributes),PSEUDO:new RegExp('^'+pseudos),CHILD:new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\('+whitespace+'*(even|odd|(([+-]|)(\\\\d*)n|)'+whitespace+'*(?:([+-]|)'+whitespace+'*(\\\\d+)|))'+whitespace+'*\\\\)|)','i'),bool:new RegExp('^(?:'+booleans+')$','i'),needsContext:new RegExp('^'+whitespace+'*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\('+whitespace+'*((?:-\\\\d)?\\\\d*)'+whitespace+'*\\\\)|)(?=[^-]|$)','i')};var rinputs=/^(?:input|select|textarea|button)$/i;var rheader=/^h\\d$/i;var rnative=/^[^{]+\\{\\s*\\[native \\w/;var rquickExpr=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;var rsibling=/[+~]/;var rescape=/'|\\\\/g;var runescape=new RegExp('\\\\\\\\([\\\\da-f]{1,6}'+whitespace+'?|('+whitespace+')|.)','ig');var funescape=function(_,escaped,escapedWhitespace){var high='0x'+escaped-65536;return high!==high||escapedWhitespace?escaped:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320);};try{push$1.apply(arr=slice$1.call(preferredDoc.childNodes),preferredDoc.childNodes);arr[preferredDoc.childNodes.length].nodeType;}catch(e){push$1={apply:arr.length?function(target,els){push_native.apply(target,slice$1.call(els));}:function(target,els){var j=target.length,i=0;while(target[j++]=els[i++]){}target.length=j-1;}};}var Sizzle=function(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document$1){setDocument(context);}context=context||document$1;results=results||[];if(!selector||typeof selector!=='string'){return results;}if((nodeType=context.nodeType)!==1&&nodeType!==9){return[];}if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector)){if(m=match[1]){if(nodeType===9){elem=context.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){results.push(elem);return results;}}else{return results;}}else{if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains$1(context,elem)&&elem.id===m){results.push(elem);return results;}}}else if(match[2]){push$1.apply(results,context.getElementsByTagName(selector));return results;}else if((m=match[3])&&support.getElementsByClassName){push$1.apply(results,context.getElementsByClassName(m));return results;}}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){nid=old=expando;newContext=context;newSelector=nodeType===9&&selector;if(nodeType===1&&context.nodeName.toLowerCase()!=='object'){groups=tokenize(selector);if(old=context.getAttribute('id')){nid=old.replace(rescape,'\\\\$&');}else{context.setAttribute('id',nid);}nid='[id=\\''+nid+'\\'] ';i=groups.length;while(i--){groups[i]=nid+toSelector(groups[i]);}newContext=rsibling.test(selector)&&testContext(context.parentNode)||context;newSelector=groups.join(',');}if(newSelector){try{push$1.apply(results,newContext.querySelectorAll(newSelector));return results;}catch(qsaError){}finally{if(!old){context.removeAttribute('id');}}}}}return select(selector.replace(rtrim,'$1'),context,results,seed);};function createCache(){var keys=[];function cache(key,value){if(keys.push(key+' ')>Expr.cacheLength){delete cache[keys.shift()];}return cache[key+' ']=value;}return cache;}function markFunction(fn){fn[expando]=true;return fn;}function siblingCheck(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff){return diff;}if(cur){while(cur=cur.nextSibling){if(cur===b){return-1;}}}return a?1:-1;}function createInputPseudo(type){return function(elem){var name$$1=elem.nodeName.toLowerCase();return name$$1==='input'&&elem.type===type;};}function createButtonPseudo(type){return function(elem){var name$$1=elem.nodeName.toLowerCase();return(name$$1==='input'||name$$1==='button')&&elem.type===type;};}function createPositionalPseudo(fn){return markFunction(function(argument){argument=+argument;return markFunction(function(seed,matches){var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;while(i--){if(seed[j=matchIndexes[i]]){seed[j]=!(matches[j]=seed[j]);}}});});}function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context;}support=Sizzle.support={};isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?documentElement.nodeName!=='HTML':false;};setDocument=Sizzle.setDocument=function(node){var hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent$$1=doc.defaultView;function getTop(win){try{return win.top;}catch(ex){}return null;}if(doc===document$1||doc.nodeType!==9||!doc.documentElement){return document$1;}document$1=doc;docElem=doc.documentElement;documentIsHTML=!isXML(doc);if(parent$$1&&parent$$1!==getTop(parent$$1)){if(parent$$1.addEventListener){parent$$1.addEventListener('unload',function(){setDocument();},false);}else if(parent$$1.attachEvent){parent$$1.attachEvent('onunload',function(){setDocument();});}}support.attributes=true;support.getElementsByTagName=true;support.getElementsByClassName=rnative.test(doc.getElementsByClassName);support.getById=true;Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[];}};Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute('id')===attrId;};};Expr.find.TAG=support.getElementsByTagName?function(tag,context){if(typeof context.getElementsByTagName!==strundefined){return context.getElementsByTagName(tag);}}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(tag==='*'){while(elem=results[i++]){if(elem.nodeType===1){tmp.push(elem);}}return tmp;}return results;};Expr.find.CLASS=support.getElementsByClassName&&function(className,context){if(documentIsHTML){return context.getElementsByClassName(className);}};rbuggyMatches=[];rbuggyQSA=[];support.disconnectedMatch=true;rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join('|'));rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join('|'));hasCompare=rnative.test(docElem.compareDocumentPosition);contains$1=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return true;}}}return false;};sortOrder=hasCompare?function(a,b){if(a===b){hasDuplicate=true;return 0;}var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;if(compare){return compare;}compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;if(compare&1||!support.sortDetached&&b.compareDocumentPosition(a)===compare){if(a===doc||a.ownerDocument===preferredDoc&&contains$1(preferredDoc,a)){return-1;}if(b===doc||b.ownerDocument===preferredDoc&&contains$1(preferredDoc,b)){return 1;}return sortInput?indexOf$1.call(sortInput,a)-indexOf$1.call(sortInput,b):0;}return compare&4?-1:1;}:function(a,b){if(a===b){hasDuplicate=true;return 0;}var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf$1.call(sortInput,a)-indexOf$1.call(sortInput,b):0;}else if(aup===bup){return siblingCheck(a,b);}cur=a;while(cur=cur.parentNode){ap.unshift(cur);}cur=b;while(cur=cur.parentNode){bp.unshift(cur);}while(ap[i]===bp[i]){i++;}return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0;};return doc;};Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements);};Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document$1){setDocument(elem);}expr=expr.replace(rattributeQuotes,'=\\'$1\\']');if(support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr))){try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){}}return Sizzle(expr,document$1,null,[elem]).length>0;};Sizzle.contains=function(context,elem){if((context.ownerDocument||context)!==document$1){setDocument(context);}return contains$1(context,elem);};Sizzle.attr=function(elem,name$$1){if((elem.ownerDocument||elem)!==document$1){setDocument(elem);}var fn=Expr.attrHandle[name$$1.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name$$1.toLowerCase())?fn(elem,name$$1,!documentIsHTML):undefined;return val!==undefined?val:support.attributes||!documentIsHTML?elem.getAttribute(name$$1):(val=elem.getAttributeNode(name$$1))&&val.specified?val.value:null;};Sizzle.error=function(msg){throw new Error('Syntax error, unrecognized expression: '+msg);};Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;hasDuplicate=!support.detectDuplicates;sortInput=!support.sortStable&&results.slice(0);results.sort(sortOrder);if(hasDuplicate){while(elem=results[i++]){if(elem===results[i]){j=duplicates.push(i);}}while(j--){results.splice(duplicates[j],1);}}sortInput=null;return results;};getText=Sizzle.getText=function(elem){var node,ret='',i=0,nodeType=elem.nodeType;if(!nodeType){while(node=elem[i++]){ret+=getText(node);}}else if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent==='string'){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem);}}}else if(nodeType===3||nodeType===4){return elem.nodeValue;}return ret;};Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:true},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:true},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(match){match[1]=match[1].replace(runescape,funescape);match[3]=(match[3]||match[4]||match[5]||'').replace(runescape,funescape);if(match[2]==='~='){match[3]=' '+match[3]+' ';}return match.slice(0,4);},CHILD:function(match){match[1]=match[1].toLowerCase();if(match[1].slice(0,3)==='nth'){if(!match[3]){Sizzle.error(match[0]);}match[4]=+(match[4]?match[5]+(match[6]||1):2*(match[3]==='even'||match[3]==='odd'));match[5]=+(match[7]+match[8]||match[3]==='odd');}else if(match[3]){Sizzle.error(match[0]);}return match;},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];if(matchExpr.CHILD.test(match[0])){return null;}if(match[3]){match[2]=match[4]||match[5]||'';}else if(unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,true))&&(excess=unquoted.indexOf(')',unquoted.length-excess)-unquoted.length)){match[0]=match[0].slice(0,excess);match[2]=unquoted.slice(0,excess);}return match.slice(0,3);}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return nodeNameSelector==='*'?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName;};},CLASS:function(className){var pattern=classCache[className+' '];return pattern||(pattern=new RegExp('(^|'+whitespace+')'+className+'('+whitespace+'|$)'))&&classCache(className,function(elem){return pattern.test(typeof elem.className==='string'&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute('class')||'');});},ATTR:function(name$$1,operator,check){return function(elem){var result=Sizzle.attr(elem,name$$1);if(result==null){return operator==='!=';}if(!operator){return true;}result+='';return operator==='='?result===check:operator==='!='?result!==check:operator==='^='?check&&result.indexOf(check)===0:operator==='*='?check&&result.indexOf(check)>-1:operator==='$='?check&&result.slice(-check.length)===check:operator==='~='?(' '+result+' ').indexOf(check)>-1:operator==='|='?result===check||result.slice(0,check.length+1)===check+'-':false;};},CHILD:function(type,what,argument,first,last){var simple=type.slice(0,3)!=='nth',forward=type.slice(-4)!=='last',ofType=what==='of-type';return first===1&&last===0?function(elem){return!!elem.parentNode;}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?'nextSibling':'previousSibling',parent$$1=elem.parentNode,name$$1=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent$$1){if(simple){while(dir){node=elem;while(node=node[dir]){if(ofType?node.nodeName.toLowerCase()===name$$1:node.nodeType===1){return false;}}start=dir=type==='only'&&!start&&'nextSibling';}return true;}start=[forward?parent$$1.firstChild:parent$$1.lastChild];if(forward&&useCache){outerCache=parent$$1[expando]||(parent$$1[expando]={});cache=outerCache[type]||[];nodeIndex=cache[0]===dirruns&&cache[1];diff=cache[0]===dirruns&&cache[2];node=nodeIndex&&parent$$1.childNodes[nodeIndex];while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if(node.nodeType===1&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break;}}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns){diff=cache[1];}else{while(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop()){if((ofType?node.nodeName.toLowerCase()===name$$1:node.nodeType===1)&&++diff){if(useCache){(node[expando]||(node[expando]={}))[type]=[dirruns,diff];}if(node===elem){break;}}}}diff-=last;return diff===first||diff%first===0&&diff/first>=0;}};},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error('unsupported pseudo: '+pseudo);if(fn[expando]){return fn(argument);}if(fn.length>1){args=[pseudo,pseudo,'',argument];return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){var idx,matched=fn(seed,argument),i=matched.length;while(i--){idx=indexOf$1.call(seed,matched[i]);seed[idx]=!(matches[idx]=matched[i]);}}):function(elem){return fn(elem,0,args);};}return fn;}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,'$1'));return matcher[expando]?markFunction(function(seed,matches,context,xml){var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;while(i--){if(elem=unmatched[i]){seed[i]=!(matches[i]=elem);}}}):function(elem,context,xml){input[0]=elem;matcher(input,null,xml,results);return!results.pop();};}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0;};}),contains:markFunction(function(text){text=text.replace(runescape,funescape);return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1;};}),lang:markFunction(function(lang){if(!ridentifier.test(lang||'')){Sizzle.error('unsupported lang: '+lang);}lang=lang.replace(runescape,funescape).toLowerCase();return function(elem){var elemLang;do{if(elemLang=documentIsHTML?elem.lang:elem.getAttribute('xml:lang')||elem.getAttribute('lang')){elemLang=elemLang.toLowerCase();return elemLang===lang||elemLang.indexOf(lang+'-')===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id;},root:function(elem){return elem===docElem;},focus:function(elem){return elem===document$1.activeElement&&(!document$1.hasFocus||document$1.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},enabled:function(elem){return elem.disabled===false;},disabled:function(elem){return elem.disabled===true;},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return nodeName==='input'&&!!elem.checked||nodeName==='option'&&!!elem.selected;},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}return elem.selected===true;},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeType<6){return false;}}return true;},parent:function(elem){return!Expr.pseudos.empty(elem);},header:function(elem){return rheader.test(elem.nodeName);},input:function(elem){return rinputs.test(elem.nodeName);},button:function(elem){var name$$1=elem.nodeName.toLowerCase();return name$$1==='input'&&elem.type==='button'||name$$1==='button';},text:function(elem){var attr;return elem.nodeName.toLowerCase()==='input'&&elem.type==='text'&&((attr=elem.getAttribute('type'))==null||attr.toLowerCase()==='text');},first:createPositionalPseudo(function(){return[0];}),last:createPositionalPseudo(function(matchIndexes,length$$1){return[length$$1-1];}),eq:createPositionalPseudo(function(matchIndexes,length$$1,argument){return[argument<0?argument+length$$1:argument];}),even:createPositionalPseudo(function(matchIndexes,length$$1){var i=0;for(;i<length$$1;i+=2){matchIndexes.push(i);}return matchIndexes;}),odd:createPositionalPseudo(function(matchIndexes,length$$1){var i=1;for(;i<length$$1;i+=2){matchIndexes.push(i);}return matchIndexes;}),lt:createPositionalPseudo(function(matchIndexes,length$$1,argument){var i=argument<0?argument+length$$1:argument;for(;--i>=0;){matchIndexes.push(i);}return matchIndexes;}),gt:createPositionalPseudo(function(matchIndexes,length$$1,argument){var i=argument<0?argument+length$$1:argument;for(;++i<length$$1;){matchIndexes.push(i);}return matchIndexes;})}};Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=createInputPseudo(i);}for(i in{submit:true,reset:true}){Expr.pseudos[i]=createButtonPseudo(i);}function setFilters(){}setFilters.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new setFilters();tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+' '];if(cached){return parseOnly?0:cached.slice(0);}soFar=selector;groups=[];preFilters=Expr.preFilter;while(soFar){if(!matched||(match=rcomma.exec(soFar))){if(match){soFar=soFar.slice(match[0].length)||soFar;}groups.push(tokens=[]);}matched=false;if(match=rcombinators.exec(soFar)){matched=match.shift();tokens.push({value:matched,type:match[0].replace(rtrim,' ')});soFar=soFar.slice(matched.length);}for(type in Expr.filter){if((match=matchExpr[type].exec(soFar))&&(!preFilters[type]||(match=preFilters[type](match)))){matched=match.shift();tokens.push({value:matched,type:type,matches:match});soFar=soFar.slice(matched.length);}}if(!matched){break;}}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0);};function toSelector(tokens){var i=0,len=tokens.length,selector='';for(;i<len;i++){selector+=tokens[i].value;}return selector;}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&dir==='parentNode',doneName=done++;return combinator.first?function(elem,context,xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){return matcher(elem,context,xml);}}}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){if(matcher(elem,context,xml)){return true;}}}}else{while(elem=elem[dir]){if(elem.nodeType===1||checkNonElements){outerCache=elem[expando]||(elem[expando]={});if((oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName){return newCache[2]=oldCache[2];}else{outerCache[dir]=newCache;if(newCache[2]=matcher(elem,context,xml)){return true;}}}}}};}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){var i=matchers.length;while(i--){if(!matchers[i](elem,context,xml)){return false;}}return true;}:matchers[0];}function multipleContexts(selector,contexts,results){var i=0,len=contexts.length;for(;i<len;i++){Sizzle(selector,contexts[i],results);}return results;}function condense(unmatched,map,filter,context,xml){var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=map!=null;for(;i<len;i++){if(elem=unmatched[i]){if(!filter||filter(elem,context,xml)){newUnmatched.push(elem);if(mapped){map.push(i);}}}}return newUnmatched;}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){if(postFilter&&!postFilter[expando]){postFilter=setMatcher(postFilter);}if(postFinder&&!postFinder[expando]){postFinder=setMatcher(postFinder,postSelector);}return markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||'*',context.nodeType?[context]:context,[]),matcherIn=preFilter&&(seed||!selector)?condense(elems,preMap,preFilter,context,xml):elems,matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher){matcher(matcherIn,matcherOut,context,xml);}if(postFilter){temp=condense(matcherOut,postMap);postFilter(temp,[],context,xml);i=temp.length;while(i--){if(elem=temp[i]){matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem);}}}if(seed){if(postFinder||preFilter){if(postFinder){temp=[];i=matcherOut.length;while(i--){if(elem=matcherOut[i]){temp.push(matcherIn[i]=elem);}}postFinder(null,matcherOut=[],temp,xml);}i=matcherOut.length;while(i--){if((elem=matcherOut[i])&&(temp=postFinder?indexOf$1.call(seed,elem):preMap[i])>-1){seed[temp]=!(results[temp]=elem);}}}}else{matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut);if(postFinder){postFinder(null,results,matcherOut,xml);}else{push$1.apply(results,matcherOut);}}});}function matcherFromTokens(tokens){var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[' '],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext;},implicitRelative,true),matchAnyContext=addCombinator(function(elem){return indexOf$1.call(checkContext,elem)>-1;},implicitRelative,true),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));}];for(;i<len;i++){if(matcher=Expr.relative[tokens[i].type]){matchers=[addCombinator(elementMatcher(matchers),matcher)];}else{matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches);if(matcher[expando]){j=++i;for(;j<len;j++){if(Expr.relative[tokens[j].type]){break;}}return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:tokens[i-2].type===' '?'*':''})).replace(rtrim,'$1'),matcher,i<j&&matcherFromTokens(tokens.slice(i,j)),j<len&&matcherFromTokens(tokens=tokens.slice(j)),j<len&&toSelector(tokens));}matchers.push(matcher);}}return elementMatcher(matchers);}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i='0',unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG('*',outermost),dirrunsUnique=dirruns+=contextBackup==null?1:Math.random()||0.1,len=elems.length;if(outermost){outermostContext=context!==document$1&&context;}for(;i!==len&&(elem=elems[i])!=null;i++){if(byElement&&elem){j=0;while(matcher=elementMatchers[j++]){if(matcher(elem,context,xml)){results.push(elem);break;}}if(outermost){dirruns=dirrunsUnique;}}if(bySet){if(elem=!matcher&&elem){matchedCount--;}if(seed){unmatched.push(elem);}}}matchedCount+=i;if(bySet&&i!==matchedCount){j=0;while(matcher=setMatchers[j++]){matcher(unmatched,setMatched,context,xml);}if(seed){if(matchedCount>0){while(i--){if(!(unmatched[i]||setMatched[i])){setMatched[i]=pop.call(results);}}}setMatched=condense(setMatched);}push$1.apply(results,setMatched);if(outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1){Sizzle.uniqueSort(results);}}if(outermost){dirruns=dirrunsUnique;outermostContext=contextBackup;}return unmatched;};return bySet?markFunction(superMatcher):superMatcher;}compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+' '];if(!cached){if(!match){match=tokenize(selector);}i=match.length;while(i--){cached=matcherFromTokens(match[i]);if(cached[expando]){setMatchers.push(cached);}else{elementMatchers.push(cached);}}cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers));cached.selector=selector;}return cached;};select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled=typeof selector==='function'&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);results=results||[];if(match.length===1){tokens=match[0]=match[0].slice(0);if(tokens.length>2&&(token=tokens[0]).type==='ID'&&support.getById&&context.nodeType===9&&documentIsHTML&&Expr.relative[tokens[1].type]){context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0];if(!context){return results;}else if(compiled){context=context.parentNode;}selector=selector.slice(tokens.shift().value.length);}i=matchExpr.needsContext.test(selector)?0:tokens.length;while(i--){token=tokens[i];if(Expr.relative[type=token.type]){break;}if(find=Expr.find[type]){if(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context)){tokens.splice(i,1);selector=seed.length&&toSelector(tokens);if(!selector){push$1.apply(results,seed);return results;}break;}}}}(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context);return results;};support.sortStable=expando.split('').sort(sortOrder).join('')===expando;support.detectDuplicates=!!hasDuplicate;setDocument();support.sortDetached=true;var isArray$1=Array.isArray;var toArray=function(obj){var array=obj,i,l;if(!isArray$1(obj)){array=[];for(i=0,l=obj.length;i<l;i++){array[i]=obj[i];}}return array;};var each$1=function(o,cb,s){var n,l;if(!o){return 0;}s=s||o;if(o.length!==undefined){for(n=0,l=o.length;n<l;n++){if(cb.call(s,o[n],n,o)===false){return 0;}}}else{for(n in o){if(o.hasOwnProperty(n)){if(cb.call(s,o[n],n,o)===false){return 0;}}}}return 1;};var map$1=function(array,callback){var out=[];each$1(array,function(item,index){out.push(callback(item,index,array));});return out;};var filter$1=function(a,f){var o=[];each$1(a,function(v,index){if(!f||f(v,index,a)){o.push(v);}});return o;};var indexOf$2=function(a,v){var i,l;if(a){for(i=0,l=a.length;i<l;i++){if(a[i]===v){return i;}}}return-1;};var reduce=function(collection,iteratee,accumulator,thisArg){var i=0;if(arguments.length<3){accumulator=collection[0];}for(;i<collection.length;i++){accumulator=iteratee.call(thisArg,accumulator,collection[i],i);}return accumulator;};var findIndex$1=function(array,predicate,thisArg){var i,l;for(i=0,l=array.length;i<l;i++){if(predicate.call(thisArg,array[i],i,array)){return i;}}return-1;};var find$1=function(array,predicate,thisArg){var idx=findIndex$1(array,predicate,thisArg);if(idx!==-1){return array[idx];}return undefined;};var last$1=function(collection){return collection[collection.length-1];};var $_n452lmjnlpawsj={isArray:isArray$1,toArray:toArray,each:each$1,map:map$1,filter:filter$1,indexOf:indexOf$2,reduce:reduce,findIndex:findIndex$1,find:find$1,last:last$1};var whiteSpaceRegExp=/^\\s*|\\s*$/g;var trim=function(str){return str===null||str===undefined?'':(''+str).replace(whiteSpaceRegExp,'');};var is=function(obj,type){if(!type){return obj!==undefined;}if(type==='array'&&$_n452lmjnlpawsj.isArray(obj)){return true;}return typeof obj===type;};var makeMap=function(items,delim,map){var i;items=items||[];delim=delim||',';if(typeof items==='string'){items=items.split(delim);}map=map||{};i=items.length;while(i--){map[items[i]]={};}return map;};var hasOwnProperty=function(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop);};var create=function(s,p,root){var self$$1=this;var sp,ns,cn,scn,c,de=0;s=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);cn=s[3].match(/(^|\\.)(\\w+)$/i)[2];ns=self$$1.createNS(s[3].replace(/\\.\\w+$/,''),root);if(ns[cn]){return;}if(s[2]==='static'){ns[cn]=p;if(this.onCreate){this.onCreate(s[2],s[3],ns[cn]);}return;}if(!p[cn]){p[cn]=function(){};de=1;}ns[cn]=p[cn];self$$1.extend(ns[cn].prototype,p);if(s[5]){sp=self$$1.resolve(s[5]).prototype;scn=s[5].match(/\\.(\\w+)$/i)[1];c=ns[cn];if(de){ns[cn]=function(){return sp[scn].apply(this,arguments);};}else{ns[cn]=function(){this.parent=sp[scn];return c.apply(this,arguments);};}ns[cn].prototype[cn]=ns[cn];self$$1.each(sp,function(f,n){ns[cn].prototype[n]=sp[n];});self$$1.each(p,function(f,n){if(sp[n]){ns[cn].prototype[n]=function(){this.parent=sp[n];return f.apply(this,arguments);};}else{if(n!==cn){ns[cn].prototype[n]=f;}}});}self$$1.each(p.static,function(f,n){ns[cn][n]=f;});};var extend=function(obj,ext){var x=[];for(var _i=2;_i<arguments.length;_i++){x[_i-2]=arguments[_i];}var i,l,name$$1;var args=arguments;var value;for(i=1,l=args.length;i<l;i++){ext=args[i];for(name$$1 in ext){if(ext.hasOwnProperty(name$$1)){value=ext[name$$1];if(value!==undefined){obj[name$$1]=value;}}}}return obj;};var walk=function(o,f,n,s){s=s||this;if(o){if(n){o=o[n];}$_n452lmjnlpawsj.each(o,function(o,i){if(f.call(s,o,i,n)===false){return false;}walk(o,f,n,s);});}};var createNS=function(n,o){var i,v;o=o||window;n=n.split('.');for(i=0;i<n.length;i++){v=n[i];if(!o[v]){o[v]={};}o=o[v];}return o;};var resolve$1=function(n,o){var i,l;o=o||window;n=n.split('.');for(i=0,l=n.length;i<l;i++){o=o[n[i]];if(!o){break;}}return o;};var explode=function(s,d){if(!s||is(s,'array')){return s;}return $_n452lmjnlpawsj.map(s.split(d||','),trim);};var _addCacheSuffix=function(url){var cacheSuffix=$_cseqobajnlpawll.cacheSuffix;if(cacheSuffix){url+=(url.indexOf('?')===-1?'?':'&')+cacheSuffix;}return url;};var $_1q1txeljnlpawsa={trim:trim,isArray:$_n452lmjnlpawsj.isArray,is:is,toArray:$_n452lmjnlpawsj.toArray,makeMap:makeMap,each:$_n452lmjnlpawsj.each,map:$_n452lmjnlpawsj.map,grep:$_n452lmjnlpawsj.filter,inArray:$_n452lmjnlpawsj.indexOf,hasOwn:hasOwnProperty,extend:extend,create:create,walk:walk,createNS:createNS,resolve:resolve$1,explode:explode,_addCacheSuffix:_addCacheSuffix};var doc=document;var push$2=Array.prototype.push;var slice$2=Array.prototype.slice;var rquickExpr$1=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;var Event$$1=EventUtils.Event;var skipUniques=$_1q1txeljnlpawsa.makeMap('children,contents,next,prev');var isDefined=function(obj){return typeof obj!=='undefined';};var isString$1=function(obj){return typeof obj==='string';};var isWindow=function(obj){return obj&&obj===obj.window;};var createFragment=function(html,fragDoc){var frag,node,container;fragDoc=fragDoc||doc;container=fragDoc.createElement('div');frag=fragDoc.createDocumentFragment();container.innerHTML=html;while(node=container.firstChild){frag.appendChild(node);}return frag;};var domManipulate=function(targetNodes,sourceItem,callback,reverse){var i;if(isString$1(sourceItem)){sourceItem=createFragment(sourceItem,getElementDocument(targetNodes[0]));}else if(sourceItem.length&&!sourceItem.nodeType){sourceItem=DomQuery.makeArray(sourceItem);if(reverse){for(i=sourceItem.length-1;i>=0;i--){domManipulate(targetNodes,sourceItem[i],callback,reverse);}}else{for(i=0;i<sourceItem.length;i++){domManipulate(targetNodes,sourceItem[i],callback,reverse);}}return targetNodes;}if(sourceItem.nodeType){i=targetNodes.length;while(i--){callback.call(targetNodes[i],sourceItem);}}return targetNodes;};var hasClass=function(node,className){return node&&className&&(' '+node.className+' ').indexOf(' '+className+' ')!==-1;};var wrap=function(elements,wrapper,all){var lastParent,newWrapper;wrapper=DomQuery(wrapper)[0];elements.each(function(){var self$$1=this;if(!all||lastParent!==self$$1.parentNode){lastParent=self$$1.parentNode;newWrapper=wrapper.cloneNode(false);self$$1.parentNode.insertBefore(newWrapper,self$$1);newWrapper.appendChild(self$$1);}else{newWrapper.appendChild(self$$1);}});return elements;};var numericCssMap=$_1q1txeljnlpawsa.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom',' ');var booleanMap=$_1q1txeljnlpawsa.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected',' ');var propFix={for:'htmlFor',class:'className',readonly:'readOnly'};var cssFix={float:'cssFloat'};var attrHooks={};var cssHooks={};var DomQuery=function(selector,context){return new DomQuery.fn.init(selector,context);};var inArray=function(item,array){var i;if(array.indexOf){return array.indexOf(item);}i=array.length;while(i--){if(array[i]===item){return i;}}return-1;};var whiteSpaceRegExp$1=/^\\s*|\\s*$/g;var trim$1=function(str){return str===null||str===undefined?'':(''+str).replace(whiteSpaceRegExp$1,'');};var each$2=function(obj,callback){var length$$1,key,i,value;if(obj){length$$1=obj.length;if(length$$1===undefined){for(key in obj){if(obj.hasOwnProperty(key)){value=obj[key];if(callback.call(value,key,value)===false){break;}}}}else{for(i=0;i<length$$1;i++){value=obj[i];if(callback.call(value,i,value)===false){break;}}}}return obj;};var grep=function(array,callback){var out=[];each$2(array,function(i,item){if(callback(item,i)){out.push(item);}});return out;};var getElementDocument=function(element){if(!element){return doc;}if(element.nodeType===9){return element;}return element.ownerDocument;};DomQuery.fn=DomQuery.prototype={constructor:DomQuery,selector:'',context:null,length:0,init:function(selector,context){var self$$1=this;var match,node;if(!selector){return self$$1;}if(selector.nodeType){self$$1.context=self$$1[0]=selector;self$$1.length=1;return self$$1;}if(context&&context.nodeType){self$$1.context=context;}else{if(context){return DomQuery(selector).attr(context);}self$$1.context=context=document;}if(isString$1(selector)){self$$1.selector=selector;if(selector.charAt(0)==='<'&&selector.charAt(selector.length-1)==='>'&&selector.length>=3){match=[null,selector,null];}else{match=rquickExpr$1.exec(selector);}if(match){if(match[1]){node=createFragment(selector,getElementDocument(context)).firstChild;while(node){push$2.call(self$$1,node);node=node.nextSibling;}}else{node=getElementDocument(context).getElementById(match[2]);if(!node){return self$$1;}if(node.id!==match[2]){return self$$1.find(selector);}self$$1.length=1;self$$1[0]=node;}}else{return DomQuery(context).find(selector);}}else{this.add(selector,false);}return self$$1;},toArray:function(){return $_1q1txeljnlpawsa.toArray(this);},add:function(items,sort){var self$$1=this;var nodes,i;if(isString$1(items)){return self$$1.add(DomQuery(items));}if(sort!==false){nodes=DomQuery.unique(self$$1.toArray().concat(DomQuery.makeArray(items)));self$$1.length=nodes.length;for(i=0;i<nodes.length;i++){self$$1[i]=nodes[i];}}else{push$2.apply(self$$1,DomQuery.makeArray(items));}return self$$1;},attr:function(name$$1,value){var self$$1=this;var hook;if(typeof name$$1==='object'){each$2(name$$1,function(name$$1,value){self$$1.attr(name$$1,value);});}else if(isDefined(value)){this.each(function(){var hook;if(this.nodeType===1){hook=attrHooks[name$$1];if(hook&&hook.set){hook.set(this,value);return;}if(value===null){this.removeAttribute(name$$1,2);}else{this.setAttribute(name$$1,value,2);}}});}else{if(self$$1[0]&&self$$1[0].nodeType===1){hook=attrHooks[name$$1];if(hook&&hook.get){return hook.get(self$$1[0],name$$1);}if(booleanMap[name$$1]){return self$$1.prop(name$$1)?name$$1:undefined;}value=self$$1[0].getAttribute(name$$1,2);if(value===null){value=undefined;}}return value;}return self$$1;},removeAttr:function(name$$1){return this.attr(name$$1,null);},prop:function(name$$1,value){var self$$1=this;name$$1=propFix[name$$1]||name$$1;if(typeof name$$1==='object'){each$2(name$$1,function(name$$1,value){self$$1.prop(name$$1,value);});}else if(isDefined(value)){this.each(function(){if(this.nodeType===1){this[name$$1]=value;}});}else{if(self$$1[0]&&self$$1[0].nodeType&&name$$1 in self$$1[0]){return self$$1[0][name$$1];}return value;}return self$$1;},css:function(name$$1,value){var self$$1=this;var elm,hook;var camel=function(name$$1){return name$$1.replace(/-(\\D)/g,function(a,b){return b.toUpperCase();});};var dashed=function(name$$1){return name$$1.replace(/[A-Z]/g,function(a){return'-'+a;});};if(typeof name$$1==='object'){each$2(name$$1,function(name$$1,value){self$$1.css(name$$1,value);});}else{if(isDefined(value)){name$$1=camel(name$$1);if(typeof value==='number'&&!numericCssMap[name$$1]){value=value.toString()+'px';}self$$1.each(function(){var style=this.style;hook=cssHooks[name$$1];if(hook&&hook.set){hook.set(this,value);return;}try{this.style[cssFix[name$$1]||name$$1]=value;}catch(ex){}if(value===null||value===''){if(style.removeProperty){style.removeProperty(dashed(name$$1));}else{style.removeAttribute(name$$1);}}});}else{elm=self$$1[0];hook=cssHooks[name$$1];if(hook&&hook.get){return hook.get(elm);}if(elm.ownerDocument.defaultView){try{return elm.ownerDocument.defaultView.getComputedStyle(elm,null).getPropertyValue(dashed(name$$1));}catch(ex){return undefined;}}else if(elm.currentStyle){return elm.currentStyle[camel(name$$1)];}else{return'';}}}return self$$1;},remove:function(){var self$$1=this;var node,i=this.length;while(i--){node=self$$1[i];Event$$1.clean(node);if(node.parentNode){node.parentNode.removeChild(node);}}return this;},empty:function(){var self$$1=this;var node,i=this.length;while(i--){node=self$$1[i];while(node.firstChild){node.removeChild(node.firstChild);}}return this;},html:function(value){var self$$1=this;var i;if(isDefined(value)){i=self$$1.length;try{while(i--){self$$1[i].innerHTML=value;}}catch(ex){DomQuery(self$$1[i]).empty().append(value);}return self$$1;}return self$$1[0]?self$$1[0].innerHTML:'';},text:function(value){var self$$1=this;var i;if(isDefined(value)){i=self$$1.length;while(i--){if('innerText'in self$$1[i]){self$$1[i].innerText=value;}else{self$$1[0].textContent=value;}}return self$$1;}return self$$1[0]?self$$1[0].innerText||self$$1[0].textContent:'';},append:function(){return domManipulate(this,arguments,function(node){if(this.nodeType===1||this.host&&this.host.nodeType===1){this.appendChild(node);}});},prepend:function(){return domManipulate(this,arguments,function(node){if(this.nodeType===1||this.host&&this.host.nodeType===1){this.insertBefore(node,this.firstChild);}},true);},before:function(){var self$$1=this;if(self$$1[0]&&self$$1[0].parentNode){return domManipulate(self$$1,arguments,function(node){this.parentNode.insertBefore(node,this);});}return self$$1;},after:function(){var self$$1=this;if(self$$1[0]&&self$$1[0].parentNode){return domManipulate(self$$1,arguments,function(node){this.parentNode.insertBefore(node,this.nextSibling);},true);}return self$$1;},appendTo:function(val){DomQuery(val).append(this);return this;},prependTo:function(val){DomQuery(val).prepend(this);return this;},replaceWith:function(content){return this.before(content).remove();},wrap:function(content){return wrap(this,content);},wrapAll:function(content){return wrap(this,content,true);},wrapInner:function(content){this.each(function(){DomQuery(this).contents().wrapAll(content);});return this;},unwrap:function(){return this.parent().each(function(){DomQuery(this).replaceWith(this.childNodes);});},clone:function(){var result=[];this.each(function(){result.push(this.cloneNode(true));});return DomQuery(result);},addClass:function(className){return this.toggleClass(className,true);},removeClass:function(className){return this.toggleClass(className,false);},toggleClass:function(className,state){var self$$1=this;if(typeof className!=='string'){return self$$1;}if(className.indexOf(' ')!==-1){each$2(className.split(' '),function(){self$$1.toggleClass(this,state);});}else{self$$1.each(function(index,node){var existingClassName,classState;classState=hasClass(node,className);if(classState!==state){existingClassName=node.className;if(classState){node.className=trim$1((' '+existingClassName+' ').replace(' '+className+' ',' '));}else{node.className+=existingClassName?' '+className:className;}}});}return self$$1;},hasClass:function(className){return hasClass(this[0],className);},each:function(callback){return each$2(this,callback);},on:function(name$$1,callback){return this.each(function(){Event$$1.bind(this,name$$1,callback);});},off:function(name$$1,callback){return this.each(function(){Event$$1.unbind(this,name$$1,callback);});},trigger:function(name$$1){return this.each(function(){if(typeof name$$1==='object'){Event$$1.fire(this,name$$1.type,name$$1);}else{Event$$1.fire(this,name$$1);}});},show:function(){return this.css('display','');},hide:function(){return this.css('display','none');},slice:function(){return new DomQuery(slice$2.apply(this,arguments));},eq:function(index){return index===-1?this.slice(index):this.slice(index,+index+1);},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},find:function(selector){var i,l;var ret=[];for(i=0,l=this.length;i<l;i++){DomQuery.find(selector,this[i],ret);}return DomQuery(ret);},filter:function(selector){if(typeof selector==='function'){return DomQuery(grep(this.toArray(),function(item,i){return selector(i,item);}));}return DomQuery(DomQuery.filter(selector,this.toArray()));},closest:function(selector){var result=[];if(selector instanceof DomQuery){selector=selector[0];}this.each(function(i,node){while(node){if(typeof selector==='string'&&DomQuery(node).is(selector)){result.push(node);break;}else if(node===selector){result.push(node);break;}node=node.parentNode;}});return DomQuery(result);},offset:function(offset){var elm,doc,docElm;var x=0,y=0,pos;if(!offset){elm=this[0];if(elm){doc=elm.ownerDocument;docElm=doc.documentElement;if(elm.getBoundingClientRect){pos=elm.getBoundingClientRect();x=pos.left+(docElm.scrollLeft||doc.body.scrollLeft)-docElm.clientLeft;y=pos.top+(docElm.scrollTop||doc.body.scrollTop)-docElm.clientTop;}}return{left:x,top:y};}return this.css(offset);},push:push$2,sort:[].sort,splice:[].splice};$_1q1txeljnlpawsa.extend(DomQuery,{extend:$_1q1txeljnlpawsa.extend,makeArray:function(object){if(isWindow(object)||object.nodeType){return[object];}return $_1q1txeljnlpawsa.toArray(object);},inArray:inArray,isArray:$_1q1txeljnlpawsa.isArray,each:each$2,trim:trim$1,grep:grep,find:Sizzle,expr:Sizzle.selectors,unique:Sizzle.uniqueSort,text:Sizzle.getText,contains:Sizzle.contains,filter:function(expr,elems,not){var i=elems.length;if(not){expr=':not('+expr+')';}while(i--){if(elems[i].nodeType!==1){elems.splice(i,1);}}if(elems.length===1){elems=DomQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[];}else{elems=DomQuery.find.matches(expr,elems);}return elems;}});var dir=function(el,prop,until){var matched=[];var cur=el[prop];if(typeof until!=='string'&&until instanceof DomQuery){until=until[0];}while(cur&&cur.nodeType!==9){if(until!==undefined){if(cur===until){break;}if(typeof until==='string'&&DomQuery(cur).is(until)){break;}}if(cur.nodeType===1){matched.push(cur);}cur=cur[prop];}return matched;};var sibling=function(node,siblingName,nodeType,until){var result=[];if(until instanceof DomQuery){until=until[0];}for(;node;node=node[siblingName]){if(nodeType&&node.nodeType!==nodeType){continue;}if(until!==undefined){if(node===until){break;}if(typeof until==='string'&&DomQuery(node).is(until)){break;}}result.push(node);}return result;};var firstSibling=function(node,siblingName,nodeType){for(node=node[siblingName];node;node=node[siblingName]){if(node.nodeType===nodeType){return node;}}return null;};each$2({parent:function(node){var parent$$1=node.parentNode;return parent$$1&&parent$$1.nodeType!==11?parent$$1:null;},parents:function(node){return dir(node,'parentNode');},next:function(node){return firstSibling(node,'nextSibling',1);},prev:function(node){return firstSibling(node,'previousSibling',1);},children:function(node){return sibling(node.firstChild,'nextSibling',1);},contents:function(node){return $_1q1txeljnlpawsa.toArray((node.nodeName==='iframe'?node.contentDocument||node.contentWindow.document:node).childNodes);}},function(name$$1,fn){DomQuery.fn[name$$1]=function(selector){var self$$1=this;var result=[];self$$1.each(function(){var nodes=fn.call(result,this,selector,result);if(nodes){if(DomQuery.isArray(nodes)){result.push.apply(result,nodes);}else{result.push(nodes);}}});if(this.length>1){if(!skipUniques[name$$1]){result=DomQuery.unique(result);}if(name$$1.indexOf('parents')===0){result=result.reverse();}}result=DomQuery(result);if(selector){return result.filter(selector);}return result;};});each$2({parentsUntil:function(node,until){return dir(node,'parentNode',until);},nextUntil:function(node,until){return sibling(node,'nextSibling',1,until).slice(1);},prevUntil:function(node,until){return sibling(node,'previousSibling',1,until).slice(1);}},function(name$$1,fn){DomQuery.fn[name$$1]=function(selector,filter){var self$$1=this;var result=[];self$$1.each(function(){var nodes=fn.call(result,this,selector,result);if(nodes){if(DomQuery.isArray(nodes)){result.push.apply(result,nodes);}else{result.push(nodes);}}});if(this.length>1){result=DomQuery.unique(result);if(name$$1.indexOf('parents')===0||name$$1==='prevUntil'){result=result.reverse();}}result=DomQuery(result);if(filter){return result.filter(filter);}return result;};});DomQuery.fn.is=function(selector){return!!selector&&this.filter(selector).length>0;};DomQuery.fn.init.prototype=DomQuery.fn;DomQuery.overrideDefaults=function(callback){var defaults;var sub=function(selector,context){defaults=defaults||callback();if(arguments.length===0){selector=defaults.element;}if(!context){context=defaults.context;}return new sub.fn.init(selector,context);};DomQuery.extend(sub,this);return sub;};var appendHooks=function(targetHooks,prop,hooks){each$2(hooks,function(name$$1,func){targetHooks[name$$1]=targetHooks[name$$1]||{};targetHooks[name$$1][prop]=func;});};if($_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie<8){appendHooks(attrHooks,'get',{maxlength:function(elm){var value=elm.maxLength;if(value===2147483647){return undefined;}return value;},size:function(elm){var value=elm.size;if(value===20){return undefined;}return value;},class:function(elm){return elm.className;},style:function(elm){var value=elm.style.cssText;if(value.length===0){return undefined;}return value;}});appendHooks(attrHooks,'set',{class:function(elm,value){elm.className=value;},style:function(elm,value){elm.style.cssText=value;}});}if($_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie<9){cssFix.float='styleFloat';appendHooks(cssHooks,'set',{opacity:function(elm,value){var style=elm.style;if(value===null||value===''){style.removeAttribute('filter');}else{style.zoom=1;style.filter='alpha(opacity='+value*100+')';}}});}DomQuery.attrHooks=attrHooks;DomQuery.cssHooks=cssHooks;var cached=function(f){var called=false;var r;return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}if(!called){called=true;r=f.apply(null,args);}return r;};};var firstMatch=function(regexes,s){for(var i=0;i<regexes.length;i++){var x=regexes[i];if(x.test(s))return x;}return undefined;};var find$2=function(regexes,agent){var r=firstMatch(regexes,agent);if(!r)return{major:0,minor:0};var group=function(i){return Number(agent.replace(r,'$'+i));};return nu(group(1),group(2));};var detect=function(versionRegexes,agent){var cleanedAgent=String(agent).toLowerCase();if(versionRegexes.length===0)return unknown();return find$2(versionRegexes,cleanedAgent);};var unknown=function(){return nu(0,0);};var nu=function(major,minor){return{major:major,minor:minor};};var Version={nu:nu,detect:detect,unknown:unknown};var edge='Edge';var chrome='Chrome';var ie$1='IE';var opera$1='Opera';var firefox='Firefox';var safari='Safari';var isBrowser=function(name,current){return function(){return current===name;};};var unknown$1=function(){return nu$1({current:undefined,version:Version.unknown()});};var nu$1=function(info){var current=info.current;var version=info.version;return{current:current,version:version,isEdge:isBrowser(edge,current),isChrome:isBrowser(chrome,current),isIE:isBrowser(ie$1,current),isOpera:isBrowser(opera$1,current),isFirefox:isBrowser(firefox,current),isSafari:isBrowser(safari,current)};};var Browser={unknown:unknown$1,nu:nu$1,edge:constant(edge),chrome:constant(chrome),ie:constant(ie$1),opera:constant(opera$1),firefox:constant(firefox),safari:constant(safari)};var windows='Windows';var ios='iOS';var android$1='Android';var linux='Linux';var osx='OSX';var solaris='Solaris';var freebsd='FreeBSD';var isOS=function(name,current){return function(){return current===name;};};var unknown$2=function(){return nu$2({current:undefined,version:Version.unknown()});};var nu$2=function(info){var current=info.current;var version=info.version;return{current:current,version:version,isWindows:isOS(windows,current),isiOS:isOS(ios,current),isAndroid:isOS(android$1,current),isOSX:isOS(osx,current),isLinux:isOS(linux,current),isSolaris:isOS(solaris,current),isFreeBSD:isOS(freebsd,current)};};var OperatingSystem={unknown:unknown$2,nu:nu$2,windows:constant(windows),ios:constant(ios),android:constant(android$1),linux:constant(linux),osx:constant(osx),solaris:constant(solaris),freebsd:constant(freebsd)};var DeviceType=function(os,browser,userAgent){var isiPad=os.isiOS()&&/ipad/i.test(userAgent)===true;var isiPhone=os.isiOS()&&!isiPad;var isAndroid3=os.isAndroid()&&os.version.major===3;var isAndroid4=os.isAndroid()&&os.version.major===4;var isTablet=isiPad||isAndroid3||isAndroid4&&/mobile/i.test(userAgent)===true;var isTouch=os.isiOS()||os.isAndroid();var isPhone=isTouch&&!isTablet;var iOSwebview=browser.isSafari()&&os.isiOS()&&/safari/i.test(userAgent)===false;return{isiPad:constant(isiPad),isiPhone:constant(isiPhone),isTablet:constant(isTablet),isPhone:constant(isPhone),isTouch:constant(isTouch),isAndroid:os.isAndroid,isiOS:os.isiOS,isWebView:constant(iOSwebview)};};var detect$1=function(candidates,userAgent){var agent=String(userAgent).toLowerCase();return find(candidates,function(candidate){return candidate.search(agent);});};var detectBrowser=function(browsers,userAgent){return detect$1(browsers,userAgent).map(function(browser){var version=Version.detect(browser.versionRegexes,userAgent);return{current:browser.name,version:version};});};var detectOs=function(oses,userAgent){return detect$1(oses,userAgent).map(function(os){var version=Version.detect(os.versionRegexes,userAgent);return{current:os.name,version:version};});};var UaString={detectBrowser:detectBrowser,detectOs:detectOs};var contains$2=function(str,substr){return str.indexOf(substr)!==-1;};var trim$2=function(str){return str.replace(/^\\s+|\\s+$/g,'');};var normalVersionRegex=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;var checkContains=function(target){return function(uastring){return contains$2(uastring,target);};};var browsers=[{name:'Edge',versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:function(uastring){var monstrosity=contains$2(uastring,'edge/')&&contains$2(uastring,'chrome')&&contains$2(uastring,'safari')&&contains$2(uastring,'applewebkit');return monstrosity;}},{name:'Chrome',versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,normalVersionRegex],search:function(uastring){return contains$2(uastring,'chrome')&&!contains$2(uastring,'chromeframe');}},{name:'IE',versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:function(uastring){return contains$2(uastring,'msie')||contains$2(uastring,'trident');}},{name:'Opera',versionRegexes:[normalVersionRegex,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:checkContains('opera')},{name:'Firefox',versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:checkContains('firefox')},{name:'Safari',versionRegexes:[normalVersionRegex,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(uastring){return(contains$2(uastring,'safari')||contains$2(uastring,'mobile/'))&&contains$2(uastring,'applewebkit');}}];var oses=[{name:'Windows',search:checkContains('win'),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'iOS',search:function(uastring){return contains$2(uastring,'iphone')||contains$2(uastring,'ipad');},versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:'Android',search:checkContains('android'),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:'OSX',search:checkContains('os x'),versionRegexes:[/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:'Linux',search:checkContains('linux'),versionRegexes:[]},{name:'Solaris',search:checkContains('sunos'),versionRegexes:[]},{name:'FreeBSD',search:checkContains('freebsd'),versionRegexes:[]}];var PlatformInfo={browsers:constant(browsers),oses:constant(oses)};var detect$2=function(userAgent){var browsers=PlatformInfo.browsers();var oses=PlatformInfo.oses();var browser=UaString.detectBrowser(browsers,userAgent).fold(Browser.unknown,Browser.nu);var os=UaString.detectOs(oses,userAgent).fold(OperatingSystem.unknown,OperatingSystem.nu);var deviceType=DeviceType(os,browser,userAgent);return{browser:browser,os:os,deviceType:deviceType};};var PlatformDetection={detect:detect$2};var detect$3=cached(function(){var userAgent=navigator.userAgent;return PlatformDetection.detect(userAgent);});var $_766rx4ojnlpawtd={detect:detect$3};var fromHtml=function(html,scope){var doc=scope||document;var div=doc.createElement('div');div.innerHTML=html;if(!div.hasChildNodes()||div.childNodes.length>1){console.error('HTML does not have a single root node',html);throw'HTML must have a single root node';}return fromDom(div.childNodes[0]);};var fromTag=function(tag,scope){var doc=scope||document;var node=doc.createElement(tag);return fromDom(node);};var fromText=function(text,scope){var doc=scope||document;var node=doc.createTextNode(text);return fromDom(node);};var fromDom=function(node){if(node===null||node===undefined)throw new Error('Node cannot be null or undefined');return{dom:constant(node)};};var fromPoint=function(docElm,x,y){var doc=docElm.dom();return Option.from(doc.elementFromPoint(x,y)).map(fromDom);};var Element$$1={fromHtml:fromHtml,fromTag:fromTag,fromText:fromText,fromDom:fromDom,fromPoint:fromPoint};var $_8b12q912jnlpawv7={ATTRIBUTE:Node.ATTRIBUTE_NODE,CDATA_SECTION:Node.CDATA_SECTION_NODE,COMMENT:Node.COMMENT_NODE,DOCUMENT:Node.DOCUMENT_NODE,DOCUMENT_TYPE:Node.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT:Node.DOCUMENT_FRAGMENT_NODE,ELEMENT:Node.ELEMENT_NODE,TEXT:Node.TEXT_NODE,PROCESSING_INSTRUCTION:Node.PROCESSING_INSTRUCTION_NODE,ENTITY_REFERENCE:Node.ENTITY_REFERENCE_NODE,ENTITY:Node.ENTITY_NODE,NOTATION:Node.NOTATION_NODE};var name=function(element){var r=element.dom().nodeName;return r.toLowerCase();};var type=function(element){return element.dom().nodeType;};var value=function(element){return element.dom().nodeValue;};var isType$1=function(t){return function(element){return type(element)===t;};};var isComment=function(element){return type(element)===$_8b12q912jnlpawv7.COMMENT||name(element)==='#comment';};var isElement=isType$1($_8b12q912jnlpawv7.ELEMENT);var isText=isType$1($_8b12q912jnlpawv7.TEXT);var isDocument=isType$1($_8b12q912jnlpawv7.DOCUMENT);var $_7u5fzs11jnlpawv6={name:name,type:type,value:value,isElement:isElement,isText:isText,isDocument:isDocument,isComment:isComment};var keys=Object.keys;var each$3=function(obj,f){var props=keys(obj);for(var k=0,len=props.length;k<len;k++){var i=props[k];var x=obj[i];f(x,i,obj);}};var map$2=function(obj,f){return tupleMap(obj,function(x,i,obj){return{k:i,v:f(x,i,obj)};});};var tupleMap=function(obj,f){var r={};each$3(obj,function(x,i){var tuple=f(x,i,obj);r[tuple.k]=tuple.v;});return r;};var bifilter=function(obj,pred){var t={};var f={};each$3(obj,function(x,i){var branch=pred(x,i)?t:f;branch[i]=x;});return{t:t,f:f};};var rawSet=function(dom,key,value){if(isString(value)||isBoolean(value)||isNumber(value)){dom.setAttribute(key,value+'');}else{console.error('Invalid call to Attr.set. Key ',key,':: Value ',value,':: Element ',dom);throw new Error('Attribute value was not simple');}};var set=function(element,key,value){rawSet(element.dom(),key,value);};var setAll=function(element,attrs){var dom=element.dom();each$3(attrs,function(v,k){rawSet(dom,k,v);});};var get$1=function(element,key){var v=element.dom().getAttribute(key);return v===null?undefined:v;};var has$1=function(element,key){var dom=element.dom();return dom&&dom.hasAttribute?dom.hasAttribute(key):false;};var remove=function(element,key){element.dom().removeAttribute(key);};var hasNone=function(element){var attrs=element.dom().attributes;return attrs===undefined||attrs===null||attrs.length===0;};var clone=function(element){return foldl(element.dom().attributes,function(acc,attr){acc[attr.name]=attr.value;return acc;},{});};var transferOne=function(source,destination,attr){if(has$1(source,attr)&&!has$1(destination,attr))set(destination,attr,get$1(source,attr));};var transfer=function(source,destination,attrs){if(!$_7u5fzs11jnlpawv6.isElement(source)||!$_7u5fzs11jnlpawv6.isElement(destination))return;each(attrs,function(attr){transferOne(source,destination,attr);});};var $_521j8z15jnlpawz7={clone:clone,set:set,setAll:setAll,get:get$1,has:has$1,remove:remove,hasNone:hasNone,transfer:transfer};var inBody=function(element){var dom=$_7u5fzs11jnlpawv6.isText(element)?element.dom().parentNode:element.dom();return dom!==undefined&&dom!==null&&dom.ownerDocument.body.contains(dom);};var body=cached(function(){return getBody(Element$$1.fromDom(document));});var getBody=function(doc){var body=doc.dom().body;if(body===null||body===undefined)throw'Body is not available yet';return Element$$1.fromDom(body);};var $_1lsags16jnlpawzj={body:body,getBody:getBody,inBody:inBody};var isSupported=function(dom){return dom.style!==undefined;};var $_1z4orl17jnlpawzp={isSupported:isSupported};var internalSet=function(dom,property,value){if(!isString(value)){console.error('Invalid call to CSS.set. Property ',property,':: Value ',value,':: Element ',dom);throw new Error('CSS value must be a string: '+value);}if($_1z4orl17jnlpawzp.isSupported(dom))dom.style.setProperty(property,value);};var internalRemove=function(dom,property){if($_1z4orl17jnlpawzp.isSupported(dom))dom.style.removeProperty(property);};var set$1=function(element,property,value){var dom=element.dom();internalSet(dom,property,value);};var setAll$1=function(element,css){var dom=element.dom();each$3(css,function(v,k){internalSet(dom,k,v);});};var setOptions=function(element,css){var dom=element.dom();each$3(css,function(v,k){v.fold(function(){internalRemove(dom,k);},function(value){internalSet(dom,k,value);});});};var get$2=function(element,property){var dom=element.dom();var styles=window.getComputedStyle(dom);var r=styles.getPropertyValue(property);var v=r===''&&!$_1lsags16jnlpawzj.inBody(element)?getUnsafeProperty(dom,property):r;return v===null?undefined:v;};var getUnsafeProperty=function(dom,property){return $_1z4orl17jnlpawzp.isSupported(dom)?dom.style.getPropertyValue(property):'';};var getRaw=function(element,property){var dom=element.dom();var raw=getUnsafeProperty(dom,property);return Option.from(raw).filter(function(r){return r.length>0;});};var getAllRaw=function(element){var css={};var dom=element.dom();if($_1z4orl17jnlpawzp.isSupported(dom)){for(var i=0;i<dom.style.length;i++){var ruleName=dom.style.item(i);css[ruleName]=dom.style[ruleName];}}return css;};var isValidValue=function(tag,property,value){var element=Element$$1.fromTag(tag);set$1(element,property,value);var style=getRaw(element,property);return style.isSome();};var remove$1=function(element,property){var dom=element.dom();internalRemove(dom,property);if($_521j8z15jnlpawz7.has(element,'style')&&trim$2($_521j8z15jnlpawz7.get(element,'style'))===''){$_521j8z15jnlpawz7.remove(element,'style');}};var preserve=function(element,f){var oldStyles=$_521j8z15jnlpawz7.get(element,'style');var result=f(element);var restore=oldStyles===undefined?$_521j8z15jnlpawz7.remove:$_521j8z15jnlpawz7.set;restore(element,'style',oldStyles);return result;};var copy=function(source,target){var sourceDom=source.dom();var targetDom=target.dom();if($_1z4orl17jnlpawzp.isSupported(sourceDom)&&$_1z4orl17jnlpawzp.isSupported(targetDom)){targetDom.style.cssText=sourceDom.style.cssText;}};var reflow=function(e){return e.dom().offsetWidth;};var transferOne$1=function(source,destination,style){getRaw(source,style).each(function(value){if(getRaw(destination,style).isNone())set$1(destination,style,value);});};var transfer$1=function(source,destination,styles){if(!$_7u5fzs11jnlpawv6.isElement(source)||!$_7u5fzs11jnlpawv6.isElement(destination))return;each(styles,function(style){transferOne$1(source,destination,style);});};var $_asiuhf13jnlpawvc={copy:copy,set:set$1,preserve:preserve,setAll:setAll$1,setOptions:setOptions,remove:remove$1,get:get$2,getRaw:getRaw,getAllRaw:getAllRaw,isValidValue:isValidValue,reflow:reflow,transfer:transfer$1};var Immutable=function(){var fields=[];for(var _i=0;_i<arguments.length;_i++){fields[_i]=arguments[_i];}return function(){var values=[];for(var _i=0;_i<arguments.length;_i++){values[_i]=arguments[_i];}if(fields.length!==values.length){throw new Error('Wrong number of arguments to struct. Expected \"['+fields.length+']\", got '+values.length+' arguments');}var struct={};each(fields,function(name,i){struct[name]=constant(values[i]);});return struct;};};var toArray$1=function(target,f){var r=[];var recurse=function(e){r.push(e);return f(e);};var cur=f(target);do{cur=cur.bind(recurse);}while(cur.isSome());return r;};var $_arqw5m1djnlpax0i={toArray:toArray$1};var node=function(){var f=$_3b2dlgcjnlpawlt.getOrDie('Node');return f;};var compareDocumentPosition=function(a,b,match){return(a.compareDocumentPosition(b)&match)!==0;};var documentPositionPreceding=function(a,b){return compareDocumentPosition(a,b,node().DOCUMENT_POSITION_PRECEDING);};var documentPositionContainedBy=function(a,b){return compareDocumentPosition(a,b,node().DOCUMENT_POSITION_CONTAINED_BY);};var $_eo508y1fjnlpax0w={documentPositionPreceding:documentPositionPreceding,documentPositionContainedBy:documentPositionContainedBy};var ELEMENT=$_8b12q912jnlpawv7.ELEMENT;var DOCUMENT=$_8b12q912jnlpawv7.DOCUMENT;var is$1=function(element,selector){var elem=element.dom();if(elem.nodeType!==ELEMENT)return false;else if(elem.matches!==undefined)return elem.matches(selector);else if(elem.msMatchesSelector!==undefined)return elem.msMatchesSelector(selector);else if(elem.webkitMatchesSelector!==undefined)return elem.webkitMatchesSelector(selector);else if(elem.mozMatchesSelector!==undefined)return elem.mozMatchesSelector(selector);else throw new Error('Browser lacks native selectors');};var bypassSelector=function(dom){return dom.nodeType!==ELEMENT&&dom.nodeType!==DOCUMENT||dom.childElementCount===0;};var all=function(selector,scope){var base=scope===undefined?document:scope.dom();return bypassSelector(base)?[]:map(base.querySelectorAll(selector),Element$$1.fromDom);};var one=function(selector,scope){var base=scope===undefined?document:scope.dom();return bypassSelector(base)?Option.none():Option.from(base.querySelector(selector)).map(Element$$1.fromDom);};var $_d8v5lf1gjnlpax0y={all:all,is:is$1,one:one};var eq=function(e1,e2){return e1.dom()===e2.dom();};var isEqualNode=function(e1,e2){return e1.dom().isEqualNode(e2.dom());};var member=function(element,elements){return exists(elements,curry(eq,element));};var regularContains=function(e1,e2){var d1=e1.dom(),d2=e2.dom();return d1===d2?false:d1.contains(d2);};var ieContains=function(e1,e2){return $_eo508y1fjnlpax0w.documentPositionContainedBy(e1.dom(),e2.dom());};var browser=$_766rx4ojnlpawtd.detect().browser;var contains$3=browser.isIE()?ieContains:regularContains;var $_5h7cor1ejnlpax0k={eq:eq,isEqualNode:isEqualNode,member:member,contains:contains$3,is:$_d8v5lf1gjnlpax0y.is};var owner=function(element){return Element$$1.fromDom(element.dom().ownerDocument);};var documentElement=function(element){return Element$$1.fromDom(element.dom().ownerDocument.documentElement);};var defaultView=function(element){var el=element.dom();var defaultView=el.ownerDocument.defaultView;return Element$$1.fromDom(defaultView);};var parent=function(element){var dom=element.dom();return Option.from(dom.parentNode).map(Element$$1.fromDom);};var findIndex$2=function(element){return parent(element).bind(function(p){var kin=children(p);return findIndex(kin,function(elem){return $_5h7cor1ejnlpax0k.eq(element,elem);});});};var parents=function(element,isRoot){var stop=isFunction(isRoot)?isRoot:constant(false);var dom=element.dom();var ret=[];while(dom.parentNode!==null&&dom.parentNode!==undefined){var rawParent=dom.parentNode;var parent=Element$$1.fromDom(rawParent);ret.push(parent);if(stop(parent)===true)break;else dom=rawParent;}return ret;};var siblings=function(element){var filterSelf=function(elements){return filter(elements,function(x){return!$_5h7cor1ejnlpax0k.eq(element,x);});};return parent(element).map(children).map(filterSelf).getOr([]);};var offsetParent=function(element){var dom=element.dom();return Option.from(dom.offsetParent).map(Element$$1.fromDom);};var prevSibling=function(element){var dom=element.dom();return Option.from(dom.previousSibling).map(Element$$1.fromDom);};var nextSibling=function(element){var dom=element.dom();return Option.from(dom.nextSibling).map(Element$$1.fromDom);};var prevSiblings=function(element){return reverse($_arqw5m1djnlpax0i.toArray(element,prevSibling));};var nextSiblings=function(element){return $_arqw5m1djnlpax0i.toArray(element,nextSibling);};var children=function(element){var dom=element.dom();return map(dom.childNodes,Element$$1.fromDom);};var child=function(element,index){var children=element.dom().childNodes;return Option.from(children[index]).map(Element$$1.fromDom);};var firstChild=function(element){return child(element,0);};var lastChild=function(element){return child(element,element.dom().childNodes.length-1);};var childNodesCount=function(element){return element.dom().childNodes.length;};var hasChildNodes=function(element){return element.dom().hasChildNodes();};var spot=Immutable('element','offset');var leaf=function(element,offset){var cs=children(element);return cs.length>0&&offset<cs.length?spot(cs[offset],0):spot(element,offset);};var $_dr4ybh18jnlpawzt={owner:owner,defaultView:defaultView,documentElement:documentElement,parent:parent,findIndex:findIndex$2,parents:parents,siblings:siblings,prevSibling:prevSibling,offsetParent:offsetParent,prevSiblings:prevSiblings,nextSibling:nextSibling,nextSiblings:nextSiblings,children:children,child:child,firstChild:firstChild,lastChild:lastChild,childNodesCount:childNodesCount,hasChildNodes:hasChildNodes,leaf:leaf};var browser$1=$_766rx4ojnlpawtd.detect().browser;var firstElement=function(nodes){return find(nodes,$_7u5fzs11jnlpawv6.isElement);};var getTableCaptionDeltaY=function(elm){if(browser$1.isFirefox()&&$_7u5fzs11jnlpawv6.name(elm)==='table'){return firstElement($_dr4ybh18jnlpawzt.children(elm)).filter(function(elm){return $_7u5fzs11jnlpawv6.name(elm)==='caption';}).bind(function(caption){return firstElement($_dr4ybh18jnlpawzt.nextSiblings(caption)).map(function(body){var bodyTop=body.dom().offsetTop;var captionTop=caption.dom().offsetTop;var captionHeight=caption.dom().offsetHeight;return bodyTop<=captionTop?-captionHeight:0;});}).getOr(0);}else{return 0;}};var getPos=function(body,elm,rootElm){var x=0,y=0,offsetParent;var doc=body.ownerDocument;var pos;rootElm=rootElm?rootElm:body;if(elm){if(rootElm===body&&elm.getBoundingClientRect&&$_asiuhf13jnlpawvc.get(Element$$1.fromDom(body),'position')==='static'){pos=elm.getBoundingClientRect();x=pos.left+(doc.documentElement.scrollLeft||body.scrollLeft)-doc.documentElement.clientLeft;y=pos.top+(doc.documentElement.scrollTop||body.scrollTop)-doc.documentElement.clientTop;return{x:x,y:y};}offsetParent=elm;while(offsetParent&&offsetParent!==rootElm&&offsetParent.nodeType){x+=offsetParent.offsetLeft||0;y+=offsetParent.offsetTop||0;offsetParent=offsetParent.offsetParent;}offsetParent=elm.parentNode;while(offsetParent&&offsetParent!==rootElm&&offsetParent.nodeType){x-=offsetParent.scrollLeft||0;y-=offsetParent.scrollTop||0;offsetParent=offsetParent.parentNode;}y+=getTableCaptionDeltaY(Element$$1.fromDom(elm));}return{x:x,y:y};};var $_9kqe0nnjnlpawsp={getPos:getPos};var nu$3=function(baseFn){var data=Option.none();var callbacks=[];var map$$1=function(f){return nu$3(function(nCallback){get(function(data){nCallback(f(data));});});};var get=function(nCallback){if(isReady())call(nCallback);else callbacks.push(nCallback);};var set=function(x){data=Option.some(x);run(callbacks);callbacks=[];};var isReady=function(){return data.isSome();};var run=function(cbs){each(cbs,call);};var call=function(cb){data.each(function(x){setTimeout(function(){cb(x);},0);});};baseFn(set);return{get:get,map:map$$1,isReady:isReady};};var pure$1=function(a){return nu$3(function(callback){callback(a);});};var LazyValue={nu:nu$3,pure:pure$1};var bounce=function(f){return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}var me=this;setTimeout(function(){f.apply(me,args);},0);};};var nu$4=function(baseFn){var get=function(callback){baseFn(bounce(callback));};var map=function(fab){return nu$4(function(callback){get(function(a){var value=fab(a);callback(value);});});};var bind=function(aFutureB){return nu$4(function(callback){get(function(a){aFutureB(a).get(callback);});});};var anonBind=function(futureB){return nu$4(function(callback){get(function(a){futureB.get(callback);});});};var toLazy=function(){return LazyValue.nu(get);};var toCached=function(){var cache=null;return nu$4(function(callback){if(cache===null){cache=toLazy();}cache.get(callback);});};return{map:map,bind:bind,anonBind:anonBind,toLazy:toLazy,toCached:toCached,get:get};};var pure$2=function(a){return nu$4(function(callback){callback(a);});};var Future={nu:nu$4,pure:pure$2};var par=function(asyncValues,nu){return nu(function(callback){var r=[];var count=0;var cb=function(i){return function(value){r[i]=value;count++;if(count>=asyncValues.length){callback(r);}};};if(asyncValues.length===0){callback([]);}else{each(asyncValues,function(asyncValue,i){asyncValue.get(cb(i));});}});};var par$1=function(futures){return par(futures,Future.nu);};var value$1=function(o){var is=function(v){return o===v;};var or=function(opt){return value$1(o);};var orThunk=function(f){return value$1(o);};var map=function(f){return value$1(f(o));};var each=function(f){f(o);};var bind=function(f){return f(o);};var fold=function(_,onValue){return onValue(o);};var exists=function(f){return f(o);};var forall=function(f){return f(o);};var toOption=function(){return Option.some(o);};return{is:is,isValue:always,isError:never,getOr:constant(o),getOrThunk:constant(o),getOrDie:constant(o),or:or,orThunk:orThunk,fold:fold,map:map,each:each,bind:bind,exists:exists,forall:forall,toOption:toOption};};var error=function(message){var getOrThunk=function(f){return f();};var getOrDie=function(){return die(String(message))();};var or=function(opt){return opt;};var orThunk=function(f){return f();};var map=function(f){return error(message);};var bind=function(f){return error(message);};var fold=function(onError,_){return onError(message);};return{is:never,isValue:never,isError:always,getOr:identity,getOrThunk:getOrThunk,getOrDie:getOrDie,or:or,orThunk:orThunk,fold:fold,map:map,each:noop,bind:bind,exists:never,forall:always,toOption:Option.none};};var Result={value:value$1,error:error};function StyleSheetLoader(document$$1,settings){/** styleSheet */var idCount=0;var loadedStates={};var maxLoadTime;settings=settings||{};maxLoadTime=settings.maxLoadTime||5000;var appendToHead=function(node){document$$1.getElementsByTagName('head')[0].appendChild(node);};var load=function(url,loadedCallback,errorCallback){var link,style,startTime,state;var passed=function(){var callbacks=state.passed;var i=callbacks.length;while(i--){callbacks[i]();}state.status=2;state.passed=[];state.failed=[];};var failed=function(){var callbacks=state.failed;var i=callbacks.length;while(i--){callbacks[i]();}state.status=3;state.passed=[];state.failed=[];};var isOldWebKit=function(){var webKitChunks=navigator.userAgent.match(/WebKit\\/(\\d*)/);return!!(webKitChunks&&parseInt(webKitChunks[1],10)<536);};var wait=function(testCallback,waitCallback){if(!testCallback()){if(new Date().getTime()-startTime<maxLoadTime){$_2nbnh1ijnlpawpi.setTimeout(waitCallback);}else{failed();}}};var waitForWebKitLinkLoaded=function(){wait(function(){var styleSheets=document$$1.styleSheets;var styleSheet,i=styleSheets.length,owner;// while (i--) {\n//   styleSheet = styleSheets[i];\n//   owner = styleSheet.ownerNode ? styleSheet.ownerNode : styleSheet.owningElement;\n//   if (owner && owner.id === link.id) {\n//     passed();\n//     return true;\n//   }\n// }\npassed();return true;},waitForWebKitLinkLoaded);};var waitForGeckoLinkLoaded=function(){wait(function(){try{// var cssRules = style.sheet.cssRules;\n// passed();\n// return !!cssRules;\npassed();return true;}catch(ex){}},waitForGeckoLinkLoaded);};url=$_1q1txeljnlpawsa._addCacheSuffix(url);if(!loadedStates[url]){state={passed:[],failed:[]};loadedStates[url]=state;}else{state=loadedStates[url];}if(loadedCallback){state.passed.push(loadedCallback);}if(errorCallback){state.failed.push(errorCallback);}if(state.status===1){return;}if(state.status===2){passed();return;}if(state.status===3){failed();return;}state.status=1;link=document$$1.createElement('link');link.rel='stylesheet';link.type='text/css';link.id='u'+idCount++;link.async=false;link.defer=false;link.crossOrigin='anonymous';startTime=new Date().getTime();if('onload'in link&&!isOldWebKit()){link.onload=waitForWebKitLinkLoaded;link.onerror=failed;}else{if(navigator.userAgent.indexOf('Firefox')>0){// style = document$$1.createElement('style');\n// style.textContent = '@import \"' + url + '\"';\n// waitForGeckoLinkLoaded();\n// appendToHead(style);\nreturn;}waitForWebKitLinkLoaded();}appendToHead(link);// link.href = null;\nwaitForWebKitLinkLoaded();};var loadF=function(url){return Future.nu(function(resolve){load(url,compose(resolve,constant(Result.value(url))),compose(resolve,constant(Result.error(url))));});};var unbox=function(result){return result.fold(identity,identity);};var loadAll=function(urls,success,failure){par$1(map(urls,loadF)).get(function(result){var parts=partition(result,function(r){return r.isValue();});if(parts.fail.length>0){failure(parts.fail.map(unbox));}else{success(parts.pass.map(unbox));}});};return{load:load,loadAll:loadAll};}function TreeWalker(startNode,rootNode){var node=startNode;var findSibling=function(node,startName,siblingName,shallow){var sibling,parent;if(node){if(!shallow&&node[startName]){return node[startName];}if(node!==rootNode){sibling=node[siblingName];if(sibling){return sibling;}for(parent=node.parentNode;parent&&parent!==rootNode;parent=parent.parentNode){sibling=parent[siblingName];if(sibling){return sibling;}}}}};var findPreviousNode=function(node,startName,siblingName,shallow){var sibling,parent,child;if(node){sibling=node[siblingName];if(rootNode&&sibling===rootNode){return;}if(sibling){if(!shallow){for(child=sibling[startName];child;child=child[startName]){if(!child[startName]){return child;}}}return sibling;}parent=node.parentNode;if(parent&&parent!==rootNode){return parent;}}};this.current=function(){return node;};this.next=function(shallow){node=findSibling(node,'firstChild','nextSibling',shallow);return node;};this.prev=function(shallow){node=findSibling(node,'lastChild','previousSibling',shallow);return node;};this.prev2=function(shallow){node=findPreviousNode(node,'lastChild','previousSibling',shallow);return node;};}var blocks=['article','aside','details','div','dt','figcaption','footer','form','fieldset','header','hgroup','html','main','nav','section','summary','body','p','dl','multicol','dd','figure','address','center','blockquote','h1','h2','h3','h4','h5','h6','listing','xmp','pre','plaintext','menu','dir','ul','ol','li','hr','table','tbody','thead','tfoot','th','tr','td','caption'];var voids=['area','base','basefont','br','col','frame','hr','img','input','isindex','link','meta','param','embed','source','wbr','track'];var tableCells=['td','th'];var tableSections=['thead','tbody','tfoot'];var textBlocks=['h1','h2','h3','h4','h5','h6','p','div','address','pre','form','blockquote','center','dir','fieldset','header','footer','article','section','hgroup','aside','nav','figure'];var headings=['h1','h2','h3','h4','h5','h6'];var listItems=['li','dd','dt'];var lists=['ul','ol','dl'];var wsElements=['pre','script','textarea','style'];var lazyLookup=function(items){var lookup;return function(node){lookup=lookup?lookup:mapToObject(items,constant(true));return lookup.hasOwnProperty($_7u5fzs11jnlpawv6.name(node));};};var isHeading=lazyLookup(headings);var isBlock=lazyLookup(blocks);var isInline=function(node){return $_7u5fzs11jnlpawv6.isElement(node)&&!isBlock(node);};var isBr=function(node){return $_7u5fzs11jnlpawv6.isElement(node)&&$_7u5fzs11jnlpawv6.name(node)==='br';};var isTextBlock=lazyLookup(textBlocks);var isList=lazyLookup(lists);var isListItem=lazyLookup(listItems);var isVoid=lazyLookup(voids);var isTableSection=lazyLookup(tableSections);var isTableCell=lazyLookup(tableCells);var isWsPreserveElement=lazyLookup(wsElements);var isNodeType=function(type){return function(node){return!!node&&node.nodeType===type;};};var isElement$1=isNodeType(1);var matchNodeNames=function(names){var items=names.toLowerCase().split(' ');return function(node){var i,name;if(node&&node.nodeType){name=node.nodeName.toLowerCase();for(i=0;i<items.length;i++){if(name===items[i]){return true;}}}return false;};};var matchStyleValues=function(name,values){var items=values.toLowerCase().split(' ');return function(node){var i,cssValue;if(isElement$1(node)){for(i=0;i<items.length;i++){var computed=node.ownerDocument.defaultView.getComputedStyle(node,null);cssValue=computed?computed.getPropertyValue(name):null;if(cssValue===items[i]){return true;}}}return false;};};var hasPropValue=function(propName,propValue){return function(node){return isElement$1(node)&&node[propName]===propValue;};};var hasAttribute=function(attrName,attrValue){return function(node){return isElement$1(node)&&node.hasAttribute(attrName);};};var hasAttributeValue=function(attrName,attrValue){return function(node){return isElement$1(node)&&node.getAttribute(attrName)===attrValue;};};var isBogus=function(node){return isElement$1(node)&&node.hasAttribute('data-mce-bogus');};var isBogusAll=function(node){return isElement$1(node)&&node.getAttribute('data-mce-bogus')==='all';};var isTable=function(node){return isElement$1(node)&&node.tagName==='TABLE';};var hasContentEditableState=function(value){return function(node){if(isElement$1(node)){if(node.contentEditable===value){return true;}if(node.getAttribute('data-mce-contenteditable')===value){return true;}}return false;};};var isText$1=isNodeType(3);var isComment$1=isNodeType(8);var isDocument$1=isNodeType(9);var isBr$1=matchNodeNames('br');var isContentEditableTrue=hasContentEditableState('true');var isContentEditableFalse=hasContentEditableState('false');var $_fy28ei1rjnlpax2o={isText:isText$1,isElement:isElement$1,isComment:isComment$1,isDocument:isDocument$1,isBr:isBr$1,isContentEditableTrue:isContentEditableTrue,isContentEditableFalse:isContentEditableFalse,matchNodeNames:matchNodeNames,hasPropValue:hasPropValue,hasAttribute:hasAttribute,hasAttributeValue:hasAttributeValue,matchStyleValues:matchStyleValues,isBogus:isBogus,isBogusAll:isBogusAll,isTable:isTable};var surroundedBySpans=function(node){var previousIsSpan=node.previousSibling&&node.previousSibling.nodeName==='SPAN';var nextIsSpan=node.nextSibling&&node.nextSibling.nodeName==='SPAN';return previousIsSpan&&nextIsSpan;};var isBookmarkNode=function(node){return node&&node.tagName==='SPAN'&&node.getAttribute('data-mce-type')==='bookmark';};var trimNode=function(dom,node){var i,children=node.childNodes;if($_fy28ei1rjnlpax2o.isElement(node)&&isBookmarkNode(node)){return;}for(i=children.length-1;i>=0;i--){trimNode(dom,children[i]);}if($_fy28ei1rjnlpax2o.isDocument(node)===false){if($_fy28ei1rjnlpax2o.isText(node)&&node.nodeValue.length>0){var trimmedLength=$_1q1txeljnlpawsa.trim(node.nodeValue).length;if(dom.isBlock(node.parentNode)||trimmedLength>0){return;}if(trimmedLength===0&&surroundedBySpans(node)){return;}}else if($_fy28ei1rjnlpax2o.isElement(node)){children=node.childNodes;if(children.length===1&&isBookmarkNode(children[0])){node.parentNode.insertBefore(children[0],node);}if(children.length||isVoid(Element$$1.fromDom(node))){return;}}dom.remove(node);}return node;};var $_7nxzh21pjnlpax26={trimNode:trimNode};var makeMap$1=$_1q1txeljnlpawsa.makeMap;var namedEntities;var baseEntities;var reverseEntities;var attrsCharsRegExp=/[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;var textCharsRegExp=/[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;var rawCharsRegExp=/[<>&\\\"\\']/g;var entityRegExp=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi;var asciiMap={128:'\\u20AC',130:'\\u201A',131:'\\u0192',132:'\\u201E',133:'\\u2026',134:'\\u2020',135:'\\u2021',136:'\\u02c6',137:'\\u2030',138:'\\u0160',139:'\\u2039',140:'\\u0152',142:'\\u017d',145:'\\u2018',146:'\\u2019',147:'\\u201C',148:'\\u201D',149:'\\u2022',150:'\\u2013',151:'\\u2014',152:'\\u02DC',153:'\\u2122',154:'\\u0161',155:'\\u203A',156:'\\u0153',158:'\\u017e',159:'\\u0178'};baseEntities={'\"':'&quot;','\\'':'&#39;','<':'&lt;','>':'&gt;','&':'&amp;','`':'&#96;'};reverseEntities={'&lt;':'<','&gt;':'>','&amp;':'&','&quot;':'\"','&apos;':'\\''};var nativeDecode=function(text){var elm;elm=Element$$1.fromTag('div').dom();elm.innerHTML=text;return elm.textContent||elm.innerText||text;};var buildEntitiesLookup=function(items,radix){var i,chr,entity;var lookup={};if(items){items=items.split(',');radix=radix||10;for(i=0;i<items.length;i+=2){chr=String.fromCharCode(parseInt(items[i],radix));if(!baseEntities[chr]){entity='&'+items[i+1]+';';lookup[chr]=entity;lookup[entity]=chr;}}return lookup;}};namedEntities=buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,'+'5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,'+'5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,'+'5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,'+'68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,'+'6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,'+'6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,'+'75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,'+'7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,'+'7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,'+'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,'+'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,'+'t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,'+'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,'+'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,'+'81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,'+'8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,'+'8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,'+'8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,'+'8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,'+'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,'+'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,'+'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,'+'80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,'+'811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro',32);var encodeRaw=function(text,attr){return text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){return baseEntities[chr]||chr;});};var encodeAllRaw=function(text){return(''+text).replace(rawCharsRegExp,function(chr){return baseEntities[chr]||chr;});};var encodeNumeric=function(text,attr){return text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){if(chr.length>1){return'&#'+((chr.charCodeAt(0)-55296)*1024+(chr.charCodeAt(1)-56320)+65536)+';';}return baseEntities[chr]||'&#'+chr.charCodeAt(0)+';';});};var encodeNamed=function(text,attr,entities){entities=entities||namedEntities;return text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){return baseEntities[chr]||entities[chr]||chr;});};var getEncodeFunc=function(name,entities){var entitiesMap=buildEntitiesLookup(entities)||namedEntities;var encodeNamedAndNumeric=function(text,attr){return text.replace(attr?attrsCharsRegExp:textCharsRegExp,function(chr){if(baseEntities[chr]!==undefined){return baseEntities[chr];}if(entitiesMap[chr]!==undefined){return entitiesMap[chr];}if(chr.length>1){return'&#'+((chr.charCodeAt(0)-55296)*1024+(chr.charCodeAt(1)-56320)+65536)+';';}return'&#'+chr.charCodeAt(0)+';';});};var encodeCustomNamed=function(text,attr){return encodeNamed(text,attr,entitiesMap);};var nameMap=makeMap$1(name.replace(/\\+/g,','));if(nameMap.named&&nameMap.numeric){return encodeNamedAndNumeric;}if(nameMap.named){if(entities){return encodeCustomNamed;}return encodeNamed;}if(nameMap.numeric){return encodeNumeric;}return encodeRaw;};var decode=function(text){return text.replace(entityRegExp,function(all,numeric){if(numeric){if(numeric.charAt(0).toLowerCase()==='x'){numeric=parseInt(numeric.substr(1),16);}else{numeric=parseInt(numeric,10);}if(numeric>65535){numeric-=65536;return String.fromCharCode(55296+(numeric>>10),56320+(numeric&1023));}return asciiMap[numeric]||String.fromCharCode(numeric);}return reverseEntities[all]||namedEntities[all]||nativeDecode(all);});};var $_bea7j51sjnlpax2u={encodeRaw:encodeRaw,encodeAllRaw:encodeAllRaw,encodeNumeric:encodeNumeric,encodeNamed:encodeNamed,getEncodeFunc:getEncodeFunc,decode:decode};var mapCache={};var dummyObj={};var makeMap$2=$_1q1txeljnlpawsa.makeMap;var each$4=$_1q1txeljnlpawsa.each;var extend$1=$_1q1txeljnlpawsa.extend;var explode$1=$_1q1txeljnlpawsa.explode;var inArray$1=$_1q1txeljnlpawsa.inArray;var split=function(items,delim){items=$_1q1txeljnlpawsa.trim(items);return items?items.split(delim||' '):[];};var compileSchema=function(type){var schema={};var globalAttributes,blockContent;var phrasingContent,flowContent,html4BlockContent,html4PhrasingContent;var add=function(name,attributes,children){var ni,attributesOrder,element;var arrayToMap=function(array,obj){var map={};var i,l;for(i=0,l=array.length;i<l;i++){map[array[i]]=obj||{};}return map;};children=children||[];attributes=attributes||'';if(typeof children==='string'){children=split(children);}name=split(name);ni=name.length;while(ni--){attributesOrder=split([globalAttributes,attributes].join(' '));element={attributes:arrayToMap(attributesOrder),attributesOrder:attributesOrder,children:arrayToMap(children,dummyObj)};schema[name[ni]]=element;}};var addAttrs=function(name,attributes){var ni,schemaItem,i,l;name=split(name);ni=name.length;attributes=split(attributes);while(ni--){schemaItem=schema[name[ni]];for(i=0,l=attributes.length;i<l;i++){schemaItem.attributes[attributes[i]]={};schemaItem.attributesOrder.push(attributes[i]);}}};if(mapCache[type]){return mapCache[type];}globalAttributes='id accesskey class dir lang style tabindex title role';blockContent='address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';phrasingContent='a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd '+'label map noscript object q s samp script select small span strong sub sup '+'textarea u var #text #comment';if(type!=='html4'){globalAttributes+=' contenteditable contextmenu draggable dropzone '+'hidden spellcheck translate';blockContent+=' article aside details dialog figure main header footer hgroup section nav';phrasingContent+=' audio canvas command datalist mark meter output picture '+'progress time wbr video ruby bdi keygen';}if(type!=='html5-strict'){globalAttributes+=' xml:lang';html4PhrasingContent='acronym applet basefont big font strike tt';phrasingContent=[phrasingContent,html4PhrasingContent].join(' ');each$4(split(html4PhrasingContent),function(name){add(name,'',phrasingContent);});html4BlockContent='center dir isindex noframes';blockContent=[blockContent,html4BlockContent].join(' ');flowContent=[blockContent,phrasingContent].join(' ');each$4(split(html4BlockContent),function(name){add(name,'',flowContent);});}flowContent=flowContent||[blockContent,phrasingContent].join(' ');add('html','manifest','head body');add('head','','base command link meta noscript script style title');add('title hr noscript br');add('base','href target');add('link','href rel media hreflang type sizes hreflang');add('meta','name http-equiv content charset');add('style','media type scoped');add('script','src async defer type charset');add('body','onafterprint onbeforeprint onbeforeunload onblur onerror onfocus '+'onhashchange onload onmessage onoffline ononline onpagehide onpageshow '+'onpopstate onresize onscroll onstorage onunload',flowContent);add('address dt dd div caption','',flowContent);add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn','',phrasingContent);add('blockquote','cite',flowContent);add('ol','reversed start type','li');add('ul','','li');add('li','value',flowContent);add('dl','','dt dd');add('a','href target rel media hreflang type',phrasingContent);add('q','cite',phrasingContent);add('ins del','cite datetime',flowContent);add('img','src sizes srcset alt usemap ismap width height');add('iframe','src name width height',flowContent);add('embed','src type width height');add('object','data type typemustmatch name usemap form width height',[flowContent,'param'].join(' '));add('param','name value');add('map','name',[flowContent,'area'].join(' '));add('area','alt coords shape href target rel media hreflang type');add('table','border','caption colgroup thead tfoot tbody tr'+(type==='html4'?' col':''));add('colgroup','span','col');add('col','span');add('tbody thead tfoot','','tr');add('tr','','td th');add('td','colspan rowspan headers',flowContent);add('th','colspan rowspan headers scope abbr',flowContent);add('form','accept-charset action autocomplete enctype method name novalidate target',flowContent);add('fieldset','disabled form name',[flowContent,'legend'].join(' '));add('label','form for',phrasingContent);add('input','accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate '+'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');add('button','disabled form formaction formenctype formmethod formnovalidate formtarget name type value',type==='html4'?flowContent:phrasingContent);add('select','disabled form multiple name required size','option optgroup');add('optgroup','disabled label','option');add('option','disabled label selected value');add('textarea','cols dirname disabled form maxlength name readonly required rows wrap');add('menu','type label',[flowContent,'li'].join(' '));add('noscript','',flowContent);if(type!=='html4'){add('wbr');add('ruby','',[phrasingContent,'rt rp'].join(' '));add('figcaption','',flowContent);add('mark rt rp summary bdi','',phrasingContent);add('canvas','width height',flowContent);add('video','src crossorigin poster preload autoplay mediagroup loop '+'muted controls width height buffered',[flowContent,'track source'].join(' '));add('audio','src crossorigin preload autoplay mediagroup loop muted controls '+'buffered volume',[flowContent,'track source'].join(' '));add('picture','','img source');add('source','src srcset type media sizes');add('track','kind src srclang label default');add('datalist','',[phrasingContent,'option'].join(' '));add('article section nav aside main header footer','',flowContent);add('hgroup','','h1 h2 h3 h4 h5 h6');add('figure','',[flowContent,'figcaption'].join(' '));add('time','datetime',phrasingContent);add('dialog','open',flowContent);add('command','type label icon disabled checked radiogroup command');add('output','for form name',phrasingContent);add('progress','value max',phrasingContent);add('meter','value min max low high optimum',phrasingContent);add('details','open',[flowContent,'summary'].join(' '));add('keygen','autofocus challenge disabled form keytype name');}if(type!=='html5-strict'){addAttrs('script','language xml:space');addAttrs('style','xml:space');addAttrs('object','declare classid code codebase codetype archive standby align border hspace vspace');addAttrs('embed','align name hspace vspace');addAttrs('param','valuetype type');addAttrs('a','charset name rev shape coords');addAttrs('br','clear');addAttrs('applet','codebase archive code object alt name width height align hspace vspace');addAttrs('img','name longdesc align border hspace vspace');addAttrs('iframe','longdesc frameborder marginwidth marginheight scrolling align');addAttrs('font basefont','size color face');addAttrs('input','usemap align');addAttrs('select','onchange');addAttrs('textarea');addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption','align');addAttrs('ul','type compact');addAttrs('li','type');addAttrs('ol dl menu dir','compact');addAttrs('pre','width xml:space');addAttrs('hr','align noshade size width');addAttrs('isindex','prompt');addAttrs('table','summary width frame rules cellspacing cellpadding align bgcolor');addAttrs('col','width align char charoff valign');addAttrs('colgroup','width align char charoff valign');addAttrs('thead','align char charoff valign');addAttrs('tr','align char charoff valign bgcolor');addAttrs('th','axis align char charoff valign nowrap bgcolor width height');addAttrs('form','accept');addAttrs('td','abbr axis scope align char charoff valign nowrap bgcolor width height');addAttrs('tfoot','align char charoff valign');addAttrs('tbody','align char charoff valign');addAttrs('area','nohref');addAttrs('body','background bgcolor text link vlink alink');}if(type!=='html4'){addAttrs('input button select textarea','autofocus');addAttrs('input textarea','placeholder');addAttrs('a','download');addAttrs('link script img','crossorigin');addAttrs('iframe','sandbox seamless allowfullscreen');}each$4(split('a form meter progress dfn'),function(name){if(schema[name]){delete schema[name].children[name];}});delete schema.caption.children.table;delete schema.script;mapCache[type]=schema;return schema;};var compileElementMap=function(value,mode){var styles;if(value){styles={};if(typeof value==='string'){value={'*':value};}each$4(value,function(value,key){styles[key]=styles[key.toUpperCase()]=mode==='map'?makeMap$2(value,/[, ]/):explode$1(value,/[, ]/);});}return styles;};function Schema(settings){var elements={};var children={};var patternElements=[];var validStyles;var invalidStyles;var schemaItems;var whiteSpaceElementsMap,selfClosingElementsMap,shortEndedElementsMap,boolAttrMap,validClasses;var blockElementsMap,nonEmptyElementsMap,moveCaretBeforeOnEnterElementsMap,textBlockElementsMap,textInlineElementsMap;var customElementsMap={},specialElements={};var createLookupTable=function(option,defaultValue,extendWith){var value=settings[option];if(!value){value=mapCache[option];if(!value){value=makeMap$2(defaultValue,' ',makeMap$2(defaultValue.toUpperCase(),' '));value=extend$1(value,extendWith);mapCache[option]=value;}}else{value=makeMap$2(value,/[, ]/,makeMap$2(value.toUpperCase(),/[, ]/));}return value;};settings=settings||{};schemaItems=compileSchema(settings.schema);if(settings.verify_html===false){settings.valid_elements='*[*]';}validStyles=compileElementMap(settings.valid_styles);invalidStyles=compileElementMap(settings.invalid_styles,'map');validClasses=compileElementMap(settings.valid_classes,'map');whiteSpaceElementsMap=createLookupTable('whitespace_elements','pre script noscript style textarea video audio iframe object code');selfClosingElementsMap=createLookupTable('self_closing_elements','colgroup dd dt li option p td tfoot th thead tr');shortEndedElementsMap=createLookupTable('short_ended_elements','area base basefont br col frame hr img input isindex link '+'meta param embed source wbr track');boolAttrMap=createLookupTable('boolean_attributes','checked compact declare defer disabled ismap multiple nohref noresize '+'noshade nowrap readonly selected autoplay loop controls');nonEmptyElementsMap=createLookupTable('non_empty_elements','td th iframe video audio object '+'script pre code',shortEndedElementsMap);moveCaretBeforeOnEnterElementsMap=createLookupTable('move_caret_before_on_enter_elements','table',nonEmptyElementsMap);textBlockElementsMap=createLookupTable('text_block_elements','h1 h2 h3 h4 h5 h6 p div address pre form '+'blockquote center dir fieldset header footer article section hgroup aside main nav figure');blockElementsMap=createLookupTable('block_elements','hr table tbody thead tfoot '+'th tr td li ol ul caption dl dt dd noscript menu isindex option '+'datalist select optgroup figcaption details summary',textBlockElementsMap);textInlineElementsMap=createLookupTable('text_inline_elements','span strong b em i font strike u var cite '+'dfn code mark q sup sub samp');each$4((settings.special||'script noscript noframes noembed title style textarea xmp').split(' '),function(name){specialElements[name]=new RegExp('</'+name+'[^>]*>','gi');});var patternToRegExp=function(str){return new RegExp('^'+str.replace(/([?+*])/g,'.$1')+'$');};var addValidElements=function(validElements){var ei,el,ai,al,matches,element,attr,attrData,elementName,attrName,attrType,attributes,attributesOrder,prefix,outputName,globalAttributes,globalAttributesOrder,key,value;var elementRuleRegExp=/^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/,attrRuleRegExp=/^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,hasPatternsRegExp=/[*?+]/;if(validElements){validElements=split(validElements,',');if(elements['@']){globalAttributes=elements['@'].attributes;globalAttributesOrder=elements['@'].attributesOrder;}for(ei=0,el=validElements.length;ei<el;ei++){matches=elementRuleRegExp.exec(validElements[ei]);if(matches){prefix=matches[1];elementName=matches[2];outputName=matches[3];attrData=matches[5];attributes={};attributesOrder=[];element={attributes:attributes,attributesOrder:attributesOrder};if(prefix==='#'){element.paddEmpty=true;}if(prefix==='-'){element.removeEmpty=true;}if(matches[4]==='!'){element.removeEmptyAttrs=true;}if(globalAttributes){for(key in globalAttributes){attributes[key]=globalAttributes[key];}attributesOrder.push.apply(attributesOrder,globalAttributesOrder);}if(attrData){attrData=split(attrData,'|');for(ai=0,al=attrData.length;ai<al;ai++){matches=attrRuleRegExp.exec(attrData[ai]);if(matches){attr={};attrType=matches[1];attrName=matches[2].replace(/[\\\\:]:/g,':');prefix=matches[3];value=matches[4];if(attrType==='!'){element.attributesRequired=element.attributesRequired||[];element.attributesRequired.push(attrName);attr.required=true;}if(attrType==='-'){delete attributes[attrName];attributesOrder.splice(inArray$1(attributesOrder,attrName),1);continue;}if(prefix){if(prefix==='='){element.attributesDefault=element.attributesDefault||[];element.attributesDefault.push({name:attrName,value:value});attr.defaultValue=value;}if(prefix===':'){element.attributesForced=element.attributesForced||[];element.attributesForced.push({name:attrName,value:value});attr.forcedValue=value;}if(prefix==='<'){attr.validValues=makeMap$2(value,'?');}}if(hasPatternsRegExp.test(attrName)){element.attributePatterns=element.attributePatterns||[];attr.pattern=patternToRegExp(attrName);element.attributePatterns.push(attr);}else{if(!attributes[attrName]){attributesOrder.push(attrName);}attributes[attrName]=attr;}}}}if(!globalAttributes&&elementName==='@'){globalAttributes=attributes;globalAttributesOrder=attributesOrder;}if(outputName){element.outputName=elementName;elements[outputName]=element;}if(hasPatternsRegExp.test(elementName)){element.pattern=patternToRegExp(elementName);patternElements.push(element);}else{elements[elementName]=element;}}}}};var setValidElements=function(validElements){elements={};patternElements=[];addValidElements(validElements);each$4(schemaItems,function(element,name){children[name]=element.children;});};var addCustomElements=function(customElements){var customElementRegExp=/^(~)?(.+)$/;if(customElements){mapCache.text_block_elements=mapCache.block_elements=null;each$4(split(customElements,','),function(rule){var matches=customElementRegExp.exec(rule),inline=matches[1]==='~',cloneName=inline?'span':'div',name=matches[2];children[name]=children[cloneName];customElementsMap[name]=cloneName;if(!inline){blockElementsMap[name.toUpperCase()]={};blockElementsMap[name]={};}if(!elements[name]){var customRule=elements[cloneName];customRule=extend$1({},customRule);delete customRule.removeEmptyAttrs;delete customRule.removeEmpty;elements[name]=customRule;}each$4(children,function(element,elmName){if(element[cloneName]){children[elmName]=element=extend$1({},children[elmName]);element[name]=element[cloneName];}});});}};var addValidChildren=function(validChildren){var childRuleRegExp=/^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;mapCache[settings.schema]=null;if(validChildren){each$4(split(validChildren,','),function(rule){var matches=childRuleRegExp.exec(rule);var parent,prefix;if(matches){prefix=matches[1];if(prefix){parent=children[matches[2]];}else{parent=children[matches[2]]={'#comment':{}};}parent=children[matches[2]];each$4(split(matches[3],'|'),function(child){if(prefix==='-'){delete parent[child];}else{parent[child]={};}});}});}};var getElementRule=function(name){var element=elements[name],i;if(element){return element;}i=patternElements.length;while(i--){element=patternElements[i];if(element.pattern.test(name)){return element;}}};if(!settings.valid_elements){each$4(schemaItems,function(element,name){elements[name]={attributes:element.attributes,attributesOrder:element.attributesOrder};children[name]=element.children;});if(settings.schema!=='html5'){each$4(split('strong/b em/i'),function(item){item=split(item,'/');elements[item[1]].outputName=item[0];});}each$4(split('ol ul sub sup blockquote span font a table tbody tr strong em b i'),function(name){if(elements[name]){elements[name].removeEmpty=true;}});each$4(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'),function(name){elements[name].paddEmpty=true;});each$4(split('span'),function(name){elements[name].removeEmptyAttrs=true;});}else{setValidElements(settings.valid_elements);}addCustomElements(settings.custom_elements);addValidChildren(settings.valid_children);addValidElements(settings.extended_valid_elements);addValidChildren('+ol[ul|ol],+ul[ul|ol]');each$4({dd:'dl',dt:'dl',li:'ul ol',td:'tr',th:'tr',tr:'tbody thead tfoot',tbody:'table',thead:'table',tfoot:'table',legend:'fieldset',area:'map',param:'video audio object'},function(parents,item){if(elements[item]){elements[item].parentsRequired=split(parents);}});if(settings.invalid_elements){each$4(explode$1(settings.invalid_elements),function(item){if(elements[item]){delete elements[item];}});}if(!getElementRule('span')){addValidElements('span[!data-mce-type|*]');}var getValidStyles=function(){return validStyles;};var getInvalidStyles=function(){return invalidStyles;};var getValidClasses=function(){return validClasses;};var getBoolAttrs=function(){return boolAttrMap;};var getBlockElements=function(){return blockElementsMap;};var getTextBlockElements=function(){return textBlockElementsMap;};var getTextInlineElements=function(){return textInlineElementsMap;};var getShortEndedElements=function(){return shortEndedElementsMap;};var getSelfClosingElements=function(){return selfClosingElementsMap;};var getNonEmptyElements=function(){return nonEmptyElementsMap;};var getMoveCaretBeforeOnEnterElements=function(){return moveCaretBeforeOnEnterElementsMap;};var getWhiteSpaceElements=function(){return whiteSpaceElementsMap;};var getSpecialElements=function(){return specialElements;};var isValidChild=function(name,child){var parent=children[name.toLowerCase()];return!!(parent&&parent[child.toLowerCase()]);};var isValid=function(name,attr){var attrPatterns,i;var rule=getElementRule(name);if(rule){if(attr){if(rule.attributes[attr]){return true;}attrPatterns=rule.attributePatterns;if(attrPatterns){i=attrPatterns.length;while(i--){if(attrPatterns[i].pattern.test(name)){return true;}}}}else{return true;}}return false;};var getCustomElements=function(){return customElementsMap;};return{children:children,elements:elements,getValidStyles:getValidStyles,getValidClasses:getValidClasses,getBlockElements:getBlockElements,getInvalidStyles:getInvalidStyles,getShortEndedElements:getShortEndedElements,getTextBlockElements:getTextBlockElements,getTextInlineElements:getTextInlineElements,getBoolAttrs:getBoolAttrs,getElementRule:getElementRule,getSelfClosingElements:getSelfClosingElements,getNonEmptyElements:getNonEmptyElements,getMoveCaretBeforeOnEnterElements:getMoveCaretBeforeOnEnterElements,getWhiteSpaceElements:getWhiteSpaceElements,getSpecialElements:getSpecialElements,isValidChild:isValidChild,isValid:isValid,getCustomElements:getCustomElements,addValidElements:addValidElements,setValidElements:setValidElements,addCustomElements:addCustomElements,addValidChildren:addValidChildren};}var toHex=function(match,r,g,b){var hex=function(val){val=parseInt(val,10).toString(16);return val.length>1?val:'0'+val;};return'#'+hex(r)+hex(g)+hex(b);};function Styles(settings,schema){var rgbRegExp=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;var urlOrStrRegExp=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;var styleRegExp=/\\s*([^:]+):\\s*([^;]+);?/g;var trimRightRegExp=/\\s+$/;var i;var encodingLookup={};var encodingItems;var validStyles;var invalidStyles;var invisibleChar='\\uFEFF';settings=settings||{};if(schema){validStyles=schema.getValidStyles();invalidStyles=schema.getInvalidStyles();}encodingItems=('\\\\\" \\\\\\' \\\\; \\\\: ; : '+invisibleChar).split(' ');for(i=0;i<encodingItems.length;i++){encodingLookup[encodingItems[i]]=invisibleChar+i;encodingLookup[invisibleChar+i]=encodingItems[i];}return{toHex:function(color){return color.replace(rgbRegExp,toHex);},parse:function(css){var styles={};var matches,name,value,isEncoded;var urlConverter=settings.url_converter;var urlConverterScope=settings.url_converter_scope||this;var compress=function(prefix,suffix,noJoin){var top,right,bottom,left;top=styles[prefix+'-top'+suffix];if(!top){return;}right=styles[prefix+'-right'+suffix];if(!right){return;}bottom=styles[prefix+'-bottom'+suffix];if(!bottom){return;}left=styles[prefix+'-left'+suffix];if(!left){return;}var box=[top,right,bottom,left];i=box.length-1;while(i--){if(box[i]!==box[i+1]){break;}}if(i>-1&&noJoin){return;}styles[prefix+suffix]=i===-1?box[0]:box.join(' ');delete styles[prefix+'-top'+suffix];delete styles[prefix+'-right'+suffix];delete styles[prefix+'-bottom'+suffix];delete styles[prefix+'-left'+suffix];};var canCompress=function(key){var value=styles[key],i;if(!value){return;}value=value.split(' ');i=value.length;while(i--){if(value[i]!==value[0]){return false;}}styles[key]=value[0];return true;};var compress2=function(target,a,b,c){if(!canCompress(a)){return;}if(!canCompress(b)){return;}if(!canCompress(c)){return;}styles[target]=styles[a]+' '+styles[b]+' '+styles[c];delete styles[a];delete styles[b];delete styles[c];};var encode=function(str){isEncoded=true;return encodingLookup[str];};var decode=function(str,keepSlashes){if(isEncoded){str=str.replace(/\\uFEFF[0-9]/g,function(str){return encodingLookup[str];});}if(!keepSlashes){str=str.replace(/\\\\([\\'\\\";:])/g,'$1');}return str;};var decodeSingleHexSequence=function(escSeq){return String.fromCharCode(parseInt(escSeq.slice(1),16));};var decodeHexSequences=function(value){return value.replace(/\\\\[0-9a-f]+/gi,decodeSingleHexSequence);};var processUrl=function(match,url,url2,url3,str,str2){str=str||str2;if(str){str=decode(str);return'\\''+str.replace(/\\'/g,'\\\\\\'')+'\\'';}url=decode(url||url2||url3);if(!settings.allow_script_urls){var scriptUrl=url.replace(/[\\s\\r\\n]+/g,'');if(/(java|vb)script:/i.test(scriptUrl)){return'';}if(!settings.allow_svg_data_urls&&/^data:image\\/svg/i.test(scriptUrl)){return'';}}if(urlConverter){url=urlConverter.call(urlConverterScope,url,'style');}return'url(\\''+url.replace(/\\'/g,'\\\\\\'')+'\\')';};if(css){css=css.replace(/[\\u0000-\\u001F]/g,'');css=css.replace(/\\\\[\\\"\\';:\\uFEFF]/g,encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(str){return str.replace(/[;:]/g,encode);});while(matches=styleRegExp.exec(css)){styleRegExp.lastIndex=matches.index+matches[0].length;name=matches[1].replace(trimRightRegExp,'').toLowerCase();value=matches[2].replace(trimRightRegExp,'');if(name&&value){name=decodeHexSequences(name);value=decodeHexSequences(value);if(name.indexOf(invisibleChar)!==-1||name.indexOf('\"')!==-1){continue;}if(!settings.allow_script_urls&&(name==='behavior'||/expression\\s*\\(|\\/\\*|\\*\\//.test(value))){continue;}if(name==='font-weight'&&value==='700'){value='bold';}else if(name==='color'||name==='background-color'){value=value.toLowerCase();}value=value.replace(rgbRegExp,toHex);value=value.replace(urlOrStrRegExp,processUrl);styles[name]=isEncoded?decode(value,true):value;}}compress('border','',true);compress('border','-width');compress('border','-color');compress('border','-style');compress('padding','');compress('margin','');compress2('border','border-width','border-style','border-color');if(styles.border==='medium none'){delete styles.border;}if(styles['border-image']==='none'){delete styles['border-image'];}}return styles;},serialize:function(styles,elementName){var css='',name,value;var serializeStyles=function(name){var styleList,i,l,value;styleList=validStyles[name];if(styleList){for(i=0,l=styleList.length;i<l;i++){name=styleList[i];value=styles[name];if(value){css+=(css.length>0?' ':'')+name+': '+value+';';}}}};var isValid=function(name,elementName){var styleMap;styleMap=invalidStyles['*'];if(styleMap&&styleMap[name]){return false;}styleMap=invalidStyles[elementName];if(styleMap&&styleMap[name]){return false;}return true;};if(elementName&&validStyles){serializeStyles('*');serializeStyles(elementName);}else{for(name in styles){value=styles[name];if(value&&(!invalidStyles||isValid(name,elementName))){css+=(css.length>0?' ':'')+name+': '+value+';';}}}return css;}};}var each$5=$_1q1txeljnlpawsa.each;var grep$1=$_1q1txeljnlpawsa.grep;var isIE=$_cseqobajnlpawll.ie;var simpleSelectorRe=/^([a-z0-9],?)+$/i;var whiteSpaceRegExp$2=/^[ \\t\\r\\n]*$/;var setupAttrHooks=function(styles,settings,getContext){var attrHooks={};var keepValues=settings.keep_values;var keepUrlHook={set:function($elm,value,name$$1){if(settings.url_converter){value=settings.url_converter.call(settings.url_converter_scope||getContext(),value,name$$1,$elm[0]);}$elm.attr('data-mce-'+name$$1,value).attr(name$$1,value);},get:function($elm,name$$1){return $elm.attr('data-mce-'+name$$1)||$elm.attr(name$$1);}};attrHooks={style:{set:function($elm,value){if(value!==null&&typeof value==='object'){$elm.css(value);return;}if(keepValues){$elm.attr('data-mce-style',value);}$elm.attr('style',value);},get:function($elm){var value=$elm.attr('data-mce-style')||$elm.attr('style');value=styles.serialize(styles.parse(value),$elm[0].nodeName);return value;}}};if(keepValues){attrHooks.href=attrHooks.src=keepUrlHook;}return attrHooks;};var updateInternalStyleAttr=function(styles,$elm){var rawValue=$elm.attr('style');var value=styles.serialize(styles.parse(rawValue),$elm[0].nodeName);if(!value){value=null;}$elm.attr('data-mce-style',value);};var findNodeIndex=function(node,normalized){var idx=0,lastNodeType,nodeType;if(node){for(lastNodeType=node.nodeType,node=node.previousSibling;node;node=node.previousSibling){nodeType=node.nodeType;if(normalized&&nodeType===3){if(nodeType===lastNodeType||!node.nodeValue.length){continue;}}idx++;lastNodeType=nodeType;}}return idx;};function DOMUtils(doc,settings){var _this=this;if(settings===void 0){settings={};}var attrHooks;var addedStyles={};var win=window;var files={};var counter=0;var stdMode=true;var boxModel=true;// var styleSheetLoader = StyleSheetLoader(doc);\nvar styleSheetLoader=StyleSheetLoader(doc);var boundEvents=[];var schema=settings.schema?settings.schema:Schema({});var styles=Styles({url_converter:settings.url_converter,url_converter_scope:settings.url_converter_scope},settings.schema);var events=settings.ownEvents?new EventUtils(settings.proxy):EventUtils.Event;var blockElementsMap=schema.getBlockElements();var $=DomQuery.overrideDefaults(function(){return{context:doc,element:self$$1.getRoot()};});var isBlock=function(node){if(typeof node==='string'){return!!blockElementsMap[node];}else if(node){var type=node.nodeType;if(type){return!!(type===1&&blockElementsMap[node.nodeName]);}}return false;};var get=function(elm){if(elm&&doc&&typeof elm==='string'){var node=doc.getElementById(elm);if(node&&node.id!==elm){return doc.getElementsByName(elm)[1];}else{return node;}}return elm;};var $$=function(elm){if(typeof elm==='string'){elm=get(elm);}return $(elm);};var getAttrib=function(elm,name$$1,defaultVal){var hook,value;var $elm=$$(elm);if($elm.length){hook=attrHooks[name$$1];if(hook&&hook.get){value=hook.get($elm,name$$1);}else{value=$elm.attr(name$$1);}}if(typeof value==='undefined'){value=defaultVal||'';}return value;};var getAttribs=function(elm){var node=get(elm);if(!node){return[];}return node.attributes;};var setAttrib=function(elm,name$$1,value){var originalValue,hook;if(value===''){value=null;}var $elm=$$(elm);originalValue=$elm.attr(name$$1);if(!$elm.length){return;}hook=attrHooks[name$$1];if(hook&&hook.set){hook.set($elm,value,name$$1);}else{$elm.attr(name$$1,value);}if(originalValue!==value&&settings.onSetAttrib){settings.onSetAttrib({attrElm:$elm,attrName:name$$1,attrValue:value});}};var clone=function(node,deep){if(!isIE||node.nodeType!==1||deep){return node.cloneNode(deep);}if(!deep){var clone_1=doc.createElement(node.nodeName);each$5(getAttribs(node),function(attr){setAttrib(clone_1,attr.nodeName,getAttrib(node,attr.nodeName));});return clone_1;}return null;};var getRoot=function(){return settings.root_element||doc.body;};var getViewPort=function(argWin){var actWin=!argWin?win:argWin;var doc=actWin.document;var rootElm=boxModel?doc.documentElement:doc.body;return{x:actWin.pageXOffset||rootElm.scrollLeft,y:actWin.pageYOffset||rootElm.scrollTop,w:actWin.innerWidth||rootElm.clientWidth,h:actWin.innerHeight||rootElm.clientHeight};};var getPos=function(elm,rootElm){return $_9kqe0nnjnlpawsp.getPos(doc.body,get(elm),rootElm);};var setStyle=function(elm,name$$1,value){var $elm=$$(elm).css(name$$1,value);if(settings.update_styles){updateInternalStyleAttr(styles,$elm);}};var setStyles=function(elm,stylesArg){var $elm=$$(elm).css(stylesArg);if(settings.update_styles){updateInternalStyleAttr(styles,$elm);}};var getStyle=function(elm,name$$1,computed){var $elm=$$(elm);if(computed){return $elm.css(name$$1);}name$$1=name$$1.replace(/-(\\D)/g,function(a,b){return b.toUpperCase();});if(name$$1==='float'){name$$1=$_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie<12?'styleFloat':'cssFloat';}return $elm[0]&&$elm[0].style?$elm[0].style[name$$1]:undefined;};var getSize=function(elm){var w,h;elm=get(elm);w=getStyle(elm,'width');h=getStyle(elm,'height');if(w.indexOf('px')===-1){w=0;}if(h.indexOf('px')===-1){h=0;}return{w:parseInt(w,10)||elm.offsetWidth||elm.clientWidth,h:parseInt(h,10)||elm.offsetHeight||elm.clientHeight};};var getRect=function(elm){var pos,size;elm=get(elm);pos=getPos(elm);size=getSize(elm);return{x:pos.x,y:pos.y,w:size.w,h:size.h};};var is=function(elm,selector){var i;if(!elm){return false;}if(!Array.isArray(elm)){if(selector==='*'){return elm.nodeType===1;}if(simpleSelectorRe.test(selector)){var selectors=selector.toLowerCase().split(/,/);var elmName=elm.nodeName.toLowerCase();for(i=selectors.length-1;i>=0;i--){if(selectors[i]===elmName){return true;}}return false;}if(elm.nodeType&&elm.nodeType!==1){return false;}}var elms=!Array.isArray(elm)?[elm]:elm;return Sizzle(selector,elms[0].ownerDocument||elms[0],null,elms).length>0;};var getParents=function(elm,selector,root,collect){var result=[];var selectorVal;var node=get(elm);collect=collect===undefined;root=root||(getRoot().nodeName!=='BODY'?getRoot().parentNode:null);if($_1q1txeljnlpawsa.is(selector,'string')){selectorVal=selector;if(selector==='*'){selector=function(node){return node.nodeType===1;};}else{selector=function(node){return is(node,selectorVal);};}}while(node){if(node===root||!node.nodeType||node.nodeType===9){break;}if(!selector||typeof selector==='function'&&selector(node)){if(collect){result.push(node);}else{return[node];}}node=node.parentNode;}return collect?result:null;};var getParent=function(node,selector,root){var parents=getParents(node,selector,root,false);return parents&&parents.length>0?parents[0]:null;};var _findSib=function(node,selector,name$$1){var func=selector;if(node){if(typeof selector==='string'){func=function(node){return is(node,selector);};}for(node=node[name$$1];node;node=node[name$$1]){if(typeof func==='function'&&func(node)){return node;}}}return null;};var getNext=function(node,selector){return _findSib(node,selector,'nextSibling');};var getPrev=function(node,selector){return _findSib(node,selector,'previousSibling');};var select=function(selector,scope){return Sizzle(selector,get(scope)||settings.root_element||doc,[]);};var run=function(elm,func,scope){var result;var node=typeof elm==='string'?get(elm):elm;if(!node){return false;}if($_1q1txeljnlpawsa.isArray(node)&&(node.length||node.length===0)){result=[];each$5(node,function(elm,i){if(elm){if(typeof elm==='string'){elm=get(elm);}result.push(func.call(scope,elm,i));}});return result;}var context=scope?scope:_this;return func.call(context,node);};var setAttribs=function(elm,attrs){$$(elm).each(function(i,node){each$5(attrs,function(value,name$$1){setAttrib(node,name$$1,value);});});};var setHTML=function(elm,html){var $elm=$$(elm);if(isIE){$elm.each(function(i,target){if(target.canHaveHTML===false){return;}while(target.firstChild){target.removeChild(target.firstChild);}try{target.innerHTML='<br>'+html;target.removeChild(target.firstChild);}catch(ex){DomQuery('<div></div>').html('<br>'+html).contents().slice(1).appendTo(target);}return html;});}else{$elm.html(html);}};var add=function(parentElm,name$$1,attrs,html,create){return run(parentElm,function(parentElm){var newElm=typeof name$$1==='string'?doc.createElement(name$$1):name$$1;setAttribs(newElm,attrs);if(html){if(typeof html!=='string'&&html.nodeType){newElm.appendChild(html);}else if(typeof html==='string'){setHTML(newElm,html);}}return!create?parentElm.appendChild(newElm):newElm;});};var create=function(name$$1,attrs,html){return add(doc.createElement(name$$1),name$$1,attrs,html,true);};var decode=$_bea7j51sjnlpax2u.decode;var encode=$_bea7j51sjnlpax2u.encodeAllRaw;var createHTML=function(name$$1,attrs,html){var outHtml='',key;outHtml+='<'+name$$1;for(key in attrs){if(attrs.hasOwnProperty(key)&&attrs[key]!==null&&typeof attrs[key]!=='undefined'){outHtml+=' '+key+'=\"'+encode(attrs[key])+'\"';}}if(typeof html!=='undefined'){return outHtml+'>'+html+'</'+name$$1+'>';}return outHtml+' />';};var createFragment=function(html){var node;var container=doc.createElement('div');var frag=doc.createDocumentFragment();if(html){container.innerHTML=html;}while(node=container.firstChild){frag.appendChild(node);}return frag;};var remove=function(node,keepChildren){var $node=$$(node);if(keepChildren){$node.each(function(){var child;while(child=this.firstChild){if(child.nodeType===3&&child.data.length===0){this.removeChild(child);}else{this.parentNode.insertBefore(child,this);}}}).remove();}else{$node.remove();}return $node.length>1?$node.toArray():$node[0];};var removeAllAttribs=function(e){return run(e,function(e){var i;var attrs=e.attributes;for(i=attrs.length-1;i>=0;i--){e.removeAttributeNode(attrs.item(i));}});};var parseStyle=function(cssText){return styles.parse(cssText);};var serializeStyle=function(stylesArg,name$$1){return styles.serialize(stylesArg,name$$1);};var addStyle=function(cssText){var head,styleElm;if(self$$1!==DOMUtils.DOM&&doc===document){if(addedStyles[cssText]){return;}addedStyles[cssText]=true;}styleElm=doc.getElementById('mceDefaultStyles');if(!styleElm){styleElm=doc.createElement('style');styleElm.id='mceDefaultStyles';styleElm.type='text/css';head=doc.getElementsByTagName('head')[0];if(head.firstChild){head.insertBefore(styleElm,head.firstChild);}else{head.appendChild(styleElm);}}if(styleElm.styleSheet){styleElm.styleSheet.cssText+=cssText;}else{styleElm.appendChild(doc.createTextNode(cssText));}};var loadCSS=function(url){var head;if(self$$1!==DOMUtils.DOM&&doc===document){DOMUtils.DOM.loadCSS(url);return;}if(!url){url='';}head=doc.getElementsByTagName('head')[0];each$5(url.split(','),function(url){var link;url=$_1q1txeljnlpawsa._addCacheSuffix(url);if(files[url]){return;}files[url]=true;link=create('link',{rel:'stylesheet',href:url});head.appendChild(link);});};var toggleClass=function(elm,cls,state){$$(elm).toggleClass(cls,state).each(function(){if(this.className===''){DomQuery(this).attr('class',null);}});};var addClass=function(elm,cls){$$(elm).addClass(cls);};var removeClass=function(elm,cls){toggleClass(elm,cls,false);};var hasClass=function(elm,cls){return $$(elm).hasClass(cls);};var show=function(elm){$$(elm).show();};var hide=function(elm){$$(elm).hide();};var isHidden=function(elm){return $$(elm).css('display')==='none';};var uniqueId=function(prefix){return(!prefix?'mce_':prefix)+counter++;};var getOuterHTML=function(elm){var node=typeof elm==='string'?get(elm):elm;return $_fy28ei1rjnlpax2o.isElement(node)?node.outerHTML:DomQuery('<div></div>').append(DomQuery(node).clone()).html();};var setOuterHTML=function(elm,html){$$(elm).each(function(){try{if('outerHTML'in this){this.outerHTML=html;return;}}catch(ex){}remove(DomQuery(this).html(html),true);});};var insertAfter=function(node,reference){var referenceNode=get(reference);return run(node,function(node){var parent$$1,nextSibling;parent$$1=referenceNode.parentNode;nextSibling=referenceNode.nextSibling;if(nextSibling){parent$$1.insertBefore(node,nextSibling);}else{parent$$1.appendChild(node);}return node;});};var replace=function(newElm,oldElm,keepChildren){return run(oldElm,function(oldElm){if($_1q1txeljnlpawsa.is(oldElm,'array')){newElm=newElm.cloneNode(true);}if(keepChildren){each$5(grep$1(oldElm.childNodes),function(node){newElm.appendChild(node);});}return oldElm.parentNode.replaceChild(newElm,oldElm);});};var rename=function(elm,name$$1){var newElm;if(elm.nodeName!==name$$1.toUpperCase()){newElm=create(name$$1);each$5(getAttribs(elm),function(attrNode){setAttrib(newElm,attrNode.nodeName,getAttrib(elm,attrNode.nodeName));});replace(newElm,elm,true);}return newElm||elm;};var findCommonAncestor=function(a,b){var ps=a,pe;while(ps){pe=b;while(pe&&ps!==pe){pe=pe.parentNode;}if(ps===pe){break;}ps=ps.parentNode;}if(!ps&&a.ownerDocument){return a.ownerDocument.documentElement;}return ps;};var toHex=function(rgbVal){return styles.toHex($_1q1txeljnlpawsa.trim(rgbVal));};var isEmpty=function(node,elements){var i,attributes,type,whitespace,walker,name$$1,brCount=0;node=node.firstChild;if(node){walker=new TreeWalker(node,node.parentNode);elements=elements||(schema?schema.getNonEmptyElements():null);whitespace=schema?schema.getWhiteSpaceElements():{};do{type=node.nodeType;if($_fy28ei1rjnlpax2o.isElement(node)){var bogusVal=node.getAttribute('data-mce-bogus');if(bogusVal){node=walker.next(bogusVal==='all');continue;}name$$1=node.nodeName.toLowerCase();if(elements&&elements[name$$1]){if(name$$1==='br'){brCount++;node=walker.next();continue;}return false;}attributes=getAttribs(node);i=attributes.length;while(i--){name$$1=attributes[i].nodeName;if(name$$1==='name'||name$$1==='data-mce-bookmark'){return false;}}}if(type===8){return false;}if(type===3&&!whiteSpaceRegExp$2.test(node.nodeValue)){return false;}if(type===3&&node.parentNode&&whitespace[node.parentNode.nodeName]&&whiteSpaceRegExp$2.test(node.nodeValue)){return false;}node=walker.next();}while(node);}return brCount<=1;};var createRng=function(){return doc.createRange();};var split=function(parentElm,splitElm,replacementElm){var r=createRng(),bef,aft,pa;if(parentElm&&splitElm){r.setStart(parentElm.parentNode,findNodeIndex(parentElm));r.setEnd(splitElm.parentNode,findNodeIndex(splitElm));bef=r.extractContents();r=createRng();r.setStart(splitElm.parentNode,findNodeIndex(splitElm)+1);r.setEnd(parentElm.parentNode,findNodeIndex(parentElm)+1);aft=r.extractContents();pa=parentElm.parentNode;pa.insertBefore($_7nxzh21pjnlpax26.trimNode(self$$1,bef),parentElm);if(replacementElm){pa.insertBefore(replacementElm,parentElm);}else{pa.insertBefore(splitElm,parentElm);}pa.insertBefore($_7nxzh21pjnlpax26.trimNode(self$$1,aft),parentElm);remove(parentElm);return replacementElm||splitElm;}};var bind=function(target,name$$1,func,scope){if($_1q1txeljnlpawsa.isArray(target)){var i=target.length;while(i--){target[i]=bind(target[i],name$$1,func,scope);}return target;}if(settings.collect&&(target===doc||target===win)){boundEvents.push([target,name$$1,func,scope]);}return events.bind(target,name$$1,func,scope||self$$1);};var unbind=function(target,name$$1,func){var i;if($_1q1txeljnlpawsa.isArray(target)){i=target.length;while(i--){target[i]=unbind(target[i],name$$1,func);}return target;}if(boundEvents&&(target===doc||target===win)){i=boundEvents.length;while(i--){var item=boundEvents[i];if(target===item[0]&&(!name$$1||name$$1===item[1])&&(!func||func===item[2])){events.unbind(item[0],item[1],item[2]);}}}return events.unbind(target,name$$1,func);};var fire=function(target,name$$1,evt){return events.fire(target,name$$1,evt);};var getContentEditable=function(node){if(node&&$_fy28ei1rjnlpax2o.isElement(node)){var contentEditable=node.getAttribute('data-mce-contenteditable');if(contentEditable&&contentEditable!=='inherit'){return contentEditable;}return node.contentEditable!=='inherit'?node.contentEditable:null;}else{return null;}};var getContentEditableParent=function(node){var root=getRoot();var state=null;for(;node&&node!==root;node=node.parentNode){state=getContentEditable(node);if(state!==null){break;}}return state;};var destroy=function(){if(boundEvents){var i=boundEvents.length;while(i--){var item=boundEvents[i];events.unbind(item[0],item[1],item[2]);}}if(Sizzle.setDocument){Sizzle.setDocument();}};var isChildOf=function(node,parent$$1){while(node){if(parent$$1===node){return true;}node=node.parentNode;}return false;};var dumpRng=function(r){return'startContainer: '+r.startContainer.nodeName+', startOffset: '+r.startOffset+', endContainer: '+r.endContainer.nodeName+', endOffset: '+r.endOffset;};var self$$1={doc:doc,settings:settings,win:win,files:files,stdMode:stdMode,boxModel:boxModel,styleSheetLoader:styleSheetLoader,boundEvents:boundEvents,styles:styles,schema:schema,events:events,isBlock:isBlock,$:$,$$:$$,root:null,clone:clone,getRoot:getRoot,getViewPort:getViewPort,getRect:getRect,getSize:getSize,getParent:getParent,getParents:getParents,get:get,getNext:getNext,getPrev:getPrev,select:select,is:is,add:add,create:create,createHTML:createHTML,createFragment:createFragment,remove:remove,setStyle:setStyle,getStyle:getStyle,setStyles:setStyles,removeAllAttribs:removeAllAttribs,setAttrib:setAttrib,setAttribs:setAttribs,getAttrib:getAttrib,getPos:getPos,parseStyle:parseStyle,serializeStyle:serializeStyle,addStyle:addStyle,loadCSS:loadCSS,addClass:addClass,removeClass:removeClass,hasClass:hasClass,toggleClass:toggleClass,show:show,hide:hide,isHidden:isHidden,uniqueId:uniqueId,setHTML:setHTML,getOuterHTML:getOuterHTML,setOuterHTML:setOuterHTML,decode:decode,encode:encode,insertAfter:insertAfter,replace:replace,rename:rename,findCommonAncestor:findCommonAncestor,toHex:toHex,run:run,getAttribs:getAttribs,isEmpty:isEmpty,createRng:createRng,nodeIndex:findNodeIndex,split:split,bind:bind,unbind:unbind,fire:fire,getContentEditable:getContentEditable,getContentEditableParent:getContentEditableParent,destroy:destroy,isChildOf:isChildOf,dumpRng:dumpRng};attrHooks=setupAttrHooks(styles,settings,function(){return self$$1;});return self$$1;}(function(DOMUtils){DOMUtils.DOM=DOMUtils(document);DOMUtils.nodeIndex=findNodeIndex;})(DOMUtils||(DOMUtils={}));var DOMUtils$1=DOMUtils;var DOM=DOMUtils$1.DOM;var each$6=$_1q1txeljnlpawsa.each;var grep$2=$_1q1txeljnlpawsa.grep;var isFunction$1=function(f){return typeof f==='function';};var ScriptLoader=function(){var QUEUED=0;var LOADING=1;var LOADED=2;var FAILED=3;var states={};var queue=[];var scriptLoadedCallbacks={};var queueLoadedCallbacks=[];var loading=0;var loadScript=function(url,success,failure){var dom=DOM;var elm,id;var done=function(){dom.remove(id);if(elm){elm.onreadystatechange=elm.onload=elm=null;}success();};var error=function(){if(isFunction$1(failure)){failure();}else{if(typeof console!=='undefined'&&console.log){console.log('Failed to load script: '+url);}}};id=dom.uniqueId();elm=document.createElement('script');elm.id=id;elm.type='text/javascript';elm.src=$_1q1txeljnlpawsa._addCacheSuffix(url);elm.onload=done;elm.onerror=error;(document.getElementsByTagName('head')[0]||document.body).appendChild(elm);};this.isDone=function(url){return states[url]===LOADED;};this.markDone=function(url){states[url]=LOADED;};this.add=this.load=function(url,success,scope,failure){var state=states[url];if(state===undefined){queue.push(url);states[url]=QUEUED;}if(success){if(!scriptLoadedCallbacks[url]){scriptLoadedCallbacks[url]=[];}scriptLoadedCallbacks[url].push({success:success,failure:failure,scope:scope||this});}};this.remove=function(url){delete states[url];delete scriptLoadedCallbacks[url];};this.loadQueue=function(success,scope,failure){this.loadScripts(queue,success,scope,failure);};this.loadScripts=function(scripts,success,scope,failure){var loadScripts;var failures=[];var execCallbacks=function(name$$1,url){each$6(scriptLoadedCallbacks[url],function(callback){if(isFunction$1(callback[name$$1])){callback[name$$1].call(callback.scope);}});scriptLoadedCallbacks[url]=undefined;};queueLoadedCallbacks.push({success:success,failure:failure,scope:scope||this});loadScripts=function(){var loadingScripts=grep$2(scripts);scripts.length=0;each$6(loadingScripts,function(url){if(states[url]===LOADED){execCallbacks('success',url);return;}if(states[url]===FAILED){execCallbacks('failure',url);return;}if(states[url]!==LOADING){states[url]=LOADING;loading++;loadScript(url,function(){states[url]=LOADED;loading--;execCallbacks('success',url);loadScripts();},function(){states[url]=FAILED;loading--;failures.push(url);execCallbacks('failure',url);loadScripts();});}});if(!loading){var notifyCallbacks=queueLoadedCallbacks.slice(0);queueLoadedCallbacks.length=0;each$6(notifyCallbacks,function(callback){if(failures.length===0){if(isFunction$1(callback.success)){callback.success.call(callback.scope);}}else{if(isFunction$1(callback.failure)){callback.failure.call(callback.scope,failures);}}});}};loadScripts();};};ScriptLoader.ScriptLoader=new ScriptLoader();var each$7=$_1q1txeljnlpawsa.each;function AddOnManager(){var _this=this;var items=[];var urls={};var lookup={};var _listeners=[];var get=function(name){if(lookup[name]){return lookup[name].instance;}return undefined;};var dependencies=function(name){var result;if(lookup[name]){result=lookup[name].dependencies;}return result||[];};var requireLangPack=function(name,languages){var language=AddOnManager.language;if(language&&AddOnManager.languageLoad!==false){if(languages){languages=','+languages+',';if(languages.indexOf(','+language.substr(0,2)+',')!==-1){language=language.substr(0,2);}else if(languages.indexOf(','+language+',')===-1){return;}}ScriptLoader.ScriptLoader.add(urls[name]+'/langs/'+language+'.js');}};var add=function(id,addOn,dependencies){items.push(addOn);lookup[id]={instance:addOn,dependencies:dependencies};var result=partition(_listeners,function(listener){return listener.name===id;});_listeners=result.fail;each$7(result.pass,function(listener){listener.callback();});return addOn;};var remove=function(name){delete urls[name];delete lookup[name];};var createUrl=function(baseUrl,dep){if(typeof dep==='object'){return dep;}return typeof baseUrl==='string'?{prefix:'',resource:dep,suffix:''}:{prefix:baseUrl.prefix,resource:dep,suffix:baseUrl.suffix};};var addComponents=function(pluginName,scripts){var pluginUrl=_this.urls[pluginName];each$7(scripts,function(script){ScriptLoader.ScriptLoader.add(pluginUrl+'/'+script);});};var loadDependencies=function(name,addOnUrl,success,scope){var deps=dependencies(name);each$7(deps,function(dep){var newUrl=createUrl(addOnUrl,dep);load(newUrl.resource,newUrl,undefined,undefined);});if(success){if(scope){success.call(scope);}else{success.call(ScriptLoader);}}};var load=function(name,addOnUrl,success,scope,failure){if(urls[name]){return;}var urlString=typeof addOnUrl==='string'?addOnUrl:addOnUrl.prefix+addOnUrl.resource+addOnUrl.suffix;if(urlString.indexOf('/')!==0&&urlString.indexOf('://')===-1){urlString=AddOnManager.baseURL+'/'+urlString;}urls[name]=urlString.substring(0,urlString.lastIndexOf('/'));if(lookup[name]){loadDependencies(name,addOnUrl,success,scope);}else{ScriptLoader.ScriptLoader.add(urlString,function(){return loadDependencies(name,addOnUrl,success,scope);},scope,failure);}};var waitFor=function(name,callback){if(lookup.hasOwnProperty(name)){callback();}else{_listeners.push({name:name,callback:callback});}};return{items:items,urls:urls,lookup:lookup,_listeners:_listeners,get:get,dependencies:dependencies,requireLangPack:requireLangPack,add:add,remove:remove,createUrl:createUrl,addComponents:addComponents,load:load,waitFor:waitFor};}(function(AddOnManager){AddOnManager.PluginManager=AddOnManager();AddOnManager.ThemeManager=AddOnManager();})(AddOnManager||(AddOnManager={}));var before=function(marker,element){var parent=$_dr4ybh18jnlpawzt.parent(marker);parent.each(function(v){v.dom().insertBefore(element.dom(),marker.dom());});};var after=function(marker,element){var sibling=$_dr4ybh18jnlpawzt.nextSibling(marker);sibling.fold(function(){var parent=$_dr4ybh18jnlpawzt.parent(marker);parent.each(function(v){append(v,element);});},function(v){before(v,element);});};var prepend=function(parent,element){var firstChild=$_dr4ybh18jnlpawzt.firstChild(parent);firstChild.fold(function(){append(parent,element);},function(v){parent.dom().insertBefore(element.dom(),v.dom());});};var append=function(parent,element){parent.dom().appendChild(element.dom());};var appendAt=function(parent,element,index){$_dr4ybh18jnlpawzt.child(parent,index).fold(function(){append(parent,element);},function(v){before(v,element);});};var wrap$1=function(element,wrapper){before(element,wrapper);append(wrapper,element);};var $_ag89ax1yjnlpax4x={before:before,after:after,prepend:prepend,append:append,appendAt:appendAt,wrap:wrap$1};var before$1=function(marker,elements){each(elements,function(x){$_ag89ax1yjnlpax4x.before(marker,x);});};var after$1=function(marker,elements){each(elements,function(x,i){var e=i===0?marker:elements[i-1];$_ag89ax1yjnlpax4x.after(e,x);});};var prepend$1=function(parent,elements){each(elements.slice().reverse(),function(x){$_ag89ax1yjnlpax4x.prepend(parent,x);});};var append$1=function(parent,elements){each(elements,function(x){$_ag89ax1yjnlpax4x.append(parent,x);});};var $_9vd3j51xjnlpax4s={before:before$1,after:after$1,prepend:prepend$1,append:append$1};var empty=function(element){element.dom().textContent='';each($_dr4ybh18jnlpawzt.children(element),function(rogue){remove$2(rogue);});};var remove$2=function(element){var dom=element.dom();if(dom.parentNode!==null)dom.parentNode.removeChild(dom);};var unwrap=function(wrapper){var children=$_dr4ybh18jnlpawzt.children(wrapper);if(children.length>0)$_9vd3j51xjnlpax4s.before(wrapper,children);remove$2(wrapper);};var $_azq8zm1wjnlpax4n={empty:empty,remove:remove$2,unwrap:unwrap};var first$1=function(fn,rate){var timer=null;var cancel=function(){if(timer!==null){clearTimeout(timer);timer=null;}};var throttle=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}if(timer===null){timer=setTimeout(function(){fn.apply(null,args);timer=null;},rate);}};return{cancel:cancel,throttle:throttle};};var last$3=function(fn,rate){var timer=null;var cancel=function(){if(timer!==null){clearTimeout(timer);timer=null;}};var throttle=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i];}if(timer!==null)clearTimeout(timer);timer=setTimeout(function(){fn.apply(null,args);timer=null;},rate);};return{cancel:cancel,throttle:throttle};};var Cell=function(initial){var value=initial;var get=function(){return value;};var set=function(v){value=v;};var clone=function(){return Cell(get());};return{get:get,set:set,clone:clone};};function Toggler(turnOff,turnOn,initial){var active=initial||false;var on=function(){turnOn();active=true;};var off=function(){turnOff();active=false;};var toggle=function(){var f=active?off:on;f();};var isOn=function(){return active;};return{on:on,off:off,toggle:toggle,isOn:isOn};}var read=function(element,attr){var value=$_521j8z15jnlpawz7.get(element,attr);return value===undefined||value===''?[]:value.split(' ');};var add=function(element,attr,id){var old=read(element,attr);var nu=old.concat([id]);$_521j8z15jnlpawz7.set(element,attr,nu.join(' '));return true;};var remove$3=function(element,attr,id){var nu=filter(read(element,attr),function(v){return v!==id;});if(nu.length>0)$_521j8z15jnlpawz7.set(element,attr,nu.join(' '));else $_521j8z15jnlpawz7.remove(element,attr);return false;};var $_c7tpvt26jnlpax6a={read:read,add:add,remove:remove$3};var supports=function(element){return element.dom().classList!==undefined;};var get$3=function(element){return $_c7tpvt26jnlpax6a.read(element,'class');};var add$1=function(element,clazz){return $_c7tpvt26jnlpax6a.add(element,'class',clazz);};var remove$4=function(element,clazz){return $_c7tpvt26jnlpax6a.remove(element,'class',clazz);};var toggle=function(element,clazz){if(contains(get$3(element),clazz)){return remove$4(element,clazz);}else{return add$1(element,clazz);}};var $_2thj3d25jnlpax63={get:get$3,add:add$1,remove:remove$4,toggle:toggle,supports:supports};var add$2=function(element,clazz){if($_2thj3d25jnlpax63.supports(element))element.dom().classList.add(clazz);else $_2thj3d25jnlpax63.add(element,clazz);};var cleanClass=function(element){var classList=$_2thj3d25jnlpax63.supports(element)?element.dom().classList:$_2thj3d25jnlpax63.get(element);if(classList.length===0){$_521j8z15jnlpawz7.remove(element,'class');}};var remove$5=function(element,clazz){if($_2thj3d25jnlpax63.supports(element)){var classList=element.dom().classList;classList.remove(clazz);}else $_2thj3d25jnlpax63.remove(element,clazz);cleanClass(element);};var toggle$1=function(element,clazz){return $_2thj3d25jnlpax63.supports(element)?element.dom().classList.toggle(clazz):$_2thj3d25jnlpax63.toggle(element,clazz);};var toggler=function(element,clazz){var hasClasslist=$_2thj3d25jnlpax63.supports(element);var classList=element.dom().classList;var off=function(){if(hasClasslist)classList.remove(clazz);else $_2thj3d25jnlpax63.remove(element,clazz);};var on=function(){if(hasClasslist)classList.add(clazz);else $_2thj3d25jnlpax63.add(element,clazz);};return Toggler(off,on,has$2(element,clazz));};var has$2=function(element,clazz){return $_2thj3d25jnlpax63.supports(element)&&element.dom().classList.contains(clazz);};var $_fes8i223jnlpax5z={add:add$2,remove:remove$5,toggle:toggle$1,toggler:toggler,has:has$2};var all$1=function(predicate){return descendants($_1lsags16jnlpawzj.body(),predicate);};var ancestors=function(scope,predicate,isRoot){return filter($_dr4ybh18jnlpawzt.parents(scope,isRoot),predicate);};var siblings$1=function(scope,predicate){return filter($_dr4ybh18jnlpawzt.siblings(scope),predicate);};var children$1=function(scope,predicate){return filter($_dr4ybh18jnlpawzt.children(scope),predicate);};var descendants=function(scope,predicate){var result=[];each($_dr4ybh18jnlpawzt.children(scope),function(x){if(predicate(x)){result=result.concat([x]);}result=result.concat(descendants(x,predicate));});return result;};var $_g370pf28jnlpax6n={all:all$1,ancestors:ancestors,siblings:siblings$1,children:children$1,descendants:descendants};var all$2=function(selector){return $_d8v5lf1gjnlpax0y.all(selector);};var ancestors$1=function(scope,selector,isRoot){return $_g370pf28jnlpax6n.ancestors(scope,function(e){return $_d8v5lf1gjnlpax0y.is(e,selector);},isRoot);};var siblings$2=function(scope,selector){return $_g370pf28jnlpax6n.siblings(scope,function(e){return $_d8v5lf1gjnlpax0y.is(e,selector);});};var children$2=function(scope,selector){return $_g370pf28jnlpax6n.children(scope,function(e){return $_d8v5lf1gjnlpax0y.is(e,selector);});};var descendants$1=function(scope,selector){return $_d8v5lf1gjnlpax0y.all(selector,scope);};var $_cmitir27jnlpax6e={all:all$2,ancestors:ancestors$1,siblings:siblings$2,children:children$2,descendants:descendants$1};function ClosestOrAncestor(is,ancestor,scope,a,isRoot){return is(scope,a)?Option.some(scope):isFunction(isRoot)&&isRoot(scope)?Option.none():ancestor(scope,a,isRoot);}var first$2=function(predicate){return descendant($_1lsags16jnlpawzj.body(),predicate);};var ancestor=function(scope,predicate,isRoot){var element=scope.dom();var stop=isFunction(isRoot)?isRoot:constant(false);while(element.parentNode){element=element.parentNode;var el=Element$$1.fromDom(element);if(predicate(el))return Option.some(el);else if(stop(el))break;}return Option.none();};var closest=function(scope,predicate,isRoot){var is=function(scope){return predicate(scope);};return ClosestOrAncestor(is,ancestor,scope,predicate,isRoot);};var sibling$1=function(scope,predicate){var element=scope.dom();if(!element.parentNode)return Option.none();return child$1(Element$$1.fromDom(element.parentNode),function(x){return!$_5h7cor1ejnlpax0k.eq(scope,x)&&predicate(x);});};var child$1=function(scope,predicate){var result=find(scope.dom().childNodes,compose(predicate,Element$$1.fromDom));return result.map(Element$$1.fromDom);};var descendant=function(scope,predicate){var descend=function(node){for(var i=0;i<node.childNodes.length;i++){if(predicate(Element$$1.fromDom(node.childNodes[i])))return Option.some(Element$$1.fromDom(node.childNodes[i]));var res=descend(node.childNodes[i]);if(res.isSome())return res;}return Option.none();};return descend(scope.dom());};var $_cs5qmd2ajnlpax6v={first:first$2,ancestor:ancestor,closest:closest,sibling:sibling$1,child:child$1,descendant:descendant};var first$3=function(selector){return $_d8v5lf1gjnlpax0y.one(selector);};var ancestor$1=function(scope,selector,isRoot){return $_cs5qmd2ajnlpax6v.ancestor(scope,function(e){return $_d8v5lf1gjnlpax0y.is(e,selector);},isRoot);};var sibling$2=function(scope,selector){return $_cs5qmd2ajnlpax6v.sibling(scope,function(e){return $_d8v5lf1gjnlpax0y.is(e,selector);});};var child$2=function(scope,selector){return $_cs5qmd2ajnlpax6v.child(scope,function(e){return $_d8v5lf1gjnlpax0y.is(e,selector);});};var descendant$1=function(scope,selector){return $_d8v5lf1gjnlpax0y.one(selector,scope);};var closest$1=function(scope,selector,isRoot){return ClosestOrAncestor($_d8v5lf1gjnlpax0y.is,ancestor$1,scope,selector,isRoot);};var $_2kbu29jnlpax6t={first:first$3,ancestor:ancestor$1,sibling:sibling$2,child:child$2,descendant:descendant$1,closest:closest$1};var annotation=constant('mce-annotation');var dataAnnotation=constant('data-mce-annotation');var dataAnnotationId=constant('data-mce-annotation-uid');var identify=function(editor,annotationName){var rng=editor.selection.getRng();var start=Element$$1.fromDom(rng.startContainer);var root=Element$$1.fromDom(editor.getBody());var selector=annotationName.fold(function(){return'.'+annotation();},function(an){return'['+dataAnnotation()+'=\"'+an+'\"]';});var newStart=$_dr4ybh18jnlpawzt.child(start,rng.startOffset).getOr(start);var closest=$_2kbu29jnlpax6t.closest(newStart,selector,function(n){return $_5h7cor1ejnlpax0k.eq(n,root);});var getAttr=function(c,property){if($_521j8z15jnlpawz7.has(c,property)){return Option.some($_521j8z15jnlpawz7.get(c,property));}else{return Option.none();}};return closest.bind(function(c){return getAttr(c,''+dataAnnotationId()).bind(function(uid){return getAttr(c,''+dataAnnotation()).map(function(name){var elements=findMarkers(editor,uid);return{uid:uid,name:name,elements:elements};});});});};var isAnnotation=function(elem){return $_7u5fzs11jnlpawv6.isElement(elem)&&$_fes8i223jnlpax5z.has(elem,annotation());};var findMarkers=function(editor,uid){var body=Element$$1.fromDom(editor.getBody());return $_cmitir27jnlpax6e.descendants(body,'['+dataAnnotationId()+'=\"'+uid+'\"]');};var findAll=function(editor,name){var body=Element$$1.fromDom(editor.getBody());var markers=$_cmitir27jnlpax6e.descendants(body,'['+dataAnnotation()+'=\"'+name+'\"]');var directory={};each(markers,function(m){var uid=$_521j8z15jnlpawz7.get(m,dataAnnotationId());var nodesAlready=directory.hasOwnProperty(uid)?directory[uid]:[];directory[uid]=nodesAlready.concat([m]);});return directory;};var setup=function(editor,registry){var changeCallbacks=Cell({});var initData=function(){return{listeners:[],previous:Cell(Option.none())};};var withCallbacks=function(name,f){updateCallbacks(name,function(data){f(data);return data;});};var updateCallbacks=function(name,f){var callbackMap=changeCallbacks.get();var data=callbackMap.hasOwnProperty(name)?callbackMap[name]:initData();var outputData=f(data);callbackMap[name]=outputData;changeCallbacks.set(callbackMap);};var fireCallbacks=function(name,uid,elements){withCallbacks(name,function(data){each(data.listeners,function(f){return f(true,name,{uid:uid,nodes:map(elements,function(elem){return elem.dom();})});});});};var fireNoAnnotation=function(name){withCallbacks(name,function(data){each(data.listeners,function(f){return f(false,name);});});};var onNodeChange=last$3(function(){var callbackMap=changeCallbacks.get();var annotations=sort(keys(callbackMap));each(annotations,function(name){updateCallbacks(name,function(data){var prev=data.previous.get();identify(editor,Option.some(name)).fold(function(){if(prev.isSome()){fireNoAnnotation(name);data.previous.set(Option.none());}},function(_a){var uid=_a.uid,name=_a.name,elements=_a.elements;if(!prev.is(uid)){fireCallbacks(name,uid,elements);data.previous.set(Option.some(uid));}});return{previous:data.previous,listeners:data.listeners};});});},30);editor.on('remove',function(){onNodeChange.cancel();});editor.on('nodeChange',function(){onNodeChange.throttle();});var addListener=function(name,f){updateCallbacks(name,function(data){return{previous:data.previous,listeners:data.listeners.concat([f])};});};return{addListener:addListener};};var setup$1=function(editor,registry){var identifyParserNode=function(span){var optAnnotation=Option.from(span.attributes.map[dataAnnotation()]);return optAnnotation.bind(registry.lookup);};editor.on('init',function(){editor.serializer.addNodeFilter('span',function(spans){each(spans,function(span){identifyParserNode(span).each(function(settings){if(settings.persistent===false){span.unwrap();}});});});});};var create$1=function(){var annotations={};var register=function(name,settings){annotations[name]={name:name,settings:settings};};var lookup=function(name){return annotations.hasOwnProperty(name)?Option.from(annotations[name]).map(function(a){return a.settings;}):Option.none();};return{register:register,lookup:lookup};};var unique=0;var generate=function(prefix){var date=new Date();var time=date.getTime();var random=Math.floor(Math.random()*1000000000);unique++;return prefix+'_'+random+unique+String(time);};var add$3=function(element,classes){each(classes,function(x){$_fes8i223jnlpax5z.add(element,x);});};var remove$6=function(element,classes){each(classes,function(x){$_fes8i223jnlpax5z.remove(element,x);});};var toggle$2=function(element,classes){each(classes,function(x){$_fes8i223jnlpax5z.toggle(element,x);});};var hasAll=function(element,classes){return forall(classes,function(clazz){return $_fes8i223jnlpax5z.has(element,clazz);});};var hasAny=function(element,classes){return exists(classes,function(clazz){return $_fes8i223jnlpax5z.has(element,clazz);});};var getNative=function(element){var classList=element.dom().classList;var r=new Array(classList.length);for(var i=0;i<classList.length;i++){r[i]=classList.item(i);}return r;};var get$4=function(element){return $_2thj3d25jnlpax63.supports(element)?getNative(element):$_2thj3d25jnlpax63.get(element);};var $_6bet4b2hjnlpax8c={add:add$3,remove:remove$6,toggle:toggle$2,hasAll:hasAll,hasAny:hasAny,get:get$4};var clone$1=function(original,deep){return Element$$1.fromDom(original.dom().cloneNode(deep));};var shallow=function(original){return clone$1(original,false);};var deep=function(original){return clone$1(original,true);};var shallowAs=function(original,tag){var nu=Element$$1.fromTag(tag);var attributes=$_521j8z15jnlpawz7.clone(original);$_521j8z15jnlpawz7.setAll(nu,attributes);return nu;};var copy$1=function(original,tag){var nu=shallowAs(original,tag);var cloneChildren=$_dr4ybh18jnlpawzt.children(deep(original));$_9vd3j51xjnlpax4s.append(nu,cloneChildren);return nu;};var mutate=function(original,tag){var nu=shallowAs(original,tag);$_ag89ax1yjnlpax4x.before(original,nu);var children=$_dr4ybh18jnlpawzt.children(original);$_9vd3j51xjnlpax4s.append(nu,children);$_azq8zm1wjnlpax4n.remove(original);return nu;};var $_5sdpl92ijnlpax8h={shallow:shallow,shallowAs:shallowAs,deep:deep,copy:copy$1,mutate:mutate};var fromHtml$1=function(html,scope){var doc=scope||document;var div=doc.createElement('div');div.innerHTML=html;return $_dr4ybh18jnlpawzt.children(Element$$1.fromDom(div));};var fromTags=function(tags,scope){return map(tags,function(x){return Element$$1.fromTag(x,scope);});};var fromText$1=function(texts,scope){return map(texts,function(x){return Element$$1.fromText(x,scope);});};var fromDom$1=function(nodes){return map(nodes,Element$$1.fromDom);};var $_d4cc782kjnlpax8m={fromHtml:fromHtml$1,fromTags:fromTags,fromText:fromText$1,fromDom:fromDom$1};var get$5=function(element){return element.dom().innerHTML;};var set$2=function(element,content){var owner=$_dr4ybh18jnlpawzt.owner(element);var docDom=owner.dom();var fragment=Element$$1.fromDom(docDom.createDocumentFragment());var contentElements=$_d4cc782kjnlpax8m.fromHtml(content,docDom);$_9vd3j51xjnlpax4s.append(fragment,contentElements);$_azq8zm1wjnlpax4n.empty(element);$_ag89ax1yjnlpax4x.append(element,fragment);};var getOuter=function(element){var container=Element$$1.fromTag('div');var clone=Element$$1.fromDom(element.dom().cloneNode(true));$_ag89ax1yjnlpax4x.append(container,clone);return get$5(container);};var $_am4twv2jjnlpax8k={get:get$5,set:set$2,getOuter:getOuter};var slice$3=[].slice;var constant$1=function(value){return function(){return value;};};var negate=function(predicate){return function(x){return!predicate(x);};};var compose$2=function(f,g){return function(x){return f(g(x));};};var or=function(){var x=[];for(var _i=0;_i<arguments.length;_i++){x[_i]=arguments[_i];}var args=slice$3.call(arguments);return function(x){for(var i=0;i<args.length;i++){if(args[i](x)){return true;}}return false;};};var and=function(){var x=[];for(var _i=0;_i<arguments.length;_i++){x[_i]=arguments[_i];}var args=slice$3.call(arguments);return function(x){for(var i=0;i<args.length;i++){if(!args[i](x)){return false;}}return true;};};var curry$1=function(fn){var x=[];for(var _i=1;_i<arguments.length;_i++){x[_i-1]=arguments[_i];}var args=slice$3.call(arguments);if(args.length-1>=fn.length){return fn.apply(this,args.slice(1));}return function(){var tempArgs=args.concat([].slice.call(arguments));return curry$1.apply(this,tempArgs);};};var noop$1=function(){};var $_dv6bef2njnlpax9l={constant:constant$1,negate:negate,and:and,or:or,curry:curry$1,compose:compose$2,noop:noop$1};var ZWSP='\\uFEFF';var isZwsp=function(chr){return chr===ZWSP;};var trim$3=function(text){return text.replace(new RegExp(ZWSP,'g'),'');};var $_90hfb72rjnlpaxae={isZwsp:isZwsp,ZWSP:ZWSP,trim:trim$3};var isElement$2=$_fy28ei1rjnlpax2o.isElement;var isText$2=$_fy28ei1rjnlpax2o.isText;var isCaretContainerBlock=function(node){if(isText$2(node)){node=node.parentNode;}return isElement$2(node)&&node.hasAttribute('data-mce-caret');};var isCaretContainerInline=function(node){return isText$2(node)&&$_90hfb72rjnlpaxae.isZwsp(node.data);};var isCaretContainer=function(node){return isCaretContainerBlock(node)||isCaretContainerInline(node);};var hasContent=function(node){return node.firstChild!==node.lastChild||!$_fy28ei1rjnlpax2o.isBr(node.firstChild);};var insertInline=function(node,before){var doc,sibling,textNode,parentNode;doc=node.ownerDocument;textNode=doc.createTextNode($_90hfb72rjnlpaxae.ZWSP);parentNode=node.parentNode;if(!before){sibling=node.nextSibling;if(isText$2(sibling)){if(isCaretContainer(sibling)){return sibling;}if(startsWithCaretContainer(sibling)){sibling.splitText(1);return sibling;}}if(node.nextSibling){parentNode.insertBefore(textNode,node.nextSibling);}else{parentNode.appendChild(textNode);}}else{sibling=node.previousSibling;if(isText$2(sibling)){if(isCaretContainer(sibling)){return sibling;}if(endsWithCaretContainer(sibling)){return sibling.splitText(sibling.data.length-1);}}parentNode.insertBefore(textNode,node);}return textNode;};var isBeforeInline=function(pos){var container=pos.container();return pos&&$_fy28ei1rjnlpax2o.isText(container)&&container.data.charAt(pos.offset())===$_90hfb72rjnlpaxae.ZWSP;};var isAfterInline=function(pos){var container=pos.container();return pos&&$_fy28ei1rjnlpax2o.isText(container)&&container.data.charAt(pos.offset()-1)===$_90hfb72rjnlpaxae.ZWSP;};var createBogusBr=function(){var br=document.createElement('br');br.setAttribute('data-mce-bogus','1');return br;};var insertBlock=function(blockName,node,before){var doc,blockNode,parentNode;doc=node.ownerDocument;blockNode=doc.createElement(blockName);blockNode.setAttribute('data-mce-caret',before?'before':'after');blockNode.setAttribute('data-mce-bogus','all');blockNode.appendChild(createBogusBr());parentNode=node.parentNode;if(!before){if(node.nextSibling){parentNode.insertBefore(blockNode,node.nextSibling);}else{parentNode.appendChild(blockNode);}}else{parentNode.insertBefore(blockNode,node);}return blockNode;};var startsWithCaretContainer=function(node){return isText$2(node)&&node.data[0]===$_90hfb72rjnlpaxae.ZWSP;};var endsWithCaretContainer=function(node){return isText$2(node)&&node.data[node.data.length-1]===$_90hfb72rjnlpaxae.ZWSP;};var trimBogusBr=function(elm){var brs=elm.getElementsByTagName('br');var lastBr=brs[brs.length-1];if($_fy28ei1rjnlpax2o.isBogus(lastBr)){lastBr.parentNode.removeChild(lastBr);}};var showCaretContainerBlock=function(caretContainer){if(caretContainer&&caretContainer.hasAttribute('data-mce-caret')){trimBogusBr(caretContainer);caretContainer.removeAttribute('data-mce-caret');caretContainer.removeAttribute('data-mce-bogus');caretContainer.removeAttribute('style');caretContainer.removeAttribute('_moz_abspos');return caretContainer;}return null;};var isRangeInCaretContainerBlock=function(range){return isCaretContainerBlock(range.startContainer);};var isContentEditableTrue$1=$_fy28ei1rjnlpax2o.isContentEditableTrue;var isContentEditableFalse$1=$_fy28ei1rjnlpax2o.isContentEditableFalse;var isBr$2=$_fy28ei1rjnlpax2o.isBr;var isText$3=$_fy28ei1rjnlpax2o.isText;var isInvalidTextElement=$_fy28ei1rjnlpax2o.matchNodeNames('script style textarea');var isAtomicInline=$_fy28ei1rjnlpax2o.matchNodeNames('img input textarea hr iframe video audio object');var isTable$1=$_fy28ei1rjnlpax2o.matchNodeNames('table');var isCaretContainer$1=isCaretContainer;var isCaretCandidate=function(node){if(isCaretContainer$1(node)){return false;}if(isText$3(node)){if(isInvalidTextElement(node.parentNode)){return false;}return true;}return isAtomicInline(node)||isBr$2(node)||isTable$1(node)||isNonUiContentEditableFalse(node);};var isUnselectable=function(node){return $_fy28ei1rjnlpax2o.isElement(node)&&node.getAttribute('unselectable')==='true';};var isNonUiContentEditableFalse=function(node){return isUnselectable(node)===false&&isContentEditableFalse$1(node);};var isInEditable=function(node,root){for(node=node.parentNode;node&&node!==root;node=node.parentNode){if(isNonUiContentEditableFalse(node)){return false;}if(isContentEditableTrue$1(node)){return true;}}return true;};var isAtomicContentEditableFalse=function(node){if(!isNonUiContentEditableFalse(node)){return false;}return $_n452lmjnlpawsj.reduce(node.getElementsByTagName('*'),function(result,elm){return result||isContentEditableTrue$1(elm);},false)!==true;};var isAtomic=function(node){return isAtomicInline(node)||isAtomicContentEditableFalse(node);};var isEditableCaretCandidate=function(node,root){return isCaretCandidate(node)&&isInEditable(node,root);};var round=Math.round;var clone$2=function(rect){if(!rect){return{left:0,top:0,bottom:0,right:0,width:0,height:0};}return{left:round(rect.left),top:round(rect.top),bottom:round(rect.bottom),right:round(rect.right),width:round(rect.width),height:round(rect.height)};};var collapse=function(rect,toStart){rect=clone$2(rect);if(toStart){rect.right=rect.left;}else{rect.left=rect.left+rect.width;rect.right=rect.left;}rect.width=0;return rect;};var isEqual=function(rect1,rect2){return rect1.left===rect2.left&&rect1.top===rect2.top&&rect1.bottom===rect2.bottom&&rect1.right===rect2.right;};var isValidOverflow=function(overflowY,rect1,rect2){return overflowY>=0&&overflowY<=Math.min(rect1.height,rect2.height)/2;};var isAbove=function(rect1,rect2){if(rect1.bottom-rect1.height/2<rect2.top){return true;}if(rect1.top>rect2.bottom){return false;}return isValidOverflow(rect2.top-rect1.bottom,rect1,rect2);};var isBelow=function(rect1,rect2){if(rect1.top>rect2.bottom){return true;}if(rect1.bottom<rect2.top){return false;}return isValidOverflow(rect2.bottom-rect1.top,rect1,rect2);};var containsXY=function(rect,clientX,clientY){return clientX>=rect.left&&clientX<=rect.right&&clientY>=rect.top&&clientY<=rect.bottom;};var overflowX=function(outer,inner){if(inner.left>outer.left&&inner.right<outer.right){return 0;}else{return inner.left<outer.left?inner.left-outer.left:inner.right-outer.right;}};var overflowY=function(outer,inner){if(inner.top>outer.top&&inner.bottom<outer.bottom){return 0;}else{return inner.top<outer.top?inner.top-outer.top:inner.bottom-outer.bottom;}};var getOverflow=function(outer,inner){return{x:overflowX(outer,inner),y:overflowY(outer,inner)};};var getSelectedNode=function(range){var startContainer=range.startContainer,startOffset=range.startOffset;if(startContainer.hasChildNodes()&&range.endOffset===startOffset+1){return startContainer.childNodes[startOffset];}return null;};var getNode=function(container,offset){if(container.nodeType===1&&container.hasChildNodes()){if(offset>=container.childNodes.length){offset=container.childNodes.length-1;}container=container.childNodes[offset];}return container;};var extendingChars=new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a'+'\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0'+'\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08E3-\\u0902\\u093a\\u093c'+'\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3'+'\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc'+'\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57'+'\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56'+'\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44'+'\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9'+'\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97'+'\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074'+'\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5'+'\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18'+'\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34'+'\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9'+'\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9'+'\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1'+'\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\uA69E-\\ua69f\\ua6f0-\\ua6f1'+'\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc'+'\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1'+'\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\uFE2F\\uff9e-\\uff9f]');var isExtendingChar=function(ch){return typeof ch==='string'&&ch.charCodeAt(0)>=768&&extendingChars.test(ch);};var liftN=function(arr,f){var r=[];for(var i=0;i<arr.length;i++){var x=arr[i];if(x.isSome()){r.push(x.getOrDie());}else{return Option.none();}}return Option.some(f.apply(null,r));};var isElement$3=$_fy28ei1rjnlpax2o.isElement;var isCaretCandidate$1=isCaretCandidate;var isBlock$1=$_fy28ei1rjnlpax2o.matchStyleValues('display','block table');var isFloated=$_fy28ei1rjnlpax2o.matchStyleValues('float','left right');var isValidElementCaretCandidate=$_dv6bef2njnlpax9l.and(isElement$3,isCaretCandidate$1,$_dv6bef2njnlpax9l.negate(isFloated));var isNotPre=$_dv6bef2njnlpax9l.negate($_fy28ei1rjnlpax2o.matchStyleValues('white-space','pre pre-line pre-wrap'));var isText$4=$_fy28ei1rjnlpax2o.isText;var isBr$3=$_fy28ei1rjnlpax2o.isBr;var nodeIndex=DOMUtils$1.nodeIndex;var resolveIndex=getNode;var createRange=function(doc){return'createRange'in doc?doc.createRange():DOMUtils$1.DOM.createRng();};var isWhiteSpace=function(chr){return chr&&/[\\r\\n\\t ]/.test(chr);};var isRange=function(rng){return!!rng.setStart&&!!rng.setEnd;};var isHiddenWhiteSpaceRange=function(range$$1){var container=range$$1.startContainer;var offset=range$$1.startOffset;var text;if(isWhiteSpace(range$$1.toString())&&isNotPre(container.parentNode)&&$_fy28ei1rjnlpax2o.isText(container)){text=container.data;if(isWhiteSpace(text[offset-1])||isWhiteSpace(text[offset+1])){return true;}}return false;};var getBrClientRect=function(brNode){var doc=brNode.ownerDocument;var rng=createRange(doc);var nbsp=doc.createTextNode('\\xA0');var parentNode=brNode.parentNode;var clientRect;parentNode.insertBefore(nbsp,brNode);rng.setStart(nbsp,0);rng.setEnd(nbsp,1);clientRect=clone$2(rng.getBoundingClientRect());parentNode.removeChild(nbsp);return clientRect;};var getBoundingClientRectWebKitText=function(rng){var sc=rng.startContainer;var ec=rng.endContainer;var so=rng.startOffset;var eo=rng.endOffset;if(sc===ec&&$_fy28ei1rjnlpax2o.isText(ec)&&so===0&&eo===1){var newRng=rng.cloneRange();newRng.setEndAfter(ec);return getBoundingClientRect(newRng);}else{return null;}};var isZeroRect=function(r){return r.left===0&&r.right===0&&r.top===0&&r.bottom===0;};var getBoundingClientRect=function(item){var clientRect,clientRects;clientRects=item.getClientRects();if(clientRects.length>0){clientRect=clone$2(clientRects[0]);}else{clientRect=clone$2(item.getBoundingClientRect());}if(!isRange(item)&&isBr$3(item)&&isZeroRect(clientRect)){return getBrClientRect(item);}if(isZeroRect(clientRect)&&isRange(item)){return getBoundingClientRectWebKitText(item);}return clientRect;};var collapseAndInflateWidth=function(clientRect,toStart){var newClientRect=collapse(clientRect,toStart);newClientRect.width=1;newClientRect.right=newClientRect.left+1;return newClientRect;};var getCaretPositionClientRects=function(caretPosition){var clientRects=[];var beforeNode,node;var addUniqueAndValidRect=function(clientRect){if(clientRect.height===0){return;}if(clientRects.length>0){if(isEqual(clientRect,clientRects[clientRects.length-1])){return;}}clientRects.push(clientRect);};var addCharacterOffset=function(container,offset){var range$$1=createRange(container.ownerDocument);if(offset<container.data.length){if(isExtendingChar(container.data[offset])){return clientRects;}if(isExtendingChar(container.data[offset-1])){range$$1.setStart(container,offset);range$$1.setEnd(container,offset+1);if(!isHiddenWhiteSpaceRange(range$$1)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1),false));return clientRects;}}}if(offset>0){range$$1.setStart(container,offset-1);range$$1.setEnd(container,offset);if(!isHiddenWhiteSpaceRange(range$$1)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1),false));}}if(offset<container.data.length){range$$1.setStart(container,offset);range$$1.setEnd(container,offset+1);if(!isHiddenWhiteSpaceRange(range$$1)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1),true));}}};if(isText$4(caretPosition.container())){addCharacterOffset(caretPosition.container(),caretPosition.offset());return clientRects;}if(isElement$3(caretPosition.container())){if(caretPosition.isAtEnd()){node=resolveIndex(caretPosition.container(),caretPosition.offset());if(isText$4(node)){addCharacterOffset(node,node.data.length);}if(isValidElementCaretCandidate(node)&&!isBr$3(node)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node),false));}}else{node=resolveIndex(caretPosition.container(),caretPosition.offset());if(isText$4(node)){addCharacterOffset(node,0);}if(isValidElementCaretCandidate(node)&&caretPosition.isAtEnd()){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node),false));return clientRects;}beforeNode=resolveIndex(caretPosition.container(),caretPosition.offset()-1);if(isValidElementCaretCandidate(beforeNode)&&!isBr$3(beforeNode)){if(isBlock$1(beforeNode)||isBlock$1(node)||!isValidElementCaretCandidate(node)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode),false));}}if(isValidElementCaretCandidate(node)){addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node),true));}}}return clientRects;};function CaretPosition(container,offset,clientRects){var isAtStart=function(){if(isText$4(container)){return offset===0;}return offset===0;};var isAtEnd=function(){if(isText$4(container)){return offset>=container.data.length;}return offset>=container.childNodes.length;};var toRange=function(){var range$$1;range$$1=createRange(container.ownerDocument);range$$1.setStart(container,offset);range$$1.setEnd(container,offset);return range$$1;};var getClientRects=function(){if(!clientRects){clientRects=getCaretPositionClientRects(CaretPosition(container,offset));}return clientRects;};var isVisible=function(){return getClientRects().length>0;};var isEqual$$1=function(caretPosition){return caretPosition&&container===caretPosition.container()&&offset===caretPosition.offset();};var getNode$$1=function(before){return resolveIndex(container,before?offset-1:offset);};return{container:$_dv6bef2njnlpax9l.constant(container),offset:$_dv6bef2njnlpax9l.constant(offset),toRange:toRange,getClientRects:getClientRects,isVisible:isVisible,isAtStart:isAtStart,isAtEnd:isAtEnd,isEqual:isEqual$$1,getNode:getNode$$1};}(function(CaretPosition){CaretPosition.fromRangeStart=function(range$$1){return CaretPosition(range$$1.startContainer,range$$1.startOffset);};CaretPosition.fromRangeEnd=function(range$$1){return CaretPosition(range$$1.endContainer,range$$1.endOffset);};CaretPosition.after=function(node){return CaretPosition(node.parentNode,nodeIndex(node)+1);};CaretPosition.before=function(node){return CaretPosition(node.parentNode,nodeIndex(node));};CaretPosition.isAbove=function(pos1,pos2){return liftN([head(pos2.getClientRects()),last(pos1.getClientRects())],isAbove).getOr(false);};CaretPosition.isBelow=function(pos1,pos2){return liftN([last(pos2.getClientRects()),head(pos1.getClientRects())],isBelow).getOr(false);};CaretPosition.isAtStart=function(pos){return pos?pos.isAtStart():false;};CaretPosition.isAtEnd=function(pos){return pos?pos.isAtEnd():false;};CaretPosition.isTextPosition=function(pos){return pos?$_fy28ei1rjnlpax2o.isText(pos.container()):false;};CaretPosition.isElementPosition=function(pos){return CaretPosition.isTextPosition(pos)===false;};})(CaretPosition||(CaretPosition={}));var CaretPosition$1=CaretPosition;var isText$5=$_fy28ei1rjnlpax2o.isText;var isBogus$1=$_fy28ei1rjnlpax2o.isBogus;var nodeIndex$1=DOMUtils$1.nodeIndex;var normalizedParent=function(node){var parentNode=node.parentNode;if(isBogus$1(parentNode)){return normalizedParent(parentNode);}return parentNode;};var getChildNodes=function(node){if(!node){return[];}return $_n452lmjnlpawsj.reduce(node.childNodes,function(result,node){if(isBogus$1(node)&&node.nodeName!=='BR'){result=result.concat(getChildNodes(node));}else{result.push(node);}return result;},[]);};var normalizedTextOffset=function(node,offset){while(node=node.previousSibling){if(!isText$5(node)){break;}offset+=node.data.length;}return offset;};var equal$1=function(a){return function(b){return a===b;};};var normalizedNodeIndex=function(node){var nodes,index,numTextFragments;nodes=getChildNodes(normalizedParent(node));index=$_n452lmjnlpawsj.findIndex(nodes,equal$1(node),node);nodes=nodes.slice(0,index+1);numTextFragments=$_n452lmjnlpawsj.reduce(nodes,function(result,node,i){if(isText$5(node)&&isText$5(nodes[i-1])){result++;}return result;},0);nodes=$_n452lmjnlpawsj.filter(nodes,$_fy28ei1rjnlpax2o.matchNodeNames(node.nodeName));index=$_n452lmjnlpawsj.findIndex(nodes,equal$1(node),node);return index-numTextFragments;};var createPathItem=function(node){var name;if(isText$5(node)){name='text()';}else{name=node.nodeName.toLowerCase();}return name+'['+normalizedNodeIndex(node)+']';};var parentsUntil=function(root,node,predicate){var parents=[];for(node=node.parentNode;node!==root;node=node.parentNode){if(predicate&&predicate(node)){break;}parents.push(node);}return parents;};var create$2=function(root,caretPosition){var container,offset,path=[],outputOffset,childNodes,parents;container=caretPosition.container();offset=caretPosition.offset();if(isText$5(container)){outputOffset=normalizedTextOffset(container,offset);}else{childNodes=container.childNodes;if(offset>=childNodes.length){outputOffset='after';offset=childNodes.length-1;}else{outputOffset='before';}container=childNodes[offset];}path.push(createPathItem(container));parents=parentsUntil(root,container);parents=$_n452lmjnlpawsj.filter(parents,$_dv6bef2njnlpax9l.negate($_fy28ei1rjnlpax2o.isBogus));path=path.concat($_n452lmjnlpawsj.map(parents,function(node){return createPathItem(node);}));return path.reverse().join('/')+','+outputOffset;};var resolvePathItem=function(node,name,index){var nodes=getChildNodes(node);nodes=$_n452lmjnlpawsj.filter(nodes,function(node,index){return!isText$5(node)||!isText$5(nodes[index-1]);});nodes=$_n452lmjnlpawsj.filter(nodes,$_fy28ei1rjnlpax2o.matchNodeNames(name));return nodes[index];};var findTextPosition=function(container,offset){var node=container,targetOffset=0,dataLen;while(isText$5(node)){dataLen=node.data.length;if(offset>=targetOffset&&offset<=targetOffset+dataLen){container=node;offset=offset-targetOffset;break;}if(!isText$5(node.nextSibling)){container=node;offset=dataLen;break;}targetOffset+=dataLen;node=node.nextSibling;}if(isText$5(container)&&offset>container.data.length){offset=container.data.length;}return CaretPosition$1(container,offset);};var resolve$2=function(root,path){var parts,container,offset;if(!path){return null;}parts=path.split(',');path=parts[0].split('/');offset=parts.length>1?parts[1]:'before';container=$_n452lmjnlpawsj.reduce(path,function(result,value){value=/([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);if(!value){return null;}if(value[1]==='text()'){value[1]='#text';}return resolvePathItem(result,value[1],parseInt(value[2],10));},root);if(!container){return null;}if(!isText$5(container)){if(offset==='after'){offset=nodeIndex$1(container)+1;}else{offset=nodeIndex$1(container);}return CaretPosition$1(container.parentNode,offset);}return findTextPosition(container,parseInt(offset,10));};var isContentEditableFalse$2=$_fy28ei1rjnlpax2o.isContentEditableFalse;var getNormalizedTextOffset=function(trim,container,offset){var node,trimmedOffset;trimmedOffset=trim(container.data.slice(0,offset)).length;for(node=container.previousSibling;node&&$_fy28ei1rjnlpax2o.isText(node);node=node.previousSibling){trimmedOffset+=trim(node.data).length;}return trimmedOffset;};var getPoint=function(dom,trim,normalized,rng,start){var container=rng[start?'startContainer':'endContainer'];var offset=rng[start?'startOffset':'endOffset'];var point=[];var childNodes,after=0;var root=dom.getRoot();if($_fy28ei1rjnlpax2o.isText(container)){point.push(normalized?getNormalizedTextOffset(trim,container,offset):offset);}else{childNodes=container.childNodes;if(offset>=childNodes.length&&childNodes.length){after=1;offset=Math.max(0,childNodes.length-1);}point.push(dom.nodeIndex(childNodes[offset],normalized)+after);}for(;container&&container!==root;container=container.parentNode){point.push(dom.nodeIndex(container,normalized));}return point;};var getLocation=function(trim,selection,normalized,rng){var dom=selection.dom,bookmark={};bookmark.start=getPoint(dom,trim,normalized,rng,true);if(!selection.isCollapsed()){bookmark.end=getPoint(dom,trim,normalized,rng,false);}return bookmark;};var trimEmptyTextNode=function(node){if($_fy28ei1rjnlpax2o.isText(node)&&node.data.length===0){node.parentNode.removeChild(node);}};var findIndex$3=function(dom,name,element){var count=0;$_1q1txeljnlpawsa.each(dom.select(name),function(node){if(node.getAttribute('data-mce-bogus')==='all'){return;}if(node===element){return false;}count++;});return count;};var moveEndPoint=function(rng,start){var container,offset,childNodes;var prefix=start?'start':'end';container=rng[prefix+'Container'];offset=rng[prefix+'Offset'];if($_fy28ei1rjnlpax2o.isElement(container)&&container.nodeName==='TR'){childNodes=container.childNodes;container=childNodes[Math.min(start?offset:offset-1,childNodes.length-1)];if(container){offset=start?0:container.childNodes.length;rng['set'+(start?'Start':'End')](container,offset);}}};var normalizeTableCellSelection=function(rng){moveEndPoint(rng,true);moveEndPoint(rng,false);return rng;};var findSibling=function(node,offset){var sibling;if($_fy28ei1rjnlpax2o.isElement(node)){node=getNode(node,offset);if(isContentEditableFalse$2(node)){return node;}}if(isCaretContainer(node)){if($_fy28ei1rjnlpax2o.isText(node)&&isCaretContainerBlock(node)){node=node.parentNode;}sibling=node.previousSibling;if(isContentEditableFalse$2(sibling)){return sibling;}sibling=node.nextSibling;if(isContentEditableFalse$2(sibling)){return sibling;}}};var findAdjacentContentEditableFalseElm=function(rng){return findSibling(rng.startContainer,rng.startOffset)||findSibling(rng.endContainer,rng.endOffset);};var getOffsetBookmark=function(trim,normalized,selection){var element=selection.getNode();var name=element?element.nodeName:null;var rng=selection.getRng();if(isContentEditableFalse$2(element)||name==='IMG'){return{name:name,index:findIndex$3(selection.dom,name,element)};}var sibling=findAdjacentContentEditableFalseElm(rng);if(sibling){name=sibling.tagName;return{name:name,index:findIndex$3(selection.dom,name,sibling)};}return getLocation(trim,selection,normalized,rng);};var getCaretBookmark=function(selection){var rng=selection.getRng();return{start:create$2(selection.dom.getRoot(),CaretPosition$1.fromRangeStart(rng)),end:create$2(selection.dom.getRoot(),CaretPosition$1.fromRangeEnd(rng))};};var getRangeBookmark=function(selection){return{rng:selection.getRng()};};var createBookmarkSpan=function(dom,id,filled){var args={'data-mce-type':'bookmark','id':id,'style':'overflow:hidden;line-height:0px'};return filled?dom.create('span',args,'&#xFEFF;'):dom.create('span',args);};var getPersistentBookmark=function(selection,filled){var dom=selection.dom;var rng=selection.getRng();var id=dom.uniqueId();var collapsed=selection.isCollapsed();var element=selection.getNode();var name=element.nodeName;if(name==='IMG'){return{name:name,index:findIndex$3(dom,name,element)};}var rng2=normalizeTableCellSelection(rng.cloneRange());if(!collapsed){rng2.collapse(false);var endBookmarkNode=createBookmarkSpan(dom,id+'_end',filled);rng2.insertNode(endBookmarkNode);trimEmptyTextNode(endBookmarkNode.nextSibling);}rng=normalizeTableCellSelection(rng);rng.collapse(true);var startBookmarkNode=createBookmarkSpan(dom,id+'_start',filled);rng.insertNode(startBookmarkNode);trimEmptyTextNode(startBookmarkNode.previousSibling);trimEmptyTextNode(startBookmarkNode.nextSibling);selection.moveToBookmark({id:id,keep:1});return{id:id};};var getBookmark=function(selection,type,normalized){if(type===2){return getOffsetBookmark($_90hfb72rjnlpaxae.trim,normalized,selection);}else if(type===3){return getCaretBookmark(selection);}else if(type){return getRangeBookmark(selection);}else{return getPersistentBookmark(selection,false);}};var $_5l0mu32ljnlpax8x={getBookmark:getBookmark,getUndoBookmark:curry(getOffsetBookmark,identity,true),getPersistentBookmark:getPersistentBookmark};var CARET_ID='_mce_caret';var isCaretNode=function(node){return $_fy28ei1rjnlpax2o.isElement(node)&&node.id===CARET_ID;};var getParentCaretContainer=function(body,node){while(node&&node!==body){if(node.id===CARET_ID){return node;}node=node.parentNode;}return null;};var isElement$4=$_fy28ei1rjnlpax2o.isElement;var isText$6=$_fy28ei1rjnlpax2o.isText;var removeNode=function(node){var parentNode=node.parentNode;if(parentNode){parentNode.removeChild(node);}};var getNodeValue=function(node){try{return node.nodeValue;}catch(ex){return'';}};var setNodeValue=function(node,text){if(text.length===0){removeNode(node);}else{node.nodeValue=text;}};var trimCount=function(text){var trimmedText=$_90hfb72rjnlpaxae.trim(text);return{count:text.length-trimmedText.length,text:trimmedText};};var removeUnchanged=function(caretContainer,pos){remove$7(caretContainer);return pos;};var removeTextAndReposition=function(caretContainer,pos){var before=trimCount(caretContainer.data.substr(0,pos.offset()));var after=trimCount(caretContainer.data.substr(pos.offset()));var text=before.text+after.text;if(text.length>0){setNodeValue(caretContainer,text);return CaretPosition$1(caretContainer,pos.offset()-before.count);}else{return pos;}};var removeElementAndReposition=function(caretContainer,pos){var parentNode=pos.container();var newPosition=indexOf(from$1(parentNode.childNodes),caretContainer).map(function(index){return index<pos.offset()?CaretPosition$1(parentNode,pos.offset()-1):pos;}).getOr(pos);remove$7(caretContainer);return newPosition;};var removeTextCaretContainer=function(caretContainer,pos){return isText$6(caretContainer)&&pos.container()===caretContainer?removeTextAndReposition(caretContainer,pos):removeUnchanged(caretContainer,pos);};var removeElementCaretContainer=function(caretContainer,pos){return pos.container()===caretContainer.parentNode?removeElementAndReposition(caretContainer,pos):removeUnchanged(caretContainer,pos);};var removeAndReposition=function(container,pos){return CaretPosition$1.isTextPosition(pos)?removeTextCaretContainer(container,pos):removeElementCaretContainer(container,pos);};var remove$7=function(caretContainerNode){if(isElement$4(caretContainerNode)&&isCaretContainer(caretContainerNode)){if(hasContent(caretContainerNode)){caretContainerNode.removeAttribute('data-mce-caret');}else{removeNode(caretContainerNode);}}if(isText$6(caretContainerNode)){var text=$_90hfb72rjnlpaxae.trim(getNodeValue(caretContainerNode));setNodeValue(caretContainerNode,text);}};var $_ctzulb33jnlpaxck={removeAndReposition:removeAndReposition,remove:remove$7};var isContentEditableTrue$2=$_fy28ei1rjnlpax2o.isContentEditableTrue;var isContentEditableFalse$3=$_fy28ei1rjnlpax2o.isContentEditableFalse;var showCaret=function(direction,editor,node,before,scrollIntoView){return editor._selectionOverrides.showCaret(direction,node,before,scrollIntoView);};var getNodeRange=function(node){var rng=node.ownerDocument.createRange();rng.selectNode(node);return rng;};var selectNode=function(editor,node){var e=editor.fire('BeforeObjectSelected',{target:node});if(e.isDefaultPrevented()){return null;}return getNodeRange(node);};var renderCaretAtRange=function(editor,range,scrollIntoView){var normalizedRange=normalizeRange(1,editor.getBody(),range);var caretPosition=CaretPosition$1.fromRangeStart(normalizedRange);var caretPositionNode=caretPosition.getNode();if(isContentEditableFalse$3(caretPositionNode)){return showCaret(1,editor,caretPositionNode,!caretPosition.isAtEnd(),false);}var caretPositionBeforeNode=caretPosition.getNode(true);if(isContentEditableFalse$3(caretPositionBeforeNode)){return showCaret(1,editor,caretPositionBeforeNode,false,false);}var ceRoot=editor.dom.getParent(caretPosition.getNode(),function(node){return isContentEditableFalse$3(node)||isContentEditableTrue$2(node);});if(isContentEditableFalse$3(ceRoot)){return showCaret(1,editor,ceRoot,false,scrollIntoView);}return null;};var renderRangeCaret=function(editor,range,scrollIntoView){if(!range||!range.collapsed){return range;}var caretRange=renderCaretAtRange(editor,range,scrollIntoView);if(caretRange){return caretRange;}return range;};var HDirection;(function(HDirection){HDirection[HDirection['Backwards']=-1]='Backwards';HDirection[HDirection['Forwards']=1]='Forwards';})(HDirection||(HDirection={}));var isContentEditableFalse$4=$_fy28ei1rjnlpax2o.isContentEditableFalse;var isText$7=$_fy28ei1rjnlpax2o.isText;var isElement$5=$_fy28ei1rjnlpax2o.isElement;var isBr$4=$_fy28ei1rjnlpax2o.isBr;var isCaretCandidate$2=isCaretCandidate;var isAtomic$1=isAtomic;var isEditableCaretCandidate$1=isEditableCaretCandidate;var getParents=function(node,root){var parents=[];while(node&&node!==root){parents.push(node);node=node.parentNode;}return parents;};var nodeAtIndex=function(container,offset){if(container.hasChildNodes()&&offset<container.childNodes.length){return container.childNodes[offset];}return null;};var getCaretCandidatePosition=function(direction,node){if(isForwards(direction)){if(isCaretCandidate$2(node.previousSibling)&&!isText$7(node.previousSibling)){return CaretPosition$1.before(node);}if(isText$7(node)){return CaretPosition$1(node,0);}}if(isBackwards(direction)){if(isCaretCandidate$2(node.nextSibling)&&!isText$7(node.nextSibling)){return CaretPosition$1.after(node);}if(isText$7(node)){return CaretPosition$1(node,node.data.length);}}if(isBackwards(direction)){if(isBr$4(node)){return CaretPosition$1.before(node);}return CaretPosition$1.after(node);}return CaretPosition$1.before(node);};var isBrBeforeBlock=function(node,root){var next;if(!$_fy28ei1rjnlpax2o.isBr(node)){return false;}if(isAtomic(node.nextSibling)){return false;}next=findCaretPosition(HDirection.Forwards,CaretPosition$1.after(node),root);if(!next){return false;}return!isInSameBlock(CaretPosition$1.before(node),CaretPosition$1.before(next),root);};var findCaretPosition=function(direction,startPos,root){var node,nextNode,innerNode;var rootContentEditableFalseElm,caretPosition;if(!isElement$5(root)||!startPos){return null;}if(startPos.isEqual(CaretPosition$1.after(root))&&root.lastChild){caretPosition=CaretPosition$1.after(root.lastChild);if(isBackwards(direction)&&isCaretCandidate$2(root.lastChild)&&isElement$5(root.lastChild)){return isBr$4(root.lastChild)?CaretPosition$1.before(root.lastChild):caretPosition;}}else{caretPosition=startPos;}var container=caretPosition.container();var offset=caretPosition.offset();if(isText$7(container)){if(isBackwards(direction)&&offset>0){return CaretPosition$1(container,--offset);}if(isForwards(direction)&&offset<container.length){return CaretPosition$1(container,++offset);}node=container;}else{if(isBackwards(direction)&&offset>0){nextNode=nodeAtIndex(container,offset-1);if(isCaretCandidate$2(nextNode)){if(!isAtomic$1(nextNode)){innerNode=findNode(nextNode,direction,isEditableCaretCandidate$1,nextNode);if(innerNode){if(isText$7(innerNode)){return CaretPosition$1(innerNode,innerNode.data.length);}return CaretPosition$1.after(innerNode);}}if(isText$7(nextNode)){return CaretPosition$1(nextNode,nextNode.data.length);}return CaretPosition$1.before(nextNode);}}if(isForwards(direction)&&offset<container.childNodes.length){nextNode=nodeAtIndex(container,offset);if(isCaretCandidate$2(nextNode)){if(isBr$4(nextNode)&&root.lastChild===nextNode){return null;}if(isBrBeforeBlock(nextNode,root)){return findCaretPosition(direction,CaretPosition$1.after(nextNode),root);}if(!isAtomic$1(nextNode)){innerNode=findNode(nextNode,direction,isEditableCaretCandidate$1,nextNode);if(innerNode){if(isText$7(innerNode)){return CaretPosition$1(innerNode,0);}return CaretPosition$1.before(innerNode);}}if(isText$7(nextNode)){return CaretPosition$1(nextNode,0);}return CaretPosition$1.after(nextNode);}}node=nextNode?nextNode:caretPosition.getNode();}if(isForwards(direction)&&caretPosition.isAtEnd()||isBackwards(direction)&&caretPosition.isAtStart()){node=findNode(node,direction,$_dv6bef2njnlpax9l.constant(true),root,true);if(isEditableCaretCandidate$1(node,root)){return getCaretCandidatePosition(direction,node);}}nextNode=findNode(node,direction,isEditableCaretCandidate$1,root);rootContentEditableFalseElm=$_n452lmjnlpawsj.last($_n452lmjnlpawsj.filter(getParents(container,root),isContentEditableFalse$4));if(rootContentEditableFalseElm&&(!nextNode||!rootContentEditableFalseElm.contains(nextNode))){if(isForwards(direction)){caretPosition=CaretPosition$1.after(rootContentEditableFalseElm);}else{caretPosition=CaretPosition$1.before(rootContentEditableFalseElm);}return caretPosition;}if(nextNode){return getCaretCandidatePosition(direction,nextNode);}return null;};var CaretWalker=function(root){return{next:function(caretPosition){return findCaretPosition(HDirection.Forwards,caretPosition,root);},prev:function(caretPosition){return findCaretPosition(HDirection.Backwards,caretPosition,root);}};};var BreakType;(function(BreakType){BreakType[BreakType['Br']=0]='Br';BreakType[BreakType['Block']=1]='Block';BreakType[BreakType['Wrap']=2]='Wrap';BreakType[BreakType['Eol']=3]='Eol';})(BreakType||(BreakType={}));var flip=function(direction,positions){return direction===HDirection.Backwards?positions.reverse():positions;};var walk$1=function(direction,caretWalker,pos){return direction===HDirection.Forwards?caretWalker.next(pos):caretWalker.prev(pos);};var getBreakType=function(scope,direction,currentPos,nextPos){if($_fy28ei1rjnlpax2o.isBr(nextPos.getNode(direction===HDirection.Forwards))){return BreakType.Br;}else if(isInSameBlock(currentPos,nextPos)===false){return BreakType.Block;}else{return BreakType.Wrap;}};var getPositionsUntil=function(predicate,direction,scope,start){var caretWalker=CaretWalker(scope);var currentPos=start,nextPos;var positions=[];while(currentPos){nextPos=walk$1(direction,caretWalker,currentPos);if(!nextPos){break;}if($_fy28ei1rjnlpax2o.isBr(nextPos.getNode(false))){if(direction===HDirection.Forwards){return{positions:flip(direction,positions).concat([nextPos]),breakType:BreakType.Br,breakAt:Option.some(nextPos)};}else{return{positions:flip(direction,positions),breakType:BreakType.Br,breakAt:Option.some(nextPos)};}}if(!nextPos.isVisible()){currentPos=nextPos;continue;}if(predicate(currentPos,nextPos)){var breakType=getBreakType(scope,direction,currentPos,nextPos);return{positions:flip(direction,positions),breakType:breakType,breakAt:Option.some(nextPos)};}positions.push(nextPos);currentPos=nextPos;}return{positions:flip(direction,positions),breakType:BreakType.Eol,breakAt:Option.none()};};var getAdjacentLinePositions=function(direction,getPositionsUntilBreak,scope,start){return getPositionsUntilBreak(scope,start).breakAt.map(function(pos){var positions=getPositionsUntilBreak(scope,pos).positions;return direction===HDirection.Backwards?positions.concat(pos):[pos].concat(positions);}).getOr([]);};var findClosestHorizontalPositionFromPoint=function(positions,x){return foldl(positions,function(acc,newPos){return acc.fold(function(){return Option.some(newPos);},function(lastPos){return liftN([head(lastPos.getClientRects()),head(newPos.getClientRects())],function(lastRect,newRect){var lastDist=Math.abs(x-lastRect.left);var newDist=Math.abs(x-newRect.left);return newDist<=lastDist?newPos:lastPos;}).or(acc);});},Option.none());};var findClosestHorizontalPosition=function(positions,pos){return head(pos.getClientRects()).bind(function(targetRect){return findClosestHorizontalPositionFromPoint(positions,targetRect.left);});};var getPositionsUntilPreviousLine=curry(getPositionsUntil,CaretPosition.isAbove,-1);var getPositionsUntilNextLine=curry(getPositionsUntil,CaretPosition.isBelow,1);var getPositionsAbove=curry(getAdjacentLinePositions,-1,getPositionsUntilPreviousLine);var getPositionsBelow=curry(getAdjacentLinePositions,1,getPositionsUntilNextLine);var getFirstLinePositions=function(scope){return $_32xcvk30jnlpaxbn.firstPositionIn(scope).map(function(pos){return[pos].concat(getPositionsUntilNextLine(scope,pos).positions);}).getOr([]);};var getLastLinePositions=function(scope){return $_32xcvk30jnlpaxbn.lastPositionIn(scope).map(function(pos){return getPositionsUntilPreviousLine(scope,pos).positions.concat(pos);}).getOr([]);};var deflate=function(rect,delta){return{left:rect.left-delta,top:rect.top-delta,right:rect.right+delta*2,bottom:rect.bottom+delta*2,width:rect.width+delta,height:rect.height+delta};};var getCorners=function(getYAxisValue,tds){return bind(tds,function(td){var rect=deflate(clone$2(td.getBoundingClientRect()),-1);return[{x:rect.left,y:getYAxisValue(rect),cell:td},{x:rect.right,y:getYAxisValue(rect),cell:td}];});};var findClosestCorner=function(corners,x,y){return foldl(corners,function(acc,newCorner){return acc.fold(function(){return Option.some(newCorner);},function(oldCorner){var oldDist=Math.sqrt(Math.abs(oldCorner.x-x)+Math.abs(oldCorner.y-y));var newDist=Math.sqrt(Math.abs(newCorner.x-x)+Math.abs(newCorner.y-y));return Option.some(newDist<oldDist?newCorner:oldCorner);});},Option.none());};var getClosestCell=function(getYAxisValue,isTargetCorner,table,x,y){var cells=$_cmitir27jnlpax6e.descendants(Element$$1.fromDom(table),'td,th,caption').map(function(e){return e.dom();});var corners=filter(getCorners(getYAxisValue,cells),function(corner){return isTargetCorner(corner,y);});return findClosestCorner(corners,x,y).map(function(corner){return corner.cell;});};var getBottomValue=function(rect){return rect.bottom;};var getTopValue=function(rect){return rect.top;};var isAbove$1=function(corner,y){return corner.y<y;};var isBelow$1=function(corner,y){return corner.y>y;};var getClosestCellAbove=curry(getClosestCell,getBottomValue,isAbove$1);var getClosestCellBelow=curry(getClosestCell,getTopValue,isBelow$1);var findClosestPositionInAboveCell=function(table,pos){return head(pos.getClientRects()).bind(function(rect){return getClosestCellAbove(table,rect.left,rect.top);}).bind(function(cell){return findClosestHorizontalPosition(getLastLinePositions(cell),pos);});};var findClosestPositionInBelowCell=function(table,pos){return last(pos.getClientRects()).bind(function(rect){return getClosestCellBelow(table,rect.left,rect.top);}).bind(function(cell){return findClosestHorizontalPosition(getFirstLinePositions(cell),pos);});};var getPos$1=function(elm){var x=0,y=0;var offsetParent=elm;while(offsetParent&&offsetParent.nodeType){x+=offsetParent.offsetLeft||0;y+=offsetParent.offsetTop||0;offsetParent=offsetParent.offsetParent;}return{x:x,y:y};};var fireScrollIntoViewEvent=function(editor,elm,alignToTop){var scrollEvent={elm:elm,alignToTop:alignToTop};editor.fire('scrollIntoView',scrollEvent);return scrollEvent.isDefaultPrevented();};var scrollElementIntoView=function(editor,elm,alignToTop){var y,viewPort;var dom=editor.dom;var root=dom.getRoot();var viewPortY,viewPortH,offsetY=0;if(fireScrollIntoViewEvent(editor,elm,alignToTop)){return;}if(!$_fy28ei1rjnlpax2o.isElement(elm)){return;}if(alignToTop===false){offsetY=elm.offsetHeight;}if(root.nodeName!=='BODY'){var scrollContainer=editor.selection.getScrollContainer();if(scrollContainer){y=getPos$1(elm).y-getPos$1(scrollContainer).y+offsetY;viewPortH=scrollContainer.clientHeight;viewPortY=scrollContainer.scrollTop;if(y<viewPortY||y+25>viewPortY+viewPortH){scrollContainer.scrollTop=y<viewPortY?y:y-viewPortH+25;}return;}}viewPort=dom.getViewPort(editor.getWin());y=dom.getPos(elm).y+offsetY;viewPortY=viewPort.y;viewPortH=viewPort.h;if(y<viewPort.y||y+25>viewPortY+viewPortH){editor.getWin().scrollTo(0,y<viewPortY?y:y-viewPortH+25);}};var getViewPortRect=function(editor){if(editor.inline){return editor.getBody().getBoundingClientRect();}else{var win=editor.getWin();return{left:0,right:win.innerWidth,top:0,bottom:win.innerHeight,width:win.innerWidth,height:win.innerHeight};}};var scrollBy=function(editor,dx,dy){if(editor.inline){editor.getBody().scrollLeft+=dx;editor.getBody().scrollTop+=dy;}else{editor.getWin().scrollBy(dx,dy);}};var scrollRangeIntoView=function(editor,rng){head(CaretPosition.fromRangeStart(rng).getClientRects()).each(function(rngRect){var bodyRect=getViewPortRect(editor);var overflow=getOverflow(bodyRect,rngRect);var margin=4;var dx=overflow.x>0?overflow.x+margin:overflow.x-margin;var dy=overflow.y>0?overflow.y+margin:overflow.y-margin;scrollBy(editor,overflow.x!==0?dx:0,overflow.y!==0?dy:0);});};var $_av60ug39jnlpaxee={scrollElementIntoView:scrollElementIntoView,scrollRangeIntoView:scrollRangeIntoView};var getBodySetting=function(editor,name,defaultValue){var value=editor.getParam(name,defaultValue);if(value.indexOf('=')!==-1){var bodyObj=editor.getParam(name,'','hash');return bodyObj.hasOwnProperty(editor.id)?bodyObj[editor.id]:defaultValue;}else{return value;}};var getIframeAttrs=function(editor){return editor.getParam('iframe_attrs',{});};var getDocType=function(editor){return editor.getParam('doctype','<!DOCTYPE html>');};var getDocumentBaseUrl=function(editor){return editor.getParam('document_base_url','');};var getBodyId=function(editor){return getBodySetting(editor,'body_id','tinymce');};var getBodyClass=function(editor){return getBodySetting(editor,'body_class','');};var getContentSecurityPolicy=function(editor){return editor.getParam('content_security_policy','');};var shouldPutBrInPre=function(editor){return editor.getParam('br_in_pre',true);};var getForcedRootBlock=function(editor){if(editor.getParam('force_p_newlines',false)){return'p';}var block=editor.getParam('forced_root_block','p');return block===false?'':block;};var getForcedRootBlockAttrs=function(editor){return editor.getParam('forced_root_block_attrs',{});};var getBrNewLineSelector=function(editor){return editor.getParam('br_newline_selector','.mce-toc h2,figcaption,caption');};var getNoNewLineSelector=function(editor){return editor.getParam('no_newline_selector','');};var shouldKeepStyles=function(editor){return editor.getParam('keep_styles',true);};var shouldEndContainerOnEmptyBlock=function(editor){return editor.getParam('end_container_on_empty_block',false);};var getFontStyleValues=function(editor){return $_1q1txeljnlpawsa.explode(editor.getParam('font_size_style_values',''));};var getFontSizeClasses=function(editor){return $_1q1txeljnlpawsa.explode(editor.getParam('font_size_classes',''));};var getImagesDataImgFilter=function(editor){return editor.getParam('images_dataimg_filter',constant(true),'function');};var isAutomaticUploadsEnabled=function(editor){return editor.getParam('automatic_uploads',true,'boolean');};var shouldReuseFileName=function(editor){return editor.getParam('images_reuse_filename',false,'boolean');};var shouldReplaceBlobUris=function(editor){return editor.getParam('images_replace_blob_uris',true,'boolean');};var getImageUploadUrl=function(editor){return editor.getParam('images_upload_url','','string');};var getImageUploadBasePath=function(editor){return editor.getParam('images_upload_base_path','','string');};var getImagesUploadCredentials=function(editor){return editor.getParam('images_upload_credentials',false,'boolean');};var getImagesUploadHandler=function(editor){return editor.getParam('images_upload_handler',null,'function');};var $_c6e09z3ajnlpaxek={getIframeAttrs:getIframeAttrs,getDocType:getDocType,getDocumentBaseUrl:getDocumentBaseUrl,getBodyId:getBodyId,getBodyClass:getBodyClass,getContentSecurityPolicy:getContentSecurityPolicy,shouldPutBrInPre:shouldPutBrInPre,getForcedRootBlock:getForcedRootBlock,getForcedRootBlockAttrs:getForcedRootBlockAttrs,getBrNewLineSelector:getBrNewLineSelector,getNoNewLineSelector:getNoNewLineSelector,shouldKeepStyles:shouldKeepStyles,shouldEndContainerOnEmptyBlock:shouldEndContainerOnEmptyBlock,getFontStyleValues:getFontStyleValues,getFontSizeClasses:getFontSizeClasses,getImagesDataImgFilter:getImagesDataImgFilter,isAutomaticUploadsEnabled:isAutomaticUploadsEnabled,shouldReuseFileName:shouldReuseFileName,shouldReplaceBlobUris:shouldReplaceBlobUris,getImageUploadUrl:getImageUploadUrl,getImageUploadBasePath:getImageUploadBasePath,getImagesUploadCredentials:getImagesUploadCredentials,getImagesUploadHandler:getImagesUploadHandler};var browser$2=$_766rx4ojnlpawtd.detect().browser;var isFakeCaretTableBrowser=function(){return browser$2.isIE()||browser$2.isEdge()||browser$2.isFirefox();};var moveToRange=function(editor,rng){editor.selection.setRng(rng);$_av60ug39jnlpaxee.scrollRangeIntoView(editor,rng);};var hasNextBreak=function(getPositionsUntil,scope,lineInfo){return lineInfo.breakAt.map(function(breakPos){return getPositionsUntil(scope,breakPos).breakAt.isSome();}).getOr(false);};var startsWithWrapBreak=function(lineInfo){return lineInfo.breakType===BreakType.Wrap&&lineInfo.positions.length===0;};var startsWithBrBreak=function(lineInfo){return lineInfo.breakType===BreakType.Br&&lineInfo.positions.length===1;};var isAtTableCellLine=function(getPositionsUntil,scope,pos){var lineInfo=getPositionsUntil(scope,pos);if(startsWithWrapBreak(lineInfo)||!$_fy28ei1rjnlpax2o.isBr(pos.getNode())&&startsWithBrBreak(lineInfo)){return!hasNextBreak(getPositionsUntil,scope,lineInfo);}else{return lineInfo.breakAt.isNone();}};var isAtFirstTableCellLine=$_dv6bef2njnlpax9l.curry(isAtTableCellLine,getPositionsUntilPreviousLine);var isAtLastTableCellLine=$_dv6bef2njnlpax9l.curry(isAtTableCellLine,getPositionsUntilNextLine);var isCaretAtStartOrEndOfTable=function(forward,rng,table){var caretPos=CaretPosition$1.fromRangeStart(rng);return $_32xcvk30jnlpaxbn.positionIn(!forward,table).map(function(pos){return pos.isEqual(caretPos);}).getOr(false);};var navigateHorizontally=function(editor,forward,table,td){var rng=editor.selection.getRng();var direction=forward?1:-1;if(isFakeCaretTableBrowser()&&isCaretAtStartOrEndOfTable(forward,rng,table)){var newRng=showCaret(direction,editor,table,!forward,true);moveToRange(editor,newRng);return true;}return false;};var getClosestAbovePosition=function(root,table,start){return findClosestPositionInAboveCell(table,start).orThunk(function(){return head(start.getClientRects()).bind(function(rect){return findClosestHorizontalPositionFromPoint(getPositionsAbove(root,CaretPosition$1.before(table)),rect.left);});}).getOr(CaretPosition$1.before(table));};var getClosestBelowPosition=function(root,table,start){return findClosestPositionInBelowCell(table,start).orThunk(function(){return head(start.getClientRects()).bind(function(rect){return findClosestHorizontalPositionFromPoint(getPositionsBelow(root,CaretPosition$1.after(table)),rect.left);});}).getOr(CaretPosition$1.after(table));};var getTable=function(previous,pos){var node=pos.getNode(previous);return $_fy28ei1rjnlpax2o.isElement(node)&&node.nodeName==='TABLE'?Option.some(node):Option.none();};var renderBlock=function(down,editor,table,pos){var forcedRootBlock=$_c6e09z3ajnlpaxek.getForcedRootBlock(editor);if(forcedRootBlock){editor.undoManager.transact(function(){var element=Element$$1.fromTag(forcedRootBlock);$_521j8z15jnlpawz7.setAll(element,$_c6e09z3ajnlpaxek.getForcedRootBlockAttrs(editor));$_ag89ax1yjnlpax4x.append(element,Element$$1.fromTag('br'));if(down){$_ag89ax1yjnlpax4x.after(Element$$1.fromDom(table),element);}else{$_ag89ax1yjnlpax4x.before(Element$$1.fromDom(table),element);}var rng=editor.dom.createRng();rng.setStart(element.dom(),0);rng.setEnd(element.dom(),0);moveToRange(editor,rng);});}else{moveToRange(editor,pos.toRange());}};var moveCaret=function(editor,down,pos){var table=down?getTable(true,pos):getTable(false,pos);var last$$1=down===false;table.fold(function(){return moveToRange(editor,pos.toRange());},function(table){return $_32xcvk30jnlpaxbn.positionIn(last$$1,editor.getBody()).filter(function(lastPos){return lastPos.isEqual(pos);}).fold(function(){return moveToRange(editor,pos.toRange());},function(_){return renderBlock(down,editor,table,pos);});});};var navigateVertically=function(editor,down,table,td){var rng=editor.selection.getRng();var pos=CaretPosition$1.fromRangeStart(rng);var root=editor.getBody();if(!down&&isAtFirstTableCellLine(td,pos)){var newPos=getClosestAbovePosition(root,table,pos);moveCaret(editor,down,newPos);return true;}else if(down&&isAtLastTableCellLine(td,pos)){var newPos=getClosestBelowPosition(root,table,pos);moveCaret(editor,down,newPos);return true;}else{return false;}};var moveH=function(editor,forward){return function(){return Option.from(editor.dom.getParent(editor.selection.getNode(),'td,th')).bind(function(td){return Option.from(editor.dom.getParent(td,'table')).map(function(table){return navigateHorizontally(editor,forward,table,td);});}).getOr(false);};};var moveV=function(editor,forward){return function(){return Option.from(editor.dom.getParent(editor.selection.getNode(),'td,th')).bind(function(td){return Option.from(editor.dom.getParent(td,'table')).map(function(table){return navigateVertically(editor,forward,table,td);});}).getOr(false);};};var isContentEditableFalse$5=$_fy28ei1rjnlpax2o.isContentEditableFalse;var isTableCell$1=function(node){return $_fy28ei1rjnlpax2o.isElement(node)&&/^(TD|TH)$/i.test(node.tagName);};var getAbsoluteClientRect=function(root,element,before){var clientRect=collapse(element.getBoundingClientRect(),before);var docElm,scrollX,scrollY,margin,rootRect;if(root.tagName==='BODY'){docElm=root.ownerDocument.documentElement;scrollX=root.scrollLeft||docElm.scrollLeft;scrollY=root.scrollTop||docElm.scrollTop;}else{rootRect=root.getBoundingClientRect();scrollX=root.scrollLeft-rootRect.left;scrollY=root.scrollTop-rootRect.top;}clientRect.left+=scrollX;clientRect.right+=scrollX;clientRect.top+=scrollY;clientRect.bottom+=scrollY;clientRect.width=1;margin=element.offsetWidth-element.clientWidth;if(margin>0){if(before){margin*=-1;}clientRect.left+=margin;clientRect.right+=margin;}return clientRect;};var trimInlineCaretContainers=function(root){var contentEditableFalseNodes,node,sibling,i,data;contentEditableFalseNodes=DomQuery('*[contentEditable=false]',root);for(i=0;i<contentEditableFalseNodes.length;i++){node=contentEditableFalseNodes[i];sibling=node.previousSibling;if(endsWithCaretContainer(sibling)){data=sibling.data;if(data.length===1){sibling.parentNode.removeChild(sibling);}else{sibling.deleteData(data.length-1,1);}}sibling=node.nextSibling;if(startsWithCaretContainer(sibling)){data=sibling.data;if(data.length===1){sibling.parentNode.removeChild(sibling);}else{sibling.deleteData(0,1);}}}};var FakeCaret=function(root,isBlock,hasFocus){var lastVisualCaret=Cell(Option.none());var cursorInterval,caretContainerNode;var show=function(before,element){var clientRect,rng;hide();if(isTableCell$1(element)){return null;}if(isBlock(element)){caretContainerNode=insertBlock('p',element,before);clientRect=getAbsoluteClientRect(root,element,before);DomQuery(caretContainerNode).css('top',clientRect.top);var caret=DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(clientRect).appendTo(root)[0];lastVisualCaret.set(Option.some({caret:caret,element:element,before:before}));lastVisualCaret.get().each(function(caretState){if(before){DomQuery(caretState.caret).addClass('mce-visual-caret-before');}});startBlink();rng=element.ownerDocument.createRange();rng.setStart(caretContainerNode,0);rng.setEnd(caretContainerNode,0);}else{caretContainerNode=insertInline(element,before);rng=element.ownerDocument.createRange();if(isContentEditableFalse$5(caretContainerNode.nextSibling)){rng.setStart(caretContainerNode,0);rng.setEnd(caretContainerNode,0);}else{rng.setStart(caretContainerNode,1);rng.setEnd(caretContainerNode,1);}return rng;}return rng;};var hide=function(){trimInlineCaretContainers(root);if(caretContainerNode){$_ctzulb33jnlpaxck.remove(caretContainerNode);caretContainerNode=null;}lastVisualCaret.get().each(function(caretState){DomQuery(caretState.caret).remove();lastVisualCaret.set(Option.none());});clearInterval(cursorInterval);};var startBlink=function(){cursorInterval=$_2nbnh1ijnlpawpi.setInterval(function(){if(hasFocus()){DomQuery('div.mce-visual-caret',root).toggleClass('mce-visual-caret-hidden');}else{DomQuery('div.mce-visual-caret',root).addClass('mce-visual-caret-hidden');}},500);};var reposition=function(){lastVisualCaret.get().each(function(caretState){var clientRect=getAbsoluteClientRect(root,caretState.element,caretState.before);DomQuery(caretState.caret).css(clientRect);});};var destroy=function(){return $_2nbnh1ijnlpawpi.clearInterval(cursorInterval);};var getCss=function(){return'.mce-visual-caret {'+'position: absolute;'+'background-color: black;'+'background-color: currentcolor;'+'}'+'.mce-visual-caret-hidden {'+'display: none;'+'}'+'*[data-mce-caret] {'+'position: absolute;'+'left: -1000px;'+'right: auto;'+'top: 0;'+'margin: 0;'+'padding: 0;'+'}';};return{show:show,hide:hide,getCss:getCss,reposition:reposition,destroy:destroy};};var isFakeCaretTarget=function(node){return isContentEditableFalse$5(node)||$_fy28ei1rjnlpax2o.isTable(node)&&isFakeCaretTableBrowser();};var isContentEditableFalse$6=$_fy28ei1rjnlpax2o.isContentEditableFalse;var isBlockLike=$_fy28ei1rjnlpax2o.matchStyleValues('display','block table table-cell table-caption list-item');var isCaretContainer$2=isCaretContainer;var isCaretContainerBlock$1=isCaretContainerBlock;var curry$2=$_dv6bef2njnlpax9l.curry;var isElement$6=$_fy28ei1rjnlpax2o.isElement;var isCaretCandidate$3=isCaretCandidate;var isForwards=function(direction){return direction>0;};var isBackwards=function(direction){return direction<0;};var skipCaretContainers=function(walk,shallow){var node;while(node=walk(shallow)){if(!isCaretContainerBlock$1(node)){return node;}}return null;};var findNode=function(node,direction,predicateFn,rootNode,shallow){var walker=new TreeWalker(node,rootNode);if(isBackwards(direction)){if(isContentEditableFalse$6(node)||isCaretContainerBlock$1(node)){node=skipCaretContainers(walker.prev,true);if(predicateFn(node)){return node;}}while(node=skipCaretContainers(walker.prev,shallow)){if(predicateFn(node)){return node;}}}if(isForwards(direction)){if(isContentEditableFalse$6(node)||isCaretContainerBlock$1(node)){node=skipCaretContainers(walker.next,true);if(predicateFn(node)){return node;}}while(node=skipCaretContainers(walker.next,shallow)){if(predicateFn(node)){return node;}}}return null;};var getParentBlock=function(node,rootNode){while(node&&node!==rootNode){if(isBlockLike(node)){return node;}node=node.parentNode;}return null;};var isInSameBlock=function(caretPosition1,caretPosition2,rootNode){return getParentBlock(caretPosition1.container(),rootNode)===getParentBlock(caretPosition2.container(),rootNode);};var getChildNodeAtRelativeOffset=function(relativeOffset,caretPosition){var container,offset;if(!caretPosition){return null;}container=caretPosition.container();offset=caretPosition.offset();if(!isElement$6(container)){return null;}return container.childNodes[offset+relativeOffset];};var beforeAfter=function(before,node){var range=node.ownerDocument.createRange();if(before){range.setStartBefore(node);range.setEndBefore(node);}else{range.setStartAfter(node);range.setEndAfter(node);}return range;};var isNodesInSameBlock=function(root,node1,node2){return getParentBlock(node1,root)===getParentBlock(node2,root);};var lean=function(left,root,node){var sibling,siblingName;if(left){siblingName='previousSibling';}else{siblingName='nextSibling';}while(node&&node!==root){sibling=node[siblingName];if(isCaretContainer$2(sibling)){sibling=sibling[siblingName];}if(isContentEditableFalse$6(sibling)){if(isNodesInSameBlock(root,sibling,node)){return sibling;}break;}if(isCaretCandidate$3(sibling)){break;}node=node.parentNode;}return null;};var before$2=curry$2(beforeAfter,true);var after$2=curry$2(beforeAfter,false);var normalizeRange=function(direction,root,range){var node,container,offset,location;var leanLeft=curry$2(lean,true,root);var leanRight=curry$2(lean,false,root);container=range.startContainer;offset=range.startOffset;if(isCaretContainerBlock(container)){if(!isElement$6(container)){container=container.parentNode;}location=container.getAttribute('data-mce-caret');if(location==='before'){node=container.nextSibling;if(isFakeCaretTarget(node)){return before$2(node);}}if(location==='after'){node=container.previousSibling;if(isFakeCaretTarget(node)){return after$2(node);}}}if(!range.collapsed){return range;}if($_fy28ei1rjnlpax2o.isText(container)){if(isCaretContainer$2(container)){if(direction===1){node=leanRight(container);if(node){return before$2(node);}node=leanLeft(container);if(node){return after$2(node);}}if(direction===-1){node=leanLeft(container);if(node){return after$2(node);}node=leanRight(container);if(node){return before$2(node);}}return range;}if(endsWithCaretContainer(container)&&offset>=container.data.length-1){if(direction===1){node=leanRight(container);if(node){return before$2(node);}}return range;}if(startsWithCaretContainer(container)&&offset<=1){if(direction===-1){node=leanLeft(container);if(node){return after$2(node);}}return range;}if(offset===container.data.length){node=leanRight(container);if(node){return before$2(node);}return range;}if(offset===0){node=leanLeft(container);if(node){return after$2(node);}return range;}}return range;};var isNextToContentEditableFalse=function(relativeOffset,caretPosition){var node=getChildNodeAtRelativeOffset(relativeOffset,caretPosition);return isContentEditableFalse$6(node)&&!$_fy28ei1rjnlpax2o.isBogusAll(node);};var isNextToTable=function(relativeOffset,caretPosition){return $_fy28ei1rjnlpax2o.isTable(getChildNodeAtRelativeOffset(relativeOffset,caretPosition));};var getRelativeCefElm=function(forward,caretPosition){return Option.from(getChildNodeAtRelativeOffset(forward?0:-1,caretPosition)).filter(isContentEditableFalse$6);};var getNormalizedRangeEndPoint=function(direction,root,range){var normalizedRange=normalizeRange(direction,root,range);if(direction===-1){return CaretPosition.fromRangeStart(normalizedRange);}return CaretPosition.fromRangeEnd(normalizedRange);};var isBeforeContentEditableFalse=curry$2(isNextToContentEditableFalse,0);var isAfterContentEditableFalse=curry$2(isNextToContentEditableFalse,-1);var isBeforeTable=curry$2(isNextToTable,0);var isAfterTable=curry$2(isNextToTable,-1);var walkToPositionIn=function(forward,root,start){var position=forward?CaretPosition$1.before(start):CaretPosition$1.after(start);return fromPosition(forward,root,position);};var afterElement=function(node){return $_fy28ei1rjnlpax2o.isBr(node)?CaretPosition$1.before(node):CaretPosition$1.after(node);};var isBeforeOrStart=function(position){if(CaretPosition$1.isTextPosition(position)){return position.offset()===0;}else{return isCaretCandidate(position.getNode());}};var isAfterOrEnd=function(position){if(CaretPosition$1.isTextPosition(position)){var container=position.container();return position.offset()===container.data.length;}else{return isCaretCandidate(position.getNode(true));}};var isBeforeAfterSameElement=function(from,to){return!CaretPosition$1.isTextPosition(from)&&!CaretPosition$1.isTextPosition(to)&&from.getNode()===to.getNode(true);};var isAtBr=function(position){return!CaretPosition$1.isTextPosition(position)&&$_fy28ei1rjnlpax2o.isBr(position.getNode());};var shouldSkipPosition=function(forward,from,to){if(forward){return!isBeforeAfterSameElement(from,to)&&!isAtBr(from)&&isAfterOrEnd(from)&&isBeforeOrStart(to);}else{return!isBeforeAfterSameElement(to,from)&&isBeforeOrStart(from)&&isAfterOrEnd(to);}};var fromPosition=function(forward,root,pos){var walker=CaretWalker(root);return Option.from(forward?walker.next(pos):walker.prev(pos));};var navigate=function(forward,root,from){return fromPosition(forward,root,from).bind(function(to){if(isInSameBlock(from,to,root)&&shouldSkipPosition(forward,from,to)){return fromPosition(forward,root,to);}else{return Option.some(to);}});};var positionIn=function(forward,element){var startNode=forward?element.firstChild:element.lastChild;if($_fy28ei1rjnlpax2o.isText(startNode)){return Option.some(CaretPosition$1(startNode,forward?0:startNode.data.length));}else if(startNode){if(isCaretCandidate(startNode)){return Option.some(forward?CaretPosition$1.before(startNode):afterElement(startNode));}else{return walkToPositionIn(forward,element,startNode);}}else{return Option.none();}};var $_32xcvk30jnlpaxbn={fromPosition:fromPosition,nextPosition:curry(fromPosition,true),prevPosition:curry(fromPosition,false),navigate:navigate,positionIn:positionIn,firstPositionIn:curry(positionIn,true),lastPositionIn:curry(positionIn,false)};var isStringPathBookmark=function(bookmark){return typeof bookmark.start==='string';};var isRangeBookmark=function(bookmark){return bookmark.hasOwnProperty('rng');};var isIdBookmark=function(bookmark){return bookmark.hasOwnProperty('id');};var isIndexBookmark=function(bookmark){return bookmark.hasOwnProperty('name');};var isPathBookmark=function(bookmark){return $_1q1txeljnlpawsa.isArray(bookmark.start);};var addBogus=function(dom,node){if(dom.isBlock(node)&&!node.innerHTML&&!$_cseqobajnlpawll.ie){node.innerHTML='<br data-mce-bogus=\"1\" />';}return node;};var resolveCaretPositionBookmark=function(dom,bookmark){var rng,pos;rng=dom.createRng();pos=resolve$2(dom.getRoot(),bookmark.start);rng.setStart(pos.container(),pos.offset());pos=resolve$2(dom.getRoot(),bookmark.end);rng.setEnd(pos.container(),pos.offset());return rng;};var insertZwsp=function(node,rng){var textNode=node.ownerDocument.createTextNode($_90hfb72rjnlpaxae.ZWSP);node.appendChild(textNode);rng.setStart(textNode,0);rng.setEnd(textNode,0);};var isEmpty=function(node){return node.hasChildNodes()===false;};var tryFindRangePosition=function(node,rng){return $_32xcvk30jnlpaxbn.lastPositionIn(node).fold(function(){return false;},function(pos){rng.setStart(pos.container(),pos.offset());rng.setEnd(pos.container(),pos.offset());return true;});};var padEmptyCaretContainer=function(root,node,rng){if(isEmpty(node)&&getParentCaretContainer(root,node)){insertZwsp(node,rng);return true;}else{return false;}};var setEndPoint=function(dom,start,bookmark,rng){var point=bookmark[start?'start':'end'];var i,node,offset,children;var root=dom.getRoot();if(point){offset=point[0];for(node=root,i=point.length-1;i>=1;i--){children=node.childNodes;if(padEmptyCaretContainer(root,node,rng)){return true;}if(point[i]>children.length-1){if(padEmptyCaretContainer(root,node,rng)){return true;}return tryFindRangePosition(node,rng);}node=children[point[i]];}if(node.nodeType===3){offset=Math.min(point[0],node.nodeValue.length);}if(node.nodeType===1){offset=Math.min(point[0],node.childNodes.length);}if(start){rng.setStart(node,offset);}else{rng.setEnd(node,offset);}}return true;};var isValidTextNode=function(node){return $_fy28ei1rjnlpax2o.isText(node)&&node.data.length>0;};var restoreEndPoint=function(dom,suffix,bookmark){var marker=dom.get(bookmark.id+'_'+suffix),node,idx,next,prev;var keep=bookmark.keep;var container,offset;if(marker){node=marker.parentNode;if(suffix==='start'){if(!keep){idx=dom.nodeIndex(marker);}else{if(marker.hasChildNodes()){node=marker.firstChild;idx=1;}else if(isValidTextNode(marker.nextSibling)){node=marker.nextSibling;idx=0;}else if(isValidTextNode(marker.previousSibling)){node=marker.previousSibling;idx=marker.previousSibling.data.length;}else{node=marker.parentNode;idx=dom.nodeIndex(marker)+1;}}container=node;offset=idx;}else{if(!keep){idx=dom.nodeIndex(marker);}else{if(marker.hasChildNodes()){node=marker.firstChild;idx=1;}else if(isValidTextNode(marker.previousSibling)){node=marker.previousSibling;idx=marker.previousSibling.data.length;}else{node=marker.parentNode;idx=dom.nodeIndex(marker);}}container=node;offset=idx;}if(!keep){prev=marker.previousSibling;next=marker.nextSibling;$_1q1txeljnlpawsa.each($_1q1txeljnlpawsa.grep(marker.childNodes),function(node){if($_fy28ei1rjnlpax2o.isText(node)){node.nodeValue=node.nodeValue.replace(/\\uFEFF/g,'');}});while(marker=dom.get(bookmark.id+'_'+suffix)){dom.remove(marker,true);}if(prev&&next&&prev.nodeType===next.nodeType&&$_fy28ei1rjnlpax2o.isText(prev)&&!$_cseqobajnlpawll.opera){idx=prev.nodeValue.length;prev.appendData(next.nodeValue);dom.remove(next);if(suffix==='start'){container=prev;offset=idx;}else{container=prev;offset=idx;}}}return Option.some(CaretPosition$1(container,offset));}else{return Option.none();}};var alt=function(o1,o2){return o1.isSome()?o1:o2;};var resolvePaths=function(dom,bookmark){var rng=dom.createRng();if(setEndPoint(dom,true,bookmark,rng)&&setEndPoint(dom,false,bookmark,rng)){return Option.some(rng);}else{return Option.none();}};var resolveId=function(dom,bookmark){var startPos=restoreEndPoint(dom,'start',bookmark);var endPos=restoreEndPoint(dom,'end',bookmark);return liftN([startPos,alt(endPos,startPos)],function(spos,epos){var rng=dom.createRng();rng.setStart(addBogus(dom,spos.container()),spos.offset());rng.setEnd(addBogus(dom,epos.container()),epos.offset());return rng;});};var resolveIndex$1=function(dom,bookmark){return Option.from(dom.select(bookmark.name)[bookmark.index]).map(function(elm){var rng=dom.createRng();rng.selectNode(elm);return rng;});};var resolve$3=function(selection,bookmark){var dom=selection.dom;if(bookmark){if(isPathBookmark(bookmark)){return resolvePaths(dom,bookmark);}else if(isStringPathBookmark(bookmark)){return Option.some(resolveCaretPositionBookmark(dom,bookmark));}else if(isIdBookmark(bookmark)){return resolveId(dom,bookmark);}else if(isIndexBookmark(bookmark)){return resolveIndex$1(dom,bookmark);}else if(isRangeBookmark(bookmark)){return Option.some(bookmark.rng);}}return Option.none();};var $_6rgudt2yjnlpaxb4={resolve:resolve$3};var getBookmark$1=function(selection,type,normalized){return $_5l0mu32ljnlpax8x.getBookmark(selection,type,normalized);};var moveToBookmark=function(selection,bookmark){$_6rgudt2yjnlpaxb4.resolve(selection,bookmark).each(function(rng){selection.setRng(rng);});};var isBookmarkNode$1=function(node){return $_fy28ei1rjnlpax2o.isElement(node)&&node.tagName==='SPAN'&&node.getAttribute('data-mce-type')==='bookmark';};var $_43l8qj2xjnlpaxb1={getBookmark:getBookmark$1,moveToBookmark:moveToBookmark,isBookmarkNode:isBookmarkNode$1};var isInlineBlock=function(node){return node&&/^(IMG)$/.test(node.nodeName);};var moveStart=function(dom,selection,rng){var offset=rng.startOffset;var container=rng.startContainer,walker,node,nodes;if(rng.startContainer===rng.endContainer){if(isInlineBlock(rng.startContainer.childNodes[rng.startOffset])){return;}}if(container.nodeType===1){nodes=container.childNodes;if(offset<nodes.length){container=nodes[offset];walker=new TreeWalker(container,dom.getParent(container,dom.isBlock));}else{container=nodes[nodes.length-1];walker=new TreeWalker(container,dom.getParent(container,dom.isBlock));walker.next(true);}for(node=walker.current();node;node=walker.next()){if(node.nodeType===3&&!isWhiteSpaceNode(node)){rng.setStart(node,0);selection.setRng(rng);return;}}}};var getNonWhiteSpaceSibling=function(node,next,inc){if(node){next=next?'nextSibling':'previousSibling';for(node=inc?node:node[next];node;node=node[next]){if(node.nodeType===1||!isWhiteSpaceNode(node)){return node;}}}};var isTextBlock$1=function(editor,name){if(name.nodeType){name=name.nodeName;}return!!editor.schema.getTextBlockElements()[name.toLowerCase()];};var isValid=function(ed,parent,child){return ed.schema.isValidChild(parent,child);};var isWhiteSpaceNode=function(node){return node&&node.nodeType===3&&/^([\\t \\r\\n]+|)$/.test(node.nodeValue);};var replaceVars=function(value,vars){if(typeof value!=='string'){value=value(vars);}else if(vars){value=value.replace(/%(\\w+)/g,function(str,name){return vars[name]||str;});}return value;};var isEq=function(str1,str2){str1=str1||'';str2=str2||'';str1=''+(str1.nodeName||str1);str2=''+(str2.nodeName||str2);return str1.toLowerCase()===str2.toLowerCase();};var normalizeStyleValue=function(dom,value,name){if(name==='color'||name==='backgroundColor'){value=dom.toHex(value);}if(name==='fontWeight'&&value===700){value='bold';}if(name==='fontFamily'){value=value.replace(/[\\'\\\"]/g,'').replace(/,\\s+/g,',');}return''+value;};var getStyle=function(dom,node,name){return normalizeStyleValue(dom,dom.getStyle(node,name),name);};var getTextDecoration=function(dom,node){var decoration;dom.getParent(node,function(n){decoration=dom.getStyle(n,'text-decoration');return decoration&&decoration!=='none';});return decoration;};var getParents$1=function(dom,node,selector){return dom.getParents(node,selector,dom.getRoot());};var $_dlfh233cjnlpaxes={isInlineBlock:isInlineBlock,moveStart:moveStart,getNonWhiteSpaceSibling:getNonWhiteSpaceSibling,isTextBlock:isTextBlock$1,isValid:isValid,isWhiteSpaceNode:isWhiteSpaceNode,replaceVars:replaceVars,isEq:isEq,normalizeStyleValue:normalizeStyleValue,getStyle:getStyle,getTextDecoration:getTextDecoration,getParents:getParents$1};var isBookmarkNode$2=$_43l8qj2xjnlpaxb1.isBookmarkNode;var getParents$2=$_dlfh233cjnlpaxes.getParents;var isWhiteSpaceNode$1=$_dlfh233cjnlpaxes.isWhiteSpaceNode;var isTextBlock$2=$_dlfh233cjnlpaxes.isTextBlock;var findLeaf=function(node,offset){if(typeof offset==='undefined'){offset=node.nodeType===3?node.length:node.childNodes.length;}while(node&&node.hasChildNodes()){node=node.childNodes[offset];if(node){offset=node.nodeType===3?node.length:node.childNodes.length;}}return{node:node,offset:offset};};var excludeTrailingWhitespace=function(endContainer,endOffset){var leaf=findLeaf(endContainer,endOffset);if(leaf.node){while(leaf.node&&leaf.offset===0&&leaf.node.previousSibling){leaf=findLeaf(leaf.node.previousSibling);}if(leaf.node&&leaf.offset>0&&leaf.node.nodeType===3&&leaf.node.nodeValue.charAt(leaf.offset-1)===' '){if(leaf.offset>1){endContainer=leaf.node;endContainer.splitText(leaf.offset-1);}}}return endContainer;};var isBogusBr=function(node){return node.nodeName==='BR'&&node.getAttribute('data-mce-bogus')&&!node.nextSibling;};var findParentContentEditable=function(dom,node){var parent=node;while(parent){if(parent.nodeType===1&&dom.getContentEditable(parent)){return dom.getContentEditable(parent)==='false'?parent:node;}parent=parent.parentNode;}return node;};var findSpace=function(start,remove,node,offset){var pos,pos2;var str=node.nodeValue;if(typeof offset==='undefined'){offset=start?str.length:0;}if(start){pos=str.lastIndexOf(' ',offset);pos2=str.lastIndexOf('\\xA0',offset);pos=pos>pos2?pos:pos2;if(pos!==-1&&!remove&&(pos<offset||!start)&&pos<=str.length){pos++;}}else{pos=str.indexOf(' ',offset);pos2=str.indexOf('\\xA0',offset);pos=pos!==-1&&(pos2===-1||pos<pos2)?pos:pos2;}return pos;};var findWordEndPoint=function(dom,body,container,offset,start,remove){var walker,node,pos,lastTextNode;if(container.nodeType===3){pos=findSpace(start,remove,container,offset);if(pos!==-1){return{container:container,offset:pos};}lastTextNode=container;}walker=new TreeWalker(container,dom.getParent(container,dom.isBlock)||body);while(node=walker[start?'prev':'next']()){if(node.nodeType===3&&!isBookmarkNode$2(node.parentNode)){lastTextNode=node;pos=findSpace(start,remove,node);if(pos!==-1){return{container:node,offset:pos};}}else if(dom.isBlock(node)||$_dlfh233cjnlpaxes.isEq(node,'BR')){break;}}if(lastTextNode){if(start){offset=0;}else{offset=lastTextNode.length;}return{container:lastTextNode,offset:offset};}};var findSelectorEndPoint=function(dom,format,rng,container,siblingName){var parents,i,y,curFormat;if(container.nodeType===3&&container.nodeValue.length===0&&container[siblingName]){container=container[siblingName];}parents=getParents$2(dom,container);for(i=0;i<parents.length;i++){for(y=0;y<format.length;y++){curFormat=format[y];if('collapsed'in curFormat&&curFormat.collapsed!==rng.collapsed){continue;}if(dom.is(parents[i],curFormat.selector)){return parents[i];}}}return container;};var findBlockEndPoint=function(editor,format,container,siblingName){var node;var dom=editor.dom;var root=dom.getRoot();if(!format[0].wrapper){node=dom.getParent(container,format[0].block,root);}if(!node){var scopeRoot=dom.getParent(container,'LI,TD,TH');node=dom.getParent(container.nodeType===3?container.parentNode:container,function(node){return node!==root&&isTextBlock$2(editor,node);},scopeRoot);}if(node&&format[0].wrapper){node=getParents$2(dom,node,'ul,ol').reverse()[0]||node;}if(!node){node=container;while(node[siblingName]&&!dom.isBlock(node[siblingName])){node=node[siblingName];if($_dlfh233cjnlpaxes.isEq(node,'br')){break;}}}return node||container;};var findParentContainer=function(dom,format,startContainer,startOffset,endContainer,endOffset,start){var container,parent,sibling,siblingName,root;container=parent=start?startContainer:endContainer;siblingName=start?'previousSibling':'nextSibling';root=dom.getRoot();if(container.nodeType===3&&!isWhiteSpaceNode$1(container)){if(start?startOffset>0:endOffset<container.nodeValue.length){return container;}}while(true){if(!format[0].block_expand&&dom.isBlock(parent)){return parent;}for(sibling=parent[siblingName];sibling;sibling=sibling[siblingName]){if(!isBookmarkNode$2(sibling)&&!isWhiteSpaceNode$1(sibling)&&!isBogusBr(sibling)){return parent;}}if(parent===root||parent.parentNode===root){container=parent;break;}parent=parent.parentNode;}return container;};var expandRng=function(editor,rng,format,remove){var endPoint,startContainer=rng.startContainer,startOffset=rng.startOffset,endContainer=rng.endContainer,endOffset=rng.endOffset;var dom=editor.dom;if(startContainer.nodeType===1&&startContainer.hasChildNodes()){startContainer=getNode(startContainer,startOffset);if(startContainer.nodeType===3){startOffset=0;}}if(endContainer.nodeType===1&&endContainer.hasChildNodes()){endContainer=getNode(endContainer,rng.collapsed?endOffset:endOffset-1);if(endContainer.nodeType===3){endOffset=endContainer.nodeValue.length;}}startContainer=findParentContentEditable(dom,startContainer);endContainer=findParentContentEditable(dom,endContainer);if(isBookmarkNode$2(startContainer.parentNode)||isBookmarkNode$2(startContainer)){startContainer=isBookmarkNode$2(startContainer)?startContainer:startContainer.parentNode;if(rng.collapsed){startContainer=startContainer.previousSibling||startContainer;}else{startContainer=startContainer.nextSibling||startContainer;}if(startContainer.nodeType===3){startOffset=rng.collapsed?startContainer.length:0;}}if(isBookmarkNode$2(endContainer.parentNode)||isBookmarkNode$2(endContainer)){endContainer=isBookmarkNode$2(endContainer)?endContainer:endContainer.parentNode;if(rng.collapsed){endContainer=endContainer.nextSibling||endContainer;}else{endContainer=endContainer.previousSibling||endContainer;}if(endContainer.nodeType===3){endOffset=rng.collapsed?0:endContainer.length;}}if(rng.collapsed){endPoint=findWordEndPoint(dom,editor.getBody(),startContainer,startOffset,true,remove);if(endPoint){startContainer=endPoint.container;startOffset=endPoint.offset;}endPoint=findWordEndPoint(dom,editor.getBody(),endContainer,endOffset,false,remove);if(endPoint){endContainer=endPoint.container;endOffset=endPoint.offset;}}if(format[0].inline){endContainer=remove?endContainer:excludeTrailingWhitespace(endContainer,endOffset);}if(format[0].inline||format[0].block_expand){if(!format[0].inline||startContainer.nodeType!==3||startOffset===0){startContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,true);}if(!format[0].inline||endContainer.nodeType!==3||endOffset===endContainer.nodeValue.length){endContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,false);}}if(format[0].selector&&format[0].expand!==false&&!format[0].inline){startContainer=findSelectorEndPoint(dom,format,rng,startContainer,'previousSibling');endContainer=findSelectorEndPoint(dom,format,rng,endContainer,'nextSibling');}if(format[0].block||format[0].selector){startContainer=findBlockEndPoint(editor,format,startContainer,'previousSibling');endContainer=findBlockEndPoint(editor,format,endContainer,'nextSibling');if(format[0].block){if(!dom.isBlock(startContainer)){startContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,true);}if(!dom.isBlock(endContainer)){endContainer=findParentContainer(dom,format,startContainer,startOffset,endContainer,endOffset,false);}}}if(startContainer.nodeType===1){startOffset=dom.nodeIndex(startContainer);startContainer=startContainer.parentNode;}if(endContainer.nodeType===1){endOffset=dom.nodeIndex(endContainer)+1;endContainer=endContainer.parentNode;}return{startContainer:startContainer,startOffset:startOffset,endContainer:endContainer,endOffset:endOffset};};var $_3cscnj2wjnlpaxau={expandRng:expandRng};var each$8=$_1q1txeljnlpawsa.each;var getEndChild=function(container,index){var childNodes=container.childNodes;index--;if(index>childNodes.length-1){index=childNodes.length-1;}else if(index<0){index=0;}return childNodes[index]||container;};var walk$2=function(dom,rng,callback){var startContainer=rng.startContainer;var startOffset=rng.startOffset;var endContainer=rng.endContainer;var endOffset=rng.endOffset;var ancestor;var startPoint;var endPoint;var node;var parent;var siblings;var nodes;nodes=dom.select('td[data-mce-selected],th[data-mce-selected]');if(nodes.length>0){each$8(nodes,function(node){callback([node]);});return;}var exclude=function(nodes){var node;node=nodes[0];if(node.nodeType===3&&node===startContainer&&startOffset>=node.nodeValue.length){nodes.splice(0,1);}node=nodes[nodes.length-1];if(endOffset===0&&nodes.length>0&&node===endContainer&&node.nodeType===3){nodes.splice(nodes.length-1,1);}return nodes;};var collectSiblings=function(node,name,endNode){var siblings=[];for(;node&&node!==endNode;node=node[name]){siblings.push(node);}return siblings;};var findEndPoint=function(node,root){do{if(node.parentNode===root){return node;}node=node.parentNode;}while(node);};var walkBoundary=function(startNode,endNode,next){var siblingName=next?'nextSibling':'previousSibling';for(node=startNode,parent=node.parentNode;node&&node!==endNode;node=parent){parent=node.parentNode;siblings=collectSiblings(node===startNode?node:node[siblingName],siblingName);if(siblings.length){if(!next){siblings.reverse();}callback(exclude(siblings));}}};if(startContainer.nodeType===1&&startContainer.hasChildNodes()){startContainer=startContainer.childNodes[startOffset];}if(endContainer.nodeType===1&&endContainer.hasChildNodes()){endContainer=getEndChild(endContainer,endOffset);}if(startContainer===endContainer){return callback(exclude([startContainer]));}ancestor=dom.findCommonAncestor(startContainer,endContainer);for(node=startContainer;node;node=node.parentNode){if(node===endContainer){return walkBoundary(startContainer,ancestor,true);}if(node===ancestor){break;}}for(node=endContainer;node;node=node.parentNode){if(node===startContainer){return walkBoundary(endContainer,ancestor);}if(node===ancestor){break;}}startPoint=findEndPoint(startContainer,ancestor)||startContainer;endPoint=findEndPoint(endContainer,ancestor)||endContainer;walkBoundary(startContainer,startPoint,true);siblings=collectSiblings(startPoint===startContainer?startPoint:startPoint.nextSibling,'nextSibling',endPoint===endContainer?endPoint.nextSibling:endPoint);if(siblings.length){callback(exclude(siblings));}walkBoundary(endContainer,endPoint);};var $_6wozuu3djnlpaxew={walk:walk$2};var zeroWidth=function(){return'\\uFEFF';};function NodeValue(is,name){var get=function(element){if(!is(element))throw new Error('Can only get '+name+' value of a '+name+' node');return getOption(element).getOr('');};var getOptionIE10=function(element){try{return getOptionSafe(element);}catch(e){return Option.none();}};var getOptionSafe=function(element){return is(element)?Option.from(element.dom().nodeValue):Option.none();};var browser=$_766rx4ojnlpawtd.detect().browser;var getOption=browser.isIE()&&browser.version.major===10?getOptionIE10:getOptionSafe;var set=function(element,value){if(!is(element))throw new Error('Can only set raw '+name+' value of a '+name+' node');element.dom().nodeValue=value;};return{get:get,getOption:getOption,set:set};}var api=NodeValue($_7u5fzs11jnlpawv6.isText,'text');var get$6=function(element){return api.get(element);};var getOption=function(element){return api.getOption(element);};var set$3=function(element,value){api.set(element,value);};var $_dzrxgg3gjnlpaxf6={get:get$6,getOption:getOption,set:set$3};var isZeroWidth=function(elem){return $_7u5fzs11jnlpawv6.isText(elem)&&$_dzrxgg3gjnlpaxf6.get(elem)===zeroWidth();};var context=function(editor,elem,wrapName,nodeName){return $_dr4ybh18jnlpawzt.parent(elem).fold(function(){return'skipping';},function(parent){if(nodeName==='br'||isZeroWidth(elem)){return'valid';}else if(isAnnotation(elem)){return'existing';}else if(isCaretNode(elem)){return'caret';}else if(!$_dlfh233cjnlpaxes.isValid(editor,wrapName,nodeName)||!$_dlfh233cjnlpaxes.isValid(editor,$_7u5fzs11jnlpawv6.name(parent),wrapName)){return'invalid-child';}else{return'valid';}});};var __rest=undefined&&undefined.__rest||function(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&&typeof Object.getOwnPropertySymbols==='function')for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++)if(e.indexOf(p[i])<0)t[p[i]]=s[p[i]];return t;};var shouldApplyToTrailingSpaces=function(rng){return rng.startContainer.nodeType===3&&rng.startContainer.nodeValue.length>=rng.startOffset&&rng.startContainer.nodeValue[rng.startOffset]==='\\xA0';};var applyWordGrab=function(editor,rng){var r=$_3cscnj2wjnlpaxau.expandRng(editor,rng,[{inline:true}],shouldApplyToTrailingSpaces(rng));rng.setStart(r.startContainer,r.startOffset);rng.setEnd(r.endContainer,r.endOffset);editor.selection.setRng(rng);};var makeAnnotation=function(eDoc,_a,annotationName,decorate){var _b=_a.uid,uid=_b===void 0?generate('mce-annotation'):_b,data=__rest(_a,['uid']);var master=Element$$1.fromTag('span',eDoc);$_fes8i223jnlpax5z.add(master,annotation());$_521j8z15jnlpawz7.set(master,''+dataAnnotationId(),uid);$_521j8z15jnlpawz7.set(master,''+dataAnnotation(),annotationName);var _c=decorate(uid,data),_d=_c.attributes,attributes=_d===void 0?{}:_d,_e=_c.classes,classes=_e===void 0?[]:_e;$_521j8z15jnlpawz7.setAll(master,attributes);$_6bet4b2hjnlpax8c.add(master,classes);return master;};var annotate=function(editor,rng,annotationName,decorate,data){var newWrappers=[];var master=makeAnnotation(editor.getDoc(),data,annotationName,decorate);var wrapper=Cell(Option.none());var finishWrapper=function(){wrapper.set(Option.none());};var getOrOpenWrapper=function(){return wrapper.get().getOrThunk(function(){var nu=$_5sdpl92ijnlpax8h.shallow(master);newWrappers.push(nu);wrapper.set(Option.some(nu));return nu;});};var processElements=function(elems){each(elems,processElement);};var processElement=function(elem){var ctx=context(editor,elem,'span',$_7u5fzs11jnlpawv6.name(elem));switch(ctx){case'invalid-child':{finishWrapper();var children=$_dr4ybh18jnlpawzt.children(elem);processElements(children);finishWrapper();break;}case'valid':{var w=getOrOpenWrapper();$_ag89ax1yjnlpax4x.wrap(elem,w);break;}case'skipping':case'existing':case'caret':}};var processNodes=function(nodes){var elems=map(nodes,Element$$1.fromDom);processElements(elems);};$_6wozuu3djnlpaxew.walk(editor.dom,rng,function(nodes){finishWrapper();processNodes(nodes);});return newWrappers;};var annotateWithBookmark=function(editor,name,settings,data){editor.undoManager.transact(function(){var initialRng=editor.selection.getRng();if(initialRng.collapsed){applyWordGrab(editor,initialRng);}if(editor.selection.getRng().collapsed){var wrapper=makeAnnotation(editor.getDoc(),data,name,settings.decorate);$_am4twv2jjnlpax8k.set(wrapper,'\\xA0');editor.selection.getRng().insertNode(wrapper.dom());editor.selection.select(wrapper.dom());}else{var bookmark=$_5l0mu32ljnlpax8x.getPersistentBookmark(editor.selection,false);var rng=editor.selection.getRng();annotate(editor,rng,name,settings.decorate,data);editor.selection.moveToBookmark(bookmark);}});};function Annotator(editor){var registry=create$1();setup$1(editor,registry);var changes=setup(editor,registry);return{register:function(name,settings){registry.register(name,settings);},annotate:function(name,data){registry.lookup(name).each(function(settings){annotateWithBookmark(editor,name,settings,data);});},annotationChanged:function(name,callback){changes.addListener(name,callback);},remove:function(name){identify(editor,Option.some(name)).each(function(_a){var elements=_a.elements;each(elements,$_azq8zm1wjnlpax4n.unwrap);});},getAll:function(name){var directory=findAll(editor,name);return map$2(directory,function(elems){return map(elems,function(elem){return elem.dom();});});}};}var hasOnlyOneChild=function(node){return node.firstChild&&node.firstChild===node.lastChild;};var isPaddingNode=function(node){return node.name==='br'||node.value==='\\xA0';};var isPaddedEmptyBlock=function(schema,node){var blockElements=schema.getBlockElements();return blockElements[node.name]&&hasOnlyOneChild(node)&&isPaddingNode(node.firstChild);};var isEmptyFragmentElement=function(schema,node){var nonEmptyElements=schema.getNonEmptyElements();return node&&(node.isEmpty(nonEmptyElements)||isPaddedEmptyBlock(schema,node));};var isListFragment=function(schema,fragment){var firstChild=fragment.firstChild;var lastChild=fragment.lastChild;if(firstChild&&firstChild.name==='meta'){firstChild=firstChild.next;}if(lastChild&&lastChild.attr('id')==='mce_marker'){lastChild=lastChild.prev;}if(isEmptyFragmentElement(schema,lastChild)){lastChild=lastChild.prev;}if(!firstChild||firstChild!==lastChild){return false;}return firstChild.name==='ul'||firstChild.name==='ol';};var cleanupDomFragment=function(domFragment){var firstChild=domFragment.firstChild;var lastChild=domFragment.lastChild;if(firstChild&&firstChild.nodeName==='META'){firstChild.parentNode.removeChild(firstChild);}if(lastChild&&lastChild.id==='mce_marker'){lastChild.parentNode.removeChild(lastChild);}return domFragment;};var toDomFragment=function(dom,serializer,fragment){var html=serializer.serialize(fragment);var domFragment=dom.createFragment(html);return cleanupDomFragment(domFragment);};var listItems$1=function(elm){return $_1q1txeljnlpawsa.grep(elm.childNodes,function(child){return child.nodeName==='LI';});};var isPadding=function(node){return node.data==='\\xA0'||$_fy28ei1rjnlpax2o.isBr(node);};var isListItemPadded=function(node){return node&&node.firstChild&&node.firstChild===node.lastChild&&isPadding(node.firstChild);};var isEmptyOrPadded=function(elm){return!elm.firstChild||isListItemPadded(elm);};var trimListItems=function(elms){return elms.length>0&&isEmptyOrPadded(elms[elms.length-1])?elms.slice(0,-1):elms;};var getParentLi=function(dom,node){var parentBlock=dom.getParent(node,dom.isBlock);return parentBlock&&parentBlock.nodeName==='LI'?parentBlock:null;};var isParentBlockLi=function(dom,node){return!!getParentLi(dom,node);};var getSplit=function(parentNode,rng){var beforeRng=rng.cloneRange();var afterRng=rng.cloneRange();beforeRng.setStartBefore(parentNode);afterRng.setEndAfter(parentNode);return[beforeRng.cloneContents(),afterRng.cloneContents()];};var findFirstIn=function(node,rootNode){var caretPos=CaretPosition$1.before(node);var caretWalker=CaretWalker(rootNode);var newCaretPos=caretWalker.next(caretPos);return newCaretPos?newCaretPos.toRange():null;};var findLastOf=function(node,rootNode){var caretPos=CaretPosition$1.after(node);var caretWalker=CaretWalker(rootNode);var newCaretPos=caretWalker.prev(caretPos);return newCaretPos?newCaretPos.toRange():null;};var insertMiddle=function(target,elms,rootNode,rng){var parts=getSplit(target,rng);var parentElm=target.parentNode;parentElm.insertBefore(parts[0],target);$_1q1txeljnlpawsa.each(elms,function(li){parentElm.insertBefore(li,target);});parentElm.insertBefore(parts[1],target);parentElm.removeChild(target);return findLastOf(elms[elms.length-1],rootNode);};var insertBefore=function(target,elms,rootNode){var parentElm=target.parentNode;$_1q1txeljnlpawsa.each(elms,function(elm){parentElm.insertBefore(elm,target);});return findFirstIn(target,rootNode);};var insertAfter=function(target,elms,rootNode,dom){dom.insertAfter(elms.reverse(),target);return findLastOf(elms[0],rootNode);};var insertAtCaret=function(serializer,dom,rng,fragment){var domFragment=toDomFragment(dom,serializer,fragment);var liTarget=getParentLi(dom,rng.startContainer);var liElms=trimListItems(listItems$1(domFragment.firstChild));var BEGINNING=1,END=2;var rootNode=dom.getRoot();var isAt=function(location){var caretPos=CaretPosition$1.fromRangeStart(rng);var caretWalker=CaretWalker(dom.getRoot());var newPos=location===BEGINNING?caretWalker.prev(caretPos):caretWalker.next(caretPos);return newPos?getParentLi(dom,newPos.getNode())!==liTarget:true;};if(isAt(BEGINNING)){return insertBefore(liTarget,liElms,rootNode);}else if(isAt(END)){return insertAfter(liTarget,liElms,rootNode,dom);}return insertMiddle(liTarget,liElms,rootNode,rng);};var $_64vm3ljnlpaxgp={isListFragment:isListFragment,insertAtCaret:insertAtCaret,isParentBlockLi:isParentBlockLi,trimListItems:trimListItems,listItems:listItems$1};var each$9=$_1q1txeljnlpawsa.each;var ElementUtils=function(dom){this.compare=function(node1,node2){if(node1.nodeName!==node2.nodeName){return false;}var getAttribs=function(node){var attribs={};each$9(dom.getAttribs(node),function(attr){var name=attr.nodeName.toLowerCase();if(name.indexOf('_')!==0&&name!=='style'&&name.indexOf('data-')!==0){attribs[name]=dom.getAttrib(node,name);}});return attribs;};var compareObjects=function(obj1,obj2){var value,name;for(name in obj1){if(obj1.hasOwnProperty(name)){value=obj2[name];if(typeof value==='undefined'){return false;}if(obj1[name]!==value){return false;}delete obj2[name];}}for(name in obj2){if(obj2.hasOwnProperty(name)){return false;}}return true;};if(!compareObjects(getAttribs(node1),getAttribs(node2))){return false;}if(!compareObjects(dom.parseStyle(dom.getAttrib(node1,'style')),dom.parseStyle(dom.getAttrib(node2,'style')))){return false;}return!$_43l8qj2xjnlpaxb1.isBookmarkNode(node1)&&!$_43l8qj2xjnlpaxb1.isBookmarkNode(node2);};};var getLastChildren=function(elm){var children=[];var rawNode=elm.dom();while(rawNode){children.push(Element$$1.fromDom(rawNode));rawNode=rawNode.lastChild;}return children;};var removeTrailingBr=function(elm){var allBrs=$_cmitir27jnlpax6e.descendants(elm,'br');var brs=filter(getLastChildren(elm).slice(-1),isBr);if(allBrs.length===brs.length){each(brs,$_azq8zm1wjnlpax4n.remove);}};var fillWithPaddingBr=function(elm){$_azq8zm1wjnlpax4n.empty(elm);$_ag89ax1yjnlpax4x.append(elm,Element$$1.fromHtml('<br data-mce-bogus=\"1\">'));};var isPaddingContents=function(elm){return $_7u5fzs11jnlpawv6.isText(elm)?$_dzrxgg3gjnlpaxf6.get(elm)==='\\xA0':isBr(elm);};var isPaddedElement=function(elm){return filter($_dr4ybh18jnlpawzt.children(elm),isPaddingContents).length===1;};var trimBlockTrailingBr=function(elm){$_dr4ybh18jnlpawzt.lastChild(elm).each(function(lastChild){$_dr4ybh18jnlpawzt.prevSibling(lastChild).each(function(lastChildPrevSibling){if(isBlock(elm)&&isBr(lastChild)&&isBlock(lastChildPrevSibling)){$_azq8zm1wjnlpax4n.remove(lastChild);}});});};var $_azhpc63njnlpaxgw={removeTrailingBr:removeTrailingBr,fillWithPaddingBr:fillWithPaddingBr,isPaddedElement:isPaddedElement,trimBlockTrailingBr:trimBlockTrailingBr};var makeMap$3=$_1q1txeljnlpawsa.makeMap;function Writer(settings){var html=[];var indent,indentBefore,indentAfter,encode,htmlOutput;settings=settings||{};indent=settings.indent;indentBefore=makeMap$3(settings.indent_before||'');indentAfter=makeMap$3(settings.indent_after||'');encode=$_bea7j51sjnlpax2u.getEncodeFunc(settings.entity_encoding||'raw',settings.entities);htmlOutput=settings.element_format==='html';return{start:function(name,attrs,empty){var i,l,attr,value;if(indent&&indentBefore[name]&&html.length>0){value=html[html.length-1];if(value.length>0&&value!=='\\n'){html.push('\\n');}}html.push('<',name);if(attrs){for(i=0,l=attrs.length;i<l;i++){attr=attrs[i];html.push(' ',attr.name,'=\"',encode(attr.value,true),'\"');}}if(!empty||htmlOutput){html[html.length]='>';}else{html[html.length]=' />';}if(empty&&indent&&indentAfter[name]&&html.length>0){value=html[html.length-1];if(value.length>0&&value!=='\\n'){html.push('\\n');}}},end:function(name){var value;html.push('</',name,'>');if(indent&&indentAfter[name]&&html.length>0){value=html[html.length-1];if(value.length>0&&value!=='\\n'){html.push('\\n');}}},text:function(text,raw){if(text.length>0){html[html.length]=raw?text:encode(text);}},cdata:function(text){html.push('<![CDATA[',text,']]>');},comment:function(text){html.push('<!--',text,'-->');},pi:function(name,text){if(text){html.push('<?',name,' ',encode(text),'?>');}else{html.push('<?',name,'?>');}if(indent){html.push('\\n');}},doctype:function(text){html.push('<!DOCTYPE',text,'>',indent?'\\n':'');},reset:function(){html.length=0;},getContent:function(){return html.join('').replace(/\\n$/,'');}};}function HtmlSerializer(settings,schema){if(schema===void 0){schema=Schema();}var writer=Writer(settings);settings=settings||{};settings.validate='validate'in settings?settings.validate:true;var serialize=function(node){var handlers,validate;validate=settings.validate;handlers={3:function(node){writer.text(node.value,node.raw);},8:function(node){writer.comment(node.value);},7:function(node){writer.pi(node.name,node.value);},10:function(node){writer.doctype(node.value);},4:function(node){writer.cdata(node.value);},11:function(node){if(node=node.firstChild){do{walk(node);}while(node=node.next);}}};writer.reset();var walk=function(node){var handler=handlers[node.type];var name,isEmpty,attrs,attrName,attrValue,sortedAttrs,i,l,elementRule;if(!handler){name=node.name;isEmpty=node.shortEnded;attrs=node.attributes;if(validate&&attrs&&attrs.length>1){sortedAttrs=[];sortedAttrs.map={};elementRule=schema.getElementRule(node.name);if(elementRule){for(i=0,l=elementRule.attributesOrder.length;i<l;i++){attrName=elementRule.attributesOrder[i];if(attrName in attrs.map){attrValue=attrs.map[attrName];sortedAttrs.map[attrName]=attrValue;sortedAttrs.push({name:attrName,value:attrValue});}}for(i=0,l=attrs.length;i<l;i++){attrName=attrs[i].name;if(!(attrName in sortedAttrs.map)){attrValue=attrs.map[attrName];sortedAttrs.map[attrName]=attrValue;sortedAttrs.push({name:attrName,value:attrValue});}}attrs=sortedAttrs;}}writer.start(node.name,attrs,isEmpty);if(!isEmpty){if(node=node.firstChild){do{walk(node);}while(node=node.next);}writer.end(name);}}else{handler(node);}};if(node.type===1&&!settings.inner){walk(node);}else{handlers[11](node);}return writer.getContent();};return{serialize:serialize};}var createRange$1=function(sc,so,ec,eo){var rng=document.createRange();rng.setStart(sc,so);rng.setEnd(ec,eo);return rng;};var normalizeBlockSelectionRange=function(rng){var startPos=CaretPosition$1.fromRangeStart(rng);var endPos=CaretPosition$1.fromRangeEnd(rng);var rootNode=rng.commonAncestorContainer;return $_32xcvk30jnlpaxbn.fromPosition(false,rootNode,endPos).map(function(newEndPos){if(!isInSameBlock(startPos,endPos,rootNode)&&isInSameBlock(startPos,newEndPos,rootNode)){return createRange$1(startPos.container(),startPos.offset(),newEndPos.container(),newEndPos.offset());}else{return rng;}}).getOr(rng);};var normalize=function(rng){return rng.collapsed?rng:normalizeBlockSelectionRange(rng);};var $_4fmn0j3qjnlpaxhi={normalize:normalize};var isAfterNbsp=function(container,offset){return $_fy28ei1rjnlpax2o.isText(container)&&container.nodeValue[offset-1]==='\\xA0';};var trimOrPadLeftRight=function(rng,html){var container,offset;container=rng.startContainer;offset=rng.startOffset;var hasSiblingText=function(siblingName){return container[siblingName]&&container[siblingName].nodeType===3;};if(container.nodeType===3){if(offset>0){html=html.replace(/^&nbsp;/,' ');}else if(!hasSiblingText('previousSibling')){html=html.replace(/^ /,'&nbsp;');}if(offset<container.length){html=html.replace(/&nbsp;(<br>|)$/,' ');}else if(!hasSiblingText('nextSibling')){html=html.replace(/(&nbsp;| )(<br>|)$/,'&nbsp;');}}return html;};var trimNbspAfterDeleteAndPadValue=function(rng,value){var container,offset;container=rng.startContainer;offset=rng.startOffset;if(container.nodeType===3&&rng.collapsed){if(container.data[offset]==='\\xA0'){container.deleteData(offset,1);if(!/[\\u00a0| ]$/.test(value)){value+=' ';}}else if(container.data[offset-1]==='\\xA0'){container.deleteData(offset-1,1);if(!/[\\u00a0| ]$/.test(value)){value=' '+value;}}}return value;};var isTableCell$2=$_fy28ei1rjnlpax2o.matchNodeNames('td th');var selectionSetContent=function(editor,content){var rng=editor.selection.getRng();var container=rng.startContainer;var offset=rng.startOffset;if(rng.collapsed&&isAfterNbsp(container,offset)&&$_fy28ei1rjnlpax2o.isText(container)){container.insertData(offset-1,' ');container.deleteData(offset,1);rng.setStart(container,offset);rng.setEnd(container,offset);editor.selection.setRng(rng);}editor.selection.setContent(content);};var validInsertion=function(editor,value,parentNode){if(parentNode.getAttribute('data-mce-bogus')==='all'){parentNode.parentNode.insertBefore(editor.dom.createFragment(value),parentNode);}else{var node=parentNode.firstChild;var node2=parentNode.lastChild;if(!node||node===node2&&node.nodeName==='BR'){editor.dom.setHTML(parentNode,value);}else{selectionSetContent(editor,value);}}};var trimBrsFromTableCell=function(dom,elm){Option.from(dom.getParent(elm,'td,th')).map(Element$$1.fromDom).each($_azhpc63njnlpaxgw.trimBlockTrailingBr);};var reduceInlineTextElements=function(editor,merge){var textInlineElements=editor.schema.getTextInlineElements();var dom=editor.dom;if(merge){var root_1=editor.getBody(),elementUtils_1=new ElementUtils(dom);$_1q1txeljnlpawsa.each(dom.select('*[data-mce-fragment]'),function(node){for(var testNode=node.parentNode;testNode&&testNode!==root_1;testNode=testNode.parentNode){if(textInlineElements[node.nodeName.toLowerCase()]&&elementUtils_1.compare(testNode,node)){dom.remove(node,true);}}});}};var markFragmentElements=function(fragment){var node=fragment;while(node=node.walk()){if(node.type===1){node.attr('data-mce-fragment','1');}}};var umarkFragmentElements=function(elm){$_1q1txeljnlpawsa.each(elm.getElementsByTagName('*'),function(elm){elm.removeAttribute('data-mce-fragment');});};var isPartOfFragment=function(node){return!!node.getAttribute('data-mce-fragment');};var canHaveChildren=function(editor,node){return node&&!editor.schema.getShortEndedElements()[node.nodeName];};var moveSelectionToMarker=function(editor,marker){var parentEditableFalseElm,parentBlock,nextRng;var dom=editor.dom,selection=editor.selection;var node,node2;var getContentEditableFalseParent=function(node){var root=editor.getBody();for(;node&&node!==root;node=node.parentNode){if(editor.dom.getContentEditable(node)==='false'){return node;}}return null;};if(!marker){return;}editor.selection.scrollIntoView(marker);parentEditableFalseElm=getContentEditableFalseParent(marker);if(parentEditableFalseElm){dom.remove(marker);selection.select(parentEditableFalseElm);return;}var rng=dom.createRng();node=marker.previousSibling;if(node&&node.nodeType===3){rng.setStart(node,node.nodeValue.length);if(!$_cseqobajnlpawll.ie){node2=marker.nextSibling;if(node2&&node2.nodeType===3){node.appendData(node2.data);node2.parentNode.removeChild(node2);}}}else{rng.setStartBefore(marker);rng.setEndBefore(marker);}var findNextCaretRng=function(rng){var caretPos=CaretPosition$1.fromRangeStart(rng);var caretWalker=CaretWalker(editor.getBody());caretPos=caretWalker.next(caretPos);if(caretPos){return caretPos.toRange();}};parentBlock=dom.getParent(marker,dom.isBlock);dom.remove(marker);if(parentBlock&&dom.isEmpty(parentBlock)){editor.$(parentBlock).empty();rng.setStart(parentBlock,0);rng.setEnd(parentBlock,0);if(!isTableCell$2(parentBlock)&&!isPartOfFragment(parentBlock)&&(nextRng=findNextCaretRng(rng))){rng=nextRng;dom.remove(parentBlock);}else{dom.add(parentBlock,dom.create('br',{'data-mce-bogus':'1'}));}}selection.setRng(rng);};var insertHtmlAtCaret=function(editor,value,details){var parser,serializer,parentNode,rootNode,fragment,args;var marker,rng,node,bookmarkHtml,merge;var selection=editor.selection,dom=editor.dom;if(/^ | $/.test(value)){value=trimOrPadLeftRight(selection.getRng(),value);}parser=editor.parser;merge=details.merge;serializer=HtmlSerializer({validate:editor.settings.validate},editor.schema);bookmarkHtml='<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>';args={content:value,format:'html',selection:true,paste:details.paste};args=editor.fire('BeforeSetContent',args);if(args.isDefaultPrevented()){editor.fire('SetContent',{content:args.content,format:'html',selection:true,paste:details.paste});return;}value=args.content;if(value.indexOf('{$caret}')===-1){value+='{$caret}';}value=value.replace(/\\{\\$caret\\}/,bookmarkHtml);rng=selection.getRng();var caretElement=rng.startContainer||(rng.parentElement?rng.parentElement():null);var body=editor.getBody();if(caretElement===body&&selection.isCollapsed()){if(dom.isBlock(body.firstChild)&&canHaveChildren(editor,body.firstChild)&&dom.isEmpty(body.firstChild)){rng=dom.createRng();rng.setStart(body.firstChild,0);rng.setEnd(body.firstChild,0);selection.setRng(rng);}}if(!selection.isCollapsed()){editor.selection.setRng($_4fmn0j3qjnlpaxhi.normalize(editor.selection.getRng()));editor.getDoc().execCommand('Delete',false,null);value=trimNbspAfterDeleteAndPadValue(editor.selection.getRng(),value);}parentNode=selection.getNode();var parserArgs={context:parentNode.nodeName.toLowerCase(),data:details.data,insert:true};fragment=parser.parse(value,parserArgs);if(details.paste===true&&$_64vm3ljnlpaxgp.isListFragment(editor.schema,fragment)&&$_64vm3ljnlpaxgp.isParentBlockLi(dom,parentNode)){rng=$_64vm3ljnlpaxgp.insertAtCaret(serializer,dom,editor.selection.getRng(),fragment);editor.selection.setRng(rng);editor.fire('SetContent',args);return;}markFragmentElements(fragment);node=fragment.lastChild;if(node.attr('id')==='mce_marker'){marker=node;for(node=node.prev;node;node=node.walk(true)){if(node.type===3||!dom.isBlock(node.name)){if(editor.schema.isValidChild(node.parent.name,'span')){node.parent.insert(marker,node,node.name==='br');}break;}}}editor._selectionOverrides.showBlockCaretContainer(parentNode);if(!parserArgs.invalid){value=serializer.serialize(fragment);validInsertion(editor,value,parentNode);}else{selectionSetContent(editor,bookmarkHtml);parentNode=selection.getNode();rootNode=editor.getBody();if(parentNode.nodeType===9){parentNode=node=rootNode;}else{node=parentNode;}while(node!==rootNode){parentNode=node;node=node.parentNode;}value=parentNode===rootNode?rootNode.innerHTML:dom.getOuterHTML(parentNode);value=serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return serializer.serialize(fragment);})));if(parentNode===rootNode){dom.setHTML(rootNode,value);}else{dom.setOuterHTML(parentNode,value);}}reduceInlineTextElements(editor,merge);moveSelectionToMarker(editor,dom.get('mce_marker'));umarkFragmentElements(editor.getBody());trimBrsFromTableCell(editor.dom,editor.selection.getStart());editor.fire('SetContent',args);editor.addVisual();};var processValue=function(value){var details;if(typeof value!=='string'){details=$_1q1txeljnlpawsa.extend({paste:value.paste,data:{paste:value.paste}},value);return{content:value.content,details:details};}return{content:value,details:{}};};var insertAtCaret$1=function(editor,value){var result=processValue(value);insertHtmlAtCaret(editor,result.content,result.details);};var $_f55bk53kjnlpaxge={insertAtCaret:insertAtCaret$1};var sectionResult=Immutable('sections','settings');var detection=$_766rx4ojnlpawtd.detect();var isTouch=detection.deviceType.isTouch();var mobilePlugins=['lists','autolink','autosave'];var defaultMobileSettings={theme:'mobile'};var normalizePlugins=function(plugins){var pluginNames=isArray(plugins)?plugins.join(' '):plugins;var trimmedPlugins=map(isString(pluginNames)?pluginNames.split(' '):[],trim$2);return filter(trimmedPlugins,function(item){return item.length>0;});};var filterMobilePlugins=function(plugins){return filter(plugins,curry(contains,mobilePlugins));};var extractSections=function(keys$$1,settings){var result=bifilter(settings,function(value,key){return contains(keys$$1,key);});return sectionResult(result.t,result.f);};var getSection=function(sectionResult,name,defaults){var sections=sectionResult.sections();var sectionSettings=sections.hasOwnProperty(name)?sections[name]:{};return $_1q1txeljnlpawsa.extend({},defaults,sectionSettings);};var hasSection=function(sectionResult,name){return sectionResult.sections().hasOwnProperty(name);};var getDefaultSettings=function(id,documentBaseUrl,editor){return{id:id,theme:'modern',delta_width:0,delta_height:0,popup_css:'',plugins:'',document_base_url:documentBaseUrl,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:'<!DOCTYPE html>',visual:true,font_size_style_values:'xx-small,x-small,small,medium,large,x-large,xx-large',font_size_legacy_values:'xx-small,small,medium,large,x-large,xx-large,300%',forced_root_block:'p',hidden_input:true,render_ui:true,indentation:'30px',inline_styles:true,convert_fonts_to_spans:true,indent:'simple',indent_before:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',indent_after:'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,'+'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',entity_encoding:'named',url_converter:editor.convertURL,url_converter_scope:editor,ie7_compat:true};};var getExternalPlugins=function(overrideSettings,settings){var userDefinedExternalPlugins=settings.external_plugins?settings.external_plugins:{};if(overrideSettings&&overrideSettings.external_plugins){return $_1q1txeljnlpawsa.extend({},overrideSettings.external_plugins,userDefinedExternalPlugins);}else{return userDefinedExternalPlugins;}};var combinePlugins=function(forcedPlugins,plugins){return[].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));};var processPlugins=function(isTouchDevice,sectionResult,defaultOverrideSettings,settings){var forcedPlugins=normalizePlugins(defaultOverrideSettings.forced_plugins);var plugins=normalizePlugins(settings.plugins);var platformPlugins=isTouchDevice&&hasSection(sectionResult,'mobile')?filterMobilePlugins(plugins):plugins;var combinedPlugins=combinePlugins(forcedPlugins,platformPlugins);return $_1q1txeljnlpawsa.extend(settings,{plugins:combinedPlugins.join(' ')});};var isOnMobile=function(isTouchDevice,sectionResult){var isInline=sectionResult.settings().inline;return isTouchDevice&&hasSection(sectionResult,'mobile')&&!isInline;};var combineSettings=function(isTouchDevice,defaultSettings,defaultOverrideSettings,settings){var sectionResult=extractSections(['mobile'],settings);var extendedSettings=$_1q1txeljnlpawsa.extend(defaultSettings,defaultOverrideSettings,sectionResult.settings(),isOnMobile(isTouchDevice,sectionResult)?getSection(sectionResult,'mobile',defaultMobileSettings):{},{validate:true,content_editable:sectionResult.settings().inline,external_plugins:getExternalPlugins(defaultOverrideSettings,sectionResult.settings())});return processPlugins(isTouchDevice,sectionResult,defaultOverrideSettings,extendedSettings);};var getEditorSettings=function(editor,id,documentBaseUrl,defaultOverrideSettings,settings){var defaultSettings=getDefaultSettings(id,documentBaseUrl,editor);return combineSettings(isTouch,defaultSettings,defaultOverrideSettings,settings);};var getFiltered=function(predicate,editor,name){return Option.from(editor.settings[name]).filter(predicate);};var getString=curry(getFiltered,isString);var getParamObject=function(value){var output={};if(typeof value==='string'){each(value.indexOf('=')>0?value.split(/[;,](?![^=;,]*(?:[;,]|$))/):value.split(','),function(val){var arr=val.split('=');if(arr.length>1){output[$_1q1txeljnlpawsa.trim(arr[0])]=$_1q1txeljnlpawsa.trim(arr[1]);}else{output[$_1q1txeljnlpawsa.trim(arr[0])]=$_1q1txeljnlpawsa.trim(arr);}});}else{output=value;}return output;};var isArrayOf=function(p){return function(a){return isArray(a)&&forall(a,p);};};var getParam=function(editor,name,defaultVal,type){var value=name in editor.settings?editor.settings[name]:defaultVal;if(type==='hash'){return getParamObject(value);}else if(type==='string'){return getFiltered(isString,editor,name).getOr(defaultVal);}else if(type==='number'){return getFiltered(isNumber,editor,name).getOr(defaultVal);}else if(type==='boolean'){return getFiltered(isBoolean,editor,name).getOr(defaultVal);}else if(type==='object'){return getFiltered(isObject,editor,name).getOr(defaultVal);}else if(type==='array'){return getFiltered(isArray,editor,name).getOr(defaultVal);}else if(type==='string[]'){return getFiltered(isArrayOf(isString),editor,name).getOr(defaultVal);}else if(type==='function'){return getFiltered(isFunction,editor,name).getOr(defaultVal);}else{return value;}};var strongRtl=/[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;var hasStrongRtl=function(text){return strongRtl.test(text);};var isInlineTarget=function(editor,elm){var selector=getString(editor,'inline_boundaries_selector').getOr('a[href],code');return $_d8v5lf1gjnlpax0y.is(Element$$1.fromDom(elm),selector);};var isRtl=function(element){return DOMUtils$1.DOM.getStyle(element,'direction',true)==='rtl'||hasStrongRtl(element.textContent);};var findInlineParents=function(isInlineTarget,rootNode,pos){return filter(DOMUtils$1.DOM.getParents(pos.container(),'*',rootNode),isInlineTarget);};var findRootInline=function(isInlineTarget,rootNode,pos){var parents=findInlineParents(isInlineTarget,rootNode,pos);return Option.from(parents[parents.length-1]);};var hasSameParentBlock=function(rootNode,node1,node2){var block1=getParentBlock(node1,rootNode);var block2=getParentBlock(node2,rootNode);return block1&&block1===block2;};var isAtZwsp=function(pos){return isBeforeInline(pos)||isAfterInline(pos);};var normalizePosition=function(forward,pos){var container=pos.container(),offset=pos.offset();if(forward){if(isCaretContainerInline(container)){if($_fy28ei1rjnlpax2o.isText(container.nextSibling)){return CaretPosition$1(container.nextSibling,0);}else{return CaretPosition$1.after(container);}}else{return isBeforeInline(pos)?CaretPosition$1(container,offset+1):pos;}}else{if(isCaretContainerInline(container)){if($_fy28ei1rjnlpax2o.isText(container.previousSibling)){return CaretPosition$1(container.previousSibling,container.previousSibling.data.length);}else{return CaretPosition$1.before(container);}}else{return isAfterInline(pos)?CaretPosition$1(container,offset-1):pos;}}};var normalizeForwards=curry(normalizePosition,true);var normalizeBackwards=curry(normalizePosition,false);var $_955v2u3wjnlpaxit={isInlineTarget:isInlineTarget,findRootInline:findRootInline,isRtl:isRtl,isAtZwsp:isAtZwsp,normalizePosition:normalizePosition,normalizeForwards:normalizeForwards,normalizeBackwards:normalizeBackwards,hasSameParentBlock:hasSameParentBlock};var isBeforeRoot=function(rootNode){return function(elm){return $_5h7cor1ejnlpax0k.eq(rootNode,Element$$1.fromDom(elm.dom().parentNode));};};var getParentBlock$1=function(rootNode,elm){return $_5h7cor1ejnlpax0k.contains(rootNode,elm)?$_cs5qmd2ajnlpax6v.closest(elm,function(element){return isTextBlock(element)||isListItem(element);},isBeforeRoot(rootNode)):Option.none();};var placeCaretInEmptyBody=function(editor){var body=editor.getBody();var node=body.firstChild&&editor.dom.isBlock(body.firstChild)?body.firstChild:body;editor.selection.setCursorLocation(node,0);};var paddEmptyBody=function(editor){if(editor.dom.isEmpty(editor.getBody())){editor.setContent('');placeCaretInEmptyBody(editor);}};var willDeleteLastPositionInElement=function(forward,fromPos,elm){return liftN([$_32xcvk30jnlpaxbn.firstPositionIn(elm),$_32xcvk30jnlpaxbn.lastPositionIn(elm)],function(firstPos,lastPos){var normalizedFirstPos=$_955v2u3wjnlpaxit.normalizePosition(true,firstPos);var normalizedLastPos=$_955v2u3wjnlpaxit.normalizePosition(false,lastPos);var normalizedFromPos=$_955v2u3wjnlpaxit.normalizePosition(false,fromPos);if(forward){return $_32xcvk30jnlpaxbn.nextPosition(elm,normalizedFromPos).map(function(nextPos){return nextPos.isEqual(normalizedLastPos)&&fromPos.isEqual(normalizedFirstPos);}).getOr(false);}else{return $_32xcvk30jnlpaxbn.prevPosition(elm,normalizedFromPos).map(function(prevPos){return prevPos.isEqual(normalizedFirstPos)&&fromPos.isEqual(normalizedLastPos);}).getOr(false);}}).getOr(true);};var $_dfzzw73vjnlpaxik={getParentBlock:getParentBlock$1,paddEmptyBody:paddEmptyBody,willDeleteLastPositionInElement:willDeleteLastPositionInElement};var any=function(selector){return $_2kbu29jnlpax6t.first(selector).isSome();};var ancestor$2=function(scope,selector,isRoot){return $_2kbu29jnlpax6t.ancestor(scope,selector,isRoot).isSome();};var sibling$3=function(scope,selector){return $_2kbu29jnlpax6t.sibling(scope,selector).isSome();};var child$3=function(scope,selector){return $_2kbu29jnlpax6t.child(scope,selector).isSome();};var descendant$2=function(scope,selector){return $_2kbu29jnlpax6t.descendant(scope,selector).isSome();};var closest$2=function(scope,selector,isRoot){return $_2kbu29jnlpax6t.closest(scope,selector,isRoot).isSome();};var $_1kxnjb40jnlpaxjq={any:any,ancestor:ancestor$2,sibling:sibling$3,child:child$3,descendant:descendant$2,closest:closest$2};var hasWhitespacePreserveParent=function(rootNode,node){var rootElement=Element$$1.fromDom(rootNode);var startNode=Element$$1.fromDom(node);return $_1kxnjb40jnlpaxjq.ancestor(startNode,'pre,code',curry($_5h7cor1ejnlpax0k.eq,rootElement));};var isWhitespace=function(rootNode,node){return $_fy28ei1rjnlpax2o.isText(node)&&/^[ \\t\\r\\n]*$/.test(node.data)&&hasWhitespacePreserveParent(rootNode,node)===false;};var isNamedAnchor=function(node){return $_fy28ei1rjnlpax2o.isElement(node)&&node.nodeName==='A'&&node.hasAttribute('name');};var isContent=function(rootNode,node){return isCaretCandidate(node)&&isWhitespace(rootNode,node)===false||isNamedAnchor(node)||isBookmark(node);};var isBookmark=$_fy28ei1rjnlpax2o.hasAttribute('data-mce-bookmark');var isBogus$2=$_fy28ei1rjnlpax2o.hasAttribute('data-mce-bogus');var isBogusAll$1=$_fy28ei1rjnlpax2o.hasAttributeValue('data-mce-bogus','all');var isEmptyNode=function(targetNode){var walker,node,brCount=0;if(isContent(targetNode,targetNode)){return false;}else{node=targetNode.firstChild;if(!node){return true;}walker=new TreeWalker(node,targetNode);do{if(isBogusAll$1(node)){node=walker.next(true);continue;}if(isBogus$2(node)){node=walker.next();continue;}if($_fy28ei1rjnlpax2o.isBr(node)){brCount++;node=walker.next();continue;}if(isContent(targetNode,node)){return false;}node=walker.next();}while(node);return brCount<=1;}};var isEmpty$1=function(elm){return isEmptyNode(elm.dom());};var $_czpaaj3zjnlpaxjj={isEmpty:isEmpty$1};var BlockPosition=Immutable('block','position');var BlockBoundary=Immutable('from','to');var getBlockPosition=function(rootNode,pos){var rootElm=Element$$1.fromDom(rootNode);var containerElm=Element$$1.fromDom(pos.container());return $_dfzzw73vjnlpaxik.getParentBlock(rootElm,containerElm).map(function(block){return BlockPosition(block,pos);});};var isDifferentBlocks=function(blockBoundary){return $_5h7cor1ejnlpax0k.eq(blockBoundary.from().block(),blockBoundary.to().block())===false;};var hasSameParent=function(blockBoundary){return $_dr4ybh18jnlpawzt.parent(blockBoundary.from().block()).bind(function(parent1){return $_dr4ybh18jnlpawzt.parent(blockBoundary.to().block()).filter(function(parent2){return $_5h7cor1ejnlpax0k.eq(parent1,parent2);});}).isSome();};var isEditable=function(blockBoundary){return $_fy28ei1rjnlpax2o.isContentEditableFalse(blockBoundary.from().block())===false&&$_fy28ei1rjnlpax2o.isContentEditableFalse(blockBoundary.to().block())===false;};var skipLastBr=function(rootNode,forward,blockPosition){if($_fy28ei1rjnlpax2o.isBr(blockPosition.position().getNode())&&$_czpaaj3zjnlpaxjj.isEmpty(blockPosition.block())===false){return $_32xcvk30jnlpaxbn.positionIn(false,blockPosition.block().dom()).bind(function(lastPositionInBlock){if(lastPositionInBlock.isEqual(blockPosition.position())){return $_32xcvk30jnlpaxbn.fromPosition(forward,rootNode,lastPositionInBlock).bind(function(to){return getBlockPosition(rootNode,to);});}else{return Option.some(blockPosition);}}).getOr(blockPosition);}else{return blockPosition;}};var readFromRange=function(rootNode,forward,rng){var fromBlockPos=getBlockPosition(rootNode,CaretPosition$1.fromRangeStart(rng));var toBlockPos=fromBlockPos.bind(function(blockPos){return $_32xcvk30jnlpaxbn.fromPosition(forward,rootNode,blockPos.position()).bind(function(to){return getBlockPosition(rootNode,to).map(function(blockPos){return skipLastBr(rootNode,forward,blockPos);});});});return liftN([fromBlockPos,toBlockPos],BlockBoundary).filter(function(blockBoundary){return isDifferentBlocks(blockBoundary)&&hasSameParent(blockBoundary)&&isEditable(blockBoundary);});};var read$1=function(rootNode,forward,rng){return rng.collapsed?readFromRange(rootNode,forward,rng):Option.none();};var $_5nfp373ujnlpaxi8={read:read$1};var dropLast=function(xs){return xs.slice(0,-1);};var parentsUntil$1=function(startNode,rootElm,predicate){if($_5h7cor1ejnlpax0k.contains(rootElm,startNode)){return dropLast($_dr4ybh18jnlpawzt.parents(startNode,function(elm){return predicate(elm)||$_5h7cor1ejnlpax0k.eq(elm,rootElm);}));}else{return[];}};var parents$1=function(startNode,rootElm){return parentsUntil$1(startNode,rootElm,constant(false));};var parentsAndSelf=function(startNode,rootElm){return[startNode].concat(parents$1(startNode,rootElm));};var $_4b88sj42jnlpaxkd={parentsUntil:parentsUntil$1,parents:parents$1,parentsAndSelf:parentsAndSelf};var getChildrenUntilBlockBoundary=function(block){var children=$_dr4ybh18jnlpawzt.children(block);return findIndex(children,isBlock).fold(function(){return children;},function(index){return children.slice(0,index);});};var extractChildren=function(block){var children=getChildrenUntilBlockBoundary(block);each(children,$_azq8zm1wjnlpax4n.remove);return children;};var removeEmptyRoot=function(rootNode,block){var parents=$_4b88sj42jnlpaxkd.parentsAndSelf(block,rootNode);return find(parents.reverse(),$_czpaaj3zjnlpaxjj.isEmpty).each($_azq8zm1wjnlpax4n.remove);};var isEmptyBefore=function(el){return filter($_dr4ybh18jnlpawzt.prevSiblings(el),function(el){return!$_czpaaj3zjnlpaxjj.isEmpty(el);}).length===0;};var nestedBlockMerge=function(rootNode,fromBlock,toBlock,insertionPoint){if($_czpaaj3zjnlpaxjj.isEmpty(toBlock)){$_azhpc63njnlpaxgw.fillWithPaddingBr(toBlock);return $_32xcvk30jnlpaxbn.firstPositionIn(toBlock.dom());}if(isEmptyBefore(insertionPoint)&&$_czpaaj3zjnlpaxjj.isEmpty(fromBlock)){$_ag89ax1yjnlpax4x.before(insertionPoint,Element$$1.fromTag('br'));}var position=$_32xcvk30jnlpaxbn.prevPosition(toBlock.dom(),CaretPosition$1.before(insertionPoint.dom()));each(extractChildren(fromBlock),function(child){$_ag89ax1yjnlpax4x.before(insertionPoint,child);});removeEmptyRoot(rootNode,fromBlock);return position;};var sidelongBlockMerge=function(rootNode,fromBlock,toBlock){if($_czpaaj3zjnlpaxjj.isEmpty(toBlock)){$_azq8zm1wjnlpax4n.remove(toBlock);if($_czpaaj3zjnlpaxjj.isEmpty(fromBlock)){$_azhpc63njnlpaxgw.fillWithPaddingBr(fromBlock);}return $_32xcvk30jnlpaxbn.firstPositionIn(fromBlock.dom());}var position=$_32xcvk30jnlpaxbn.lastPositionIn(toBlock.dom());each(extractChildren(fromBlock),function(child){$_ag89ax1yjnlpax4x.append(toBlock,child);});removeEmptyRoot(rootNode,fromBlock);return position;};var findInsertionPoint=function(toBlock,block){var parentsAndSelf=$_4b88sj42jnlpaxkd.parentsAndSelf(block,toBlock);return Option.from(parentsAndSelf[parentsAndSelf.length-1]);};var getInsertionPoint=function(fromBlock,toBlock){return $_5h7cor1ejnlpax0k.contains(toBlock,fromBlock)?findInsertionPoint(toBlock,fromBlock):Option.none();};var trimBr=function(first,block){$_32xcvk30jnlpaxbn.positionIn(first,block.dom()).map(function(position){return position.getNode();}).map(Element$$1.fromDom).filter(isBr).each($_azq8zm1wjnlpax4n.remove);};var mergeBlockInto=function(rootNode,fromBlock,toBlock){trimBr(true,fromBlock);trimBr(false,toBlock);return getInsertionPoint(fromBlock,toBlock).fold(curry(sidelongBlockMerge,rootNode,fromBlock,toBlock),curry(nestedBlockMerge,rootNode,fromBlock,toBlock));};var mergeBlocks=function(rootNode,forward,block1,block2){return forward?mergeBlockInto(rootNode,block2,block1):mergeBlockInto(rootNode,block1,block2);};var $_dkwg7o41jnlpaxk0={mergeBlocks:mergeBlocks};var backspaceDelete=function(editor,forward){var position;var rootNode=Element$$1.fromDom(editor.getBody());position=$_5nfp373ujnlpaxi8.read(rootNode.dom(),forward,editor.selection.getRng()).bind(function(blockBoundary){return $_dkwg7o41jnlpaxk0.mergeBlocks(rootNode,forward,blockBoundary.from().block(),blockBoundary.to().block());});position.each(function(pos){editor.selection.setRng(pos.toRange());});return position.isSome();};var $_3n8adg3tjnlpaxi5={backspaceDelete:backspaceDelete};var deleteRangeMergeBlocks=function(rootNode,selection){var rng=selection.getRng();return liftN([$_dfzzw73vjnlpaxik.getParentBlock(rootNode,Element$$1.fromDom(rng.startContainer)),$_dfzzw73vjnlpaxik.getParentBlock(rootNode,Element$$1.fromDom(rng.endContainer))],function(block1,block2){if($_5h7cor1ejnlpax0k.eq(block1,block2)===false){rng.deleteContents();$_dkwg7o41jnlpaxk0.mergeBlocks(rootNode,true,block1,block2).each(function(pos){selection.setRng(pos.toRange());});return true;}else{return false;}}).getOr(false);};var isRawNodeInTable=function(root,rawNode){var node=Element$$1.fromDom(rawNode);var isRoot=curry($_5h7cor1ejnlpax0k.eq,root);return $_cs5qmd2ajnlpax6v.ancestor(node,isTableCell,isRoot).isSome();};var isSelectionInTable=function(root,rng){return isRawNodeInTable(root,rng.startContainer)||isRawNodeInTable(root,rng.endContainer);};var isEverythingSelected=function(root,rng){var noPrevious=$_32xcvk30jnlpaxbn.prevPosition(root.dom(),CaretPosition$1.fromRangeStart(rng)).isNone();var noNext=$_32xcvk30jnlpaxbn.nextPosition(root.dom(),CaretPosition$1.fromRangeEnd(rng)).isNone();return!isSelectionInTable(root,rng)&&noPrevious&&noNext;};var emptyEditor=function(editor){editor.setContent('');editor.selection.setCursorLocation();return true;};var deleteRange=function(editor){var rootNode=Element$$1.fromDom(editor.getBody());var rng=editor.selection.getRng();return isEverythingSelected(rootNode,rng)?emptyEditor(editor):deleteRangeMergeBlocks(rootNode,editor.selection);};var backspaceDelete$1=function(editor,forward){return editor.selection.isCollapsed()?false:deleteRange(editor);};var $_f5evyu43jnlpaxki={backspaceDelete:backspaceDelete$1};var generate$1=function(cases){if(!isArray(cases)){throw new Error('cases must be an array');}if(cases.length===0){throw new Error('there must be at least one case');}var constructors=[];var adt={};each(cases,function(acase,count){var keys$$1=keys(acase);if(keys$$1.length!==1){throw new Error('one and only one name per case');}var key=keys$$1[0];var value=acase[key];if(adt[key]!==undefined){throw new Error('duplicate key detected:'+key);}else if(key==='cata'){throw new Error('cannot have a case named cata (sorry)');}else if(!isArray(value)){throw new Error('case arguments must be an array');}constructors.push(key);adt[key]=function(){var argLength=arguments.length;if(argLength!==value.length){throw new Error('Wrong number of arguments to case '+key+'. Expected '+value.length+' ('+value+'), got '+argLength);}var args=new Array(argLength);for(var i=0;i<args.length;i++)args[i]=arguments[i];var match=function(branches){var branchKeys=keys(branches);if(constructors.length!==branchKeys.length){throw new Error('Wrong number of arguments to match. Expected: '+constructors.join(',')+'\\nActual: '+branchKeys.join(','));}var allReqd=forall(constructors,function(reqKey){return contains(branchKeys,reqKey);});if(!allReqd)throw new Error('Not all branches were specified when using match. Specified: '+branchKeys.join(', ')+'\\nRequired: '+constructors.join(', '));return branches[key].apply(null,args);};return{fold:function(){if(arguments.length!==cases.length){throw new Error('Wrong number of arguments to fold. Expected '+cases.length+', got '+arguments.length);}var target=arguments[count];return target.apply(null,args);},match:match,log:function(label){console.log(label,{constructors:constructors,constructor:key,params:args});}};};});return adt;};var Adt={generate:generate$1};var isCompoundElement=function(node){return isTableCell(Element$$1.fromDom(node))||isListItem(Element$$1.fromDom(node));};var DeleteAction=Adt.generate([{remove:['element']},{moveToElement:['element']},{moveToPosition:['position']}]);var isAtContentEditableBlockCaret=function(forward,from){var elm=from.getNode(forward===false);var caretLocation=forward?'after':'before';return $_fy28ei1rjnlpax2o.isElement(elm)&&elm.getAttribute('data-mce-caret')===caretLocation;};var isDeleteFromCefDifferentBlocks=function(root,forward,from,to){var inSameBlock=function(elm){return isInline(Element$$1.fromDom(elm))&&!isInSameBlock(from,to,root);};return getRelativeCefElm(!forward,from).fold(function(){return getRelativeCefElm(forward,to).fold(constant(false),inSameBlock);},inSameBlock);};var deleteEmptyBlockOrMoveToCef=function(root,forward,from,to){var toCefElm=to.getNode(forward===false);return $_dfzzw73vjnlpaxik.getParentBlock(Element$$1.fromDom(root),Element$$1.fromDom(from.getNode())).map(function(blockElm){return $_czpaaj3zjnlpaxjj.isEmpty(blockElm)?DeleteAction.remove(blockElm.dom()):DeleteAction.moveToElement(toCefElm);}).orThunk(function(){return Option.some(DeleteAction.moveToElement(toCefElm));});};var findCefPosition=function(root,forward,from){return $_32xcvk30jnlpaxbn.fromPosition(forward,root,from).bind(function(to){if(isCompoundElement(to.getNode())){return Option.none();}else if(isDeleteFromCefDifferentBlocks(root,forward,from,to)){return Option.none();}else if(forward&&$_fy28ei1rjnlpax2o.isContentEditableFalse(to.getNode())){return deleteEmptyBlockOrMoveToCef(root,forward,from,to);}else if(forward===false&&$_fy28ei1rjnlpax2o.isContentEditableFalse(to.getNode(true))){return deleteEmptyBlockOrMoveToCef(root,forward,from,to);}else if(forward&&isAfterContentEditableFalse(from)){return Option.some(DeleteAction.moveToPosition(to));}else if(forward===false&&isBeforeContentEditableFalse(from)){return Option.some(DeleteAction.moveToPosition(to));}else{return Option.none();}});};var getContentEditableBlockAction=function(forward,elm){if(forward&&$_fy28ei1rjnlpax2o.isContentEditableFalse(elm.nextSibling)){return Option.some(DeleteAction.moveToElement(elm.nextSibling));}else if(forward===false&&$_fy28ei1rjnlpax2o.isContentEditableFalse(elm.previousSibling)){return Option.some(DeleteAction.moveToElement(elm.previousSibling));}else{return Option.none();}};var skipMoveToActionFromInlineCefToContent=function(root,from,deleteAction){return deleteAction.fold(function(elm){return Option.some(DeleteAction.remove(elm));},function(elm){return Option.some(DeleteAction.moveToElement(elm));},function(to){if(isInSameBlock(from,to,root)){return Option.none();}else{return Option.some(DeleteAction.moveToPosition(to));}});};var getContentEditableAction=function(root,forward,from){if(isAtContentEditableBlockCaret(forward,from)){return getContentEditableBlockAction(forward,from.getNode(forward===false)).fold(function(){return findCefPosition(root,forward,from);},Option.some);}else{return findCefPosition(root,forward,from).bind(function(deleteAction){return skipMoveToActionFromInlineCefToContent(root,from,deleteAction);});}};var read$2=function(root,forward,rng){var normalizedRange=normalizeRange(forward?1:-1,root,rng);var from=CaretPosition$1.fromRangeStart(normalizedRange);if(forward===false&&isAfterContentEditableFalse(from)){return Option.some(DeleteAction.remove(from.getNode(true)));}else if(forward&&isBeforeContentEditableFalse(from)){return Option.some(DeleteAction.remove(from.getNode()));}else{return getContentEditableAction(root,forward,from);}};var needsReposition=function(pos,elm){var container=pos.container();var offset=pos.offset();return CaretPosition$1.isTextPosition(pos)===false&&container===elm.parentNode&&offset>CaretPosition$1.before(elm).offset();};var reposition=function(elm,pos){return needsReposition(pos,elm)?CaretPosition$1(pos.container(),pos.offset()-1):pos;};var beforeOrStartOf=function(node){return $_fy28ei1rjnlpax2o.isText(node)?CaretPosition$1(node,0):CaretPosition$1.before(node);};var afterOrEndOf=function(node){return $_fy28ei1rjnlpax2o.isText(node)?CaretPosition$1(node,node.data.length):CaretPosition$1.after(node);};var getPreviousSiblingCaretPosition=function(elm){if(isCaretCandidate(elm.previousSibling)){return Option.some(afterOrEndOf(elm.previousSibling));}else{return elm.previousSibling?$_32xcvk30jnlpaxbn.lastPositionIn(elm.previousSibling):Option.none();}};var getNextSiblingCaretPosition=function(elm){if(isCaretCandidate(elm.nextSibling)){return Option.some(beforeOrStartOf(elm.nextSibling));}else{return elm.nextSibling?$_32xcvk30jnlpaxbn.firstPositionIn(elm.nextSibling):Option.none();}};var findCaretPositionBackwardsFromElm=function(rootElement,elm){var startPosition=CaretPosition$1.before(elm.previousSibling?elm.previousSibling:elm.parentNode);return $_32xcvk30jnlpaxbn.prevPosition(rootElement,startPosition).fold(function(){return $_32xcvk30jnlpaxbn.nextPosition(rootElement,CaretPosition$1.after(elm));},Option.some);};var findCaretPositionForwardsFromElm=function(rootElement,elm){return $_32xcvk30jnlpaxbn.nextPosition(rootElement,CaretPosition$1.after(elm)).fold(function(){return $_32xcvk30jnlpaxbn.prevPosition(rootElement,CaretPosition$1.before(elm));},Option.some);};var findCaretPositionBackwards=function(rootElement,elm){return getPreviousSiblingCaretPosition(elm).orThunk(function(){return getNextSiblingCaretPosition(elm);}).orThunk(function(){return findCaretPositionBackwardsFromElm(rootElement,elm);});};var findCaretPositionForward=function(rootElement,elm){return getNextSiblingCaretPosition(elm).orThunk(function(){return getPreviousSiblingCaretPosition(elm);}).orThunk(function(){return findCaretPositionForwardsFromElm(rootElement,elm);});};var findCaretPosition$1=function(forward,rootElement,elm){return forward?findCaretPositionForward(rootElement,elm):findCaretPositionBackwards(rootElement,elm);};var findCaretPosOutsideElmAfterDelete=function(forward,rootElement,elm){return findCaretPosition$1(forward,rootElement,elm).map(curry(reposition,elm));};var setSelection=function(editor,forward,pos){pos.fold(function(){editor.focus();},function(pos){editor.selection.setRng(pos.toRange(),forward);});};var eqRawNode=function(rawNode){return function(elm){return elm.dom()===rawNode;};};var isBlock$2=function(editor,elm){return elm&&editor.schema.getBlockElements().hasOwnProperty($_7u5fzs11jnlpawv6.name(elm));};var paddEmptyBlock=function(elm){if($_czpaaj3zjnlpaxjj.isEmpty(elm)){var br=Element$$1.fromHtml('<br data-mce-bogus=\"1\">');$_azq8zm1wjnlpax4n.empty(elm);$_ag89ax1yjnlpax4x.append(elm,br);return Option.some(CaretPosition$1.before(br.dom()));}else{return Option.none();}};var deleteNormalized=function(elm,afterDeletePosOpt){return liftN([$_dr4ybh18jnlpawzt.prevSibling(elm),$_dr4ybh18jnlpawzt.nextSibling(elm),afterDeletePosOpt],function(prev,next,afterDeletePos){var offset;var prevNode=prev.dom();var nextNode=next.dom();if($_fy28ei1rjnlpax2o.isText(prevNode)&&$_fy28ei1rjnlpax2o.isText(nextNode)){offset=prevNode.data.length;prevNode.appendData(nextNode.data);$_azq8zm1wjnlpax4n.remove(next);$_azq8zm1wjnlpax4n.remove(elm);if(afterDeletePos.container()===nextNode){return CaretPosition$1(prevNode,offset);}else{return afterDeletePos;}}else{$_azq8zm1wjnlpax4n.remove(elm);return afterDeletePos;}}).orThunk(function(){$_azq8zm1wjnlpax4n.remove(elm);return afterDeletePosOpt;});};var deleteElement=function(editor,forward,elm){var afterDeletePos=findCaretPosOutsideElmAfterDelete(forward,editor.getBody(),elm.dom());var parentBlock=$_cs5qmd2ajnlpax6v.ancestor(elm,curry(isBlock$2,editor),eqRawNode(editor.getBody()));var normalizedAfterDeletePos=deleteNormalized(elm,afterDeletePos);if(editor.dom.isEmpty(editor.getBody())){editor.setContent('');editor.selection.setCursorLocation();}else{parentBlock.bind(paddEmptyBlock).fold(function(){setSelection(editor,forward,normalizedAfterDeletePos);},function(paddPos){setSelection(editor,forward,Option.some(paddPos));});}};var $_ezizyx47jnlpaxle={deleteElement:deleteElement};var deleteElement$1=function(editor,forward){return function(element){editor._selectionOverrides.hideFakeCaret();$_ezizyx47jnlpaxle.deleteElement(editor,forward,Element$$1.fromDom(element));return true;};};var moveToElement=function(editor,forward){return function(element){var pos=forward?CaretPosition$1.before(element):CaretPosition$1.after(element);editor.selection.setRng(pos.toRange());return true;};};var moveToPosition=function(editor){return function(pos){editor.selection.setRng(pos.toRange());return true;};};var backspaceDeleteCaret=function(editor,forward){var result=read$2(editor.getBody(),forward,editor.selection.getRng()).map(function(deleteAction){return deleteAction.fold(deleteElement$1(editor,forward),moveToElement(editor,forward),moveToPosition(editor));});return result.getOr(false);};var deleteOffscreenSelection=function(rootElement){each($_cmitir27jnlpax6e.descendants(rootElement,'.mce-offscreen-selection'),$_azq8zm1wjnlpax4n.remove);};var backspaceDeleteRange=function(editor,forward){var selectedElement=editor.selection.getNode();if($_fy28ei1rjnlpax2o.isContentEditableFalse(selectedElement)){deleteOffscreenSelection(Element$$1.fromDom(editor.getBody()));$_ezizyx47jnlpaxle.deleteElement(editor,forward,Element$$1.fromDom(editor.selection.getNode()));$_dfzzw73vjnlpaxik.paddEmptyBody(editor);return true;}else{return false;}};var getContentEditableRoot=function(root,node){while(node&&node!==root){if($_fy28ei1rjnlpax2o.isContentEditableTrue(node)||$_fy28ei1rjnlpax2o.isContentEditableFalse(node)){return node;}node=node.parentNode;}return null;};var paddEmptyElement=function(editor){var br;var ceRoot=getContentEditableRoot(editor.getBody(),editor.selection.getNode());if($_fy28ei1rjnlpax2o.isContentEditableTrue(ceRoot)&&editor.dom.isBlock(ceRoot)&&editor.dom.isEmpty(ceRoot)){br=editor.dom.create('br',{'data-mce-bogus':'1'});editor.dom.setHTML(ceRoot,'');ceRoot.appendChild(br);editor.selection.setRng(CaretPosition$1.before(br).toRange());}return true;};var backspaceDelete$2=function(editor,forward){if(editor.selection.isCollapsed()){return backspaceDeleteCaret(editor,forward);}else{return backspaceDeleteRange(editor,forward);}};var $_jcgv344jnlpaxks={backspaceDelete:backspaceDelete$2,paddEmptyElement:paddEmptyElement};var isText$8=$_fy28ei1rjnlpax2o.isText;var startsWithCaretContainer$1=function(node){return isText$8(node)&&node.data[0]===$_90hfb72rjnlpaxae.ZWSP;};var endsWithCaretContainer$1=function(node){return isText$8(node)&&node.data[node.data.length-1]===$_90hfb72rjnlpaxae.ZWSP;};var createZwsp=function(node){return node.ownerDocument.createTextNode($_90hfb72rjnlpaxae.ZWSP);};var insertBefore$1=function(node){if(isText$8(node.previousSibling)){if(endsWithCaretContainer$1(node.previousSibling)){return node.previousSibling;}else{node.previousSibling.appendData($_90hfb72rjnlpaxae.ZWSP);return node.previousSibling;}}else if(isText$8(node)){if(startsWithCaretContainer$1(node)){return node;}else{node.insertData(0,$_90hfb72rjnlpaxae.ZWSP);return node;}}else{var newNode=createZwsp(node);node.parentNode.insertBefore(newNode,node);return newNode;}};var insertAfter$1=function(node){if(isText$8(node.nextSibling)){if(startsWithCaretContainer$1(node.nextSibling)){return node.nextSibling;}else{node.nextSibling.insertData(0,$_90hfb72rjnlpaxae.ZWSP);return node.nextSibling;}}else if(isText$8(node)){if(endsWithCaretContainer$1(node)){return node;}else{node.appendData($_90hfb72rjnlpaxae.ZWSP);return node;}}else{var newNode=createZwsp(node);if(node.nextSibling){node.parentNode.insertBefore(newNode,node.nextSibling);}else{node.parentNode.appendChild(newNode);}return newNode;}};var insertInline$1=function(before,node){return before?insertBefore$1(node):insertAfter$1(node);};var insertInlineBefore=curry(insertInline$1,true);var insertInlineAfter=curry(insertInline$1,false);var insertInlinePos=function(pos,before){if($_fy28ei1rjnlpax2o.isText(pos.container())){return insertInline$1(before,pos.container());}else{return insertInline$1(before,pos.getNode());}};var isPosCaretContainer=function(pos,caret){var caretNode=caret.get();return caretNode&&pos.container()===caretNode&&isCaretContainerInline(caretNode);};var renderCaret=function(caret,location){return location.fold(function(element){$_ctzulb33jnlpaxck.remove(caret.get());var text=insertInlineBefore(element);caret.set(text);return Option.some(CaretPosition$1(text,text.length-1));},function(element){return $_32xcvk30jnlpaxbn.firstPositionIn(element).map(function(pos){if(!isPosCaretContainer(pos,caret)){$_ctzulb33jnlpaxck.remove(caret.get());var text=insertInlinePos(pos,true);caret.set(text);return CaretPosition$1(text,1);}else{return CaretPosition$1(caret.get(),1);}});},function(element){return $_32xcvk30jnlpaxbn.lastPositionIn(element).map(function(pos){if(!isPosCaretContainer(pos,caret)){$_ctzulb33jnlpaxck.remove(caret.get());var text=insertInlinePos(pos,false);caret.set(text);return CaretPosition$1(text,text.length-1);}else{return CaretPosition$1(caret.get(),caret.get().length-1);}});},function(element){$_ctzulb33jnlpaxck.remove(caret.get());var text=insertInlineAfter(element);caret.set(text);return Option.some(CaretPosition$1(text,1));});};var $_7h17zm49jnlpaxma={renderCaret:renderCaret};var evaluateUntil=function(fns,args){for(var i=0;i<fns.length;i++){var result=fns[i].apply(null,args);if(result.isSome()){return result;}}return Option.none();};var $_3eehvl4cjnlpaxms={evaluateUntil:evaluateUntil};var Location=Adt.generate([{before:['element']},{start:['element']},{end:['element']},{after:['element']}]);var rescope=function(rootNode,node){var parentBlock=getParentBlock(node,rootNode);return parentBlock?parentBlock:rootNode;};var before$3=function(isInlineTarget,rootNode,pos){var nPos=$_955v2u3wjnlpaxit.normalizeForwards(pos);var scope=rescope(rootNode,nPos.container());return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget,scope,nPos).fold(function(){return $_32xcvk30jnlpaxbn.nextPosition(scope,nPos).bind(curry($_955v2u3wjnlpaxit.findRootInline,isInlineTarget,scope)).map(function(inline){return Location.before(inline);});},Option.none);};var isNotInsideFormatCaretContainer=function(rootNode,elm){return getParentCaretContainer(rootNode,elm)===null;};var findInsideRootInline=function(isInlineTarget,rootNode,pos){return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget,rootNode,pos).filter(curry(isNotInsideFormatCaretContainer,rootNode));};var start=function(isInlineTarget,rootNode,pos){var nPos=$_955v2u3wjnlpaxit.normalizeBackwards(pos);return findInsideRootInline(isInlineTarget,rootNode,nPos).bind(function(inline){var prevPos=$_32xcvk30jnlpaxbn.prevPosition(inline,nPos);return prevPos.isNone()?Option.some(Location.start(inline)):Option.none();});};var end=function(isInlineTarget,rootNode,pos){var nPos=$_955v2u3wjnlpaxit.normalizeForwards(pos);return findInsideRootInline(isInlineTarget,rootNode,nPos).bind(function(inline){var nextPos=$_32xcvk30jnlpaxbn.nextPosition(inline,nPos);return nextPos.isNone()?Option.some(Location.end(inline)):Option.none();});};var after$3=function(isInlineTarget,rootNode,pos){var nPos=$_955v2u3wjnlpaxit.normalizeBackwards(pos);var scope=rescope(rootNode,nPos.container());return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget,scope,nPos).fold(function(){return $_32xcvk30jnlpaxbn.prevPosition(scope,nPos).bind(curry($_955v2u3wjnlpaxit.findRootInline,isInlineTarget,scope)).map(function(inline){return Location.after(inline);});},Option.none);};var isValidLocation=function(location){return $_955v2u3wjnlpaxit.isRtl(getElement(location))===false;};var readLocation=function(isInlineTarget,rootNode,pos){var location=$_3eehvl4cjnlpaxms.evaluateUntil([before$3,start,end,after$3],[isInlineTarget,rootNode,pos]);return location.filter(isValidLocation);};var getElement=function(location){return location.fold(identity,identity,identity,identity);};var getName=function(location){return location.fold(constant('before'),constant('start'),constant('end'),constant('after'));};var outside=function(location){return location.fold(Location.before,Location.before,Location.after,Location.after);};var inside=function(location){return location.fold(Location.start,Location.start,Location.end,Location.end);};var isEq$1=function(location1,location2){return getName(location1)===getName(location2)&&getElement(location1)===getElement(location2);};var betweenInlines=function(forward,isInlineTarget,rootNode,from,to,location){return liftN([$_955v2u3wjnlpaxit.findRootInline(isInlineTarget,rootNode,from),$_955v2u3wjnlpaxit.findRootInline(isInlineTarget,rootNode,to)],function(fromInline,toInline){if(fromInline!==toInline&&$_955v2u3wjnlpaxit.hasSameParentBlock(rootNode,fromInline,toInline)){return Location.after(forward?fromInline:toInline);}else{return location;}}).getOr(location);};var skipNoMovement=function(fromLocation,toLocation){return fromLocation.fold(constant(true),function(fromLocation){return!isEq$1(fromLocation,toLocation);});};var findLocationTraverse=function(forward,isInlineTarget,rootNode,fromLocation,pos){var from=$_955v2u3wjnlpaxit.normalizePosition(forward,pos);var to=$_32xcvk30jnlpaxbn.fromPosition(forward,rootNode,from).map(curry($_955v2u3wjnlpaxit.normalizePosition,forward));var location=to.fold(function(){return fromLocation.map(outside);},function(to){return readLocation(isInlineTarget,rootNode,to).map(curry(betweenInlines,forward,isInlineTarget,rootNode,from,to)).filter(curry(skipNoMovement,fromLocation));});return location.filter(isValidLocation);};var findLocationSimple=function(forward,location){if(forward){return location.fold(compose(Option.some,Location.start),Option.none,compose(Option.some,Location.after),Option.none);}else{return location.fold(Option.none,compose(Option.some,Location.before),Option.none,compose(Option.some,Location.end));}};var findLocation=function(forward,isInlineTarget,rootNode,pos){var from=$_955v2u3wjnlpaxit.normalizePosition(forward,pos);var fromLocation=readLocation(isInlineTarget,rootNode,from);return readLocation(isInlineTarget,rootNode,from).bind(curry(findLocationSimple,forward)).orThunk(function(){return findLocationTraverse(forward,isInlineTarget,rootNode,fromLocation,pos);});};var $_1wxx4j4bjnlpaxmj={readLocation:readLocation,findLocation:findLocation,prevLocation:curry(findLocation,false),nextLocation:curry(findLocation,true),getElement:getElement,outside:outside,inside:inside};var hasSelectionModifyApi=function(editor){return isFunction(editor.selection.getSel().modify);};var moveRel=function(forward,selection,pos){var delta=forward?1:-1;selection.setRng(CaretPosition$1(pos.container(),pos.offset()+delta).toRange());selection.getSel().modify('move',forward?'forward':'backward','word');return true;};var moveByWord=function(forward,editor){var rng=editor.selection.getRng();var pos=forward?CaretPosition$1.fromRangeEnd(rng):CaretPosition$1.fromRangeStart(rng);if(!hasSelectionModifyApi(editor)){return false;}else if(forward&&isBeforeInline(pos)){return moveRel(true,editor.selection,pos);}else if(!forward&&isAfterInline(pos)){return moveRel(false,editor.selection,pos);}else{return false;}};var $_8umecq4ejnlpaxn3={hasSelectionModifyApi:hasSelectionModifyApi,moveByWord:moveByWord};var setCaretPosition=function(editor,pos){var rng=editor.dom.createRng();rng.setStart(pos.container(),pos.offset());rng.setEnd(pos.container(),pos.offset());editor.selection.setRng(rng);};var isFeatureEnabled=function(editor){return editor.settings.inline_boundaries!==false;};var setSelected=function(state,elm){if(state){elm.setAttribute('data-mce-selected','inline-boundary');}else{elm.removeAttribute('data-mce-selected');}};var renderCaretLocation=function(editor,caret,location){return $_7h17zm49jnlpaxma.renderCaret(caret,location).map(function(pos){setCaretPosition(editor,pos);return location;});};var findLocation$1=function(editor,caret,forward){var rootNode=editor.getBody();var from=CaretPosition$1.fromRangeStart(editor.selection.getRng());var isInlineTarget=curry($_955v2u3wjnlpaxit.isInlineTarget,editor);var location=$_1wxx4j4bjnlpaxmj.findLocation(forward,isInlineTarget,rootNode,from);return location.bind(function(location){return renderCaretLocation(editor,caret,location);});};var toggleInlines=function(isInlineTarget,dom,elms){var selectedInlines=filter(dom.select('*[data-mce-selected=\"inline-boundary\"]'),isInlineTarget);var targetInlines=filter(elms,isInlineTarget);each(difference(selectedInlines,targetInlines),curry(setSelected,false));each(difference(targetInlines,selectedInlines),curry(setSelected,true));};var safeRemoveCaretContainer=function(editor,caret){if(editor.selection.isCollapsed()&&editor.composing!==true&&caret.get()){var pos=CaretPosition$1.fromRangeStart(editor.selection.getRng());if(CaretPosition$1.isTextPosition(pos)&&$_955v2u3wjnlpaxit.isAtZwsp(pos)===false){setCaretPosition(editor,$_ctzulb33jnlpaxck.removeAndReposition(caret.get(),pos));caret.set(null);}}};var renderInsideInlineCaret=function(isInlineTarget,editor,caret,elms){if(editor.selection.isCollapsed()){var inlines=filter(elms,isInlineTarget);each(inlines,function(inline){var pos=CaretPosition$1.fromRangeStart(editor.selection.getRng());$_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget,editor.getBody(),pos).bind(function(location){return renderCaretLocation(editor,caret,location);});});}};var move=function(editor,caret,forward){return function(){return isFeatureEnabled(editor)?findLocation$1(editor,caret,forward).isSome():false;};};var moveWord=function(forward,editor,caret){return function(){return isFeatureEnabled(editor)?$_8umecq4ejnlpaxn3.moveByWord(forward,editor):false;};};var setupSelectedState=function(editor){var caret=Cell(null);var isInlineTarget=curry($_955v2u3wjnlpaxit.isInlineTarget,editor);editor.on('NodeChange',function(e){if(isFeatureEnabled(editor)){toggleInlines(isInlineTarget,editor.dom,e.parents);safeRemoveCaretContainer(editor,caret);renderInsideInlineCaret(isInlineTarget,editor,caret,e.parents);}});return caret;};var moveNextWord=curry(moveWord,true);var movePrevWord=curry(moveWord,false);var $_1971nm4djnlpaxmv={move:move,moveNextWord:moveNextWord,movePrevWord:movePrevWord,setupSelectedState:setupSelectedState,setCaretPosition:setCaretPosition};var isFeatureEnabled$1=function(editor){return editor.settings.inline_boundaries!==false;};var rangeFromPositions=function(from,to){var range=document.createRange();range.setStart(from.container(),from.offset());range.setEnd(to.container(),to.offset());return range;};var hasOnlyTwoOrLessPositionsLeft=function(elm){return liftN([$_32xcvk30jnlpaxbn.firstPositionIn(elm),$_32xcvk30jnlpaxbn.lastPositionIn(elm)],function(firstPos,lastPos){var normalizedFirstPos=$_955v2u3wjnlpaxit.normalizePosition(true,firstPos);var normalizedLastPos=$_955v2u3wjnlpaxit.normalizePosition(false,lastPos);return $_32xcvk30jnlpaxbn.nextPosition(elm,normalizedFirstPos).map(function(pos){return pos.isEqual(normalizedLastPos);}).getOr(true);}).getOr(true);};var setCaretLocation=function(editor,caret){return function(location$$1){return $_7h17zm49jnlpaxma.renderCaret(caret,location$$1).map(function(pos){$_1971nm4djnlpaxmv.setCaretPosition(editor,pos);return true;}).getOr(false);};};var deleteFromTo=function(editor,caret,from,to){var rootNode=editor.getBody();var isInlineTarget=curry($_955v2u3wjnlpaxit.isInlineTarget,editor);editor.undoManager.ignore(function(){editor.selection.setRng(rangeFromPositions(from,to));editor.execCommand('Delete');$_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget,rootNode,CaretPosition$1.fromRangeStart(editor.selection.getRng())).map($_1wxx4j4bjnlpaxmj.inside).map(setCaretLocation(editor,caret));});editor.nodeChanged();};var rescope$1=function(rootNode,node){var parentBlock=getParentBlock(node,rootNode);return parentBlock?parentBlock:rootNode;};var backspaceDeleteCollapsed=function(editor,caret,forward,from){var rootNode=rescope$1(editor.getBody(),from.container());var isInlineTarget=curry($_955v2u3wjnlpaxit.isInlineTarget,editor);var fromLocation=$_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget,rootNode,from);return fromLocation.bind(function(location$$1){if(forward){return location$$1.fold(constant(Option.some($_1wxx4j4bjnlpaxmj.inside(location$$1))),Option.none,constant(Option.some($_1wxx4j4bjnlpaxmj.outside(location$$1))),Option.none);}else{return location$$1.fold(Option.none,constant(Option.some($_1wxx4j4bjnlpaxmj.outside(location$$1))),Option.none,constant(Option.some($_1wxx4j4bjnlpaxmj.inside(location$$1))));}}).map(setCaretLocation(editor,caret)).getOrThunk(function(){var toPosition=$_32xcvk30jnlpaxbn.navigate(forward,rootNode,from);var toLocation=toPosition.bind(function(pos){return $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget,rootNode,pos);});if(fromLocation.isSome()&&toLocation.isSome()){return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget,rootNode,from).map(function(elm){if(hasOnlyTwoOrLessPositionsLeft(elm)){$_ezizyx47jnlpaxle.deleteElement(editor,forward,Element$$1.fromDom(elm));return true;}else{return false;}}).getOr(false);}else{return toLocation.bind(function(_){return toPosition.map(function(to){if(forward){deleteFromTo(editor,caret,from,to);}else{deleteFromTo(editor,caret,to,from);}return true;});}).getOr(false);}});};var backspaceDelete$3=function(editor,caret,forward){if(editor.selection.isCollapsed()&&isFeatureEnabled$1(editor)){var from=CaretPosition$1.fromRangeStart(editor.selection.getRng());return backspaceDeleteCollapsed(editor,caret,forward,from);}return false;};var $_5d7kmb48jnlpaxm1={backspaceDelete:backspaceDelete$3};var tableCellRng=Immutable('start','end');var tableSelection=Immutable('rng','table','cells');var deleteAction=Adt.generate([{removeTable:['element']},{emptyCells:['cells']}]);var isRootFromElement=function(root){return curry($_5h7cor1ejnlpax0k.eq,root);};var getClosestCell$1=function(container,isRoot){return $_2kbu29jnlpax6t.closest(Element$$1.fromDom(container),'td,th',isRoot);};var getClosestTable=function(cell,isRoot){return $_2kbu29jnlpax6t.ancestor(cell,'table',isRoot);};var isExpandedCellRng=function(cellRng){return $_5h7cor1ejnlpax0k.eq(cellRng.start(),cellRng.end())===false;};var getTableFromCellRng=function(cellRng,isRoot){return getClosestTable(cellRng.start(),isRoot).bind(function(startParentTable){return getClosestTable(cellRng.end(),isRoot).bind(function(endParentTable){return $_5h7cor1ejnlpax0k.eq(startParentTable,endParentTable)?Option.some(startParentTable):Option.none();});});};var getTableCells=function(table){return $_cmitir27jnlpax6e.descendants(table,'td,th');};var getCellRangeFromStartTable=function(cellRng,isRoot){return getClosestTable(cellRng.start(),isRoot).bind(function(table){return last(getTableCells(table)).map(function(endCell){return tableCellRng(cellRng.start(),endCell);});});};var partialSelection=function(isRoot,rng){var startCell=getClosestCell$1(rng.startContainer,isRoot);var endCell=getClosestCell$1(rng.endContainer,isRoot);return rng.collapsed?Option.none():liftN([startCell,endCell],tableCellRng).fold(function(){return startCell.fold(function(){return endCell.bind(function(endCell){return getClosestTable(endCell,isRoot).bind(function(table){return head(getTableCells(table)).map(function(startCell){return tableCellRng(startCell,endCell);});});});},function(startCell){return getClosestTable(startCell,isRoot).bind(function(table){return last(getTableCells(table)).map(function(endCell){return tableCellRng(startCell,endCell);});});});},function(cellRng){return isWithinSameTable(isRoot,cellRng)?Option.none():getCellRangeFromStartTable(cellRng,isRoot);});};var isWithinSameTable=function(isRoot,cellRng){return getTableFromCellRng(cellRng,isRoot).isSome();};var getCellRng=function(rng,isRoot){var startCell=getClosestCell$1(rng.startContainer,isRoot);var endCell=getClosestCell$1(rng.endContainer,isRoot);return liftN([startCell,endCell],tableCellRng).filter(isExpandedCellRng).filter(function(cellRng){return isWithinSameTable(isRoot,cellRng);}).orThunk(function(){return partialSelection(isRoot,rng);});};var getTableSelectionFromCellRng=function(cellRng,isRoot){return getTableFromCellRng(cellRng,isRoot).map(function(table){return tableSelection(cellRng,table,getTableCells(table));});};var getTableSelectionFromRng=function(root,rng){var isRoot=isRootFromElement(root);return getCellRng(rng,isRoot).bind(function(cellRng){return getTableSelectionFromCellRng(cellRng,isRoot);});};var getCellIndex=function(cells,cell){return findIndex(cells,function(x){return $_5h7cor1ejnlpax0k.eq(x,cell);});};var getSelectedCells=function(tableSelection){return liftN([getCellIndex(tableSelection.cells(),tableSelection.rng().start()),getCellIndex(tableSelection.cells(),tableSelection.rng().end())],function(startIndex,endIndex){return tableSelection.cells().slice(startIndex,endIndex+1);});};var getAction=function(tableSelection){return getSelectedCells(tableSelection).map(function(selected){var cells=tableSelection.cells();return selected.length===cells.length?deleteAction.removeTable(tableSelection.table()):deleteAction.emptyCells(selected);});};var getActionFromCells=function(cells){return deleteAction.emptyCells(cells);};var getActionFromRange=function(root,rng){return getTableSelectionFromRng(root,rng).bind(getAction);};var $_baassw4gjnlpaxnk={getActionFromRange:getActionFromRange,getActionFromCells:getActionFromCells};var getRanges=function(selection){var ranges=[];if(selection){for(var i=0;i<selection.rangeCount;i++){ranges.push(selection.getRangeAt(i));}}return ranges;};var getSelectedNodes=function(ranges){return bind(ranges,function(range$$1){var node=getSelectedNode(range$$1);return node?[Element$$1.fromDom(node)]:[];});};var hasMultipleRanges=function(selection){return getRanges(selection).length>1;};var $_533sn84ijnlpaxoe={getRanges:getRanges,getSelectedNodes:getSelectedNodes,hasMultipleRanges:hasMultipleRanges};var getCellsFromRanges=function(ranges){return filter($_533sn84ijnlpaxoe.getSelectedNodes(ranges),isTableCell);};var getCellsFromElement=function(elm){var selectedCells=$_cmitir27jnlpax6e.descendants(elm,'td[data-mce-selected],th[data-mce-selected]');return selectedCells;};var getCellsFromElementOrRanges=function(ranges,element){var selectedCells=getCellsFromElement(element);var rangeCells=getCellsFromRanges(ranges);return selectedCells.length>0?selectedCells:rangeCells;};var getCellsFromEditor=function(editor){return getCellsFromElementOrRanges($_533sn84ijnlpaxoe.getRanges(editor.selection.getSel()),Element$$1.fromDom(editor.getBody()));};var $_1yq8wz4hjnlpaxo7={getCellsFromRanges:getCellsFromRanges,getCellsFromElement:getCellsFromElement,getCellsFromElementOrRanges:getCellsFromElementOrRanges,getCellsFromEditor:getCellsFromEditor};var emptyCells=function(editor,cells){each(cells,$_azhpc63njnlpaxgw.fillWithPaddingBr);editor.selection.setCursorLocation(cells[0].dom(),0);return true;};var deleteTableElement=function(editor,table){$_ezizyx47jnlpaxle.deleteElement(editor,false,table);return true;};var deleteCellRange=function(editor,rootElm,rng){return $_baassw4gjnlpaxnk.getActionFromRange(rootElm,rng).map(function(action){return action.fold(curry(deleteTableElement,editor),curry(emptyCells,editor));});};var deleteCaptionRange=function(editor,caption){return emptyElement(editor,caption);};var deleteTableRange=function(editor,rootElm,rng,startElm){return getParentCaption(rootElm,startElm).fold(function(){return deleteCellRange(editor,rootElm,rng);},function(caption){return deleteCaptionRange(editor,caption);}).getOr(false);};var deleteRange$1=function(editor,startElm){var rootNode=Element$$1.fromDom(editor.getBody());var rng=editor.selection.getRng();var selectedCells=$_1yq8wz4hjnlpaxo7.getCellsFromEditor(editor);return selectedCells.length!==0?emptyCells(editor,selectedCells):deleteTableRange(editor,rootNode,rng,startElm);};var getParentCell=function(rootElm,elm){return find($_4b88sj42jnlpaxkd.parentsAndSelf(elm,rootElm),isTableCell);};var getParentCaption=function(rootElm,elm){return find($_4b88sj42jnlpaxkd.parentsAndSelf(elm,rootElm),function(elm){return $_7u5fzs11jnlpawv6.name(elm)==='caption';});};var deleteBetweenCells=function(editor,rootElm,forward,fromCell,from){return $_32xcvk30jnlpaxbn.navigate(forward,editor.getBody(),from).bind(function(to){return getParentCell(rootElm,Element$$1.fromDom(to.getNode())).map(function(toCell){return $_5h7cor1ejnlpax0k.eq(toCell,fromCell)===false;});});};var emptyElement=function(editor,elm){$_azhpc63njnlpaxgw.fillWithPaddingBr(elm);editor.selection.setCursorLocation(elm.dom(),0);return Option.some(true);};var isDeleteOfLastCharPos=function(fromCaption,forward,from,to){return $_32xcvk30jnlpaxbn.firstPositionIn(fromCaption.dom()).bind(function(first){return $_32xcvk30jnlpaxbn.lastPositionIn(fromCaption.dom()).map(function(last$$1){return forward?from.isEqual(first)&&to.isEqual(last$$1):from.isEqual(last$$1)&&to.isEqual(first);});}).getOr(true);};var emptyCaretCaption=function(editor,elm){return emptyElement(editor,elm);};var validateCaretCaption=function(rootElm,fromCaption,to){return getParentCaption(rootElm,Element$$1.fromDom(to.getNode())).map(function(toCaption){return $_5h7cor1ejnlpax0k.eq(toCaption,fromCaption)===false;});};var deleteCaretInsideCaption=function(editor,rootElm,forward,fromCaption,from){return $_32xcvk30jnlpaxbn.navigate(forward,editor.getBody(),from).bind(function(to){return isDeleteOfLastCharPos(fromCaption,forward,from,to)?emptyCaretCaption(editor,fromCaption):validateCaretCaption(rootElm,fromCaption,to);}).or(Option.some(true));};var deleteCaretCells=function(editor,forward,rootElm,startElm){var from=CaretPosition$1.fromRangeStart(editor.selection.getRng());return getParentCell(rootElm,startElm).bind(function(fromCell){return $_czpaaj3zjnlpaxjj.isEmpty(fromCell)?emptyElement(editor,fromCell):deleteBetweenCells(editor,rootElm,forward,fromCell,from);});};var deleteCaretCaption=function(editor,forward,rootElm,fromCaption){var from=CaretPosition$1.fromRangeStart(editor.selection.getRng());return $_czpaaj3zjnlpaxjj.isEmpty(fromCaption)?emptyElement(editor,fromCaption):deleteCaretInsideCaption(editor,rootElm,forward,fromCaption,from);};var deleteCaret=function(editor,forward,startElm){var rootElm=Element$$1.fromDom(editor.getBody());return getParentCaption(rootElm,startElm).fold(function(){return deleteCaretCells(editor,forward,rootElm,startElm);},function(fromCaption){return deleteCaretCaption(editor,forward,rootElm,fromCaption);}).getOr(false);};var backspaceDelete$4=function(editor,forward){var startElm=Element$$1.fromDom(editor.selection.getStart(true));var cells=$_1yq8wz4hjnlpaxo7.getCellsFromEditor(editor);return editor.selection.isCollapsed()&&cells.length===0?deleteCaret(editor,forward,startElm):deleteRange$1(editor,startElm);};var $_3apnm14fjnlpaxn8={backspaceDelete:backspaceDelete$4};var nativeCommand=function(editor,command){editor.getDoc().execCommand(command,false,null);};var deleteCommand=function(editor){if($_jcgv344jnlpaxks.backspaceDelete(editor,false)){return;}else if($_5d7kmb48jnlpaxm1.backspaceDelete(editor,false)){return;}else if($_3n8adg3tjnlpaxi5.backspaceDelete(editor,false)){return;}else if($_3apnm14fjnlpaxn8.backspaceDelete(editor)){return;}else if($_f5evyu43jnlpaxki.backspaceDelete(editor,false)){return;}else{nativeCommand(editor,'Delete');$_dfzzw73vjnlpaxik.paddEmptyBody(editor);}};var forwardDeleteCommand=function(editor){if($_jcgv344jnlpaxks.backspaceDelete(editor,true)){return;}else if($_5d7kmb48jnlpaxm1.backspaceDelete(editor,true)){return;}else if($_3n8adg3tjnlpaxi5.backspaceDelete(editor,true)){return;}else if($_3apnm14fjnlpaxn8.backspaceDelete(editor)){return;}else if($_f5evyu43jnlpaxki.backspaceDelete(editor,true)){return;}else{nativeCommand(editor,'ForwardDelete');}};var $_7ms0593sjnlpaxht={deleteCommand:deleteCommand,forwardDeleteCommand:forwardDeleteCommand};var getSpecifiedFontProp=function(propName,rootElm,elm){var getProperty=function(elm){return $_asiuhf13jnlpawvc.getRaw(elm,propName);};var isRoot=function(elm){return $_5h7cor1ejnlpax0k.eq(Element$$1.fromDom(rootElm),elm);};return $_cs5qmd2ajnlpax6v.closest(Element$$1.fromDom(elm),function(elm){return getProperty(elm).isSome();},isRoot).bind(getProperty);};var round$1=function(number,precision){var factor=Math.pow(10,precision);return Math.round(number*factor)/factor;};var toPt=function(fontSize,precision){if(/[0-9.]+px$/.test(fontSize)){return round$1(parseInt(fontSize,10)*72/96,precision||0)+'pt';}return fontSize;};var normalizeFontFamily=function(fontFamily){return fontFamily.replace(/[\\'\\\"\\\\]/g,'').replace(/,\\s+/g,',');};var getComputedFontProp=function(propName,elm){return Option.from(DOMUtils$1.DOM.getStyle(elm,propName,true));};var getFontProp=function(propName){return function(rootElm,elm){return Option.from(elm).map(Element$$1.fromDom).filter($_7u5fzs11jnlpawv6.isElement).bind(function(element){return getSpecifiedFontProp(propName,rootElm,element.dom()).or(getComputedFontProp(propName,element.dom()));}).getOr('');};};var $_ar9b8r4kjnlpaxov={getFontSize:getFontProp('font-size'),getFontFamily:compose(normalizeFontFamily,getFontProp('font-family')),toPt:toPt};var findFirstCaretElement=function(editor){return $_32xcvk30jnlpaxbn.firstPositionIn(editor.getBody()).map(function(caret){var container=caret.container();return $_fy28ei1rjnlpax2o.isText(container)?container.parentNode:container;});};var isRangeAtStartOfNode=function(rng,root){return rng.startContainer===root&&rng.startOffset===0;};var getCaretElement=function(editor){return Option.from(editor.selection.getRng()).bind(function(rng){var root=editor.getBody();return isRangeAtStartOfNode(rng,root)?Option.none():Option.from(editor.selection.getStart(true));});};var fromFontSizeNumber=function(editor,value){if(/^[0-9\\.]+$/.test(value)){var fontSizeNumber=parseInt(value,10);if(fontSizeNumber>=1&&fontSizeNumber<=7){var fontSizes=$_c6e09z3ajnlpaxek.getFontStyleValues(editor);var fontClasses=$_c6e09z3ajnlpaxek.getFontSizeClasses(editor);if(fontClasses){return fontClasses[fontSizeNumber-1]||value;}else{return fontSizes[fontSizeNumber-1]||value;}}else{return value;}}else{return value;}};var fontNameAction=function(editor,value){editor.formatter.toggle('fontname',{value:fromFontSizeNumber(editor,value)});editor.nodeChanged();};var fontNameQuery=function(editor){return getCaretElement(editor).fold(function(){return findFirstCaretElement(editor).map(function(caretElement){return $_ar9b8r4kjnlpaxov.getFontFamily(editor.getBody(),caretElement);}).getOr('');},function(caretElement){return $_ar9b8r4kjnlpaxov.getFontFamily(editor.getBody(),caretElement);});};var fontSizeAction=function(editor,value){editor.formatter.toggle('fontsize',{value:fromFontSizeNumber(editor,value)});editor.nodeChanged();};var fontSizeQuery=function(editor){return getCaretElement(editor).fold(function(){return findFirstCaretElement(editor).map(function(caretElement){return $_ar9b8r4kjnlpaxov.getFontSize(editor.getBody(),caretElement);}).getOr('');},function(caretElement){return $_ar9b8r4kjnlpaxov.getFontSize(editor.getBody(),caretElement);});};var isEq$2=function(rng1,rng2){return rng1&&rng2&&rng1.startContainer===rng2.startContainer&&rng1.startOffset===rng2.startOffset&&rng1.endContainer===rng2.endContainer&&rng1.endOffset===rng2.endOffset;};var $_3s8g9y4njnlpaxqj={isEq:isEq$2};var findParent=function(node,rootNode,predicate){while(node&&node!==rootNode){if(predicate(node)){return node;}node=node.parentNode;}return null;};var hasParent=function(node,rootNode,predicate){return findParent(node,rootNode,predicate)!==null;};var hasParentWithName=function(node,rootNode,name){return hasParent(node,rootNode,function(node){return node.nodeName===name;});};var isTable$2=function(node){return node&&node.nodeName==='TABLE';};var isTableCell$3=function(node){return node&&/^(TD|TH|CAPTION)$/.test(node.nodeName);};var isCeFalseCaretContainer=function(node,rootNode){return isCaretContainer(node)&&hasParent(node,rootNode,isCaretNode)===false;};var hasBrBeforeAfter=function(dom,node,left){var walker=new TreeWalker(node,dom.getParent(node.parentNode,dom.isBlock)||dom.getRoot());while(node=walker[left?'prev':'next']()){if($_fy28ei1rjnlpax2o.isBr(node)){return true;}}};var isPrevNode=function(node,name){return node.previousSibling&&node.previousSibling.nodeName===name;};var hasContentEditableFalseParent=function(body,node){while(node&&node!==body){if($_fy28ei1rjnlpax2o.isContentEditableFalse(node)){return true;}node=node.parentNode;}return false;};var findTextNodeRelative=function(dom,isAfterNode,collapsed,left,startNode){var walker,lastInlineElement,parentBlockContainer;var body=dom.getRoot();var node;var nonEmptyElementsMap=dom.schema.getNonEmptyElements();parentBlockContainer=dom.getParent(startNode.parentNode,dom.isBlock)||body;if(left&&$_fy28ei1rjnlpax2o.isBr(startNode)&&isAfterNode&&dom.isEmpty(parentBlockContainer)){return Option.some(CaretPosition(startNode.parentNode,dom.nodeIndex(startNode)));}walker=new TreeWalker(startNode,parentBlockContainer);while(node=walker[left?'prev':'next']()){if(dom.getContentEditableParent(node)==='false'||isCeFalseCaretContainer(node,body)){return Option.none();}if($_fy28ei1rjnlpax2o.isText(node)&&node.nodeValue.length>0){if(hasParentWithName(node,body,'A')===false){return Option.some(CaretPosition(node,left?node.nodeValue.length:0));}return Option.none();}if(dom.isBlock(node)||nonEmptyElementsMap[node.nodeName.toLowerCase()]){return Option.none();}lastInlineElement=node;}if(collapsed&&lastInlineElement){return Option.some(CaretPosition(lastInlineElement,0));}return Option.none();};var normalizeEndPoint=function(dom,collapsed,start,rng){var container,offset,walker;var body=dom.getRoot();var node,nonEmptyElementsMap;var directionLeft,isAfterNode,normalized=false;container=rng[(start?'start':'end')+'Container'];offset=rng[(start?'start':'end')+'Offset'];isAfterNode=$_fy28ei1rjnlpax2o.isElement(container)&&offset===container.childNodes.length;nonEmptyElementsMap=dom.schema.getNonEmptyElements();directionLeft=start;if(isCaretContainer(container)){return Option.none();}if($_fy28ei1rjnlpax2o.isElement(container)&&offset>container.childNodes.length-1){directionLeft=false;}if($_fy28ei1rjnlpax2o.isDocument(container)){container=body;offset=0;}if(container===body){if(directionLeft){node=container.childNodes[offset>0?offset-1:0];if(node){if(isCaretContainer(node)){return Option.none();}if(nonEmptyElementsMap[node.nodeName]||isTable$2(node)){return Option.none();}}}if(container.hasChildNodes()){offset=Math.min(!directionLeft&&offset>0?offset-1:offset,container.childNodes.length-1);container=container.childNodes[offset];offset=$_fy28ei1rjnlpax2o.isText(container)&&isAfterNode?container.data.length:0;if(!collapsed&&container===body.lastChild&&isTable$2(container)){return Option.none();}if(hasContentEditableFalseParent(body,container)||isCaretContainer(container)){return Option.none();}if(container.hasChildNodes()&&isTable$2(container)===false){node=container;walker=new TreeWalker(container,body);do{if($_fy28ei1rjnlpax2o.isContentEditableFalse(node)||isCaretContainer(node)){normalized=false;break;}if($_fy28ei1rjnlpax2o.isText(node)&&node.nodeValue.length>0){offset=directionLeft?0:node.nodeValue.length;container=node;normalized=true;break;}if(nonEmptyElementsMap[node.nodeName.toLowerCase()]&&!isTableCell$3(node)){offset=dom.nodeIndex(node);container=node.parentNode;if(!directionLeft){offset++;}normalized=true;break;}}while(node=directionLeft?walker.next():walker.prev());}}}if(collapsed){if($_fy28ei1rjnlpax2o.isText(container)&&offset===0){findTextNodeRelative(dom,isAfterNode,collapsed,true,container).each(function(pos){container=pos.container();offset=pos.offset();normalized=true;});}if($_fy28ei1rjnlpax2o.isElement(container)){node=container.childNodes[offset];if(!node){node=container.childNodes[offset-1];}if(node&&$_fy28ei1rjnlpax2o.isBr(node)&&!isPrevNode(node,'A')&&!hasBrBeforeAfter(dom,node,false)&&!hasBrBeforeAfter(dom,node,true)){findTextNodeRelative(dom,isAfterNode,collapsed,true,node).each(function(pos){container=pos.container();offset=pos.offset();normalized=true;});}}}if(directionLeft&&!collapsed&&$_fy28ei1rjnlpax2o.isText(container)&&offset===container.nodeValue.length){findTextNodeRelative(dom,isAfterNode,collapsed,false,container).each(function(pos){container=pos.container();offset=pos.offset();normalized=true;});}return normalized?Option.some(CaretPosition(container,offset)):Option.none();};var normalize$1=function(dom,rng){var collapsed=rng.collapsed,normRng=rng.cloneRange();var startPos=CaretPosition.fromRangeStart(rng);normalizeEndPoint(dom,collapsed,true,normRng).each(function(pos){if(!collapsed||!CaretPosition.isAbove(startPos,pos)){normRng.setStart(pos.container(),pos.offset());}});if(!collapsed){normalizeEndPoint(dom,collapsed,false,normRng).each(function(pos){normRng.setEnd(pos.container(),pos.offset());});}if(collapsed){normRng.collapse(true);}return $_3s8g9y4njnlpaxqj.isEq(rng,normRng)?Option.none():Option.some(normRng);};var $_afh56j4mjnlpaxpx={normalize:normalize$1};var hasRightSideContent=function(schema,container,parentBlock){var walker=new TreeWalker(container,parentBlock);var node;var nonEmptyElementsMap=schema.getNonEmptyElements();while(node=walker.next()){if(nonEmptyElementsMap[node.nodeName.toLowerCase()]||node.length>0){return true;}}};var scrollToBr=function(dom,selection,brElm){var marker=dom.create('span',{},'&nbsp;');brElm.parentNode.insertBefore(marker,brElm);selection.scrollIntoView(marker);dom.remove(marker);};var moveSelectionToBr=function(dom,selection,brElm,extraBr){var rng=dom.createRng();if(!extraBr){rng.setStartAfter(brElm);rng.setEndAfter(brElm);}else{rng.setStartBefore(brElm);rng.setEndBefore(brElm);}selection.setRng(rng);};var insertBrAtCaret=function(editor,evt){var selection=editor.selection,dom=editor.dom;var brElm,extraBr;var rng=selection.getRng();$_afh56j4mjnlpaxpx.normalize(dom,rng).each(function(normRng){rng.setStart(normRng.startContainer,normRng.startOffset);rng.setEnd(normRng.endContainer,normRng.endOffset);});var offset=rng.startOffset;var container=rng.startContainer;if(container.nodeType===1&&container.hasChildNodes()){var isAfterLastNodeInContainer=offset>container.childNodes.length-1;container=container.childNodes[Math.min(offset,container.childNodes.length-1)]||container;if(isAfterLastNodeInContainer&&container.nodeType===3){offset=container.nodeValue.length;}else{offset=0;}}var parentBlock=dom.getParent(container,dom.isBlock);var containerBlock=parentBlock?dom.getParent(parentBlock.parentNode,dom.isBlock):null;var containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase():'';var isControlKey=evt&&evt.ctrlKey;if(containerBlockName==='LI'&&!isControlKey){parentBlock=containerBlock;}if(container&&container.nodeType===3&&offset>=container.nodeValue.length){if(!hasRightSideContent(editor.schema,container,parentBlock)){brElm=dom.create('br');rng.insertNode(brElm);rng.setStartAfter(brElm);rng.setEndAfter(brElm);extraBr=true;}}brElm=dom.create('br');rng.insertNode(brElm);scrollToBr(dom,selection,brElm);moveSelectionToBr(dom,selection,brElm,extraBr);editor.undoManager.add();};var insertBrBefore=function(editor,inline){var br=Element$$1.fromTag('br');$_ag89ax1yjnlpax4x.before(Element$$1.fromDom(inline),br);editor.undoManager.add();};var insertBrAfter=function(editor,inline){if(!hasBrAfter(editor.getBody(),inline)){$_ag89ax1yjnlpax4x.after(Element$$1.fromDom(inline),Element$$1.fromTag('br'));}var br=Element$$1.fromTag('br');$_ag89ax1yjnlpax4x.after(Element$$1.fromDom(inline),br);scrollToBr(editor.dom,editor.selection,br.dom());moveSelectionToBr(editor.dom,editor.selection,br.dom(),false);editor.undoManager.add();};var isBeforeBr=function(pos){return $_fy28ei1rjnlpax2o.isBr(pos.getNode());};var hasBrAfter=function(rootNode,startNode){if(isBeforeBr(CaretPosition$1.after(startNode))){return true;}else{return $_32xcvk30jnlpaxbn.nextPosition(rootNode,CaretPosition$1.after(startNode)).map(function(pos){return $_fy28ei1rjnlpax2o.isBr(pos.getNode());}).getOr(false);}};var isAnchorLink=function(elm){return elm&&elm.nodeName==='A'&&'href'in elm;};var isInsideAnchor=function(location){return location.fold(constant(false),isAnchorLink,isAnchorLink,constant(false));};var readInlineAnchorLocation=function(editor){var isInlineTarget=curry($_955v2u3wjnlpaxit.isInlineTarget,editor);var position=CaretPosition$1.fromRangeStart(editor.selection.getRng());return $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget,editor.getBody(),position).filter(isInsideAnchor);};var insertBrOutsideAnchor=function(editor,location){location.fold(noop,curry(insertBrBefore,editor),curry(insertBrAfter,editor),noop);};var insert=function(editor,evt){var anchorLocation=readInlineAnchorLocation(editor);if(anchorLocation.isSome()){anchorLocation.each(curry(insertBrOutsideAnchor,editor));}else{insertBrAtCaret(editor,evt);}};var $_ejrlhl4ljnlpaxpg={insert:insert};var adt=Adt.generate([{'before':['element']},{'on':['element','offset']},{after:['element']}]);var cata=function(subject,onBefore,onOn,onAfter){return subject.fold(onBefore,onOn,onAfter);};var getStart=function(situ){return situ.fold(identity,identity,identity);};var $_64es4o4qjnlpaxri={before:adt.before,on:adt.on,after:adt.after,cata:cata,getStart:getStart};var type$1=Adt.generate([{domRange:['rng']},{relative:['startSitu','finishSitu']},{exact:['start','soffset','finish','foffset']}]);var range$1=Immutable('start','soffset','finish','foffset');var exactFromRange=function(simRange){return type$1.exact(simRange.start(),simRange.soffset(),simRange.finish(),simRange.foffset());};var getStart$1=function(selection){return selection.match({domRange:function(rng){return Element$$1.fromDom(rng.startContainer);},relative:function(startSitu,finishSitu){return $_64es4o4qjnlpaxri.getStart(startSitu);},exact:function(start,soffset,finish,foffset){return start;}});};var getWin=function(selection){var start=getStart$1(selection);return $_dr4ybh18jnlpawzt.defaultView(start);};var $_f9vlzb4pjnlpaxrd={domRange:type$1.domRange,relative:type$1.relative,exact:type$1.exact,exactFromRange:exactFromRange,range:range$1,getWin:getWin};var browser$3=$_766rx4ojnlpawtd.detect().browser;var clamp=function(offset,element){var max=$_7u5fzs11jnlpawv6.isText(element)?$_dzrxgg3gjnlpaxf6.get(element).length:$_dr4ybh18jnlpawzt.children(element).length+1;if(offset>max){return max;}else if(offset<0){return 0;}return offset;};var normalizeRng=function(rng){return $_f9vlzb4pjnlpaxrd.range(rng.start(),clamp(rng.soffset(),rng.start()),rng.finish(),clamp(rng.foffset(),rng.finish()));};var isOrContains=function(root,elm){return $_5h7cor1ejnlpax0k.contains(root,elm)||$_5h7cor1ejnlpax0k.eq(root,elm);};var isRngInRoot=function(root){return function(rng){return isOrContains(root,rng.start())&&isOrContains(root,rng.finish());};};var shouldStore=function(editor){return editor.inline===true||browser$3.isIE();};var nativeRangeToSelectionRange=function(r){return $_f9vlzb4pjnlpaxrd.range(Element$$1.fromDom(r.startContainer),r.startOffset,Element$$1.fromDom(r.endContainer),r.endOffset);};var readRange=function(win){var selection=win.getSelection();var rng=!selection||selection.rangeCount===0?Option.none():Option.from(selection.getRangeAt(0));return rng.map(nativeRangeToSelectionRange);};var getBookmark$2=function(root){var win=$_dr4ybh18jnlpawzt.defaultView(root);return readRange(win.dom()).filter(isRngInRoot(root));};var validate=function(root,bookmark){return Option.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);};var bookmarkToNativeRng=function(bookmark){var rng=document.createRange();try{rng.setStart(bookmark.start().dom(),bookmark.soffset());rng.setEnd(bookmark.finish().dom(),bookmark.foffset());return Option.some(rng);}catch(_){return Option.none();}};var store=function(editor){var newBookmark=shouldStore(editor)?getBookmark$2(Element$$1.fromDom(editor.getBody())):Option.none();editor.bookmark=newBookmark.isSome()?newBookmark:editor.bookmark;};var storeNative=function(editor,rng){var root=Element$$1.fromDom(editor.getBody());var range=shouldStore(editor)?Option.from(rng):Option.none();var newBookmark=range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));editor.bookmark=newBookmark.isSome()?newBookmark:editor.bookmark;};var getRng=function(editor){var bookmark=editor.bookmark?editor.bookmark:Option.none();return bookmark.bind(curry(validate,Element$$1.fromDom(editor.getBody()))).bind(bookmarkToNativeRng);};var restore=function(editor){getRng(editor).each(function(rng){editor.selection.setRng(rng);});};var $_13pqgk4ojnlpaxqr={store:store,storeNative:storeNative,readRange:readRange,restore:restore,getRng:getRng,getBookmark:getBookmark$2,validate:validate};var indentElement=function(dom,command,useMargin,value,unit,element){if(dom.getContentEditable(element)==='false'){return;}if(element.nodeName!=='LI'){var indentStyleName=useMargin?'margin':'padding';indentStyleName=element.nodeName==='TABLE'?'margin':indentStyleName;indentStyleName+=dom.getStyle(element,'direction',true)==='rtl'?'Right':'Left';if(command==='outdent'){var styleValue=Math.max(0,parseInt(element.style[indentStyleName]||0,10)-value);dom.setStyle(element,indentStyleName,styleValue?styleValue+unit:'');}else{var styleValue=parseInt(element.style[indentStyleName]||0,10)+value+unit;dom.setStyle(element,indentStyleName,styleValue);}}};var handle=function(editor,command){var settings=editor.settings,dom=editor.dom,selection=editor.selection,formatter=editor.formatter;var indentUnit=/[a-z%]+$/i.exec(settings.indentation)[0];var indentValue=parseInt(settings.indentation,10);var useMargin=editor.getParam('indent_use_margin',false);if(!editor.queryCommandState('InsertUnorderedList')&&!editor.queryCommandState('InsertOrderedList')){if(!settings.forced_root_block&&!dom.getParent(selection.getNode(),dom.isBlock)){formatter.apply('div');}each(selection.getSelectedBlocks(),function(element){return indentElement(dom,command,useMargin,indentValue,indentUnit,element);});}};var each$10=$_1q1txeljnlpawsa.each;var extend$2=$_1q1txeljnlpawsa.extend;var map$3=$_1q1txeljnlpawsa.map;var inArray$2=$_1q1txeljnlpawsa.inArray;function EditorCommands(editor){var dom,selection,formatter;var commands={state:{},exec:{},value:{}};var settings=editor.settings,bookmark;editor.on('PreInit',function(){dom=editor.dom;selection=editor.selection;settings=editor.settings;formatter=editor.formatter;});var execCommand=function(command,ui,value,args){var func,customCommand,state=false;if(editor.removed){return;}if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command)&&(!args||!args.skip_focus)){editor.focus();}else{$_13pqgk4ojnlpaxqr.restore(editor);}args=editor.fire('BeforeExecCommand',{command:command,ui:ui,value:value});if(args.isDefaultPrevented()){return false;}customCommand=command.toLowerCase();if(func=commands.exec[customCommand]){func(customCommand,ui,value);editor.fire('ExecCommand',{command:command,ui:ui,value:value});return true;}each$10(editor.plugins,function(p){if(p.execCommand&&p.execCommand(command,ui,value)){editor.fire('ExecCommand',{command:command,ui:ui,value:value});state=true;return false;}});if(state){return state;}if(editor.theme&&editor.theme.execCommand&&editor.theme.execCommand(command,ui,value)){editor.fire('ExecCommand',{command:command,ui:ui,value:value});return true;}try{state=editor.getDoc().execCommand(command,ui,value);}catch(ex){}if(state){editor.fire('ExecCommand',{command:command,ui:ui,value:value});return true;}return false;};var queryCommandState=function(command){var func;if(editor.quirks.isHidden()||editor.removed){return;}command=command.toLowerCase();if(func=commands.state[command]){return func(command);}try{return editor.getDoc().queryCommandState(command);}catch(ex){}return false;};var queryCommandValue=function(command){var func;if(editor.quirks.isHidden()||editor.removed){return;}command=command.toLowerCase();if(func=commands.value[command]){return func(command);}try{return editor.getDoc().queryCommandValue(command);}catch(ex){}};var addCommands=function(commandList,type){type=type||'exec';each$10(commandList,function(callback,command){each$10(command.toLowerCase().split(','),function(command){commands[type][command]=callback;});});};var addCommand=function(command,callback,scope){command=command.toLowerCase();commands.exec[command]=function(command,ui,value,args){return callback.call(scope||editor,ui,value,args);};};var queryCommandSupported=function(command){command=command.toLowerCase();if(commands.exec[command]){return true;}try{return editor.getDoc().queryCommandSupported(command);}catch(ex){}return false;};var addQueryStateHandler=function(command,callback,scope){command=command.toLowerCase();commands.state[command]=function(){return callback.call(scope||editor);};};var addQueryValueHandler=function(command,callback,scope){command=command.toLowerCase();commands.value[command]=function(){return callback.call(scope||editor);};};var hasCustomCommand=function(command){command=command.toLowerCase();return!!commands.exec[command];};extend$2(this,{execCommand:execCommand,queryCommandState:queryCommandState,queryCommandValue:queryCommandValue,queryCommandSupported:queryCommandSupported,addCommands:addCommands,addCommand:addCommand,addQueryStateHandler:addQueryStateHandler,addQueryValueHandler:addQueryValueHandler,hasCustomCommand:hasCustomCommand});var execNativeCommand=function(command,ui,value){if(ui===undefined){ui=false;}if(value===undefined){value=null;}return editor.getDoc().execCommand(command,ui,value);};var isFormatMatch=function(name){return formatter.match(name);};var toggleFormat=function(name,value){formatter.toggle(name,value?{value:value}:undefined);editor.nodeChanged();};var storeSelection=function(type){bookmark=selection.getBookmark(type);};var restoreSelection=function(){selection.moveToBookmark(bookmark);};addCommands({'mceResetDesignMode,mceBeginUndoLevel':function(){},'mceEndUndoLevel,mceAddUndoLevel':function(){editor.undoManager.add();},'Cut,Copy,Paste':function(command){var doc=editor.getDoc();var failed;try{execNativeCommand(command);}catch(ex){failed=true;}if(command==='paste'&&!doc.queryCommandEnabled(command)){failed=true;}if(failed||!doc.queryCommandSupported(command)){var msg=editor.translate('Your browser doesn\\'t support direct access to the clipboard. '+'Please use the Ctrl+X/C/V keyboard shortcuts instead.');if($_cseqobajnlpawll.mac){msg=msg.replace(/Ctrl\\+/g,'\\u2318+');}editor.notificationManager.open({text:msg,type:'error'});}},'unlink':function(){if(selection.isCollapsed()){var elm=editor.dom.getParent(editor.selection.getStart(),'a');if(elm){editor.dom.remove(elm,true);}return;}formatter.remove('link');},'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone':function(command){var align=command.substring(7);if(align==='full'){align='justify';}each$10('left,center,right,justify'.split(','),function(name){if(align!==name){formatter.remove('align'+name);}});if(align!=='none'){toggleFormat('align'+align);}},'InsertUnorderedList,InsertOrderedList':function(command){var listElm,listParent;execNativeCommand(command);listElm=dom.getParent(selection.getNode(),'ol,ul');if(listElm){listParent=listElm.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)){storeSelection();dom.split(listParent,listElm);restoreSelection();}}},'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(command){toggleFormat(command);},'ForeColor,HiliteColor':function(command,ui,value){toggleFormat(command,value);},'FontName':function(command,ui,value){fontNameAction(editor,value);},'FontSize':function(command,ui,value){fontSizeAction(editor,value);},'RemoveFormat':function(command){formatter.remove(command);},'mceBlockQuote':function(){toggleFormat('blockquote');},'FormatBlock':function(command,ui,value){return toggleFormat(value||'p');},'mceCleanup':function(){var bookmark=selection.getBookmark();editor.setContent(editor.getContent());selection.moveToBookmark(bookmark);},'mceRemoveNode':function(command,ui,value){var node=value||selection.getNode();if(node!==editor.getBody()){storeSelection();editor.dom.remove(node,true);restoreSelection();}},'mceSelectNodeDepth':function(command,ui,value){var counter=0;dom.getParent(selection.getNode(),function(node){if(node.nodeType===1&&counter++===value){selection.select(node);return false;}},editor.getBody());},'mceSelectNode':function(command,ui,value){selection.select(value);},'mceInsertContent':function(command,ui,value){$_f55bk53kjnlpaxge.insertAtCaret(editor,value);},'mceInsertRawHTML':function(command,ui,value){selection.setContent('tiny_mce_marker');var content=editor.getContent();editor.setContent(content.replace(/tiny_mce_marker/g,function(){return value;}));},'mceToggleFormat':function(command,ui,value){toggleFormat(value);},'mceSetContent':function(command,ui,value){editor.setContent(value);},'Indent,Outdent':function(command){handle(editor,command);},'mceRepaint':function(){},'InsertHorizontalRule':function(){editor.execCommand('mceInsertContent',false,'<hr />');},'mceToggleVisualAid':function(){editor.hasVisual=!editor.hasVisual;editor.addVisual();},'mceReplaceContent':function(command,ui,value){editor.execCommand('mceInsertContent',false,value.replace(/\\{\\$selection\\}/g,selection.getContent({format:'text'})));},'mceInsertLink':function(command,ui,value){var anchor;if(typeof value==='string'){value={href:value};}anchor=dom.getParent(selection.getNode(),'a');value.href=value.href.replace(' ','%20');if(!anchor||!value.href){formatter.remove('link');}if(value.href){formatter.apply('link',value,anchor);}},'selectAll':function(){var editingHost=dom.getParent(selection.getStart(),$_fy28ei1rjnlpax2o.isContentEditableTrue);if(editingHost){var rng=dom.createRng();rng.selectNodeContents(editingHost);selection.setRng(rng);}},'delete':function(){$_7ms0593sjnlpaxht.deleteCommand(editor);},'forwardDelete':function(){$_7ms0593sjnlpaxht.forwardDeleteCommand(editor);},'mceNewDocument':function(){editor.setContent('');},'InsertLineBreak':function(command,ui,value){$_ejrlhl4ljnlpaxpg.insert(editor,value);return true;}});var alignStates=function(name){return function(){var nodes=selection.isCollapsed()?[dom.getParent(selection.getNode(),dom.isBlock)]:selection.getSelectedBlocks();var matches=map$3(nodes,function(node){return!!formatter.matchNode(node,name);});return inArray$2(matches,true)!==-1;};};addCommands({'JustifyLeft':alignStates('alignleft'),'JustifyCenter':alignStates('aligncenter'),'JustifyRight':alignStates('alignright'),'JustifyFull':alignStates('alignjustify'),'Bold,Italic,Underline,Strikethrough,Superscript,Subscript':function(command){return isFormatMatch(command);},'mceBlockQuote':function(){return isFormatMatch('blockquote');},'Outdent':function(){var node;if(settings.inline_styles){if((node=dom.getParent(selection.getStart(),dom.isBlock))&&parseInt(node.style.paddingLeft,10)>0){return true;}if((node=dom.getParent(selection.getEnd(),dom.isBlock))&&parseInt(node.style.paddingLeft,10)>0){return true;}}return queryCommandState('InsertUnorderedList')||queryCommandState('InsertOrderedList')||!settings.inline_styles&&!!dom.getParent(selection.getNode(),'BLOCKQUOTE');},'InsertUnorderedList,InsertOrderedList':function(command){var list=dom.getParent(selection.getNode(),'ul,ol');return list&&(command==='insertunorderedlist'&&list.tagName==='UL'||command==='insertorderedlist'&&list.tagName==='OL');}},'state');addCommands({Undo:function(){editor.undoManager.undo();},Redo:function(){editor.undoManager.redo();}});addQueryValueHandler('FontName',function(){return fontNameQuery(editor);},this);addQueryValueHandler('FontSize',function(){return fontSizeQuery(editor);},this);}var nativeEvents=$_1q1txeljnlpawsa.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange '+'mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover '+'draggesture dragdrop drop drag submit '+'compositionstart compositionend compositionupdate touchstart touchmove touchend',' ');var Dispatcher=function(settings){var self=this;var scope,bindings={},toggleEvent;var returnFalse=function(){return false;};var returnTrue=function(){return true;};settings=settings||{};scope=settings.scope||self;toggleEvent=settings.toggleEvent||returnFalse;var fire=function(name,args){var handlers,i,l,callback;name=name.toLowerCase();args=args||{};args.type=name;if(!args.target){args.target=scope;}if(!args.preventDefault){args.preventDefault=function(){args.isDefaultPrevented=returnTrue;};args.stopPropagation=function(){args.isPropagationStopped=returnTrue;};args.stopImmediatePropagation=function(){args.isImmediatePropagationStopped=returnTrue;};args.isDefaultPrevented=returnFalse;args.isPropagationStopped=returnFalse;args.isImmediatePropagationStopped=returnFalse;}if(settings.beforeFire){settings.beforeFire(args);}handlers=bindings[name];if(handlers){for(i=0,l=handlers.length;i<l;i++){callback=handlers[i];if(callback.once){off(name,callback.func);}if(args.isImmediatePropagationStopped()){args.stopPropagation();return args;}if(callback.func.call(scope,args)===false){args.preventDefault();return args;}}}return args;};var on=function(name,callback,prepend,extra){var handlers,names,i;if(callback===false){callback=returnFalse;}if(callback){callback={func:callback};if(extra){$_1q1txeljnlpawsa.extend(callback,extra);}names=name.toLowerCase().split(' ');i=names.length;while(i--){name=names[i];handlers=bindings[name];if(!handlers){handlers=bindings[name]=[];toggleEvent(name,true);}if(prepend){handlers.unshift(callback);}else{handlers.push(callback);}}}return self;};var off=function(name,callback){var i,handlers,bindingName,names,hi;if(name){names=name.toLowerCase().split(' ');i=names.length;while(i--){name=names[i];handlers=bindings[name];if(!name){for(bindingName in bindings){toggleEvent(bindingName,false);delete bindings[bindingName];}return self;}if(handlers){if(!callback){handlers.length=0;}else{hi=handlers.length;while(hi--){if(handlers[hi].func===callback){handlers=handlers.slice(0,hi).concat(handlers.slice(hi+1));bindings[name]=handlers;}}}if(!handlers.length){toggleEvent(name,false);delete bindings[name];}}}}else{for(name in bindings){toggleEvent(name,false);}bindings={};}return self;};var once=function(name,callback,prepend){return on(name,callback,prepend,{once:true});};var has=function(name){name=name.toLowerCase();return!(!bindings[name]||bindings[name].length===0);};self.fire=fire;self.on=on;self.off=off;self.once=once;self.has=has;};Dispatcher.isNative=function(name){return!!nativeEvents[name.toLowerCase()];};var getEventDispatcher=function(obj){if(!obj._eventDispatcher){obj._eventDispatcher=new Dispatcher({scope:obj,toggleEvent:function(name,state){if(Dispatcher.isNative(name)&&obj.toggleNativeEvent){obj.toggleNativeEvent(name,state);}}});}return obj._eventDispatcher;};var $_c8v03c4tjnlpaxrw={fire:function(name,args,bubble){var self=this;if(self.removed&&name!=='remove'){return args;}args=getEventDispatcher(self).fire(name,args,bubble);if(bubble!==false&&self.parent){var parent=self.parent();while(parent&&!args.isPropagationStopped()){parent.fire(name,args,false);parent=parent.parent();}}return args;},on:function(name,callback,prepend){return getEventDispatcher(this).on(name,callback,prepend);},off:function(name,callback){return getEventDispatcher(this).off(name,callback);},once:function(name,callback){return getEventDispatcher(this).once(name,callback);},hasEventListeners:function(name){return getEventDispatcher(this).has(name);}};var firePreProcess=function(editor,args){return editor.fire('PreProcess',args);};var firePostProcess=function(editor,args){return editor.fire('PostProcess',args);};var fireRemove=function(editor){return editor.fire('remove');};var fireSwitchMode=function(editor,mode){return editor.fire('SwitchMode',{mode:mode});};var fireObjectResizeStart=function(editor,target,width,height){editor.fire('ObjectResizeStart',{target:target,width:width,height:height});};var fireObjectResized=function(editor,target,width,height){editor.fire('ObjectResized',{target:target,width:width,height:height});};var $_5atig84wjnlpaxs7={firePreProcess:firePreProcess,firePostProcess:firePostProcess,fireRemove:fireRemove,fireSwitchMode:fireSwitchMode,fireObjectResizeStart:fireObjectResizeStart,fireObjectResized:fireObjectResized};var setEditorCommandState=function(editor,cmd,state){try{editor.getDoc().execCommand(cmd,false,state);}catch(ex){}};var toggleClass=function(elm,cls,state){if($_fes8i223jnlpax5z.has(elm,cls)&&state===false){$_fes8i223jnlpax5z.remove(elm,cls);}else if(state){$_fes8i223jnlpax5z.add(elm,cls);}};var toggleReadOnly=function(editor,state){toggleClass(Element$$1.fromDom(editor.getBody()),'mce-content-readonly',state);if(state){editor.selection.controlSelection.hideResizeRect();editor.readonly=true;editor.getBody().contentEditable='false';}else{editor.readonly=false;editor.getBody().contentEditable='true';setEditorCommandState(editor,'StyleWithCSS',false);setEditorCommandState(editor,'enableInlineTableEditing',false);setEditorCommandState(editor,'enableObjectResizing',false);editor.focus();editor.nodeChanged();}};var setMode=function(editor,mode){if(mode===getMode(editor)){return;}if(editor.initialized){toggleReadOnly(editor,mode==='readonly');}else{editor.on('init',function(){toggleReadOnly(editor,mode==='readonly');});}$_5atig84wjnlpaxs7.fireSwitchMode(editor,mode);};var getMode=function(editor){return editor.readonly?'readonly':'design';};var isReadOnly=function(editor){return editor.readonly===true;};var DOM$1=DOMUtils$1.DOM;var customEventRootDelegates;var getEventTarget=function(editor,eventName){if(eventName==='selectionchange'){return editor.getDoc();}if(!editor.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)){return editor.getDoc().documentElement;}if(editor.settings.event_root){if(!editor.eventRoot){editor.eventRoot=DOM$1.select(editor.settings.event_root)[0];}return editor.eventRoot;}return editor.getBody();};var isListening=function(editor){return!editor.hidden&&!editor.readonly;};var fireEvent=function(editor,eventName,e){if(isListening(editor)){editor.fire(eventName,e);}else if(isReadOnly(editor)){e.preventDefault();}};var bindEventDelegate=function(editor,eventName){var eventRootElm,delegate;if(!editor.delegates){editor.delegates={};}if(editor.delegates[eventName]||editor.removed){return;}eventRootElm=getEventTarget(editor,eventName);if(editor.settings.event_root){if(!customEventRootDelegates){customEventRootDelegates={};editor.editorManager.on('removeEditor',function(){var name;if(!editor.editorManager.activeEditor){if(customEventRootDelegates){for(name in customEventRootDelegates){editor.dom.unbind(getEventTarget(editor,name));}customEventRootDelegates=null;}}});}if(customEventRootDelegates[eventName]){return;}delegate=function(e){var target=e.target;var editors=editor.editorManager.get();var i=editors.length;while(i--){var body=editors[i].getBody();if(body===target||DOM$1.isChildOf(target,body)){fireEvent(editors[i],eventName,e);}}};customEventRootDelegates[eventName]=delegate;DOM$1.bind(eventRootElm,eventName,delegate);}else{delegate=function(e){fireEvent(editor,eventName,e);};DOM$1.bind(eventRootElm,eventName,delegate);editor.delegates[eventName]=delegate;}};var EditorObservable={bindPendingEventDelegates:function(){var self=this;$_1q1txeljnlpawsa.each(self._pendingNativeEvents,function(name){bindEventDelegate(self,name);});},toggleNativeEvent:function(name,state){var self=this;if(name==='focus'||name==='blur'){return;}if(state){if(self.initialized){bindEventDelegate(self,name);}else{if(!self._pendingNativeEvents){self._pendingNativeEvents=[name];}else{self._pendingNativeEvents.push(name);}}}else if(self.initialized){self.dom.unbind(getEventTarget(self,name),name,self.delegates[name]);delete self.delegates[name];}},unbindAllNativeEvents:function(){var self=this;var body=self.getBody();var dom=self.dom;var name;if(self.delegates){for(name in self.delegates){self.dom.unbind(getEventTarget(self,name),name,self.delegates[name]);}delete self.delegates;}if(!self.inline&&body&&dom){body.onload=null;dom.unbind(self.getWin());dom.unbind(self.getDoc());}if(dom){dom.unbind(body);dom.unbind(self.getContainer());}}};EditorObservable=$_1q1txeljnlpawsa.extend({},$_c8v03c4tjnlpaxrw,EditorObservable);var EditorObservable$1=EditorObservable;var each$11=$_1q1txeljnlpawsa.each;var explode$2=$_1q1txeljnlpawsa.explode;var keyCodeLookup={f9:120,f10:121,f11:122};var modifierNames=$_1q1txeljnlpawsa.makeMap('alt,ctrl,shift,meta,access');function Shortcuts(editor){var self=this;var shortcuts={};var pendingPatterns=[];var parseShortcut=function(pattern){var id,key;var shortcut={};each$11(explode$2(pattern,'+'),function(value){if(value in modifierNames){shortcut[value]=true;}else{if(/^[0-9]{2,}$/.test(value)){shortcut.keyCode=parseInt(value,10);}else{shortcut.charCode=value.charCodeAt(0);shortcut.keyCode=keyCodeLookup[value]||value.toUpperCase().charCodeAt(0);}}});id=[shortcut.keyCode];for(key in modifierNames){if(shortcut[key]){id.push(key);}else{shortcut[key]=false;}}shortcut.id=id.join(',');if(shortcut.access){shortcut.alt=true;if($_cseqobajnlpawll.mac){shortcut.ctrl=true;}else{shortcut.shift=true;}}if(shortcut.meta){if($_cseqobajnlpawll.mac){shortcut.meta=true;}else{shortcut.ctrl=true;shortcut.meta=false;}}return shortcut;};var createShortcut=function(pattern,desc,cmdFunc,scope){var shortcuts;shortcuts=$_1q1txeljnlpawsa.map(explode$2(pattern,'>'),parseShortcut);shortcuts[shortcuts.length-1]=$_1q1txeljnlpawsa.extend(shortcuts[shortcuts.length-1],{func:cmdFunc,scope:scope||editor});return $_1q1txeljnlpawsa.extend(shortcuts[0],{desc:editor.translate(desc),subpatterns:shortcuts.slice(1)});};var hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey;};var isFunctionKey=function(e){return e.type==='keydown'&&e.keyCode>=112&&e.keyCode<=123;};var matchShortcut=function(e,shortcut){if(!shortcut){return false;}if(shortcut.ctrl!==e.ctrlKey||shortcut.meta!==e.metaKey){return false;}if(shortcut.alt!==e.altKey||shortcut.shift!==e.shiftKey){return false;}if(e.keyCode===shortcut.keyCode||e.charCode&&e.charCode===shortcut.charCode){e.preventDefault();return true;}return false;};var executeShortcutAction=function(shortcut){return shortcut.func?shortcut.func.call(shortcut.scope):null;};editor.on('keyup keypress keydown',function(e){if((hasModifier(e)||isFunctionKey(e))&&!e.isDefaultPrevented()){each$11(shortcuts,function(shortcut){if(matchShortcut(e,shortcut)){pendingPatterns=shortcut.subpatterns.slice(0);if(e.type==='keydown'){executeShortcutAction(shortcut);}return true;}});if(matchShortcut(e,pendingPatterns[0])){if(pendingPatterns.length===1){if(e.type==='keydown'){executeShortcutAction(pendingPatterns[0]);}}pendingPatterns.shift();}}});self.add=function(pattern,desc,cmdFunc,scope){var cmd;cmd=cmdFunc;if(typeof cmdFunc==='string'){cmdFunc=function(){editor.execCommand(cmd,false,null);};}else if($_1q1txeljnlpawsa.isArray(cmd)){cmdFunc=function(){editor.execCommand(cmd[0],cmd[1],cmd[2]);};}each$11(explode$2($_1q1txeljnlpawsa.trim(pattern.toLowerCase())),function(pattern){var shortcut=createShortcut(pattern,desc,cmdFunc,scope);shortcuts[shortcut.id]=shortcut;});return true;};self.remove=function(pattern){var shortcut=createShortcut(pattern);if(shortcuts[shortcut.id]){delete shortcuts[shortcut.id];return true;}return false;};}var any$1=function(predicate){return $_cs5qmd2ajnlpax6v.first(predicate).isSome();};var ancestor$3=function(scope,predicate,isRoot){return $_cs5qmd2ajnlpax6v.ancestor(scope,predicate,isRoot).isSome();};var closest$3=function(scope,predicate,isRoot){return $_cs5qmd2ajnlpax6v.closest(scope,predicate,isRoot).isSome();};var sibling$4=function(scope,predicate){return $_cs5qmd2ajnlpax6v.sibling(scope,predicate).isSome();};var child$4=function(scope,predicate){return $_cs5qmd2ajnlpax6v.child(scope,predicate).isSome();};var descendant$3=function(scope,predicate){return $_cs5qmd2ajnlpax6v.descendant(scope,predicate).isSome();};var $_f7rq0y50jnlpaxt3={any:any$1,ancestor:ancestor$3,closest:closest$3,sibling:sibling$4,child:child$4,descendant:descendant$3};var focus$$1=function(element){element.dom().focus();};var blur$$1=function(element){element.dom().blur();};var hasFocus=function(element){var doc=$_dr4ybh18jnlpawzt.owner(element).dom();return element.dom()===doc.activeElement;};var active=function(_doc){var doc=_doc!==undefined?_doc.dom():document;return Option.from(doc.activeElement).map(Element$$1.fromDom);};var focusInside=function(element){var doc=$_dr4ybh18jnlpawzt.owner(element);var inside=active(doc).filter(function(a){return $_f7rq0y50jnlpaxt3.closest(a,curry($_5h7cor1ejnlpax0k.eq,element));});inside.fold(function(){focus$$1(element);},noop);};var search=function(element){return active($_dr4ybh18jnlpawzt.owner(element)).filter(function(e){return element.dom().contains(e.dom());});};var $_9bj08p4zjnlpaxsp={hasFocus:hasFocus,focus:focus$$1,blur:blur$$1,active:active,search:search,focusInside:focusInside};var getContentEditableHost=function(editor,node){return editor.dom.getParent(node,function(node){return editor.dom.getContentEditable(node)==='true';});};var getCollapsedNode=function(rng){return rng.collapsed?Option.from(getNode(rng.startContainer,rng.startOffset)).map(Element$$1.fromDom):Option.none();};var getFocusInElement=function(root,rng){return getCollapsedNode(rng).bind(function(node){if(isTableSection(node)){return Option.some(node);}else if($_5h7cor1ejnlpax0k.contains(root,node)===false){return Option.some(root);}else{return Option.none();}});};var normalizeSelection=function(editor,rng){getFocusInElement(Element$$1.fromDom(editor.getBody()),rng).bind(function(elm){return $_32xcvk30jnlpaxbn.firstPositionIn(elm.dom());}).fold(function(){editor.selection.normalize();return;},function(caretPos){return editor.selection.setRng(caretPos.toRange());});};var focusBody=function(body){if(body.setActive){try{body.setActive();}catch(ex){body.focus();}}else{body.focus();}};var hasElementFocus=function(elm){return $_9bj08p4zjnlpaxsp.hasFocus(elm)||$_9bj08p4zjnlpaxsp.search(elm).isSome();};var hasIframeFocus=function(editor){return editor.iframeElement&&$_9bj08p4zjnlpaxsp.hasFocus(Element$$1.fromDom(editor.iframeElement));};var hasInlineFocus=function(editor){var rawBody=editor.getBody();return rawBody&&hasElementFocus(Element$$1.fromDom(rawBody));};var hasFocus$1=function(editor){return editor.inline?hasInlineFocus(editor):hasIframeFocus(editor);};var focusEditor=function(editor){var selection=editor.selection,contentEditable=editor.settings.content_editable;var body=editor.getBody();var rng=selection.getRng();editor.quirks.refreshContentEditable();var contentEditableHost=getContentEditableHost(editor,selection.getNode());if(editor.$.contains(body,contentEditableHost)){focusBody(contentEditableHost);normalizeSelection(editor,rng);activateEditor(editor);return;}if(editor.bookmark!==undefined&&hasFocus$1(editor)===false){$_13pqgk4ojnlpaxqr.getRng(editor).each(function(bookmarkRng){editor.selection.setRng(bookmarkRng);rng=bookmarkRng;});}if(!contentEditable){if(!$_cseqobajnlpawll.opera){focusBody(body);}editor.getWin().focus();}if($_cseqobajnlpawll.gecko||contentEditable){focusBody(body);normalizeSelection(editor,rng);}activateEditor(editor);};var activateEditor=function(editor){return editor.editorManager.setActive(editor);};var focus$1=function(editor,skipFocus){if(editor.removed){return;}skipFocus?activateEditor(editor):focusEditor(editor);};var $_8odu5n4yjnlpaxsg={focus:focus$1,hasFocus:hasFocus$1};var getProp=function(propName,elm){var rawElm=elm.dom();return rawElm[propName];};var getComputedSizeProp=function(propName,elm){return parseInt($_asiuhf13jnlpawvc.get(elm,propName),10);};var getClientWidth=curry(getProp,'clientWidth');var getClientHeight=curry(getProp,'clientHeight');var getMarginTop=curry(getComputedSizeProp,'margin-top');var getMarginLeft=curry(getComputedSizeProp,'margin-left');var getBoundingClientRect$1=function(elm){return elm.dom().getBoundingClientRect();};var isInsideElementContentArea=function(bodyElm,clientX,clientY){var clientWidth=getClientWidth(bodyElm);var clientHeight=getClientHeight(bodyElm);return clientX>=0&&clientY>=0&&clientX<=clientWidth&&clientY<=clientHeight;};var transpose=function(inline,elm,clientX,clientY){var clientRect=getBoundingClientRect$1(elm);var deltaX=inline?clientRect.left+elm.dom().clientLeft+getMarginLeft(elm):0;var deltaY=inline?clientRect.top+elm.dom().clientTop+getMarginTop(elm):0;var x=clientX-deltaX;var y=clientY-deltaY;return{x:x,y:y};};var isXYInContentArea=function(editor,clientX,clientY){var bodyElm=Element$$1.fromDom(editor.getBody());var targetElm=editor.inline?bodyElm:$_dr4ybh18jnlpawzt.documentElement(bodyElm);var transposedPoint=transpose(editor.inline,targetElm,clientX,clientY);return isInsideElementContentArea(targetElm,transposedPoint.x,transposedPoint.y);};var fromDomSafe=function(node){return Option.from(node).map(Element$$1.fromDom);};var isEditorAttachedToDom=function(editor){var rawContainer=editor.inline?editor.getBody():editor.getContentAreaContainer();return fromDomSafe(rawContainer).map(function(container){return $_5h7cor1ejnlpax0k.contains($_dr4ybh18jnlpawzt.owner(container),container);}).getOr(false);};var $_wem7o53jnlpaxtk={isXYInContentArea:isXYInContentArea,isEditorAttachedToDom:isEditorAttachedToDom};function NotificationManagerImpl(){var unimplemented=function(){throw new Error('Theme did not provide a NotificationManager implementation.');};return{open:unimplemented,close:unimplemented,reposition:unimplemented,getArgs:unimplemented};}function NotificationManager(editor){var notifications=[];var getImplementation=function(){var theme=editor.theme;return theme&&theme.getNotificationManagerImpl?theme.getNotificationManagerImpl():NotificationManagerImpl();};var getTopNotification=function(){return Option.from(notifications[0]);};var isEqual=function(a,b){return a.type===b.type&&a.text===b.text&&!a.progressBar&&!a.timeout&&!b.progressBar&&!b.timeout;};var reposition=function(){if(notifications.length>0){getImplementation().reposition(notifications);}};var addNotification=function(notification){notifications.push(notification);};var closeNotification=function(notification){findIndex(notifications,function(otherNotification){return otherNotification===notification;}).each(function(index){notifications.splice(index,1);});};var open=function(args){if(editor.removed||!$_wem7o53jnlpaxtk.isEditorAttachedToDom(editor)){return;}return find(notifications,function(notification){return isEqual(getImplementation().getArgs(notification),args);}).getOrThunk(function(){editor.editorManager.setActive(editor);var notification=getImplementation().open(args,function(){closeNotification(notification);reposition();});addNotification(notification);reposition();return notification;});};var close=function(){getTopNotification().each(function(notification){getImplementation().close(notification);closeNotification(notification);reposition();});};var getNotifications=function(){return notifications;};var registerEvents=function(editor){editor.on('SkinLoaded',function(){var serviceMessage=editor.settings.service_message;if(serviceMessage){open({text:serviceMessage,type:'warning',timeout:0,icon:''});}});editor.on('ResizeEditor ResizeWindow',function(){$_2nbnh1ijnlpawpi.requestAnimationFrame(reposition);});editor.on('remove',function(){each(notifications.slice(),function(notification){getImplementation().close(notification);});});};registerEvents(editor);return{open:open,close:close,getNotifications:getNotifications};}function WindowManagerImpl(){var unimplemented=function(){throw new Error('Theme did not provide a WindowManager implementation.');};return{open:unimplemented,alert:unimplemented,confirm:unimplemented,close:unimplemented,getParams:unimplemented,setParams:unimplemented};}function WindowManager(editor){var windows=[];var getImplementation=function(){var theme=editor.theme;return theme&&theme.getWindowManagerImpl?theme.getWindowManagerImpl():WindowManagerImpl();};var funcBind=function(scope,f){return function(){return f?f.apply(scope,arguments):undefined;};};var fireOpenEvent=function(win){editor.fire('OpenWindow',{win:win});};var fireCloseEvent=function(win){editor.fire('CloseWindow',{win:win});};var addWindow=function(win){windows.push(win);fireOpenEvent(win);};var closeWindow=function(win){findIndex(windows,function(otherWindow){return otherWindow===win;}).each(function(index){windows.splice(index,1);fireCloseEvent(win);if(windows.length===0){editor.focus();}});};var getTopWindow=function(){return Option.from(windows[windows.length-1]);};var open=function(args,params){editor.editorManager.setActive(editor);$_13pqgk4ojnlpaxqr.store(editor);var win=getImplementation().open(args,params,closeWindow);addWindow(win);return win;};var alert=function(message,callback,scope){var win=getImplementation().alert(message,funcBind(scope?scope:this,callback),closeWindow);addWindow(win);};var confirm=function(message,callback,scope){var win=getImplementation().confirm(message,funcBind(scope?scope:this,callback),closeWindow);addWindow(win);};var close=function(){getTopWindow().each(function(win){getImplementation().close(win);closeWindow(win);});};var getParams=function(){return getTopWindow().map(getImplementation().getParams).getOr(null);};var setParams=function(params){getTopWindow().each(function(win){getImplementation().setParams(win,params);});};var getWindows=function(){return windows;};editor.on('remove',function(){each(windows.slice(0),function(win){getImplementation().close(win);});});return{windows:windows,open:open,alert:alert,confirm:confirm,close:close,getParams:getParams,setParams:setParams,getWindows:getWindows};}var PluginManager=AddOnManager.PluginManager;var resolvePluginName=function(targetUrl,suffix){for(var name$$1 in PluginManager.urls){var matchUrl=PluginManager.urls[name$$1]+'/plugin'+suffix+'.js';if(matchUrl===targetUrl){return name$$1;}}return null;};var pluginUrlToMessage=function(editor,url){var plugin=resolvePluginName(url,editor.suffix);return plugin?'Failed to load plugin: '+plugin+' from url '+url:'Failed to load plugin url: '+url;};var displayNotification=function(editor,message){editor.notificationManager.open({type:'error',text:message});};var displayError=function(editor,message){if(editor._skinLoaded){displayNotification(editor,message);}else{editor.on('SkinLoaded',function(){displayNotification(editor,message);});}};var uploadError=function(editor,message){displayError(editor,'Failed to upload image: '+message);};var pluginLoadError=function(editor,url){displayError(editor,pluginUrlToMessage(editor,url));};var initError=function(message){var x=[];for(var _i=1;_i<arguments.length;_i++){x[_i-1]=arguments[_i];}var console$$1=window.console;if(console$$1){if(console$$1.error){console$$1.error.apply(console$$1,arguments);}else{console$$1.log.apply(console$$1,arguments);}}};var $_2xhw4u57jnlpaxu1={pluginLoadError:pluginLoadError,uploadError:uploadError,displayError:displayError,initError:initError};var PluginManager$1=AddOnManager.PluginManager;var ThemeManager=AddOnManager.ThemeManager;function XMLHttpRequest(){var f=$_3b2dlgcjnlpawlt.getOrDie('XMLHttpRequest');return new f();}function Uploader(uploadStatus,settings){var pendingPromises={};var pathJoin=function(path1,path2){if(path1){return path1.replace(/\\/$/,'')+'/'+path2.replace(/^\\//,'');}return path2;};var defaultHandler=function(blobInfo,success,failure,progress){var xhr,formData;xhr=XMLHttpRequest();xhr.open('POST',settings.url);xhr.withCredentials=settings.credentials;xhr.upload.onprogress=function(e){progress(e.loaded/e.total*100);};xhr.onerror=function(){failure('Image upload failed due to a XHR Transport error. Code: '+xhr.status);};xhr.onload=function(){var json;if(xhr.status<200||xhr.status>=300){failure('HTTP Error: '+xhr.status);return;}json=JSON.parse(xhr.responseText);if(!json||typeof json.location!=='string'){failure('Invalid JSON: '+xhr.responseText);return;}success(pathJoin(settings.basePath,json.location));};formData=new FormData();formData.append('file',blobInfo.blob(),blobInfo.filename());xhr.send(formData);};var noUpload=function(){return new promiseObj(function(resolve){resolve([]);});};var handlerSuccess=function(blobInfo,url){return{url:url,blobInfo:blobInfo,status:true};};var handlerFailure=function(blobInfo,error){return{url:'',blobInfo:blobInfo,status:false,error:error};};var resolvePending=function(blobUri,result){$_1q1txeljnlpawsa.each(pendingPromises[blobUri],function(resolve){resolve(result);});delete pendingPromises[blobUri];};var uploadBlobInfo=function(blobInfo,handler,openNotification){uploadStatus.markPending(blobInfo.blobUri());return new promiseObj(function(resolve){var notification,progress;var noop=function(){};try{var closeNotification_1=function(){if(notification){notification.close();progress=noop;}};var success=function(url){closeNotification_1();uploadStatus.markUploaded(blobInfo.blobUri(),url);resolvePending(blobInfo.blobUri(),handlerSuccess(blobInfo,url));resolve(handlerSuccess(blobInfo,url));};var failure=function(error){closeNotification_1();uploadStatus.removeFailed(blobInfo.blobUri());resolvePending(blobInfo.blobUri(),handlerFailure(blobInfo,error));resolve(handlerFailure(blobInfo,error));};progress=function(percent){if(percent<0||percent>100){return;}if(!notification){notification=openNotification();}notification.progressBar.value(percent);};handler(blobInfo,success,failure,progress);}catch(ex){resolve(handlerFailure(blobInfo,ex.message));}});};var isDefaultHandler=function(handler){return handler===defaultHandler;};var pendingUploadBlobInfo=function(blobInfo){var blobUri=blobInfo.blobUri();return new promiseObj(function(resolve){pendingPromises[blobUri]=pendingPromises[blobUri]||[];pendingPromises[blobUri].push(resolve);});};var uploadBlobs=function(blobInfos,openNotification){blobInfos=$_1q1txeljnlpawsa.grep(blobInfos,function(blobInfo){return!uploadStatus.isUploaded(blobInfo.blobUri());});return promiseObj.all($_1q1txeljnlpawsa.map(blobInfos,function(blobInfo){return uploadStatus.isPending(blobInfo.blobUri())?pendingUploadBlobInfo(blobInfo):uploadBlobInfo(blobInfo,settings.handler,openNotification);}));};var upload=function(blobInfos,openNotification){return!settings.url&&isDefaultHandler(settings.handler)?noUpload():uploadBlobs(blobInfos,openNotification);};if(isFunction(settings.handler)===false){settings.handler=defaultHandler;}return{upload:upload};}function FileReader(){var f=$_3b2dlgcjnlpawlt.getOrDie('FileReader');return new f();}function Uint8Array(arr){var f=$_3b2dlgcjnlpawlt.getOrDie('Uint8Array');return new f(arr);}var requestAnimationFrame$1=function(callback){var f=$_3b2dlgcjnlpawlt.getOrDie('requestAnimationFrame');f(callback);};var atob=function(base64){var f=$_3b2dlgcjnlpawlt.getOrDie('atob');return f(base64);};var $_7fz2a15jjnlpaxvr={atob:atob,requestAnimationFrame:requestAnimationFrame$1};var blobUriToBlob=function(url){return new promiseObj(function(resolve,reject){var rejectWithError=function(){reject('Cannot convert '+url+' to Blob. Resource might not exist or is inaccessible.');};try{var xhr=XMLHttpRequest();xhr.open('GET',url,true);xhr.responseType='blob';xhr.onload=function(){if(this.status===200){resolve(this.response);}else{rejectWithError();}};xhr.onerror=rejectWithError;xhr.send();}catch(ex){rejectWithError();}});};var parseDataUri=function(uri){var type,matches;var uriParts=decodeURIComponent(uri).split(',');matches=/data:([^;]+)/.exec(uriParts[0]);if(matches){type=matches[1];}return{type:type,data:uriParts[1]};};var dataUriToBlob=function(uri){return new promiseObj(function(resolve){var str,arr,i;var uriParts=parseDataUri(uri);try{str=$_7fz2a15jjnlpaxvr.atob(uriParts.data);}catch(e){resolve(new Blob([]));return;}arr=Uint8Array(str.length);for(i=0;i<arr.length;i++){arr[i]=str.charCodeAt(i);}resolve(new Blob([arr],{type:uriParts.type}));});};var uriToBlob=function(url){if(url.indexOf('blob:')===0){return blobUriToBlob(url);}if(url.indexOf('data:')===0){return dataUriToBlob(url);}return null;};var blobToDataUri=function(blob){return new promiseObj(function(resolve){var reader=FileReader();reader.onloadend=function(){resolve(reader.result);};reader.readAsDataURL(blob);});};var $_4ygjjg5gjnlpaxvh={uriToBlob:uriToBlob,blobToDataUri:blobToDataUri,parseDataUri:parseDataUri};var count=0;var uniqueId=function(prefix){return(prefix||'blobid')+count++;};var imageToBlobInfo=function(blobCache,img,resolve,reject){var base64,blobInfo;if(img.src.indexOf('blob:')===0){blobInfo=blobCache.getByUri(img.src);if(blobInfo){resolve({image:img,blobInfo:blobInfo});}else{$_4ygjjg5gjnlpaxvh.uriToBlob(img.src).then(function(blob){$_4ygjjg5gjnlpaxvh.blobToDataUri(blob).then(function(dataUri){base64=$_4ygjjg5gjnlpaxvh.parseDataUri(dataUri).data;blobInfo=blobCache.create(uniqueId(),blob,base64);blobCache.add(blobInfo);resolve({image:img,blobInfo:blobInfo});});},function(err){reject(err);});}return;}base64=$_4ygjjg5gjnlpaxvh.parseDataUri(img.src).data;blobInfo=blobCache.findFirst(function(cachedBlobInfo){return cachedBlobInfo.base64()===base64;});if(blobInfo){resolve({image:img,blobInfo:blobInfo});}else{$_4ygjjg5gjnlpaxvh.uriToBlob(img.src).then(function(blob){blobInfo=blobCache.create(uniqueId(),blob,base64);blobCache.add(blobInfo);resolve({image:img,blobInfo:blobInfo});},function(err){reject(err);});}};var getAllImages=function(elm){return elm?elm.getElementsByTagName('img'):[];};function ImageScanner(uploadStatus,blobCache){var cachedPromises={};var findAll=function(elm,predicate){var images;if(!predicate){predicate=$_dv6bef2njnlpax9l.constant(true);}images=$_n452lmjnlpawsj.filter(getAllImages(elm),function(img){var src=img.src;if(!$_cseqobajnlpawll.fileApi){return false;}if(img.hasAttribute('data-mce-bogus')){return false;}if(img.hasAttribute('data-mce-placeholder')){return false;}if(!src||src===$_cseqobajnlpawll.transparentSrc){return false;}if(src.indexOf('blob:')===0){return!uploadStatus.isUploaded(src)&&predicate(img);}if(src.indexOf('data:')===0){return predicate(img);}return false;});var promises=$_n452lmjnlpawsj.map(images,function(img){if(cachedPromises[img.src]){return new promiseObj(function(resolve){cachedPromises[img.src].then(function(imageInfo){if(typeof imageInfo==='string'){return imageInfo;}resolve({image:img,blobInfo:imageInfo.blobInfo});});});}var newPromise=new promiseObj(function(resolve,reject){imageToBlobInfo(blobCache,img,resolve,reject);}).then(function(result){delete cachedPromises[result.image.src];return result;}).catch(function(error){delete cachedPromises[img.src];return error;});cachedPromises[img.src]=newPromise;return newPromise;});return promiseObj.all(promises);};return{findAll:findAll};}var count$1=0;var seed=function(){var rnd=function(){return Math.round(Math.random()*4294967295).toString(36);};var now=new Date().getTime();return's'+now.toString(36)+rnd()+rnd()+rnd();};var uuid=function(prefix){return prefix+count$1++ +seed();};var $_cb5mec5ljnlpaxvz={uuid:uuid};function BlobCache(){var cache=[];var constant=$_dv6bef2njnlpax9l.constant;var mimeToExt=function(mime){var mimes={'image/jpeg':'jpg','image/jpg':'jpg','image/gif':'gif','image/png':'png'};return mimes[mime.toLowerCase()]||'dat';};var create=function(o,blob,base64,filename){if(isString(o)){var id=o;return toBlobInfo({id:id,name:filename,blob:blob,base64:base64});}else if(isObject(o)){return toBlobInfo(o);}else{throw new Error('Unknown input type');}};var toBlobInfo=function(o){var id,name;if(!o.blob||!o.base64){throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');}id=o.id||$_cb5mec5ljnlpaxvz.uuid('blobid');name=o.name||id;return{id:constant(id),name:constant(name),filename:constant(name+'.'+mimeToExt(o.blob.type)),blob:constant(o.blob),base64:constant(o.base64),blobUri:constant(o.blobUri||$_9khkh7bjnlpawls.createObjectURL(o.blob)),uri:constant(o.uri)};};var add=function(blobInfo){if(!get(blobInfo.id())){cache.push(blobInfo);}};var get=function(id){return findFirst(function(cachedBlobInfo){return cachedBlobInfo.id()===id;});};var findFirst=function(predicate){return $_n452lmjnlpawsj.filter(cache,predicate)[0];};var getByUri=function(blobUri){return findFirst(function(blobInfo){return blobInfo.blobUri()===blobUri;});};var removeByUri=function(blobUri){cache=$_n452lmjnlpawsj.filter(cache,function(blobInfo){if(blobInfo.blobUri()===blobUri){$_9khkh7bjnlpawls.revokeObjectURL(blobInfo.blobUri());return false;}return true;});};var destroy=function(){$_n452lmjnlpawsj.each(cache,function(cachedBlobInfo){$_9khkh7bjnlpawls.revokeObjectURL(cachedBlobInfo.blobUri());});cache=[];};return{create:create,add:add,get:get,getByUri:getByUri,findFirst:findFirst,removeByUri:removeByUri,destroy:destroy};}function UploadStatus(){var PENDING=1,UPLOADED=2;var blobUriStatuses={};var createStatus=function(status,resultUri){return{status:status,resultUri:resultUri};};var hasBlobUri=function(blobUri){return blobUri in blobUriStatuses;};var getResultUri=function(blobUri){var result=blobUriStatuses[blobUri];return result?result.resultUri:null;};var isPending=function(blobUri){return hasBlobUri(blobUri)?blobUriStatuses[blobUri].status===PENDING:false;};var isUploaded=function(blobUri){return hasBlobUri(blobUri)?blobUriStatuses[blobUri].status===UPLOADED:false;};var markPending=function(blobUri){blobUriStatuses[blobUri]=createStatus(PENDING,null);};var markUploaded=function(blobUri,resultUri){blobUriStatuses[blobUri]=createStatus(UPLOADED,resultUri);};var removeFailed=function(blobUri){delete blobUriStatuses[blobUri];};var destroy=function(){blobUriStatuses={};};return{hasBlobUri:hasBlobUri,getResultUri:getResultUri,isPending:isPending,isUploaded:isUploaded,markPending:markPending,markUploaded:markUploaded,removeFailed:removeFailed,destroy:destroy};}function EditorUpload(editor){var blobCache=BlobCache();var uploader,imageScanner;var uploadStatus=UploadStatus();var urlFilters=[];var aliveGuard=function(callback){return function(result){if(editor.selection){return callback(result);}return[];};};var cacheInvalidator=function(){return'?'+new Date().getTime();};var replaceString=function(content,search,replace){var index=0;do{index=content.indexOf(search,index);if(index!==-1){content=content.substring(0,index)+replace+content.substr(index+search.length);index+=replace.length-search.length+1;}}while(index!==-1);return content;};var replaceImageUrl=function(content,targetUrl,replacementUrl){content=replaceString(content,'src=\"'+targetUrl+'\"','src=\"'+replacementUrl+'\"');content=replaceString(content,'data-mce-src=\"'+targetUrl+'\"','data-mce-src=\"'+replacementUrl+'\"');return content;};var replaceUrlInUndoStack=function(targetUrl,replacementUrl){each(editor.undoManager.data,function(level){if(level.type==='fragmented'){level.fragments=map(level.fragments,function(fragment){return replaceImageUrl(fragment,targetUrl,replacementUrl);});}else{level.content=replaceImageUrl(level.content,targetUrl,replacementUrl);}});};var openNotification=function(){return editor.notificationManager.open({text:editor.translate('Image uploading...'),type:'info',timeout:-1,progressBar:true});};var replaceImageUri=function(image,resultUri){blobCache.removeByUri(image.src);replaceUrlInUndoStack(image.src,resultUri);editor.$(image).attr({'src':$_c6e09z3ajnlpaxek.shouldReuseFileName(editor)?resultUri+cacheInvalidator():resultUri,'data-mce-src':editor.convertURL(resultUri,'src')});};var uploadImages=function(callback){if(!uploader){uploader=Uploader(uploadStatus,{url:$_c6e09z3ajnlpaxek.getImageUploadUrl(editor),basePath:$_c6e09z3ajnlpaxek.getImageUploadBasePath(editor),credentials:$_c6e09z3ajnlpaxek.getImagesUploadCredentials(editor),handler:$_c6e09z3ajnlpaxek.getImagesUploadHandler(editor)});}return scanForImages().then(aliveGuard(function(imageInfos){var blobInfos;blobInfos=map(imageInfos,function(imageInfo){return imageInfo.blobInfo;});return uploader.upload(blobInfos,openNotification).then(aliveGuard(function(result){var filteredResult=map(result,function(uploadInfo,index){var image=imageInfos[index].image;if(uploadInfo.status&&$_c6e09z3ajnlpaxek.shouldReplaceBlobUris(editor)){replaceImageUri(image,uploadInfo.url);}else if(uploadInfo.error){$_2xhw4u57jnlpaxu1.uploadError(editor,uploadInfo.error);}return{element:image,status:uploadInfo.status};});if(callback){callback(filteredResult);}return filteredResult;}));}));};var uploadImagesAuto=function(callback){if($_c6e09z3ajnlpaxek.isAutomaticUploadsEnabled(editor)){return uploadImages(callback);}};var isValidDataUriImage=function(imgElm){if(forall(urlFilters,function(filter$$1){return filter$$1(imgElm);})===false){return false;}if(imgElm.getAttribute('src').indexOf('data:')===0){var dataImgFilter=$_c6e09z3ajnlpaxek.getImagesDataImgFilter(editor);return dataImgFilter(imgElm);}return true;};var addFilter=function(filter$$1){urlFilters.push(filter$$1);};var scanForImages=function(){if(!imageScanner){imageScanner=ImageScanner(uploadStatus,blobCache);}return imageScanner.findAll(editor.getBody(),isValidDataUriImage).then(aliveGuard(function(result){result=filter(result,function(resultItem){if(typeof resultItem==='string'){$_2xhw4u57jnlpaxu1.displayError(editor,resultItem);return false;}return true;});each(result,function(resultItem){replaceUrlInUndoStack(resultItem.image.src,resultItem.blobInfo.blobUri());resultItem.image.src=resultItem.blobInfo.blobUri();resultItem.image.removeAttribute('data-mce-src');});return result;}));};var destroy=function(){blobCache.destroy();uploadStatus.destroy();imageScanner=uploader=null;};var replaceBlobUris=function(content){return content.replace(/src=\"(blob:[^\"]+)\"/g,function(match,blobUri){var resultUri=uploadStatus.getResultUri(blobUri);if(resultUri){return'src=\"'+resultUri+'\"';}var blobInfo=blobCache.getByUri(blobUri);if(!blobInfo){blobInfo=foldl(editor.editorManager.get(),function(result,editor){return result||editor.editorUpload&&editor.editorUpload.blobCache.getByUri(blobUri);},null);}if(blobInfo){var blob=blobInfo.blob();return'src=\"data:'+blob.type+';base64,'+blobInfo.base64()+'\"';}return match;});};editor.on('setContent',function(){if($_c6e09z3ajnlpaxek.isAutomaticUploadsEnabled(editor)){uploadImagesAuto();}else{scanForImages();}});editor.on('RawSaveContent',function(e){e.content=replaceBlobUris(e.content);});editor.on('getContent',function(e){if(e.source_view||e.format==='raw'){return;}e.content=replaceBlobUris(e.content);});editor.on('PostRender',function(){editor.parser.addNodeFilter('img',function(images){each(images,function(img){var src=img.attr('src');if(blobCache.getByUri(src)){return;}var resultUri=uploadStatus.getResultUri(src);if(resultUri){img.attr('src',resultUri);}});});});return{blobCache:blobCache,addFilter:addFilter,uploadImages:uploadImages,uploadImagesAuto:uploadImagesAuto,scanForImages:scanForImages,destroy:destroy};}var isBlockElement=function(blockElements,node){return blockElements.hasOwnProperty(node.nodeName);};var isValidTarget=function(blockElements,node){if($_fy28ei1rjnlpax2o.isText(node)){return true;}else if($_fy28ei1rjnlpax2o.isElement(node)){return!isBlockElement(blockElements,node)&&!$_43l8qj2xjnlpaxb1.isBookmarkNode(node);}else{return false;}};var hasBlockParent=function(blockElements,root,node){return exists($_4b88sj42jnlpaxkd.parents(Element$$1.fromDom(node),Element$$1.fromDom(root)),function(elm){return isBlockElement(blockElements,elm.dom());});};var shouldRemoveTextNode=function(blockElements,node){if($_fy28ei1rjnlpax2o.isText(node)){if(node.nodeValue.length===0){return true;}else if(/^\\s+$/.test(node.nodeValue)&&(!node.nextSibling||isBlockElement(blockElements,node.nextSibling))){return true;}}return false;};var addRootBlocks=function(editor){var settings=editor.settings,dom=editor.dom,selection=editor.selection;var schema=editor.schema,blockElements=schema.getBlockElements();var node=selection.getStart();var rootNode=editor.getBody();var rng;var startContainer,startOffset,endContainer,endOffset,rootBlockNode;var tempNode,wrapped,restoreSelection;var rootNodeName,forcedRootBlock;forcedRootBlock=settings.forced_root_block;if(!node||!$_fy28ei1rjnlpax2o.isElement(node)||!forcedRootBlock){return;}rootNodeName=rootNode.nodeName.toLowerCase();if(!schema.isValidChild(rootNodeName,forcedRootBlock.toLowerCase())||hasBlockParent(blockElements,rootNode,node)){return;}rng=selection.getRng();startContainer=rng.startContainer;startOffset=rng.startOffset;endContainer=rng.endContainer;endOffset=rng.endOffset;restoreSelection=$_8odu5n4yjnlpaxsg.hasFocus(editor);node=rootNode.firstChild;while(node){if(isValidTarget(blockElements,node)){if(shouldRemoveTextNode(blockElements,node)){tempNode=node;node=node.nextSibling;dom.remove(tempNode);continue;}if(!rootBlockNode){rootBlockNode=dom.create(forcedRootBlock,editor.settings.forced_root_block_attrs);node.parentNode.insertBefore(rootBlockNode,node);wrapped=true;}tempNode=node;node=node.nextSibling;rootBlockNode.appendChild(tempNode);}else{rootBlockNode=null;node=node.nextSibling;}}if(wrapped&&restoreSelection){rng.setStart(startContainer,startOffset);rng.setEnd(endContainer,endOffset);selection.setRng(rng);editor.nodeChanged();}};var setup$2=function(editor){if(editor.settings.forced_root_block){editor.on('NodeChange',curry(addRootBlocks,editor));}};var $_cjqvqq5njnlpaxw3={setup:setup$2};var getStartNode=function(rng){var sc=rng.startContainer,so=rng.startOffset;if($_fy28ei1rjnlpax2o.isText(sc)){return so===0?Option.some(Element$$1.fromDom(sc)):Option.none();}else{return Option.from(sc.childNodes[so]).map(Element$$1.fromDom);}};var getEndNode=function(rng){var ec=rng.endContainer,eo=rng.endOffset;if($_fy28ei1rjnlpax2o.isText(ec)){return eo===ec.data.length?Option.some(Element$$1.fromDom(ec)):Option.none();}else{return Option.from(ec.childNodes[eo-1]).map(Element$$1.fromDom);}};var getFirstChildren=function(node){return $_dr4ybh18jnlpawzt.firstChild(node).fold(constant([node]),function(child){return[node].concat(getFirstChildren(child));});};var getLastChildren$1=function(node){return $_dr4ybh18jnlpawzt.lastChild(node).fold(constant([node]),function(child){if($_7u5fzs11jnlpawv6.name(child)==='br'){return $_dr4ybh18jnlpawzt.prevSibling(child).map(function(sibling){return[node].concat(getLastChildren$1(sibling));}).getOr([]);}else{return[node].concat(getLastChildren$1(child));}});};var hasAllContentsSelected=function(elm,rng){return liftN([getStartNode(rng),getEndNode(rng)],function(startNode,endNode){var start=find(getFirstChildren(elm),curry($_5h7cor1ejnlpax0k.eq,startNode));var end=find(getLastChildren$1(elm),curry($_5h7cor1ejnlpax0k.eq,endNode));return start.isSome()&&end.isSome();}).getOr(false);};var moveEndPoint$1=function(dom,rng,node,start){var root=node,walker=new TreeWalker(node,root);var nonEmptyElementsMap=dom.schema.getNonEmptyElements();do{if(node.nodeType===3&&$_1q1txeljnlpawsa.trim(node.nodeValue).length!==0){if(start){rng.setStart(node,0);}else{rng.setEnd(node,node.nodeValue.length);}return;}if(nonEmptyElementsMap[node.nodeName]&&!/^(TD|TH)$/.test(node.nodeName)){if(start){rng.setStartBefore(node);}else{if(node.nodeName==='BR'){rng.setEndBefore(node);}else{rng.setEndAfter(node);}}return;}if($_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie<11&&dom.isBlock(node)&&dom.isEmpty(node)){if(start){rng.setStart(node,0);}else{rng.setEnd(node,0);}return;}}while(node=start?walker.next():walker.prev());if(root.nodeName==='BODY'){if(start){rng.setStart(root,0);}else{rng.setEnd(root,root.childNodes.length);}}};var hasAnyRanges=function(editor){var sel=editor.selection.getSel();return sel&&sel.rangeCount>0;};function NodeChange(editor){var lastRng,lastPath=[];var isSameElementPath=function(startElm){var i,currentPath;currentPath=editor.$(startElm).parentsUntil(editor.getBody()).add(startElm);if(currentPath.length===lastPath.length){for(i=currentPath.length;i>=0;i--){if(currentPath[i]!==lastPath[i]){break;}}if(i===-1){lastPath=currentPath;return true;}}lastPath=currentPath;return false;};if(!('onselectionchange'in editor.getDoc())){editor.on('NodeChange Click MouseUp KeyUp Focus',function(e){var nativeRng,fakeRng;nativeRng=editor.selection.getRng();fakeRng={startContainer:nativeRng.startContainer,startOffset:nativeRng.startOffset,endContainer:nativeRng.endContainer,endOffset:nativeRng.endOffset};if(e.type==='nodechange'||!$_3s8g9y4njnlpaxqj.isEq(fakeRng,lastRng)){editor.fire('SelectionChange');}lastRng=fakeRng;});}editor.on('contextmenu',function(){editor.fire('SelectionChange');});editor.on('SelectionChange',function(){var startElm=editor.selection.getStart(true);if(!startElm||!$_cseqobajnlpawll.range&&editor.selection.isCollapsed()){return;}if(hasAnyRanges(editor)&&!isSameElementPath(startElm)&&editor.dom.isChildOf(startElm,editor.getBody())){editor.nodeChanged({selectionChange:true});}});editor.on('MouseUp',function(e){if(!e.isDefaultPrevented()&&hasAnyRanges(editor)){if(editor.selection.getNode().nodeName==='IMG'){$_2nbnh1ijnlpawpi.setEditorTimeout(editor,function(){editor.nodeChanged();});}else{editor.nodeChanged();}}});this.nodeChanged=function(args){var selection=editor.selection;var node,parents,root;if(editor.initialized&&selection&&!editor.settings.disable_nodechange&&!editor.readonly){root=editor.getBody();node=selection.getStart(true)||root;if(node.ownerDocument!==editor.getDoc()||!editor.dom.isChildOf(node,root)){node=root;}parents=[];editor.dom.getParent(node,function(node){if(node===root){return true;}parents.push(node);});args=args||{};args.element=node;args.parents=parents;editor.fire('NodeChange',args);}};}var getAbsolutePosition=function(elm){var doc,docElem,win,clientRect;clientRect=elm.getBoundingClientRect();doc=elm.ownerDocument;docElem=doc.documentElement;win=doc.defaultView;return{top:clientRect.top+win.pageYOffset-docElem.clientTop,left:clientRect.left+win.pageXOffset-docElem.clientLeft};};var getBodyPosition=function(editor){return editor.inline?getAbsolutePosition(editor.getBody()):{left:0,top:0};};var getScrollPosition=function(editor){var body=editor.getBody();return editor.inline?{left:body.scrollLeft,top:body.scrollTop}:{left:0,top:0};};var getBodyScroll=function(editor){var body=editor.getBody(),docElm=editor.getDoc().documentElement;var inlineScroll={left:body.scrollLeft,top:body.scrollTop};var iframeScroll={left:body.scrollLeft||docElm.scrollLeft,top:body.scrollTop||docElm.scrollTop};return editor.inline?inlineScroll:iframeScroll;};var getMousePosition=function(editor,event){if(event.target.ownerDocument!==editor.getDoc()){var iframePosition=getAbsolutePosition(editor.getContentAreaContainer());var scrollPosition=getBodyScroll(editor);return{left:event.pageX-iframePosition.left+scrollPosition.left,top:event.pageY-iframePosition.top+scrollPosition.top};}return{left:event.pageX,top:event.pageY};};var calculatePosition=function(bodyPosition,scrollPosition,mousePosition){return{pageX:mousePosition.left-bodyPosition.left+scrollPosition.left,pageY:mousePosition.top-bodyPosition.top+scrollPosition.top};};var calc=function(editor,event){return calculatePosition(getBodyPosition(editor),getScrollPosition(editor),getMousePosition(editor,event));};var $_d639a65sjnlpaxxw={calc:calc};var isContentEditableFalse$7=$_fy28ei1rjnlpax2o.isContentEditableFalse;var isContentEditableTrue$4=$_fy28ei1rjnlpax2o.isContentEditableTrue;var isDraggable=function(rootElm,elm){return isContentEditableFalse$7(elm)&&elm!==rootElm;};var isValidDropTarget=function(editor,targetElement,dragElement){if(targetElement===dragElement||editor.dom.isChildOf(targetElement,dragElement)){return false;}if(isContentEditableFalse$7(targetElement)){return false;}return true;};var cloneElement=function(elm){var cloneElm=elm.cloneNode(true);cloneElm.removeAttribute('data-mce-selected');return cloneElm;};var createGhost=function(editor,elm,width,height){var clonedElm=elm.cloneNode(true);editor.dom.setStyles(clonedElm,{width:width,height:height});editor.dom.setAttrib(clonedElm,'data-mce-selected',null);var ghostElm=editor.dom.create('div',{'class':'mce-drag-container','data-mce-bogus':'all','unselectable':'on','contenteditable':'false'});editor.dom.setStyles(ghostElm,{position:'absolute',opacity:0.5,overflow:'hidden',border:0,padding:0,margin:0,width:width,height:height});editor.dom.setStyles(clonedElm,{margin:0,boxSizing:'border-box'});ghostElm.appendChild(clonedElm);return ghostElm;};var appendGhostToBody=function(ghostElm,bodyElm){if(ghostElm.parentNode!==bodyElm){bodyElm.appendChild(ghostElm);}};var moveGhost=function(ghostElm,position,width,height,maxX,maxY){var overflowX=0,overflowY=0;ghostElm.style.left=position.pageX+'px';ghostElm.style.top=position.pageY+'px';if(position.pageX+width>maxX){overflowX=position.pageX+width-maxX;}if(position.pageY+height>maxY){overflowY=position.pageY+height-maxY;}ghostElm.style.width=width-overflowX+'px';ghostElm.style.height=height-overflowY+'px';};var removeElement=function(elm){if(elm&&elm.parentNode){elm.parentNode.removeChild(elm);}};var isLeftMouseButtonPressed=function(e){return e.button===0;};var hasDraggableElement=function(state){return state.element;};var applyRelPos=function(state,position){return{pageX:position.pageX-state.relX,pageY:position.pageY+5};};var start$1=function(state,editor){return function(e){if(isLeftMouseButtonPressed(e)){var ceElm=$_n452lmjnlpawsj.find(editor.dom.getParents(e.target),$_dv6bef2njnlpax9l.or(isContentEditableFalse$7,isContentEditableTrue$4));if(isDraggable(editor.getBody(),ceElm)){var elmPos=editor.dom.getPos(ceElm);var bodyElm=editor.getBody();var docElm=editor.getDoc().documentElement;state.element=ceElm;state.screenX=e.screenX;state.screenY=e.screenY;state.maxX=(editor.inline?bodyElm.scrollWidth:docElm.offsetWidth)-2;state.maxY=(editor.inline?bodyElm.scrollHeight:docElm.offsetHeight)-2;state.relX=e.pageX-elmPos.x;state.relY=e.pageY-elmPos.y;state.width=ceElm.offsetWidth;state.height=ceElm.offsetHeight;state.ghost=createGhost(editor,ceElm,state.width,state.height);}}};};var move$1=function(state,editor){var throttledPlaceCaretAt=$_2nbnh1ijnlpawpi.throttle(function(clientX,clientY){editor._selectionOverrides.hideFakeCaret();editor.selection.placeCaretAt(clientX,clientY);},0);return function(e){var movement=Math.max(Math.abs(e.screenX-state.screenX),Math.abs(e.screenY-state.screenY));if(hasDraggableElement(state)&&!state.dragging&&movement>10){var args=editor.fire('dragstart',{target:state.element});if(args.isDefaultPrevented()){return;}state.dragging=true;editor.focus();}if(state.dragging){var targetPos=applyRelPos(state,$_d639a65sjnlpaxxw.calc(editor,e));appendGhostToBody(state.ghost,editor.getBody());moveGhost(state.ghost,targetPos,state.width,state.height,state.maxX,state.maxY);throttledPlaceCaretAt(e.clientX,e.clientY);}};};var getRawTarget=function(selection){var rng=selection.getSel().getRangeAt(0);var startContainer=rng.startContainer;return startContainer.nodeType===3?startContainer.parentNode:startContainer;};var drop=function(state,editor){return function(e){if(state.dragging){if(isValidDropTarget(editor,getRawTarget(editor.selection),state.element)){var targetClone_1=cloneElement(state.element);var args=editor.fire('drop',{targetClone:targetClone_1,clientX:e.clientX,clientY:e.clientY});if(!args.isDefaultPrevented()){targetClone_1=args.targetClone;editor.undoManager.transact(function(){removeElement(state.element);editor.insertContent(editor.dom.getOuterHTML(targetClone_1));editor._selectionOverrides.hideFakeCaret();});}}}removeDragState(state);};};var stop$$1=function(state,editor){return function(){if(state.dragging){editor.fire('dragend');}removeDragState(state);};};var removeDragState=function(state){state.dragging=false;state.element=null;removeElement(state.ghost);};var bindFakeDragEvents=function(editor){var state={};var pageDom,dragStartHandler,dragHandler,dropHandler,dragEndHandler,rootDocument;pageDom=DOMUtils$1.DOM;rootDocument=document;dragStartHandler=start$1(state,editor);dragHandler=move$1(state,editor);dropHandler=drop(state,editor);dragEndHandler=stop$$1(state,editor);editor.on('mousedown',dragStartHandler);editor.on('mousemove',dragHandler);editor.on('mouseup',dropHandler);pageDom.bind(rootDocument,'mousemove',dragHandler);pageDom.bind(rootDocument,'mouseup',dragEndHandler);editor.on('remove',function(){pageDom.unbind(rootDocument,'mousemove',dragHandler);pageDom.unbind(rootDocument,'mouseup',dragEndHandler);});};var blockIeDrop=function(editor){editor.on('drop',function(e){var realTarget=typeof e.clientX!=='undefined'?editor.getDoc().elementFromPoint(e.clientX,e.clientY):null;if(isContentEditableFalse$7(realTarget)||isContentEditableFalse$7(editor.dom.getContentEditableParent(realTarget))){e.preventDefault();}});};var init=function(editor){bindFakeDragEvents(editor);blockIeDrop(editor);};var $_5gate55rjnlpaxxq={init:init};var getNodeClientRects=function(node){var toArrayWithNode=function(clientRects){return $_n452lmjnlpawsj.map(clientRects,function(clientRect){clientRect=clone$2(clientRect);clientRect.node=node;return clientRect;});};if($_fy28ei1rjnlpax2o.isElement(node)){return toArrayWithNode(node.getClientRects());}if($_fy28ei1rjnlpax2o.isText(node)){var rng=node.ownerDocument.createRange();rng.setStart(node,0);rng.setEnd(node,node.data.length);return toArrayWithNode(rng.getClientRects());}};var getClientRects=function(node){return $_n452lmjnlpawsj.reduce(node,function(result,node){return result.concat(getNodeClientRects(node));},[]);};var VDirection;(function(VDirection){VDirection[VDirection['Up']=-1]='Up';VDirection[VDirection['Down']=1]='Down';})(VDirection||(VDirection={}));var findUntil=function(direction,root,predicateFn,node){while(node=findNode(node,direction,isEditableCaretCandidate,root)){if(predicateFn(node)){return;}}};var walkUntil=function(direction,isAboveFn,isBeflowFn,root,predicateFn,caretPosition){var line=0,node;var result=[];var targetClientRect;var add=function(node){var i,clientRect,clientRects;clientRects=getClientRects([node]);if(direction===-1){clientRects=clientRects.reverse();}for(i=0;i<clientRects.length;i++){clientRect=clientRects[i];if(isBeflowFn(clientRect,targetClientRect)){continue;}if(result.length>0&&isAboveFn(clientRect,$_n452lmjnlpawsj.last(result))){line++;}clientRect.line=line;if(predicateFn(clientRect)){return true;}result.push(clientRect);}};targetClientRect=$_n452lmjnlpawsj.last(caretPosition.getClientRects());if(!targetClientRect){return result;}node=caretPosition.getNode();add(node);findUntil(direction,root,add,node);return result;};var aboveLineNumber=function(lineNumber,clientRect){return clientRect.line>lineNumber;};var isLineNumber=function(lineNumber,clientRect){return clientRect.line===lineNumber;};var upUntil=curry(walkUntil,VDirection.Up,isAbove,isBelow);var downUntil=curry(walkUntil,VDirection.Down,isBelow,isAbove);var positionsUntil=function(direction,root,predicateFn,node){var caretWalker=CaretWalker(root);var walkFn,isBelowFn,isAboveFn,caretPosition;var result=[];var line=0,clientRect,targetClientRect;var getClientRect=function(caretPosition){if(direction===1){return $_n452lmjnlpawsj.last(caretPosition.getClientRects());}return $_n452lmjnlpawsj.last(caretPosition.getClientRects());};if(direction===1){walkFn=caretWalker.next;isBelowFn=isBelow;isAboveFn=isAbove;caretPosition=CaretPosition$1.after(node);}else{walkFn=caretWalker.prev;isBelowFn=isAbove;isAboveFn=isBelow;caretPosition=CaretPosition$1.before(node);}targetClientRect=getClientRect(caretPosition);do{if(!caretPosition.isVisible()){continue;}clientRect=getClientRect(caretPosition);if(isAboveFn(clientRect,targetClientRect)){continue;}if(result.length>0&&isBelowFn(clientRect,$_n452lmjnlpawsj.last(result))){line++;}clientRect=clone$2(clientRect);clientRect.position=caretPosition;clientRect.line=line;if(predicateFn(clientRect)){return result;}result.push(clientRect);}while(caretPosition=walkFn(caretPosition));return result;};var isAboveLine=function(lineNumber){return function(clientRect){return aboveLineNumber(lineNumber,clientRect);};};var isLine=function(lineNumber){return function(clientRect){return isLineNumber(lineNumber,clientRect);};};var isContentEditableFalse$8=$_fy28ei1rjnlpax2o.isContentEditableFalse;var findNode$1=findNode;var distanceToRectLeft=function(clientRect,clientX){return Math.abs(clientRect.left-clientX);};var distanceToRectRight=function(clientRect,clientX){return Math.abs(clientRect.right-clientX);};var isInside=function(clientX,clientRect){return clientX>=clientRect.left&&clientX<=clientRect.right;};var findClosestClientRect=function(clientRects,clientX){return $_n452lmjnlpawsj.reduce(clientRects,function(oldClientRect,clientRect){var oldDistance,newDistance;oldDistance=Math.min(distanceToRectLeft(oldClientRect,clientX),distanceToRectRight(oldClientRect,clientX));newDistance=Math.min(distanceToRectLeft(clientRect,clientX),distanceToRectRight(clientRect,clientX));if(isInside(clientX,clientRect)){return clientRect;}if(isInside(clientX,oldClientRect)){return oldClientRect;}if(newDistance===oldDistance&&isContentEditableFalse$8(clientRect.node)){return clientRect;}if(newDistance<oldDistance){return clientRect;}return oldClientRect;});};var walkUntil$1=function(direction,root,predicateFn,node){while(node=findNode$1(node,direction,isEditableCaretCandidate,root)){if(predicateFn(node)){return;}}};var findLineNodeRects=function(root,targetNodeRect){var clientRects=[];var collect=function(checkPosFn,node){var lineRects;lineRects=$_n452lmjnlpawsj.filter(getClientRects([node]),function(clientRect){return!checkPosFn(clientRect,targetNodeRect);});clientRects=clientRects.concat(lineRects);return lineRects.length===0;};clientRects.push(targetNodeRect);walkUntil$1(VDirection.Up,root,curry(collect,isAbove),targetNodeRect.node);walkUntil$1(VDirection.Down,root,curry(collect,isBelow),targetNodeRect.node);return clientRects;};var getFakeCaretTargets=function(root){return $_n452lmjnlpawsj.filter($_n452lmjnlpawsj.toArray(root.getElementsByTagName('*')),isFakeCaretTarget);};var caretInfo=function(clientRect,clientX){return{node:clientRect.node,before:distanceToRectLeft(clientRect,clientX)<distanceToRectRight(clientRect,clientX)};};var closestCaret=function(root,clientX,clientY){var closestNodeRect;var contentEditableFalseNodeRects=getClientRects(getFakeCaretTargets(root));var targetNodeRects=$_n452lmjnlpawsj.filter(contentEditableFalseNodeRects,function(rect){return clientY>=rect.top&&clientY<=rect.bottom;});closestNodeRect=findClosestClientRect(targetNodeRects,clientX);if(closestNodeRect){closestNodeRect=findClosestClientRect(findLineNodeRects(root,closestNodeRect),clientX);if(closestNodeRect&&isFakeCaretTarget(closestNodeRect.node)){return caretInfo(closestNodeRect,clientX);}}return null;};var isXYWithinRange=function(clientX,clientY,range$$1){if(range$$1.collapsed){return false;}return foldl(range$$1.getClientRects(),function(state,rect){return state||containsXY(rect,clientX,clientY);},false);};var $_5xpdav5wjnlpaxyf={isXYWithinRange:isXYWithinRange};var setup$3=function(editor){var renderFocusCaret=first$1(function(){if(!editor.removed){var rng=editor.selection.getRng();if(rng.collapsed){var caretRange=renderRangeCaret(editor,editor.selection.getRng(),false);editor.selection.setRng(caretRange);}}},0);editor.on('focus',function(){renderFocusCaret.throttle();});editor.on('blur',function(){renderFocusCaret.cancel();});};var $_gfh1f95xjnlpaxyi={setup:setup$3};var $_1qv0695yjnlpaxyk={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e);},metaKeyPressed:function(e){return $_cseqobajnlpawll.mac?e.metaKey:e.ctrlKey&&!e.altKey;}};var isContentEditableTrue$5=$_fy28ei1rjnlpax2o.isContentEditableTrue;var isContentEditableFalse$9=$_fy28ei1rjnlpax2o.isContentEditableFalse;var isAfterContentEditableFalse$1=isAfterContentEditableFalse;var isBeforeContentEditableFalse$1=isBeforeContentEditableFalse;var getContentEditableRoot$1=function(editor,node){var root=editor.getBody();while(node&&node!==root){if(isContentEditableTrue$5(node)||isContentEditableFalse$9(node)){return node;}node=node.parentNode;}return null;};var SelectionOverrides=function(editor){var isBlock=function(node){return editor.dom.isBlock(node);};var rootNode=editor.getBody();var fakeCaret=FakeCaret(editor.getBody(),isBlock,function(){return $_8odu5n4yjnlpaxsg.hasFocus(editor);});var realSelectionId='sel-'+editor.dom.uniqueId();var selectedContentEditableNode;var isFakeSelectionElement=function(elm){return editor.dom.hasClass(elm,'mce-offscreen-selection');};var getRealSelectionElement=function(){var container=editor.dom.get(realSelectionId);return container?container.getElementsByTagName('*')[0]:container;};var setRange=function(range$$1){if(range$$1){editor.selection.setRng(range$$1);}};var getRange=function(){return editor.selection.getRng();};var showCaret$$1=function(direction,node,before,scrollIntoView){if(scrollIntoView===void 0){scrollIntoView=true;}var e;e=editor.fire('ShowCaret',{target:node,direction:direction,before:before});if(e.isDefaultPrevented()){return null;}if(scrollIntoView){editor.selection.scrollIntoView(node,direction===-1);}return fakeCaret.show(before,node);};var getNormalizedRangeEndPoint$$1=function(direction,range$$1){range$$1=normalizeRange(direction,rootNode,range$$1);if(direction===-1){return CaretPosition$1.fromRangeStart(range$$1);}return CaretPosition$1.fromRangeEnd(range$$1);};var showBlockCaretContainer=function(blockCaretContainer){if(blockCaretContainer.hasAttribute('data-mce-caret')){showCaretContainerBlock(blockCaretContainer);setRange(getRange());editor.selection.scrollIntoView(blockCaretContainer[0]);}};var registerEvents=function(){editor.on('mouseup',function(e){var range$$1=getRange();if(range$$1.collapsed&&$_wem7o53jnlpaxtk.isXYInContentArea(editor,e.clientX,e.clientY)){setRange(renderCaretAtRange(editor,range$$1,false));}});editor.on('click',function(e){var contentEditableRoot;contentEditableRoot=getContentEditableRoot$1(editor,e.target);if(contentEditableRoot){if(isContentEditableFalse$9(contentEditableRoot)){e.preventDefault();editor.focus();}if(isContentEditableTrue$5(contentEditableRoot)){if(editor.dom.isChildOf(contentEditableRoot,editor.selection.getNode())){removeContentEditableSelection();}}}});editor.on('blur NewBlock',function(){removeContentEditableSelection();});editor.on('ResizeWindow FullscreenStateChanged',function(){return fakeCaret.reposition();});var handleTouchSelect=function(editor){var moved=false;editor.on('touchstart',function(){moved=false;});editor.on('touchmove',function(){moved=true;});editor.on('touchend',function(e){var contentEditableRoot=getContentEditableRoot$1(editor,e.target);if(isContentEditableFalse$9(contentEditableRoot)){if(!moved){e.preventDefault();setContentEditableSelection(selectNode(editor,contentEditableRoot));}}});};var hasNormalCaretPosition=function(elm){var caretWalker=CaretWalker(elm);if(!elm.firstChild){return false;}var startPos=CaretPosition$1.before(elm.firstChild);var newPos=caretWalker.next(startPos);return newPos&&!isBeforeContentEditableFalse$1(newPos)&&!isAfterContentEditableFalse$1(newPos);};var isInSameBlock$$1=function(node1,node2){var block1=editor.dom.getParent(node1,editor.dom.isBlock);var block2=editor.dom.getParent(node2,editor.dom.isBlock);return block1===block2;};var hasBetterMouseTarget=function(targetNode,caretNode){var targetBlock=editor.dom.getParent(targetNode,editor.dom.isBlock);var caretBlock=editor.dom.getParent(caretNode,editor.dom.isBlock);if(targetBlock&&editor.dom.isChildOf(targetBlock,caretBlock)&&isContentEditableFalse$9(getContentEditableRoot$1(editor,targetBlock))===false){return true;}return targetBlock&&!isInSameBlock$$1(targetBlock,caretBlock)&&hasNormalCaretPosition(targetBlock);};handleTouchSelect(editor);editor.on('mousedown',function(e){var contentEditableRoot;var targetElm=e.target;if(targetElm!==rootNode&&targetElm.nodeName!=='HTML'&&!editor.dom.isChildOf(targetElm,rootNode)){return;}if($_wem7o53jnlpaxtk.isXYInContentArea(editor,e.clientX,e.clientY)===false){return;}contentEditableRoot=getContentEditableRoot$1(editor,targetElm);if(contentEditableRoot){if(isContentEditableFalse$9(contentEditableRoot)){e.preventDefault();setContentEditableSelection(selectNode(editor,contentEditableRoot));}else{removeContentEditableSelection();if(!(isContentEditableTrue$5(contentEditableRoot)&&e.shiftKey)&&!$_5xpdav5wjnlpaxyf.isXYWithinRange(e.clientX,e.clientY,editor.selection.getRng())){hideFakeCaret();editor.selection.placeCaretAt(e.clientX,e.clientY);}}}else if(isFakeCaretTarget(targetElm)===false){removeContentEditableSelection();hideFakeCaret();var caretInfo=closestCaret(rootNode,e.clientX,e.clientY);if(caretInfo){if(!hasBetterMouseTarget(e.target,caretInfo.node)){e.preventDefault();var range$$1=showCaret$$1(1,caretInfo.node,caretInfo.before,false);editor.getBody().focus();setRange(range$$1);}}}});editor.on('keypress',function(e){if($_1qv0695yjnlpaxyk.modifierPressed(e)){return;}switch(e.keyCode){default:if(isContentEditableFalse$9(editor.selection.getNode())){e.preventDefault();}break;}});editor.on('getSelectionRange',function(e){var rng=e.range;if(selectedContentEditableNode){if(!selectedContentEditableNode.parentNode){selectedContentEditableNode=null;return;}rng=rng.cloneRange();rng.selectNode(selectedContentEditableNode);e.range=rng;}});editor.on('setSelectionRange',function(e){var rng;rng=setContentEditableSelection(e.range,e.forward);if(rng){e.range=rng;}});var isPasteBin=function(node){return node.id==='mcepastebin';};editor.on('AfterSetSelectionRange',function(e){var rng=e.range;if(!isRangeInCaretContainer(rng)&&!isPasteBin(rng.startContainer.parentNode)){hideFakeCaret();}if(!isFakeSelectionElement(rng.startContainer.parentNode)){removeContentEditableSelection();}});editor.on('copy',function(e){var clipboardData=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!$_cseqobajnlpawll.ie){var realSelectionElement=getRealSelectionElement();if(realSelectionElement){e.preventDefault();clipboardData.clearData();clipboardData.setData('text/html',realSelectionElement.outerHTML);clipboardData.setData('text/plain',realSelectionElement.outerText);}}});$_5gate55rjnlpaxxq.init(editor);$_gfh1f95xjnlpaxyi.setup(editor);};var addCss=function(){var styles=editor.contentStyles,rootClass='.mce-content-body';styles.push(fakeCaret.getCss());styles.push(rootClass+' .mce-offscreen-selection {'+'position: absolute;'+'left: -9999999999px;'+'max-width: 1000000px;'+'}'+rootClass+' *[contentEditable=false] {'+'cursor: default;'+'}'+rootClass+' *[contentEditable=true] {'+'cursor: text;'+'}');};var isWithinCaretContainer=function(node){return isCaretContainer(node)||startsWithCaretContainer(node)||endsWithCaretContainer(node);};var isRangeInCaretContainer=function(rng){return isWithinCaretContainer(rng.startContainer)||isWithinCaretContainer(rng.endContainer);};var setContentEditableSelection=function(range$$1,forward){var node;var $=editor.$;var dom=editor.dom;var $realSelectionContainer,sel,startContainer,startOffset,endOffset,e,caretPosition,targetClone,origTargetClone;if(!range$$1){return null;}if(range$$1.collapsed){if(!isRangeInCaretContainer(range$$1)){if(forward===false){caretPosition=getNormalizedRangeEndPoint$$1(-1,range$$1);if(isFakeCaretTarget(caretPosition.getNode(true))){return showCaret$$1(-1,caretPosition.getNode(true),false,false);}if(isFakeCaretTarget(caretPosition.getNode())){return showCaret$$1(-1,caretPosition.getNode(),!caretPosition.isAtEnd(),false);}}else{caretPosition=getNormalizedRangeEndPoint$$1(1,range$$1);if(isFakeCaretTarget(caretPosition.getNode())){return showCaret$$1(1,caretPosition.getNode(),!caretPosition.isAtEnd(),false);}if(isFakeCaretTarget(caretPosition.getNode(true))){return showCaret$$1(1,caretPosition.getNode(true),false,false);}}}return null;}startContainer=range$$1.startContainer;startOffset=range$$1.startOffset;endOffset=range$$1.endOffset;if(startContainer.nodeType===3&&startOffset===0&&isContentEditableFalse$9(startContainer.parentNode)){startContainer=startContainer.parentNode;startOffset=dom.nodeIndex(startContainer);startContainer=startContainer.parentNode;}if(startContainer.nodeType!==1){return null;}if(endOffset===startOffset+1){node=startContainer.childNodes[startOffset];}if(!isContentEditableFalse$9(node)){return null;}targetClone=origTargetClone=node.cloneNode(true);e=editor.fire('ObjectSelected',{target:node,targetClone:targetClone});if(e.isDefaultPrevented()){return null;}$realSelectionContainer=$_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()),'#'+realSelectionId).fold(function(){return $([]);},function(elm){return $([elm.dom()]);});targetClone=e.targetClone;if($realSelectionContainer.length===0){$realSelectionContainer=$('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id',realSelectionId);$realSelectionContainer.appendTo(editor.getBody());}range$$1=editor.dom.createRng();if(targetClone===origTargetClone&&$_cseqobajnlpawll.ie){$realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);range$$1.setStartAfter($realSelectionContainer[0].firstChild.firstChild);range$$1.setEndAfter(targetClone);}else{$realSelectionContainer.empty().append('\\xA0').append(targetClone).append('\\xA0');range$$1.setStart($realSelectionContainer[0].firstChild,1);range$$1.setEnd($realSelectionContainer[0].lastChild,0);}$realSelectionContainer.css({top:dom.getPos(node,editor.getBody()).y});$realSelectionContainer[0].focus();sel=editor.selection.getSel();sel.removeAllRanges();sel.addRange(range$$1);each($_cmitir27jnlpax6e.descendants(Element$$1.fromDom(editor.getBody()),'*[data-mce-selected]'),function(elm){$_521j8z15jnlpawz7.remove(elm,'data-mce-selected');});node.setAttribute('data-mce-selected','1');selectedContentEditableNode=node;hideFakeCaret();return range$$1;};var removeContentEditableSelection=function(){if(selectedContentEditableNode){selectedContentEditableNode.removeAttribute('data-mce-selected');$_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()),'#'+realSelectionId).each($_azq8zm1wjnlpax4n.remove);selectedContentEditableNode=null;}$_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()),'#'+realSelectionId).each($_azq8zm1wjnlpax4n.remove);selectedContentEditableNode=null;};var destroy=function(){fakeCaret.destroy();selectedContentEditableNode=null;};var hideFakeCaret=function(){fakeCaret.hide();};if($_cseqobajnlpawll.ceFalse){registerEvents();addCss();}return{showCaret:showCaret$$1,showBlockCaretContainer:showBlockCaretContainer,hideFakeCaret:hideFakeCaret,destroy:destroy};};var isValidPrefixAttrName=function(name){return name.indexOf('data-')===0||name.indexOf('aria-')===0;};var trimComments=function(text){return text.replace(/<!--|-->/g,'');};var isInvalidUri=function(settings,uri){if(settings.allow_html_data_urls){return false;}else if(/^data:image\\//i.test(uri)){return settings.allow_svg_data_urls===false&&/^data:image\\/svg\\+xml/i.test(uri);}else{return /^data:/i.test(uri);}};var findEndTagIndex=function(schema,html,startIndex){var count=1,index,matches,tokenRegExp,shortEndedElements;shortEndedElements=schema.getShortEndedElements();tokenRegExp=/<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g;tokenRegExp.lastIndex=index=startIndex;while(matches=tokenRegExp.exec(html)){index=tokenRegExp.lastIndex;if(matches[1]==='/'){count--;}else if(!matches[1]){if(matches[2]in shortEndedElements){continue;}count++;}if(count===0){break;}}return index;};function SaxParser(settings,schema){if(schema===void 0){schema=Schema();}var noop=function(){};settings=settings||{};if(settings.fix_self_closing!==false){settings.fix_self_closing=true;}var comment=settings.comment?settings.comment:noop;var cdata=settings.cdata?settings.cdata:noop;var text=settings.text?settings.text:noop;var start=settings.start?settings.start:noop;var end=settings.end?settings.end:noop;var pi=settings.pi?settings.pi:noop;var doctype=settings.doctype?settings.doctype:noop;var parse=function(html){var matches,index=0,value,endRegExp;var stack=[];var attrList,i,textData,name;var isInternalElement,removeInternalElements,shortEndedElements,fillAttrsMap,isShortEnded;var validate,elementRule,isValidElement,attr,attribsValue,validAttributesMap,validAttributePatterns;var attributesRequired,attributesDefault,attributesForced,processHtml;var anyAttributesRequired,selfClosing,tokenRegExp,attrRegExp,specialElements,attrValue,idCount=0;var decode=$_bea7j51sjnlpax2u.decode;var fixSelfClosing;var filteredUrlAttrs=$_1q1txeljnlpawsa.makeMap('src,href,data,background,formaction,poster,xlink:href');var scriptUriRegExp=/((java|vb)script|mhtml):/i;var processEndTag=function(name){var pos,i;pos=stack.length;while(pos--){if(stack[pos].name===name){break;}}if(pos>=0){for(i=stack.length-1;i>=pos;i--){name=stack[i];if(name.valid){end(name.name);}}stack.length=pos;}};var parseAttribute=function(match,name,value,val2,val3){var attrRule,i;var trimRegExp=/[\\s\\u0000-\\u001F]+/g;name=name.toLowerCase();value=name in fillAttrsMap?name:decode(value||val2||val3||'');if(validate&&!isInternalElement&&isValidPrefixAttrName(name)===false){attrRule=validAttributesMap[name];if(!attrRule&&validAttributePatterns){i=validAttributePatterns.length;while(i--){attrRule=validAttributePatterns[i];if(attrRule.pattern.test(name)){break;}}if(i===-1){attrRule=null;}}if(!attrRule){return;}if(attrRule.validValues&&!(value in attrRule.validValues)){return;}}if(filteredUrlAttrs[name]&&!settings.allow_script_urls){var uri=value.replace(trimRegExp,'');try{uri=decodeURIComponent(uri);}catch(ex){uri=unescape(uri);}if(scriptUriRegExp.test(uri)){return;}if(isInvalidUri(settings,uri)){return;}}if(isInternalElement&&(name in filteredUrlAttrs||name.indexOf('on')===0)){return;}attrList.map[name]=value;attrList.push({name:name,value:value});};tokenRegExp=new RegExp('<(?:'+'(?:!--([\\\\w\\\\W]*?)-->)|'+'(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|'+'(?:!DOCTYPE([\\\\w\\\\W]*?)>)|'+'(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|'+'(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|'+'(?:([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)((?:\\\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\\\/|\\\\s+)>)'+')','g');attrRegExp=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;shortEndedElements=schema.getShortEndedElements();selfClosing=settings.self_closing_elements||schema.getSelfClosingElements();fillAttrsMap=schema.getBoolAttrs();validate=settings.validate;removeInternalElements=settings.remove_internals;fixSelfClosing=settings.fix_self_closing;specialElements=schema.getSpecialElements();processHtml=html+'>';while(matches=tokenRegExp.exec(processHtml)){if(index<matches.index){text(decode(html.substr(index,matches.index-index)));}if(value=matches[6]){value=value.toLowerCase();if(value.charAt(0)===':'){value=value.substr(1);}processEndTag(value);}else if(value=matches[7]){if(matches.index+matches[0].length>html.length){text(decode(html.substr(matches.index)));index=matches.index+matches[0].length;continue;}value=value.toLowerCase();if(value.charAt(0)===':'){value=value.substr(1);}isShortEnded=value in shortEndedElements;if(fixSelfClosing&&selfClosing[value]&&stack.length>0&&stack[stack.length-1].name===value){processEndTag(value);}if(!validate||(elementRule=schema.getElementRule(value))){isValidElement=true;if(validate){validAttributesMap=elementRule.attributes;validAttributePatterns=elementRule.attributePatterns;}if(attribsValue=matches[8]){isInternalElement=attribsValue.indexOf('data-mce-type')!==-1;if(isInternalElement&&removeInternalElements){isValidElement=false;}attrList=[];attrList.map={};attribsValue.replace(attrRegExp,parseAttribute);}else{attrList=[];attrList.map={};}if(validate&&!isInternalElement){attributesRequired=elementRule.attributesRequired;attributesDefault=elementRule.attributesDefault;attributesForced=elementRule.attributesForced;anyAttributesRequired=elementRule.removeEmptyAttrs;if(anyAttributesRequired&&!attrList.length){isValidElement=false;}if(attributesForced){i=attributesForced.length;while(i--){attr=attributesForced[i];name=attr.name;attrValue=attr.value;if(attrValue==='{$uid}'){attrValue='mce_'+idCount++;}attrList.map[name]=attrValue;attrList.push({name:name,value:attrValue});}}if(attributesDefault){i=attributesDefault.length;while(i--){attr=attributesDefault[i];name=attr.name;if(!(name in attrList.map)){attrValue=attr.value;if(attrValue==='{$uid}'){attrValue='mce_'+idCount++;}attrList.map[name]=attrValue;attrList.push({name:name,value:attrValue});}}}if(attributesRequired){i=attributesRequired.length;while(i--){if(attributesRequired[i]in attrList.map){break;}}if(i===-1){isValidElement=false;}}if(attr=attrList.map['data-mce-bogus']){if(attr==='all'){index=findEndTagIndex(schema,html,tokenRegExp.lastIndex);tokenRegExp.lastIndex=index;continue;}isValidElement=false;}}if(isValidElement){start(value,attrList,isShortEnded);}}else{isValidElement=false;}if(endRegExp=specialElements[value]){endRegExp.lastIndex=index=matches.index+matches[0].length;if(matches=endRegExp.exec(html)){if(isValidElement){textData=html.substr(index,matches.index-index);}index=matches.index+matches[0].length;}else{textData=html.substr(index);index=html.length;}if(isValidElement){if(textData.length>0){text(textData,true);}end(value);}tokenRegExp.lastIndex=index;continue;}if(!isShortEnded){if(!attribsValue||attribsValue.indexOf('/')!==attribsValue.length-1){stack.push({name:value,valid:isValidElement});}else if(isValidElement){end(value);}}}else if(value=matches[1]){if(value.charAt(0)==='>'){value=' '+value;}if(!settings.allow_conditional_comments&&value.substr(0,3).toLowerCase()==='[if'){value=' '+value;}comment(value);}else if(value=matches[2]){cdata(trimComments(value));}else if(value=matches[3]){doctype(value);}else if(value=matches[4]){pi(value,matches[5]);}index=matches.index+matches[0].length;}if(index<html.length){text(decode(html.substr(index)));}for(i=stack.length-1;i>=0;i--){value=stack[i];if(value.valid){end(value.name);}}};return{parse:parse};}(function(SaxParser){SaxParser.findEndTag=findEndTagIndex;})(SaxParser||(SaxParser={}));var SaxParser$1=SaxParser;var trimHtml=function(tempAttrs,html){var trimContentRegExp=new RegExp(['\\\\s?('+tempAttrs.join('|')+')=\"[^\"]+\"'].join('|'),'gi');return html.replace(trimContentRegExp,'');};var trimInternal=function(serializer,html){var content=html;var bogusAllRegExp=/<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;var endTagIndex,index,matchLength,matches,shortEndedElements;var schema=serializer.schema;content=trimHtml(serializer.getTempAttrs(),content);shortEndedElements=schema.getShortEndedElements();while(matches=bogusAllRegExp.exec(content)){index=bogusAllRegExp.lastIndex;matchLength=matches[0].length;if(shortEndedElements[matches[1]]){endTagIndex=index;}else{endTagIndex=SaxParser$1.findEndTag(schema,content,index);}content=content.substring(0,index-matchLength)+content.substring(endTagIndex);bogusAllRegExp.lastIndex=index-matchLength;}return $_90hfb72rjnlpaxae.trim(content);};var trimExternal=trimInternal;var $_9cq8vj61jnlpaxzc={trimExternal:trimExternal,trimInternal:trimInternal};var KEEP=0;var INSERT=1;var DELETE=2;var diff=function(left,right){var size=left.length+right.length+2;var vDown=new Array(size);var vUp=new Array(size);var snake=function(start,end,diag){return{start:start,end:end,diag:diag};};var buildScript=function(start1,end1,start2,end2,script){var middle=getMiddleSnake(start1,end1,start2,end2);if(middle===null||middle.start===end1&&middle.diag===end1-end2||middle.end===start1&&middle.diag===start1-start2){var i=start1;var j=start2;while(i<end1||j<end2){if(i<end1&&j<end2&&left[i]===right[j]){script.push([KEEP,left[i]]);++i;++j;}else{if(end1-start1>end2-start2){script.push([DELETE,left[i]]);++i;}else{script.push([INSERT,right[j]]);++j;}}}}else{buildScript(start1,middle.start,start2,middle.start-middle.diag,script);for(var i2=middle.start;i2<middle.end;++i2){script.push([KEEP,left[i2]]);}buildScript(middle.end,end1,middle.end-middle.diag,end2,script);}};var buildSnake=function(start,diag,end1,end2){var end=start;while(end-diag<end2&&end<end1&&left[end]===right[end-diag]){++end;}return snake(start,end,diag);};var getMiddleSnake=function(start1,end1,start2,end2){var m=end1-start1;var n=end2-start2;if(m===0||n===0){return null;}var delta=m-n;var sum=n+m;var offset=(sum%2===0?sum:sum+1)/2;vDown[1+offset]=start1;vUp[1+offset]=end1+1;var d,k,i,x,y;for(d=0;d<=offset;++d){for(k=-d;k<=d;k+=2){i=k+offset;if(k===-d||k!==d&&vDown[i-1]<vDown[i+1]){vDown[i]=vDown[i+1];}else{vDown[i]=vDown[i-1]+1;}x=vDown[i];y=x-start1+start2-k;while(x<end1&&y<end2&&left[x]===right[y]){vDown[i]=++x;++y;}if(delta%2!==0&&delta-d<=k&&k<=delta+d){if(vUp[i-delta]<=vDown[i]){return buildSnake(vUp[i-delta],k+start1-start2,end1,end2);}}}for(k=delta-d;k<=delta+d;k+=2){i=k+offset-delta;if(k===delta-d||k!==delta+d&&vUp[i+1]<=vUp[i-1]){vUp[i]=vUp[i+1]-1;}else{vUp[i]=vUp[i-1];}x=vUp[i]-1;y=x-start1+start2-k;while(x>=start1&&y>=start2&&left[x]===right[y]){vUp[i]=x--;y--;}if(delta%2===0&&-d<=k&&k<=d){if(vUp[i]<=vDown[i+delta]){return buildSnake(vUp[i],k+start1-start2,end1,end2);}}}}};var script=[];buildScript(0,left.length,0,right.length,script);return script;};var $_27o9im64jnlpaxzv={KEEP:KEEP,DELETE:DELETE,INSERT:INSERT,diff:diff};var getOuterHtml=function(elm){if($_fy28ei1rjnlpax2o.isElement(elm)){return elm.outerHTML;}else if($_fy28ei1rjnlpax2o.isText(elm)){return $_bea7j51sjnlpax2u.encodeRaw(elm.data,false);}else if($_fy28ei1rjnlpax2o.isComment(elm)){return'<!--'+elm.data+'-->';}return'';};var createFragment$1=function(html){var frag,node,container;container=document.createElement('div');frag=document.createDocumentFragment();if(html){container.innerHTML=html;}while(node=container.firstChild){frag.appendChild(node);}return frag;};var insertAt=function(elm,html,index){var fragment=createFragment$1(html);if(elm.hasChildNodes()&&index<elm.childNodes.length){var target=elm.childNodes[index];target.parentNode.insertBefore(fragment,target);}else{elm.appendChild(fragment);}};var removeAt=function(elm,index){if(elm.hasChildNodes()&&index<elm.childNodes.length){var target=elm.childNodes[index];target.parentNode.removeChild(target);}};var applyDiff=function(diff,elm){var index=0;$_n452lmjnlpawsj.each(diff,function(action){if(action[0]===$_27o9im64jnlpaxzv.KEEP){index++;}else if(action[0]===$_27o9im64jnlpaxzv.INSERT){insertAt(elm,action[1],index);index++;}else if(action[0]===$_27o9im64jnlpaxzv.DELETE){removeAt(elm,index);}});};var read$3=function(elm){return $_n452lmjnlpawsj.filter($_n452lmjnlpawsj.map(elm.childNodes,getOuterHtml),function(item){return item.length>0;});};var write=function(fragments,elm){var currentFragments=$_n452lmjnlpawsj.map(elm.childNodes,getOuterHtml);applyDiff($_27o9im64jnlpaxzv.diff(currentFragments,fragments),elm);return elm;};var $_12gl6x63jnlpaxzs={read:read$3,write:write};var undoLevelDocument=Cell(Option.none());var lazyTempDocument=function(){return undoLevelDocument.get().getOrThunk(function(){var doc=document.implementation.createHTMLDocument('undo');undoLevelDocument.set(Option.some(doc));return doc;});};var hasIframes=function(html){return html.indexOf('</iframe>')!==-1;};var createFragmentedLevel=function(fragments){return{type:'fragmented',fragments:fragments,content:'',bookmark:null,beforeBookmark:null};};var createCompleteLevel=function(content){return{type:'complete',fragments:null,content:content,bookmark:null,beforeBookmark:null};};var createFromEditor=function(editor){var fragments,content,trimmedFragments;fragments=$_12gl6x63jnlpaxzs.read(editor.getBody());trimmedFragments=bind(fragments,function(html){var trimmed=$_9cq8vj61jnlpaxzc.trimInternal(editor.serializer,html);return trimmed.length>0?[trimmed]:[];});content=trimmedFragments.join('');return hasIframes(content)?createFragmentedLevel(trimmedFragments):createCompleteLevel(content);};var applyToEditor=function(editor,level,before){if(level.type==='fragmented'){$_12gl6x63jnlpaxzs.write(level.fragments,editor.getBody());}else{editor.setContent(level.content,{format:'raw'});}editor.selection.moveToBookmark(before?level.beforeBookmark:level.bookmark);};var getLevelContent=function(level){return level.type==='fragmented'?level.fragments.join(''):level.content;};var getCleanLevelContent=function(level){var elm=Element$$1.fromTag('body',lazyTempDocument());$_am4twv2jjnlpax8k.set(elm,getLevelContent(level));each($_cmitir27jnlpax6e.descendants(elm,'*[data-mce-bogus]'),$_azq8zm1wjnlpax4n.unwrap);return $_am4twv2jjnlpax8k.get(elm);};var hasEqualContent=function(level1,level2){return getLevelContent(level1)===getLevelContent(level2);};var hasEqualCleanedContent=function(level1,level2){return getCleanLevelContent(level1)===getCleanLevelContent(level2);};var isEq$3=function(level1,level2){if(!level1||!level2){return false;}else if(hasEqualContent(level1,level2)){return true;}else{return hasEqualCleanedContent(level1,level2);}};var $_4dwaci60jnlpaxyt={createFragmentedLevel:createFragmentedLevel,createCompleteLevel:createCompleteLevel,createFromEditor:createFromEditor,applyToEditor:applyToEditor,isEq:isEq$3};function UndoManager(editor){var self=this,index=0,data=[],beforeBookmark,isFirstTypedCharacter,locks=0;var isUnlocked=function(){return locks===0;};var setTyping=function(typing){if(isUnlocked()){self.typing=typing;}};var setDirty=function(state){editor.setDirty(state);};var addNonTypingUndoLevel=function(e){setTyping(false);self.add({},e);};var endTyping=function(){if(self.typing){setTyping(false);self.add();}};editor.on('init',function(){self.add();});editor.on('BeforeExecCommand',function(e){var cmd=e.command;if(cmd!=='Undo'&&cmd!=='Redo'&&cmd!=='mceRepaint'){endTyping();self.beforeChange();}});editor.on('ExecCommand',function(e){var cmd=e.command;if(cmd!=='Undo'&&cmd!=='Redo'&&cmd!=='mceRepaint'){addNonTypingUndoLevel(e);}});editor.on('ObjectResizeStart Cut',function(){self.beforeChange();});editor.on('SaveContent ObjectResized blur',addNonTypingUndoLevel);editor.on('DragEnd',addNonTypingUndoLevel);editor.on('KeyUp',function(e){var keyCode=e.keyCode;if(e.isDefaultPrevented()){return;}if(keyCode>=33&&keyCode<=36||keyCode>=37&&keyCode<=40||keyCode===45||e.ctrlKey){addNonTypingUndoLevel();editor.nodeChanged();}if(keyCode===46||keyCode===8){editor.nodeChanged();}if(isFirstTypedCharacter&&self.typing&&$_4dwaci60jnlpaxyt.isEq($_4dwaci60jnlpaxyt.createFromEditor(editor),data[0])===false){if(editor.isDirty()===false){setDirty(true);editor.fire('change',{level:data[0],lastLevel:null});}editor.fire('TypingUndo');isFirstTypedCharacter=false;editor.nodeChanged();}});editor.on('KeyDown',function(e){var keyCode=e.keyCode;if(e.isDefaultPrevented()){return;}if(keyCode>=33&&keyCode<=36||keyCode>=37&&keyCode<=40||keyCode===45){if(self.typing){addNonTypingUndoLevel(e);}return;}var modKey=e.ctrlKey&&!e.altKey||e.metaKey;if((keyCode<16||keyCode>20)&&keyCode!==224&&keyCode!==91&&!self.typing&&!modKey){self.beforeChange();setTyping(true);self.add({},e);isFirstTypedCharacter=true;}});editor.on('MouseDown',function(e){if(self.typing){addNonTypingUndoLevel(e);}});var isInsertReplacementText=function(event){return event.inputType==='insertReplacementText';};var isInsertTextDataNull=function(event){return event.inputType==='insertText'&&event.data===null;};editor.on('input',function(e){if(e.inputType&&(isInsertReplacementText(e)||isInsertTextDataNull(e))){addNonTypingUndoLevel(e);}});editor.addShortcut('meta+z','','Undo');editor.addShortcut('meta+y,meta+shift+z','','Redo');editor.on('AddUndo Undo Redo ClearUndos',function(e){if(!e.isDefaultPrevented()){editor.nodeChanged();}});self={data:data,typing:false,beforeChange:function(){if(isUnlocked()){beforeBookmark=$_5l0mu32ljnlpax8x.getUndoBookmark(editor.selection);}},add:function(level,event){var i;var settings=editor.settings;var lastLevel,currentLevel;currentLevel=$_4dwaci60jnlpaxyt.createFromEditor(editor);level=level||{};level=$_1q1txeljnlpawsa.extend(level,currentLevel);if(isUnlocked()===false||editor.removed){return null;}lastLevel=data[index];if(editor.fire('BeforeAddUndo',{level:level,lastLevel:lastLevel,originalEvent:event}).isDefaultPrevented()){return null;}if(lastLevel&&$_4dwaci60jnlpaxyt.isEq(lastLevel,level)){return null;}if(data[index]){data[index].beforeBookmark=beforeBookmark;}if(settings.custom_undo_redo_levels){if(data.length>settings.custom_undo_redo_levels){for(i=0;i<data.length-1;i++){data[i]=data[i+1];}data.length--;index=data.length;}}level.bookmark=$_5l0mu32ljnlpax8x.getUndoBookmark(editor.selection);if(index<data.length-1){data.length=index+1;}data.push(level);index=data.length-1;var args={level:level,lastLevel:lastLevel,originalEvent:event};editor.fire('AddUndo',args);if(index>0){setDirty(true);editor.fire('change',args);}return level;},undo:function(){var level;if(self.typing){self.add();self.typing=false;setTyping(false);}if(index>0){level=data[--index];$_4dwaci60jnlpaxyt.applyToEditor(editor,level,true);setDirty(true);editor.fire('undo',{level:level});}return level;},redo:function(){var level;if(index<data.length-1){level=data[++index];$_4dwaci60jnlpaxyt.applyToEditor(editor,level,false);setDirty(true);editor.fire('redo',{level:level});}return level;},clear:function(){data=[];index=0;self.typing=false;self.data=data;editor.fire('ClearUndos');},hasUndo:function(){return index>0||self.typing&&data[0]&&!$_4dwaci60jnlpaxyt.isEq($_4dwaci60jnlpaxyt.createFromEditor(editor),data[0]);},hasRedo:function(){return index<data.length-1&&!self.typing;},transact:function(callback){endTyping();self.beforeChange();self.ignore(callback);return self.add();},ignore:function(callback){try{locks++;callback();}finally{locks--;}},extra:function(callback1,callback2){var lastLevel,bookmark;if(self.transact(callback1)){bookmark=data[index].bookmark;lastLevel=data[index-1];$_4dwaci60jnlpaxyt.applyToEditor(editor,lastLevel,true);if(self.transact(callback2)){data[index-1].beforeBookmark=bookmark;}}}};return self;}var isEq$4=$_dlfh233cjnlpaxes.isEq;var matchesUnInheritedFormatSelector=function(ed,node,name){var formatList=ed.formatter.get(name);if(formatList){for(var i=0;i<formatList.length;i++){if(formatList[i].inherit===false&&ed.dom.is(node,formatList[i].selector)){return true;}}}return false;};var matchParents=function(editor,node,name,vars){var root=editor.dom.getRoot();if(node===root){return false;}node=editor.dom.getParent(node,function(node){if(matchesUnInheritedFormatSelector(editor,node,name)){return true;}return node.parentNode===root||!!matchNode(editor,node,name,vars,true);});return matchNode(editor,node,name,vars);};var matchName=function(dom,node,format){if(isEq$4(node,format.inline)){return true;}if(isEq$4(node,format.block)){return true;}if(format.selector){return node.nodeType===1&&dom.is(node,format.selector);}};var matchItems=function(dom,node,format,itemName,similar,vars){var key,value;var items=format[itemName];var i;if(format.onmatch){return format.onmatch(node,format,itemName);}if(items){if(typeof items.length==='undefined'){for(key in items){if(items.hasOwnProperty(key)){if(itemName==='attributes'){value=dom.getAttrib(node,key);}else{value=$_dlfh233cjnlpaxes.getStyle(dom,node,key);}if(similar&&!value&&!format.exact){return;}if((!similar||format.exact)&&!isEq$4(value,$_dlfh233cjnlpaxes.normalizeStyleValue(dom,$_dlfh233cjnlpaxes.replaceVars(items[key],vars),key))){return;}}}}else{for(i=0;i<items.length;i++){if(itemName==='attributes'?dom.getAttrib(node,items[i]):$_dlfh233cjnlpaxes.getStyle(dom,node,items[i])){return format;}}}}return format;};var matchNode=function(ed,node,name,vars,similar){var formatList=ed.formatter.get(name);var format,i,x,classes;var dom=ed.dom;if(formatList&&node){for(i=0;i<formatList.length;i++){format=formatList[i];if(matchName(ed.dom,node,format)&&matchItems(dom,node,format,'attributes',similar,vars)&&matchItems(dom,node,format,'styles',similar,vars)){if(classes=format.classes){for(x=0;x<classes.length;x++){if(!ed.dom.hasClass(node,classes[x])){return;}}}return format;}}}};var match=function(editor,name,vars,node){var startNode;if(node){return matchParents(editor,node,name,vars);}node=editor.selection.getNode();if(matchParents(editor,node,name,vars)){return true;}startNode=editor.selection.getStart();if(startNode!==node){if(matchParents(editor,startNode,name,vars)){return true;}}return false;};var matchAll=function(editor,names,vars){var startElement;var matchedFormatNames=[];var checkedMap={};startElement=editor.selection.getStart();editor.dom.getParent(startElement,function(node){var i,name;for(i=0;i<names.length;i++){name=names[i];if(!checkedMap[name]&&matchNode(editor,node,name,vars)){checkedMap[name]=true;matchedFormatNames.push(name);}}},editor.dom.getRoot());return matchedFormatNames;};var canApply=function(editor,name){var formatList=editor.formatter.get(name);var startNode,parents,i,x,selector;var dom=editor.dom;if(formatList){startNode=editor.selection.getStart();parents=$_dlfh233cjnlpaxes.getParents(dom,startNode);for(x=formatList.length-1;x>=0;x--){selector=formatList[x].selector;if(!selector||formatList[x].defaultBlock){return true;}for(i=parents.length-1;i>=0;i--){if(dom.is(parents[i],selector)){return true;}}}}return false;};var $_706y6v68jnlpay1a={matchNode:matchNode,matchName:matchName,match:match,matchAll:matchAll,canApply:canApply,matchesUnInheritedFormatSelector:matchesUnInheritedFormatSelector};var splitText=function(node,offset){return node.splitText(offset);};var split$1=function(rng){var startContainer=rng.startContainer,startOffset=rng.startOffset,endContainer=rng.endContainer,endOffset=rng.endOffset;if(startContainer===endContainer&&$_fy28ei1rjnlpax2o.isText(startContainer)){if(startOffset>0&&startOffset<startContainer.nodeValue.length){endContainer=splitText(startContainer,startOffset);startContainer=endContainer.previousSibling;if(endOffset>startOffset){endOffset=endOffset-startOffset;startContainer=endContainer=splitText(endContainer,endOffset).previousSibling;endOffset=endContainer.nodeValue.length;startOffset=0;}else{endOffset=0;}}}else{if($_fy28ei1rjnlpax2o.isText(startContainer)&&startOffset>0&&startOffset<startContainer.nodeValue.length){startContainer=splitText(startContainer,startOffset);startOffset=0;}if($_fy28ei1rjnlpax2o.isText(endContainer)&&endOffset>0&&endOffset<endContainer.nodeValue.length){endContainer=splitText(endContainer,endOffset).previousSibling;endOffset=endContainer.nodeValue.length;}}return{startContainer:startContainer,startOffset:startOffset,endContainer:endContainer,endOffset:endOffset};};var $_fvyfxh69jnlpay1e={split:split$1};var ZWSP$1=$_90hfb72rjnlpaxae.ZWSP;var CARET_ID$1='_mce_caret';var importNode=function(ownerDocument,node){return ownerDocument.importNode(node,true);};var getEmptyCaretContainers=function(node){var nodes=[];while(node){if(node.nodeType===3&&node.nodeValue!==ZWSP$1||node.childNodes.length>1){return[];}if(node.nodeType===1){nodes.push(node);}node=node.firstChild;}return nodes;};var isCaretContainerEmpty=function(node){return getEmptyCaretContainers(node).length>0;};var findFirstTextNode=function(node){var walker;if(node){walker=new TreeWalker(node,node);for(node=walker.current();node;node=walker.next()){if(node.nodeType===3){return node;}}}return null;};var createCaretContainer=function(fill){var caretContainer=Element$$1.fromTag('span');$_521j8z15jnlpawz7.setAll(caretContainer,{'id':CARET_ID$1,'data-mce-bogus':'1','data-mce-type':'format-caret'});if(fill){$_ag89ax1yjnlpax4x.append(caretContainer,Element$$1.fromText(ZWSP$1));}return caretContainer;};var trimZwspFromCaretContainer=function(caretContainerNode){var textNode=findFirstTextNode(caretContainerNode);if(textNode&&textNode.nodeValue.charAt(0)===ZWSP$1){textNode.deleteData(0,1);}return textNode;};var removeCaretContainerNode=function(dom,selection,node,moveCaret){var rng,block,textNode;rng=selection.getRng(true);block=dom.getParent(node,dom.isBlock);if(isCaretContainerEmpty(node)){if(moveCaret!==false){rng.setStartBefore(node);rng.setEndBefore(node);}dom.remove(node);}else{textNode=trimZwspFromCaretContainer(node);if(rng.startContainer===textNode&&rng.startOffset>0){rng.setStart(textNode,rng.startOffset-1);}if(rng.endContainer===textNode&&rng.endOffset>0){rng.setEnd(textNode,rng.endOffset-1);}dom.remove(node,true);}if(block&&dom.isEmpty(block)){$_azhpc63njnlpaxgw.fillWithPaddingBr(Element$$1.fromDom(block));}selection.setRng(rng);};var removeCaretContainer=function(body,dom,selection,node,moveCaret){if(!node){node=getParentCaretContainer(body,selection.getStart());if(!node){while(node=dom.get(CARET_ID$1)){removeCaretContainerNode(dom,selection,node,false);}}}else{removeCaretContainerNode(dom,selection,node,moveCaret);}};var insertCaretContainerNode=function(editor,caretContainer,formatNode){var dom=editor.dom,block=dom.getParent(formatNode,$_dv6bef2njnlpax9l.curry($_dlfh233cjnlpaxes.isTextBlock,editor));if(block&&dom.isEmpty(block)){formatNode.parentNode.replaceChild(caretContainer,formatNode);}else{$_azhpc63njnlpaxgw.removeTrailingBr(Element$$1.fromDom(formatNode));if(dom.isEmpty(formatNode)){formatNode.parentNode.replaceChild(caretContainer,formatNode);}else{dom.insertAfter(caretContainer,formatNode);}}};var appendNode=function(parentNode,node){parentNode.appendChild(node);return node;};var insertFormatNodesIntoCaretContainer=function(formatNodes,caretContainer){var innerMostFormatNode=foldr(formatNodes,function(parentNode,formatNode){return appendNode(parentNode,formatNode.cloneNode(false));},caretContainer);return appendNode(innerMostFormatNode,innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1));};var applyCaretFormat=function(editor,name,vars){var rng,caretContainer,textNode,offset,bookmark,container,text;var selection=editor.selection;rng=selection.getRng(true);offset=rng.startOffset;container=rng.startContainer;text=container.nodeValue;caretContainer=getParentCaretContainer(editor.getBody(),selection.getStart());if(caretContainer){textNode=findFirstTextNode(caretContainer);}var wordcharRegex=/[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;if(text&&offset>0&&offset<text.length&&wordcharRegex.test(text.charAt(offset))&&wordcharRegex.test(text.charAt(offset-1))){bookmark=selection.getBookmark();rng.collapse(true);rng=$_3cscnj2wjnlpaxau.expandRng(editor,rng,editor.formatter.get(name));rng=$_fvyfxh69jnlpay1e.split(rng);editor.formatter.apply(name,vars,rng);selection.moveToBookmark(bookmark);}else{if(!caretContainer||textNode.nodeValue!==ZWSP$1){caretContainer=importNode(editor.getDoc(),createCaretContainer(true).dom());textNode=caretContainer.firstChild;rng.insertNode(caretContainer);offset=1;editor.formatter.apply(name,vars,caretContainer);}else{editor.formatter.apply(name,vars,caretContainer);}selection.setCursorLocation(textNode,offset);}};var removeCaretFormat=function(editor,name,vars,similar){var dom=editor.dom,selection=editor.selection;var container,offset,bookmark;var hasContentAfter,node,formatNode;var parents=[],rng=selection.getRng();var caretContainer;container=rng.startContainer;offset=rng.startOffset;node=container;if(container.nodeType===3){if(offset!==container.nodeValue.length){hasContentAfter=true;}node=node.parentNode;}while(node){if($_706y6v68jnlpay1a.matchNode(editor,node,name,vars,similar)){formatNode=node;break;}if(node.nextSibling){hasContentAfter=true;}parents.push(node);node=node.parentNode;}if(!formatNode){return;}if(hasContentAfter){bookmark=selection.getBookmark();rng.collapse(true);var expandedRng=$_3cscnj2wjnlpaxau.expandRng(editor,rng,editor.formatter.get(name),true);expandedRng=$_fvyfxh69jnlpay1e.split(expandedRng);editor.formatter.remove(name,vars,expandedRng);selection.moveToBookmark(bookmark);}else{caretContainer=getParentCaretContainer(editor.getBody(),formatNode);var newCaretContainer=createCaretContainer(false).dom();var caretNode=insertFormatNodesIntoCaretContainer(parents,newCaretContainer);if(caretContainer){insertCaretContainerNode(editor,newCaretContainer,caretContainer);}else{insertCaretContainerNode(editor,newCaretContainer,formatNode);}removeCaretContainerNode(dom,selection,caretContainer,false);selection.setCursorLocation(caretNode,1);if(dom.isEmpty(formatNode)){dom.remove(formatNode);}}};var disableCaretContainer=function(body,dom,selection,keyCode){removeCaretContainer(body,dom,selection,null,false);if(keyCode===8&&selection.isCollapsed()&&selection.getStart().innerHTML===ZWSP$1){removeCaretContainer(body,dom,selection,getParentCaretContainer(body,selection.getStart()));}if(keyCode===37||keyCode===39){removeCaretContainer(body,dom,selection,getParentCaretContainer(body,selection.getStart()));}};var setup$4=function(editor){var dom=editor.dom,selection=editor.selection;var body=editor.getBody();editor.on('mouseup keydown',function(e){disableCaretContainer(body,dom,selection,e.keyCode);});};var replaceWithCaretFormat=function(targetNode,formatNodes){var caretContainer=createCaretContainer(false);var innerMost=insertFormatNodesIntoCaretContainer(formatNodes,caretContainer.dom());$_ag89ax1yjnlpax4x.before(Element$$1.fromDom(targetNode),caretContainer);$_azq8zm1wjnlpax4n.remove(Element$$1.fromDom(targetNode));return CaretPosition$1(innerMost,0);};var isFormatElement=function(editor,element){var inlineElements=editor.schema.getTextInlineElements();return inlineElements.hasOwnProperty($_7u5fzs11jnlpawv6.name(element))&&!isCaretNode(element.dom())&&!$_fy28ei1rjnlpax2o.isBogus(element.dom());};var postProcessHooks={};var filter$2=$_n452lmjnlpawsj.filter;var each$12=$_n452lmjnlpawsj.each;var addPostProcessHook=function(name,hook){var hooks=postProcessHooks[name];if(!hooks){postProcessHooks[name]=hooks=[];}postProcessHooks[name].push(hook);};var postProcess=function(name,editor){each$12(postProcessHooks[name],function(hook){hook(editor);});};addPostProcessHook('pre',function(editor){var rng=editor.selection.getRng();var isPre,blocks;var hasPreSibling=function(pre){return isPre(pre.previousSibling)&&$_n452lmjnlpawsj.indexOf(blocks,pre.previousSibling)!==-1;};var joinPre=function(pre1,pre2){DomQuery(pre2).remove();DomQuery(pre1).append('<br><br>').append(pre2.childNodes);};isPre=$_fy28ei1rjnlpax2o.matchNodeNames('pre');if(!rng.collapsed){blocks=editor.selection.getSelectedBlocks();each$12(filter$2(filter$2(blocks,isPre),hasPreSibling),function(pre){joinPre(pre.previousSibling,pre);});}});var $_48059m6ajnlpay1h={postProcess:postProcess};var MCE_ATTR_RE=/^(src|href|style)$/;var each$13=$_1q1txeljnlpawsa.each;var isEq$5=$_dlfh233cjnlpaxes.isEq;var isTableCell$4=function(node){return /^(TH|TD)$/.test(node.nodeName);};var getContainer=function(ed,rng,start){var container,offset,lastIdx;container=rng[start?'startContainer':'endContainer'];offset=rng[start?'startOffset':'endOffset'];if($_fy28ei1rjnlpax2o.isElement(container)){lastIdx=container.childNodes.length-1;if(!start&&offset){offset--;}container=container.childNodes[offset>lastIdx?lastIdx:offset];}if($_fy28ei1rjnlpax2o.isText(container)&&start&&offset>=container.nodeValue.length){container=new TreeWalker(container,ed.getBody()).next()||container;}if($_fy28ei1rjnlpax2o.isText(container)&&!start&&offset===0){container=new TreeWalker(container,ed.getBody()).prev()||container;}return container;};var wrap$2=function(dom,node,name,attrs){var wrapper=dom.create(name,attrs);node.parentNode.insertBefore(wrapper,node);wrapper.appendChild(node);return wrapper;};var wrapWithSiblings=function(dom,startNode,name,next,attrs){var direction=(next?'next':'previous')+'Sibling';var wrapper=dom.create(name,attrs);startNode.parentNode.insertBefore(wrapper,startNode);var nodesToWrap=[startNode];var currNode=startNode;while(currNode=currNode[direction]){nodesToWrap.push(currNode);}nodesToWrap.forEach(function(node){return wrapper.appendChild(node);});return wrapper;};var matchName$1=function(dom,node,format){if(isEq$5(node,format.inline)){return true;}if(isEq$5(node,format.block)){return true;}if(format.selector){return $_fy28ei1rjnlpax2o.isElement(node)&&dom.is(node,format.selector);}};var isColorFormatAndAnchor=function(node,format){return format.links&&node.tagName==='A';};var find$4=function(dom,node,next,inc){node=$_dlfh233cjnlpaxes.getNonWhiteSpaceSibling(node,next,inc);return!node||node.nodeName==='BR'||dom.isBlock(node);};var removeNode$1=function(ed,node,format){var parentNode=node.parentNode;var rootBlockElm;var dom=ed.dom,forcedRootBlock=ed.settings.forced_root_block;if(format.block){if(!forcedRootBlock){if(dom.isBlock(node)&&!dom.isBlock(parentNode)){if(!find$4(dom,node,false)&&!find$4(dom,node.firstChild,true,1)){node.insertBefore(dom.create('br'),node.firstChild);}if(!find$4(dom,node,true)&&!find$4(dom,node.lastChild,false,1)){node.appendChild(dom.create('br'));}}}else{if(parentNode===dom.getRoot()){if(!format.list_block||!isEq$5(node,format.list_block)){each$13($_1q1txeljnlpawsa.grep(node.childNodes),function(node){if($_dlfh233cjnlpaxes.isValid(ed,forcedRootBlock,node.nodeName.toLowerCase())){if(!rootBlockElm){rootBlockElm=wrap$2(dom,node,forcedRootBlock);dom.setAttribs(rootBlockElm,ed.settings.forced_root_block_attrs);}else{rootBlockElm.appendChild(node);}}else{rootBlockElm=0;}});}}}}if(format.selector&&format.inline&&!isEq$5(format.inline,node)){return;}dom.remove(node,1);};var removeFormat=function(ed,format,vars,node,compareNode){var i,attrs,stylesModified;var dom=ed.dom;if(!matchName$1(dom,node,format)&&!isColorFormatAndAnchor(node,format)){return false;}if(format.remove!=='all'){each$13(format.styles,function(value,name){value=$_dlfh233cjnlpaxes.normalizeStyleValue(dom,$_dlfh233cjnlpaxes.replaceVars(value,vars),name);if(typeof name==='number'){name=value;compareNode=0;}if(format.remove_similar||!compareNode||isEq$5($_dlfh233cjnlpaxes.getStyle(dom,compareNode,name),value)){dom.setStyle(node,name,'');}stylesModified=1;});if(stylesModified&&dom.getAttrib(node,'style')===''){node.removeAttribute('style');node.removeAttribute('data-mce-style');}each$13(format.attributes,function(value,name){var valueOut;value=$_dlfh233cjnlpaxes.replaceVars(value,vars);if(typeof name==='number'){name=value;compareNode=0;}if(!compareNode||isEq$5(dom.getAttrib(compareNode,name),value)){if(name==='class'){value=dom.getAttrib(node,name);if(value){valueOut='';each$13(value.split(/\\s+/),function(cls){if(/mce\\-\\w+/.test(cls)){valueOut+=(valueOut?' ':'')+cls;}});if(valueOut){dom.setAttrib(node,name,valueOut);return;}}}if(name==='class'){node.removeAttribute('className');}if(MCE_ATTR_RE.test(name)){node.removeAttribute('data-mce-'+name);}node.removeAttribute(name);}});each$13(format.classes,function(value){value=$_dlfh233cjnlpaxes.replaceVars(value,vars);if(!compareNode||dom.hasClass(compareNode,value)){dom.removeClass(node,value);}});attrs=dom.getAttribs(node);for(i=0;i<attrs.length;i++){var attrName=attrs[i].nodeName;if(attrName.indexOf('_')!==0&&attrName.indexOf('data-')!==0){return false;}}}if(format.remove!=='none'){removeNode$1(ed,node,format);return true;}};var findFormatRoot=function(editor,container,name,vars,similar){var formatRoot;each$13($_dlfh233cjnlpaxes.getParents(editor.dom,container.parentNode).reverse(),function(parent){var format;if(!formatRoot&&parent.id!=='_start'&&parent.id!=='_end'){format=$_706y6v68jnlpay1a.matchNode(editor,parent,name,vars,similar);if(format&&format.split!==false){formatRoot=parent;}}});return formatRoot;};var wrapAndSplit=function(editor,formatList,formatRoot,container,target,split,format,vars){var parent,clone,lastClone,firstClone,i,formatRootParent;var dom=editor.dom;if(formatRoot){formatRootParent=formatRoot.parentNode;for(parent=container.parentNode;parent&&parent!==formatRootParent;parent=parent.parentNode){clone=dom.clone(parent,false);for(i=0;i<formatList.length;i++){if(removeFormat(editor,formatList[i],vars,clone,clone)){clone=0;break;}}if(clone){if(lastClone){clone.appendChild(lastClone);}if(!firstClone){firstClone=clone;}lastClone=clone;}}if(split&&(!format.mixed||!dom.isBlock(formatRoot))){container=dom.split(formatRoot,container);}if(lastClone){target.parentNode.insertBefore(lastClone,target);firstClone.appendChild(target);}}return container;};var remove$8=function(ed,name,vars,node,similar){var formatList=ed.formatter.get(name),format=formatList[0];var bookmark,rng,contentEditable=true;var dom=ed.dom;var selection=ed.selection;var splitToFormatRoot=function(container){var formatRoot=findFormatRoot(ed,container,name,vars,similar);return wrapAndSplit(ed,formatList,formatRoot,container,container,true,format,vars);};var process=function(node){var children,i,l,lastContentEditable,hasContentEditableState;if($_fy28ei1rjnlpax2o.isElement(node)&&dom.getContentEditable(node)){lastContentEditable=contentEditable;contentEditable=dom.getContentEditable(node)==='true';hasContentEditableState=true;}children=$_1q1txeljnlpawsa.grep(node.childNodes);if(contentEditable&&!hasContentEditableState){for(i=0,l=formatList.length;i<l;i++){if(removeFormat(ed,formatList[i],vars,node,node)){break;}}}if(format.deep){if(children.length){for(i=0,l=children.length;i<l;i++){process(children[i]);}if(hasContentEditableState){contentEditable=lastContentEditable;}}}};var unwrap=function(start){var node=dom.get(start?'_start':'_end');var out=node[start?'firstChild':'lastChild'];if($_43l8qj2xjnlpaxb1.isBookmarkNode(out)){out=out[start?'firstChild':'lastChild'];}if($_fy28ei1rjnlpax2o.isText(out)&&out.data.length===0){out=start?node.previousSibling||node.nextSibling:node.nextSibling||node.previousSibling;}dom.remove(node,true);return out;};var removeRngStyle=function(rng){var startContainer,endContainer;var commonAncestorContainer=rng.commonAncestorContainer;rng=$_3cscnj2wjnlpaxau.expandRng(ed,rng,formatList,true);if(format.split){rng=$_fvyfxh69jnlpay1e.split(rng);startContainer=getContainer(ed,rng,true);endContainer=getContainer(ed,rng);if(startContainer!==endContainer){if(/^(TR|TH|TD)$/.test(startContainer.nodeName)&&startContainer.firstChild){if(startContainer.nodeName==='TR'){startContainer=startContainer.firstChild.firstChild||startContainer;}else{startContainer=startContainer.firstChild||startContainer;}}if(commonAncestorContainer&&/^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName)&&isTableCell$4(endContainer)&&endContainer.firstChild){endContainer=endContainer.firstChild||endContainer;}if(dom.isChildOf(startContainer,endContainer)&&startContainer!==endContainer&&!dom.isBlock(endContainer)&&!isTableCell$4(startContainer)&&!isTableCell$4(endContainer)){var wrappedContent=wrapWithSiblings(dom,startContainer,'span',true,{'id':'_start','data-mce-type':'bookmark'});splitToFormatRoot(wrappedContent);startContainer=unwrap(true);return;}startContainer=wrap$2(dom,startContainer,'span',{'id':'_start','data-mce-type':'bookmark'});endContainer=wrap$2(dom,endContainer,'span',{'id':'_end','data-mce-type':'bookmark'});splitToFormatRoot(startContainer);splitToFormatRoot(endContainer);startContainer=unwrap(true);endContainer=unwrap();}else{startContainer=endContainer=splitToFormatRoot(startContainer);}rng.startContainer=startContainer.parentNode?startContainer.parentNode:startContainer;rng.startOffset=dom.nodeIndex(startContainer);rng.endContainer=endContainer.parentNode?endContainer.parentNode:endContainer;rng.endOffset=dom.nodeIndex(endContainer)+1;}$_6wozuu3djnlpaxew.walk(dom,rng,function(nodes){each$13(nodes,function(node){process(node);if($_fy28ei1rjnlpax2o.isElement(node)&&ed.dom.getStyle(node,'text-decoration')==='underline'&&node.parentNode&&$_dlfh233cjnlpaxes.getTextDecoration(dom,node.parentNode)==='underline'){removeFormat(ed,{deep:false,exact:true,inline:'span',styles:{textDecoration:'underline'}},null,node);}});});};if(node){if(node.nodeType){rng=dom.createRng();rng.setStartBefore(node);rng.setEndAfter(node);removeRngStyle(rng);}else{removeRngStyle(node);}return;}if(dom.getContentEditable(selection.getNode())==='false'){node=selection.getNode();for(var i=0,l=formatList.length;i<l;i++){if(formatList[i].ceFalseOverride){if(removeFormat(ed,formatList[i],vars,node,node)){break;}}}return;}if(!selection.isCollapsed()||!format.inline||dom.select('td[data-mce-selected],th[data-mce-selected]').length){bookmark=$_5l0mu32ljnlpax8x.getPersistentBookmark(ed.selection,true);removeRngStyle(selection.getRng());selection.moveToBookmark(bookmark);if(format.inline&&$_706y6v68jnlpay1a.match(ed,name,vars,selection.getStart())){$_dlfh233cjnlpaxes.moveStart(dom,selection,selection.getRng());}ed.nodeChanged();}else{removeCaretFormat(ed,name,vars,similar);}};var $_4dimpr6cjnlpay1t={removeFormat:removeFormat,remove:remove$8};var each$14=$_1q1txeljnlpawsa.each;var isElementNode=function(node){return node&&node.nodeType===1&&!$_43l8qj2xjnlpaxb1.isBookmarkNode(node)&&!isCaretNode(node)&&!$_fy28ei1rjnlpax2o.isBogus(node);};var findElementSibling=function(node,siblingName){var sibling;for(sibling=node;sibling;sibling=sibling[siblingName]){if(sibling.nodeType===3&&sibling.nodeValue.length!==0){return node;}if(sibling.nodeType===1&&!$_43l8qj2xjnlpaxb1.isBookmarkNode(sibling)){return sibling;}}return node;};var mergeSiblingsNodes=function(dom,prev,next){var sibling,tmpSibling;var elementUtils=new ElementUtils(dom);if(prev&&next){prev=findElementSibling(prev,'previousSibling');next=findElementSibling(next,'nextSibling');if(elementUtils.compare(prev,next)){for(sibling=prev.nextSibling;sibling&&sibling!==next;){tmpSibling=sibling;sibling=sibling.nextSibling;prev.appendChild(tmpSibling);}dom.remove(next);$_1q1txeljnlpawsa.each($_1q1txeljnlpawsa.grep(next.childNodes),function(node){prev.appendChild(node);});return prev;}}return next;};var processChildElements=function(node,filter,process){each$14(node.childNodes,function(node){if(isElementNode(node)){if(filter(node)){process(node);}if(node.hasChildNodes()){processChildElements(node,filter,process);}}});};var hasStyle=function(dom,name){return curry(function(name,node){return!!(node&&$_dlfh233cjnlpaxes.getStyle(dom,node,name));},name);};var applyStyle=function(dom,name,value){return curry(function(name,value,node){dom.setStyle(node,name,value);if(node.getAttribute('style')===''){node.removeAttribute('style');}unwrapEmptySpan(dom,node);},name,value);};var unwrapEmptySpan=function(dom,node){if(node.nodeName==='SPAN'&&dom.getAttribs(node).length===0){dom.remove(node,true);}};var processUnderlineAndColor=function(dom,node){var textDecoration;if(node.nodeType===1&&node.parentNode&&node.parentNode.nodeType===1){textDecoration=$_dlfh233cjnlpaxes.getTextDecoration(dom,node.parentNode);if(dom.getStyle(node,'color')&&textDecoration){dom.setStyle(node,'text-decoration',textDecoration);}else if(dom.getStyle(node,'text-decoration')===textDecoration){dom.setStyle(node,'text-decoration',null);}}};var mergeUnderlineAndColor=function(dom,format,vars,node){if(format.styles.color||format.styles.textDecoration){$_1q1txeljnlpawsa.walk(node,curry(processUnderlineAndColor,dom),'childNodes');processUnderlineAndColor(dom,node);}};var mergeBackgroundColorAndFontSize=function(dom,format,vars,node){if(format.styles&&format.styles.backgroundColor){processChildElements(node,hasStyle(dom,'fontSize'),applyStyle(dom,'backgroundColor',$_dlfh233cjnlpaxes.replaceVars(format.styles.backgroundColor,vars)));}};var mergeSubSup=function(dom,format,vars,node){if(format.inline==='sub'||format.inline==='sup'){processChildElements(node,hasStyle(dom,'fontSize'),applyStyle(dom,'fontSize',''));dom.remove(dom.select(format.inline==='sup'?'sub':'sup',node),true);}};var mergeSiblings=function(dom,format,vars,node){if(node&&format.merge_siblings!==false){node=mergeSiblingsNodes(dom,$_dlfh233cjnlpaxes.getNonWhiteSpaceSibling(node),node);node=mergeSiblingsNodes(dom,node,$_dlfh233cjnlpaxes.getNonWhiteSpaceSibling(node,true));}};var clearChildStyles=function(dom,format,node){if(format.clear_child_styles){var selector=format.links?'*:not(a)':'*';each$14(dom.select(selector,node),function(node){if(isElementNode(node)){each$14(format.styles,function(value,name){dom.setStyle(node,name,'');});}});}};var mergeWithChildren=function(editor,formatList,vars,node){each$14(formatList,function(format){each$14(editor.dom.select(format.inline,node),function(child){if(!isElementNode(child)){return;}$_4dimpr6cjnlpay1t.removeFormat(editor,format,vars,child,format.exact?child:null);});clearChildStyles(editor.dom,format,node);});};var mergeWithParents=function(editor,format,name,vars,node){if($_706y6v68jnlpay1a.matchNode(editor,node.parentNode,name,vars)){if($_4dimpr6cjnlpay1t.removeFormat(editor,format,vars,node)){return;}}if(format.merge_with_parents){editor.dom.getParent(node.parentNode,function(parent){if($_706y6v68jnlpay1a.matchNode(editor,parent,name,vars)){$_4dimpr6cjnlpay1t.removeFormat(editor,format,vars,node);return true;}});}};var $_4luhzy6bjnlpay1j={mergeWithChildren:mergeWithChildren,mergeUnderlineAndColor:mergeUnderlineAndColor,mergeBackgroundColorAndFontSize:mergeBackgroundColorAndFontSize,mergeSubSup:mergeSubSup,mergeSiblings:mergeSiblings,mergeWithParents:mergeWithParents};var each$15=$_1q1txeljnlpawsa.each;var isElementNode$1=function(node){return node&&node.nodeType===1&&!$_43l8qj2xjnlpaxb1.isBookmarkNode(node)&&!isCaretNode(node)&&!$_fy28ei1rjnlpax2o.isBogus(node);};var applyFormat=function(ed,name,vars,node){var formatList=ed.formatter.get(name);var format=formatList[0];var bookmark,rng;var isCollapsed=!node&&ed.selection.isCollapsed();var dom=ed.dom,selection=ed.selection;var setElementFormat=function(elm,fmt){fmt=fmt||format;if(elm){if(fmt.onformat){fmt.onformat(elm,fmt,vars,node);}each$15(fmt.styles,function(value,name){dom.setStyle(elm,name,$_dlfh233cjnlpaxes.replaceVars(value,vars));});if(fmt.styles){var styleVal=dom.getAttrib(elm,'style');if(styleVal){elm.setAttribute('data-mce-style',styleVal);}}each$15(fmt.attributes,function(value,name){dom.setAttrib(elm,name,$_dlfh233cjnlpaxes.replaceVars(value,vars));});each$15(fmt.classes,function(value){value=$_dlfh233cjnlpaxes.replaceVars(value,vars);if(!dom.hasClass(elm,value)){dom.addClass(elm,value);}});}};var applyNodeStyle=function(formatList,node){var found=false;if(!format.selector){return false;}each$15(formatList,function(format){if('collapsed'in format&&format.collapsed!==isCollapsed){return;}if(dom.is(node,format.selector)&&!isCaretNode(node)){setElementFormat(node,format);found=true;return false;}});return found;};var applyRngStyle=function(dom,rng,bookmark,nodeSpecific){var newWrappers=[];var wrapName,wrapElm,contentEditable=true;wrapName=format.inline||format.block;wrapElm=dom.create(wrapName);setElementFormat(wrapElm);$_6wozuu3djnlpaxew.walk(dom,rng,function(nodes){var currentWrapElm;var process=function(node){var nodeName,parentName,hasContentEditableState,lastContentEditable;lastContentEditable=contentEditable;nodeName=node.nodeName.toLowerCase();parentName=node.parentNode.nodeName.toLowerCase();if(node.nodeType===1&&dom.getContentEditable(node)){lastContentEditable=contentEditable;contentEditable=dom.getContentEditable(node)==='true';hasContentEditableState=true;}if($_dlfh233cjnlpaxes.isEq(nodeName,'br')){currentWrapElm=0;if(format.block){dom.remove(node);}return;}if(format.wrapper&&$_706y6v68jnlpay1a.matchNode(ed,node,name,vars)){currentWrapElm=0;return;}if(contentEditable&&!hasContentEditableState&&format.block&&!format.wrapper&&$_dlfh233cjnlpaxes.isTextBlock(ed,nodeName)&&$_dlfh233cjnlpaxes.isValid(ed,parentName,wrapName)){node=dom.rename(node,wrapName);setElementFormat(node);newWrappers.push(node);currentWrapElm=0;return;}if(format.selector){var found=applyNodeStyle(formatList,node);if(!format.inline||found){currentWrapElm=0;return;}}if(contentEditable&&!hasContentEditableState&&$_dlfh233cjnlpaxes.isValid(ed,wrapName,nodeName)&&$_dlfh233cjnlpaxes.isValid(ed,parentName,wrapName)&&!(!nodeSpecific&&node.nodeType===3&&node.nodeValue.length===1&&node.nodeValue.charCodeAt(0)===65279)&&!isCaretNode(node)&&(!format.inline||!dom.isBlock(node))){if(!currentWrapElm){currentWrapElm=dom.clone(wrapElm,false);node.parentNode.insertBefore(currentWrapElm,node);newWrappers.push(currentWrapElm);}currentWrapElm.appendChild(node);}else{currentWrapElm=0;each$15($_1q1txeljnlpawsa.grep(node.childNodes),process);if(hasContentEditableState){contentEditable=lastContentEditable;}currentWrapElm=0;}};each$15(nodes,process);});if(format.links===true){each$15(newWrappers,function(node){var process=function(node){if(node.nodeName==='A'){setElementFormat(node,format);}each$15($_1q1txeljnlpawsa.grep(node.childNodes),process);};process(node);});}each$15(newWrappers,function(node){var childCount;var getChildCount=function(node){var count=0;each$15(node.childNodes,function(node){if(!$_dlfh233cjnlpaxes.isWhiteSpaceNode(node)&&!$_43l8qj2xjnlpaxb1.isBookmarkNode(node)){count++;}});return count;};var getChildElementNode=function(root){var child=false;each$15(root.childNodes,function(node){if(isElementNode$1(node)){child=node;return false;}});return child;};var mergeStyles=function(node){var child,clone;child=getChildElementNode(node);if(child&&!$_43l8qj2xjnlpaxb1.isBookmarkNode(child)&&$_706y6v68jnlpay1a.matchName(dom,child,format)){clone=dom.clone(child,false);setElementFormat(clone);dom.replace(clone,node,true);dom.remove(child,1);}return clone||node;};childCount=getChildCount(node);if((newWrappers.length>1||!dom.isBlock(node))&&childCount===0){dom.remove(node,1);return;}if(format.inline||format.wrapper){if(!format.exact&&childCount===1){node=mergeStyles(node);}$_4luhzy6bjnlpay1j.mergeWithChildren(ed,formatList,vars,node);$_4luhzy6bjnlpay1j.mergeWithParents(ed,format,name,vars,node);$_4luhzy6bjnlpay1j.mergeBackgroundColorAndFontSize(dom,format,vars,node);$_4luhzy6bjnlpay1j.mergeSubSup(dom,format,vars,node);$_4luhzy6bjnlpay1j.mergeSiblings(dom,format,vars,node);}});};if(dom.getContentEditable(selection.getNode())==='false'){node=selection.getNode();for(var i=0,l=formatList.length;i<l;i++){if(formatList[i].ceFalseOverride&&dom.is(node,formatList[i].selector)){setElementFormat(node,formatList[i]);return;}}return;}if(format){if(node){if(node.nodeType){if(!applyNodeStyle(formatList,node)){rng=dom.createRng();rng.setStartBefore(node);rng.setEndAfter(node);applyRngStyle(dom,$_3cscnj2wjnlpaxau.expandRng(ed,rng,formatList),null,true);}}else{applyRngStyle(dom,node,null,true);}}else{if(!isCollapsed||!format.inline||dom.select('td[data-mce-selected],th[data-mce-selected]').length){var curSelNode=ed.selection.getNode();if(!ed.settings.forced_root_block&&formatList[0].defaultBlock&&!dom.getParent(curSelNode,dom.isBlock)){applyFormat(ed,formatList[0].defaultBlock);}ed.selection.setRng($_4fmn0j3qjnlpaxhi.normalize(ed.selection.getRng()));bookmark=$_5l0mu32ljnlpax8x.getPersistentBookmark(ed.selection,true);applyRngStyle(dom,$_3cscnj2wjnlpaxau.expandRng(ed,selection.getRng(),formatList),bookmark);if(format.styles){$_4luhzy6bjnlpay1j.mergeUnderlineAndColor(dom,format,vars,curSelNode);}selection.moveToBookmark(bookmark);$_dlfh233cjnlpaxes.moveStart(dom,selection,selection.getRng());ed.nodeChanged();}else{applyCaretFormat(ed,name,vars);}}$_48059m6ajnlpay1h.postProcess(name,ed);}};var $_f4ruu466jnlpay08={applyFormat:applyFormat};var each$16=$_1q1txeljnlpawsa.each;var setup$5=function(formatChangeData,editor){var currentFormats={};formatChangeData.set({});editor.on('NodeChange',function(e){var parents=$_dlfh233cjnlpaxes.getParents(editor.dom,e.element);var matchedFormats={};parents=$_1q1txeljnlpawsa.grep(parents,function(node){return node.nodeType===1&&!node.getAttribute('data-mce-bogus');});each$16(formatChangeData.get(),function(callbacks,format){each$16(parents,function(node){if(editor.formatter.matchNode(node,format,{},callbacks.similar)){if(!currentFormats[format]){each$16(callbacks,function(callback){callback(true,{node:node,format:format,parents:parents});});currentFormats[format]=callbacks;}matchedFormats[format]=callbacks;return false;}if($_706y6v68jnlpay1a.matchesUnInheritedFormatSelector(editor,node,format)){return false;}});});each$16(currentFormats,function(callbacks,format){if(!matchedFormats[format]){delete currentFormats[format];each$16(callbacks,function(callback){callback(false,{node:e.element,format:format,parents:parents});});}});});};var addListeners=function(formatChangeData,formats,callback,similar){var formatChangeItems=formatChangeData.get();each$16(formats.split(','),function(format){if(!formatChangeItems[format]){formatChangeItems[format]=[];formatChangeItems[format].similar=similar;}formatChangeItems[format].push(callback);});formatChangeData.set(formatChangeItems);};var formatChanged=function(editor,formatChangeState,formats,callback,similar){if(formatChangeState.get()===null){setup$5(formatChangeState,editor);}addListeners(formatChangeState,formats,callback,similar);};var $_10ddoa6djnlpay24={formatChanged:formatChanged};var get$8=function(dom){var formats={valigntop:[{selector:'td,th',styles:{verticalAlign:'top'}}],valignmiddle:[{selector:'td,th',styles:{verticalAlign:'middle'}}],valignbottom:[{selector:'td,th',styles:{verticalAlign:'bottom'}}],alignleft:[{selector:'figure.image',collapsed:false,classes:'align-left',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'left'},inherit:false,preview:false,defaultBlock:'div'},{selector:'img,table',collapsed:false,styles:{float:'left'},preview:'font-family font-size'}],aligncenter:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'center'},inherit:false,preview:'font-family font-size',defaultBlock:'div'},{selector:'figure.image',collapsed:false,classes:'align-center',ceFalseOverride:true,preview:'font-family font-size'},{selector:'img',collapsed:false,styles:{display:'block',marginLeft:'auto',marginRight:'auto'},preview:false},{selector:'table',collapsed:false,styles:{marginLeft:'auto',marginRight:'auto'},preview:'font-family font-size'}],alignright:[{selector:'figure.image',collapsed:false,classes:'align-right',ceFalseOverride:true,preview:'font-family font-size'},{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'right'},inherit:false,preview:'font-family font-size',defaultBlock:'div'},{selector:'img,table',collapsed:false,styles:{float:'right'},preview:'font-family font-size'}],alignjustify:[{selector:'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',styles:{textAlign:'justify'},inherit:false,defaultBlock:'div',preview:'font-family font-size'}],bold:[{inline:'strong',remove:'all'},{inline:'span',styles:{fontWeight:'bold'}},{inline:'b',remove:'all'}],italic:[{inline:'em',remove:'all'},{inline:'span',styles:{fontStyle:'italic'}},{inline:'i',remove:'all'}],underline:[{inline:'span',styles:{textDecoration:'underline'},exact:true},{inline:'u',remove:'all'}],strikethrough:[{inline:'span',styles:{textDecoration:'line-through'},exact:true},{inline:'strike',remove:'all'}],forecolor:{inline:'span',styles:{color:'%value'},links:true,remove_similar:true,clear_child_styles:true},hilitecolor:{inline:'span',styles:{backgroundColor:'%value'},links:true,remove_similar:true,clear_child_styles:true},fontname:{inline:'span',toggle:false,styles:{fontFamily:'%value'},clear_child_styles:true},fontsize:{inline:'span',toggle:false,styles:{fontSize:'%value'},clear_child_styles:true},fontsize_class:{inline:'span',attributes:{class:'%value'}},blockquote:{block:'blockquote',wrapper:1,remove:'all'},subscript:{inline:'sub'},superscript:{inline:'sup'},code:{inline:'code'},link:{inline:'a',selector:'a',remove:'all',split:true,deep:true,onmatch:function(){return true;},onformat:function(elm,fmt,vars){$_1q1txeljnlpawsa.each(vars,function(value,key){dom.setAttrib(elm,key,value);});}},removeformat:[{selector:'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',remove:'all',split:true,expand:false,block_expand:true,deep:true},{selector:'span',attributes:['style','class'],remove:'empty',split:true,expand:false,deep:true},{selector:'*',attributes:['style','class'],split:false,expand:false,deep:true}]};$_1q1txeljnlpawsa.each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\\s/),function(name){formats[name]={block:name,remove:'all'};});return formats;};var $_2j3wlv6fjnlpay2d={get:get$8};function FormatRegistry(editor){var formats={};var get=function(name){return name?formats[name]:formats;};var register=function(name,format){if(name){if(typeof name!=='string'){$_1q1txeljnlpawsa.each(name,function(format,name){register(name,format);});}else{format=format.length?format:[format];$_1q1txeljnlpawsa.each(format,function(format){if(typeof format.deep==='undefined'){format.deep=!format.selector;}if(typeof format.split==='undefined'){format.split=!format.selector||format.inline;}if(typeof format.remove==='undefined'&&format.selector&&!format.inline){format.remove='none';}if(format.selector&&format.inline){format.mixed=true;format.block_expand=true;}if(typeof format.classes==='string'){format.classes=format.classes.split(/\\s+/);}});formats[name]=format;}}};var unregister=function(name){if(name&&formats[name]){delete formats[name];}return formats;};register($_2j3wlv6fjnlpay2d.get(editor.dom));register(editor.settings.formats);return{get:get,register:register,unregister:unregister};}var each$17=$_1q1txeljnlpawsa.each;var dom=DOMUtils$1.DOM;var parsedSelectorToHtml=function(ancestry,editor){var elm,item,fragment;var schema=editor&&editor.schema||Schema({});var decorate=function(elm,item){if(item.classes.length){dom.addClass(elm,item.classes.join(' '));}dom.setAttribs(elm,item.attrs);};var createElement=function(sItem){var elm;item=typeof sItem==='string'?{name:sItem,classes:[],attrs:{}}:sItem;elm=dom.create(item.name);decorate(elm,item);return elm;};var getRequiredParent=function(elm,candidate){var name=typeof elm!=='string'?elm.nodeName.toLowerCase():elm;var elmRule=schema.getElementRule(name);var parentsRequired=elmRule&&elmRule.parentsRequired;if(parentsRequired&&parentsRequired.length){return candidate&&$_1q1txeljnlpawsa.inArray(parentsRequired,candidate)!==-1?candidate:parentsRequired[0];}else{return false;}};var wrapInHtml=function(elm,ancestry,siblings){var parent,parentCandidate,parentRequired;var ancestor=ancestry.length>0&&ancestry[0];var ancestorName=ancestor&&ancestor.name;parentRequired=getRequiredParent(elm,ancestorName);if(parentRequired){if(ancestorName===parentRequired){parentCandidate=ancestry[0];ancestry=ancestry.slice(1);}else{parentCandidate=parentRequired;}}else if(ancestor){parentCandidate=ancestry[0];ancestry=ancestry.slice(1);}else if(!siblings){return elm;}if(parentCandidate){parent=createElement(parentCandidate);parent.appendChild(elm);}if(siblings){if(!parent){parent=dom.create('div');parent.appendChild(elm);}$_1q1txeljnlpawsa.each(siblings,function(sibling){var siblingElm=createElement(sibling);parent.insertBefore(siblingElm,elm);});}return wrapInHtml(parent,ancestry,parentCandidate&&parentCandidate.siblings);};if(ancestry&&ancestry.length){item=ancestry[0];elm=createElement(item);fragment=dom.create('div');fragment.appendChild(wrapInHtml(elm,ancestry.slice(1),item.siblings));return fragment;}else{return'';}};var selectorToHtml=function(selector,editor){return parsedSelectorToHtml(parseSelector(selector),editor);};var parseSelectorItem=function(item){var tagName;var obj={classes:[],attrs:{}};item=obj.selector=$_1q1txeljnlpawsa.trim(item);if(item!=='*'){tagName=item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g,function($0,$1,$2,$3,$4){switch($1){case'#':obj.attrs.id=$2;break;case'.':obj.classes.push($2);break;case':':if($_1q1txeljnlpawsa.inArray('checked disabled enabled read-only required'.split(' '),$2)!==-1){obj.attrs[$2]=$2;}break;}if($3==='['){var m=$4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);if(m){obj.attrs[m[1]]=m[2];}}return'';});}obj.name=tagName||'div';return obj;};var parseSelector=function(selector){if(!selector||typeof selector!=='string'){return[];}selector=selector.split(/\\s*,\\s*/)[0];selector=selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g,'$1');return $_1q1txeljnlpawsa.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/),function(item){var siblings=$_1q1txeljnlpawsa.map(item.split(/(?:~\\+|~|\\+)/),parseSelectorItem);var obj=siblings.pop();if(siblings.length){obj.siblings=siblings;}return obj;}).reverse();};var getCssText=function(editor,format){var name,previewFrag,previewElm,items;var previewCss='',parentFontSize,previewStyles;previewStyles=editor.settings.preview_styles;if(previewStyles===false){return'';}if(typeof previewStyles!=='string'){previewStyles='font-family font-size font-weight font-style text-decoration '+'text-transform color background-color border border-radius outline text-shadow';}var removeVars=function(val){return val.replace(/%(\\w+)/g,'');};if(typeof format==='string'){format=editor.formatter.get(format);if(!format){return;}format=format[0];}if('preview'in format){previewStyles=format.preview;if(previewStyles===false){return'';}}name=format.block||format.inline||'span';items=parseSelector(format.selector);if(items.length){if(!items[0].name){items[0].name=name;}name=format.selector;previewFrag=parsedSelectorToHtml(items,editor);}else{previewFrag=parsedSelectorToHtml([name],editor);}previewElm=dom.select(name,previewFrag)[0]||previewFrag.firstChild;each$17(format.styles,function(value,name){value=removeVars(value);if(value){dom.setStyle(previewElm,name,value);}});each$17(format.attributes,function(value,name){value=removeVars(value);if(value){dom.setAttrib(previewElm,name,value);}});each$17(format.classes,function(value){value=removeVars(value);if(!dom.hasClass(previewElm,value)){dom.addClass(previewElm,value);}});editor.fire('PreviewFormats');dom.setStyles(previewFrag,{position:'absolute',left:-65535});editor.getBody().appendChild(previewFrag);parentFontSize=dom.getStyle(editor.getBody(),'fontSize',true);parentFontSize=/px$/.test(parentFontSize)?parseInt(parentFontSize,10):0;each$17(previewStyles.split(' '),function(name){var value=dom.getStyle(previewElm,name,true);if(name==='background-color'&&/transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)){value=dom.getStyle(editor.getBody(),name,true);if(dom.toHex(value).toLowerCase()==='#ffffff'){return;}}if(name==='color'){if(dom.toHex(value).toLowerCase()==='#000000'){return;}}if(name==='font-size'){if(/em|%$/.test(value)){if(parentFontSize===0){return;}var numValue=parseFloat(value)/(/%$/.test(value)?100:1);value=numValue*parentFontSize+'px';}}if(name==='border'&&value){previewCss+='padding:0 2px;';}previewCss+=name+':'+value+';';});editor.fire('AfterPreviewFormats');dom.remove(previewFrag);return previewCss;};var $_6yt3d06gjnlpay2j={getCssText:getCssText,parseSelector:parseSelector,selectorToHtml:selectorToHtml};var toggle$3=function(editor,formats,name,vars,node){var fmt=formats.get(name);if($_706y6v68jnlpay1a.match(editor,name,vars,node)&&(!('toggle'in fmt[0])||fmt[0].toggle)){$_4dimpr6cjnlpay1t.remove(editor,name,vars,node);}else{$_f4ruu466jnlpay08.applyFormat(editor,name,vars,node);}};var $_div70r6hjnlpay2r={toggle:toggle$3};var setup$6=function(editor){editor.addShortcut('meta+b','','Bold');editor.addShortcut('meta+i','','Italic');editor.addShortcut('meta+u','','Underline');for(var i=1;i<=6;i++){editor.addShortcut('access+'+i,'',['FormatBlock',false,'h'+i]);}editor.addShortcut('access+7','',['FormatBlock',false,'p']);editor.addShortcut('access+8','',['FormatBlock',false,'div']);editor.addShortcut('access+9','',['FormatBlock',false,'address']);};var $_azkj2d6ijnlpay2t={setup:setup$6};function Formatter(editor){var formats=FormatRegistry(editor);var formatChangeState=Cell(null);$_azkj2d6ijnlpay2t.setup(editor);setup$4(editor);return{get:formats.get,register:formats.register,unregister:formats.unregister,apply:curry($_f4ruu466jnlpay08.applyFormat,editor),remove:curry($_4dimpr6cjnlpay1t.remove,editor),toggle:curry($_div70r6hjnlpay2r.toggle,editor,formats),match:curry($_706y6v68jnlpay1a.match,editor),matchAll:curry($_706y6v68jnlpay1a.matchAll,editor),matchNode:curry($_706y6v68jnlpay1a.matchNode,editor),canApply:curry($_706y6v68jnlpay1a.canApply,editor),formatChanged:curry($_10ddoa6djnlpay24.formatChanged,editor,formatChangeState),getCssText:curry($_6yt3d06gjnlpay2j.getCssText,editor)};}var hasOwnProperty$2=Object.prototype.hasOwnProperty;var shallow$1=function(old,nu){return nu;};var baseMerge=function(merger){return function(){var objects=new Array(arguments.length);for(var i=0;i<objects.length;i++)objects[i]=arguments[i];if(objects.length===0)throw new Error('Can\\'t merge zero objects');var ret={};for(var j=0;j<objects.length;j++){var curObject=objects[j];for(var key in curObject)if(hasOwnProperty$2.call(curObject,key)){ret[key]=merger(ret[key],curObject[key]);}}return ret;};};var merge=baseMerge(shallow$1);var register=function(htmlParser,settings,dom){htmlParser.addAttributeFilter('data-mce-tabindex',function(nodes,name){var i=nodes.length,node;while(i--){node=nodes[i];node.attr('tabindex',node.attributes.map['data-mce-tabindex']);node.attr(name,null);}});htmlParser.addAttributeFilter('src,href,style',function(nodes,name){var i=nodes.length,node,value;var internalName='data-mce-'+name;var urlConverter=settings.url_converter;var urlConverterScope=settings.url_converter_scope;while(i--){node=nodes[i];value=node.attributes.map[internalName];if(value!==undefined){node.attr(name,value.length>0?value:null);node.attr(internalName,null);}else{value=node.attributes.map[name];if(name==='style'){value=dom.serializeStyle(dom.parseStyle(value),node.name);}else if(urlConverter){value=urlConverter.call(urlConverterScope,value,name,node.name);}node.attr(name,value.length>0?value:null);}}});htmlParser.addAttributeFilter('class',function(nodes){var i=nodes.length,node,value;while(i--){node=nodes[i];value=node.attr('class');if(value){value=node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g,'');node.attr('class',value.length>0?value:null);}}});htmlParser.addAttributeFilter('data-mce-type',function(nodes,name,args){var i=nodes.length,node;while(i--){node=nodes[i];if(node.attributes.map['data-mce-type']==='bookmark'&&!args.cleanup){node.remove();}}});htmlParser.addNodeFilter('noscript',function(nodes){var i=nodes.length,node;while(i--){node=nodes[i].firstChild;if(node){node.value=$_bea7j51sjnlpax2u.decode(node.value);}}});htmlParser.addNodeFilter('script,style',function(nodes,name){var i=nodes.length,node,value,type;var trim=function(value){return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,'\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g,'').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi,'').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g,'');};while(i--){node=nodes[i];value=node.firstChild?node.firstChild.value:'';if(name==='script'){type=node.attr('type');if(type){node.attr('type',type==='mce-no/type'?null:type.replace(/^mce\\-/,''));}if(settings.element_format==='xhtml'&&value.length>0){node.firstChild.value='// <![CDATA[\\n'+trim(value)+'\\n// ]]>';}}else{if(settings.element_format==='xhtml'&&value.length>0){node.firstChild.value='<!--\\n'+trim(value)+'\\n-->';}}}});htmlParser.addNodeFilter('#comment',function(nodes){var i=nodes.length,node;while(i--){node=nodes[i];if(node.value.indexOf('[CDATA[')===0){node.name='#cdata';node.type=4;node.value=node.value.replace(/^\\[CDATA\\[|\\]\\]$/g,'');}else if(node.value.indexOf('mce:protected ')===0){node.name='#text';node.type=3;node.raw=true;node.value=unescape(node.value).substr(14);}}});htmlParser.addNodeFilter('xml:namespace,input',function(nodes,name){var i=nodes.length,node;while(i--){node=nodes[i];if(node.type===7){node.remove();}else if(node.type===1){if(name==='input'&&!('type'in node.attributes.map)){node.attr('type','text');}}}});htmlParser.addAttributeFilter('data-mce-type',function(nodes){each(nodes,function(node){if(node.attr('data-mce-type')==='format-caret'){if(node.isEmpty(htmlParser.schema.getNonEmptyElements())){node.remove();}else{node.unwrap();}}});});htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,'+'data-mce-selected,data-mce-expando,'+'data-mce-type,data-mce-resize',function(nodes,name){var i=nodes.length;while(i--){nodes[i].attr(name,null);}});};var trimTrailingBr=function(rootNode){var brNode1,brNode2;var isBr=function(node){return node&&node.name==='br';};brNode1=rootNode.lastChild;if(isBr(brNode1)){brNode2=brNode1.prev;if(isBr(brNode2)){brNode1.remove();brNode2.remove();}}};var $_bpervq6mjnlpay3i={register:register,trimTrailingBr:trimTrailingBr};var preProcess=function(editor,node,args){var impl,doc,oldDoc;var dom=editor.dom;node=node.cloneNode(true);impl=document.implementation;if(impl.createHTMLDocument){doc=impl.createHTMLDocument('');$_1q1txeljnlpawsa.each(node.nodeName==='BODY'?node.childNodes:[node],function(node){doc.body.appendChild(doc.importNode(node,true));});if(node.nodeName!=='BODY'){node=doc.body.firstChild;}else{node=doc.body;}oldDoc=dom.doc;dom.doc=doc;}$_5atig84wjnlpaxs7.firePreProcess(editor,merge(args,{node:node}));if(oldDoc){dom.doc=oldDoc;}return node;};var shouldFireEvent=function(editor,args){return editor&&editor.hasEventListeners('PreProcess')&&!args.no_events;};var process=function(editor,node,args){return shouldFireEvent(editor,args)?preProcess(editor,node,args):node;};var $_5tjdgs6njnlpay3r={process:process};var removeAttrs=function(node,names){each(names,function(name){node.attr(name,null);});};var addFontToSpansFilter=function(domParser,styles,fontSizes){domParser.addNodeFilter('font',function(nodes){each(nodes,function(node){var props=styles.parse(node.attr('style'));var color=node.attr('color');var face=node.attr('face');var size=node.attr('size');if(color){props.color=color;}if(face){props['font-family']=face;}if(size){props['font-size']=fontSizes[parseInt(node.attr('size'),10)-1];}node.name='span';node.attr('style',styles.serialize(props));removeAttrs(node,['color','face','size']);});});};var addStrikeToSpanFilter=function(domParser,styles){domParser.addNodeFilter('strike',function(nodes){each(nodes,function(node){var props=styles.parse(node.attr('style'));props['text-decoration']='line-through';node.name='span';node.attr('style',styles.serialize(props));});});};var addFilters=function(domParser,settings){var styles=Styles();if(settings.convert_fonts_to_spans){addFontToSpansFilter(domParser,styles,$_1q1txeljnlpawsa.explode(settings.font_size_legacy_values));}addStrikeToSpanFilter(domParser,styles);};var register$1=function(domParser,settings){if(settings.inline_styles){addFilters(domParser,settings);}};var $_2wvuyy6pjnlpay4e={register:register$1};var whiteSpaceRegExp$3=/^[ \\t\\r\\n]*$/;var typeLookup={'#text':3,'#comment':8,'#cdata':4,'#pi':7,'#doctype':10,'#document-fragment':11};var walk$3=function(node,root,prev){var sibling;var parent;var startName=prev?'lastChild':'firstChild';var siblingName=prev?'prev':'next';if(node[startName]){return node[startName];}if(node!==root){sibling=node[siblingName];if(sibling){return sibling;}for(parent=node.parent;parent&&parent!==root;parent=parent.parent){sibling=parent[siblingName];if(sibling){return sibling;}}}};var Node$2=function(){function Node(name,type){this.name=name;this.type=type;if(type===1){this.attributes=[];this.attributes.map={};}}Node.create=function(name,attrs){var node,attrName;node=new Node(name,typeLookup[name]||1);if(attrs){for(attrName in attrs){node.attr(attrName,attrs[attrName]);}}return node;};Node.prototype.replace=function(node){var self=this;if(node.parent){node.remove();}self.insert(node,self);self.remove();return self;};Node.prototype.attr=function(name,value){var self=this;var attrs,i;if(typeof name!=='string'){for(i in name){self.attr(i,name[i]);}return self;}if(attrs=self.attributes){if(value!==undefined){if(value===null){if(name in attrs.map){delete attrs.map[name];i=attrs.length;while(i--){if(attrs[i].name===name){attrs=attrs.splice(i,1);return self;}}}return self;}if(name in attrs.map){i=attrs.length;while(i--){if(attrs[i].name===name){attrs[i].value=value;break;}}}else{attrs.push({name:name,value:value});}attrs.map[name]=value;return self;}return attrs.map[name];}};Node.prototype.clone=function(){var self=this;var clone=new Node(self.name,self.type);var i,l,selfAttrs,selfAttr,cloneAttrs;if(selfAttrs=self.attributes){cloneAttrs=[];cloneAttrs.map={};for(i=0,l=selfAttrs.length;i<l;i++){selfAttr=selfAttrs[i];if(selfAttr.name!=='id'){cloneAttrs[cloneAttrs.length]={name:selfAttr.name,value:selfAttr.value};cloneAttrs.map[selfAttr.name]=selfAttr.value;}}clone.attributes=cloneAttrs;}clone.value=self.value;clone.shortEnded=self.shortEnded;return clone;};Node.prototype.wrap=function(wrapper){var self=this;self.parent.insert(wrapper,self);wrapper.append(self);return self;};Node.prototype.unwrap=function(){var self=this;var node,next;for(node=self.firstChild;node;){next=node.next;self.insert(node,self,true);node=next;}self.remove();};Node.prototype.remove=function(){var self=this,parent=self.parent,next=self.next,prev=self.prev;if(parent){if(parent.firstChild===self){parent.firstChild=next;if(next){next.prev=null;}}else{prev.next=next;}if(parent.lastChild===self){parent.lastChild=prev;if(prev){prev.next=null;}}else{next.prev=prev;}self.parent=self.next=self.prev=null;}return self;};Node.prototype.append=function(node){var self=this;var last;if(node.parent){node.remove();}last=self.lastChild;if(last){last.next=node;node.prev=last;self.lastChild=node;}else{self.lastChild=self.firstChild=node;}node.parent=self;return node;};Node.prototype.insert=function(node,refNode,before){var parent;if(node.parent){node.remove();}parent=refNode.parent||this;if(before){if(refNode===parent.firstChild){parent.firstChild=node;}else{refNode.prev.next=node;}node.prev=refNode.prev;node.next=refNode;refNode.prev=node;}else{if(refNode===parent.lastChild){parent.lastChild=node;}else{refNode.next.prev=node;}node.next=refNode.next;node.prev=refNode;refNode.next=node;}node.parent=parent;return node;};Node.prototype.getAll=function(name){var self=this;var node;var collection=[];for(node=self.firstChild;node;node=walk$3(node,self)){if(node.name===name){collection.push(node);}}return collection;};Node.prototype.empty=function(){var self=this;var nodes,i,node;if(self.firstChild){nodes=[];for(node=self.firstChild;node;node=walk$3(node,self)){nodes.push(node);}i=nodes.length;while(i--){node=nodes[i];node.parent=node.firstChild=node.lastChild=node.next=node.prev=null;}}self.firstChild=self.lastChild=null;return self;};Node.prototype.isEmpty=function(elements,whitespace,predicate){var self=this;var node=self.firstChild,i,name;whitespace=whitespace||{};if(node){do{if(node.type===1){if(node.attributes.map['data-mce-bogus']){continue;}if(elements[node.name]){return false;}i=node.attributes.length;while(i--){name=node.attributes[i].name;if(name==='name'||name.indexOf('data-mce-bookmark')===0){return false;}}}if(node.type===8){return false;}if(node.type===3&&!whiteSpaceRegExp$3.test(node.value)){return false;}if(node.type===3&&node.parent&&whitespace[node.parent.name]&&whiteSpaceRegExp$3.test(node.value)){return false;}if(predicate&&predicate(node)){return false;}}while(node=walk$3(node,self));}return true;};Node.prototype.walk=function(prev){return walk$3(this,null,prev);};return Node;}();var paddEmptyNode=function(settings,args,blockElements,node){var brPreferred=settings.padd_empty_with_br||args.insert;if(brPreferred&&blockElements[node.name]){node.empty().append(new Node$2('br',1)).shortEnded=true;}else{node.empty().append(new Node$2('#text',3)).value='\\xA0';}};var isPaddedWithNbsp=function(node){return hasOnlyChild(node,'#text')&&node.firstChild.value==='\\xA0';};var hasOnlyChild=function(node,name){return node&&node.firstChild&&node.firstChild===node.lastChild&&node.firstChild.name===name;};var isPadded=function(schema,node){var rule=schema.getElementRule(node.name);return rule&&rule.paddEmpty;};var isEmpty$2=function(schema,nonEmptyElements,whitespaceElements,node){return node.isEmpty(nonEmptyElements,whitespaceElements,function(node){return isPadded(schema,node);});};var isLineBreakNode=function(node,blockElements){return node&&(blockElements[node.name]||node.name==='br');};var register$2=function(parser,settings){var schema=parser.schema;if(settings.remove_trailing_brs){parser.addNodeFilter('br',function(nodes,_,args){var i;var l=nodes.length;var node;var blockElements=$_1q1txeljnlpawsa.extend({},schema.getBlockElements());var nonEmptyElements=schema.getNonEmptyElements();var parent,lastParent,prev,prevName;var whiteSpaceElements=schema.getNonEmptyElements();var elementRule,textNode;blockElements.body=1;for(i=0;i<l;i++){node=nodes[i];parent=node.parent;if(blockElements[node.parent.name]&&node===parent.lastChild){prev=node.prev;while(prev){prevName=prev.name;if(prevName!=='span'||prev.attr('data-mce-type')!=='bookmark'){if(prevName!=='br'){break;}if(prevName==='br'){node=null;break;}}prev=prev.prev;}if(node){node.remove();if(isEmpty$2(schema,nonEmptyElements,whiteSpaceElements,parent)){elementRule=schema.getElementRule(parent.name);if(elementRule){if(elementRule.removeEmpty){parent.remove();}else if(elementRule.paddEmpty){paddEmptyNode(settings,args,blockElements,parent);}}}}}else{lastParent=node;while(parent&&parent.firstChild===lastParent&&parent.lastChild===lastParent){lastParent=parent;if(blockElements[parent.name]){break;}parent=parent.parent;}if(lastParent===parent&&settings.padd_empty_with_br!==true){textNode=new Node$2('#text',3);textNode.value='\\xA0';node.replace(textNode);}}}});}parser.addAttributeFilter('href',function(nodes){var i=nodes.length,node;var appendRel=function(rel){var parts=rel.split(' ').filter(function(p){return p.length>0;});return parts.concat(['noopener']).sort().join(' ');};var addNoOpener=function(rel){var newRel=rel?$_1q1txeljnlpawsa.trim(rel):'';if(!/\\b(noopener)\\b/g.test(newRel)){return appendRel(newRel);}else{return newRel;}};if(!settings.allow_unsafe_link_target){while(i--){node=nodes[i];if(node.name==='a'&&node.attr('target')==='_blank'){node.attr('rel',addNoOpener(node.attr('rel')));}}}});if(!settings.allow_html_in_named_anchor){parser.addAttributeFilter('id,name',function(nodes){var i=nodes.length,sibling,prevSibling,parent,node;while(i--){node=nodes[i];if(node.name==='a'&&node.firstChild&&!node.attr('href')){parent=node.parent;sibling=node.lastChild;do{prevSibling=sibling.prev;parent.insert(sibling,node);sibling=prevSibling;}while(sibling);}}});}if(settings.fix_list_elements){parser.addNodeFilter('ul,ol',function(nodes){var i=nodes.length,node,parentNode;while(i--){node=nodes[i];parentNode=node.parent;if(parentNode.name==='ul'||parentNode.name==='ol'){if(node.prev&&node.prev.name==='li'){node.prev.append(node);}else{var li=new Node$2('li',1);li.attr('style','list-style-type: none');node.wrap(li);}}}});}if(settings.validate&&schema.getValidClasses()){parser.addAttributeFilter('class',function(nodes){var i=nodes.length,node,classList,ci,className,classValue;var validClasses=schema.getValidClasses();var validClassesMap,valid;while(i--){node=nodes[i];classList=node.attr('class').split(' ');classValue='';for(ci=0;ci<classList.length;ci++){className=classList[ci];valid=false;validClassesMap=validClasses['*'];if(validClassesMap&&validClassesMap[className]){valid=true;}validClassesMap=validClasses[node.name];if(!valid&&validClassesMap&&validClassesMap[className]){valid=true;}if(valid){if(classValue){classValue+=' ';}classValue+=className;}}if(!classValue.length){classValue=null;}node.attr('class',classValue);}});}};var makeMap$4=$_1q1txeljnlpawsa.makeMap;var each$18=$_1q1txeljnlpawsa.each;var explode$3=$_1q1txeljnlpawsa.explode;var extend$3=$_1q1txeljnlpawsa.extend;function DomParser(settings,schema){if(schema===void 0){schema=Schema();}var nodeFilters={};var attributeFilters=[];var matchedNodes={};var matchedAttributes={};settings=settings||{};settings.validate='validate'in settings?settings.validate:true;settings.root_name=settings.root_name||'body';var fixInvalidChildren=function(nodes){var ni,node,parent,parents,newParent,currentNode,tempNode,childNode,i;var nonEmptyElements,whitespaceElements,nonSplitableElements,textBlockElements,specialElements,sibling,nextNode;nonSplitableElements=makeMap$4('tr,td,th,tbody,thead,tfoot,table');nonEmptyElements=schema.getNonEmptyElements();whitespaceElements=schema.getWhiteSpaceElements();textBlockElements=schema.getTextBlockElements();specialElements=schema.getSpecialElements();for(ni=0;ni<nodes.length;ni++){node=nodes[ni];if(!node.parent||node.fixed){continue;}if(textBlockElements[node.name]&&node.parent.name==='li'){sibling=node.next;while(sibling){if(textBlockElements[sibling.name]){sibling.name='li';sibling.fixed=true;node.parent.insert(sibling,node.parent);}else{break;}sibling=sibling.next;}node.unwrap(node);continue;}parents=[node];for(parent=node.parent;parent&&!schema.isValidChild(parent.name,node.name)&&!nonSplitableElements[parent.name];parent=parent.parent){parents.push(parent);}if(parent&&parents.length>1){parents.reverse();newParent=currentNode=filterNode(parents[0].clone());for(i=0;i<parents.length-1;i++){if(schema.isValidChild(currentNode.name,parents[i].name)){tempNode=filterNode(parents[i].clone());currentNode.append(tempNode);}else{tempNode=currentNode;}for(childNode=parents[i].firstChild;childNode&&childNode!==parents[i+1];){nextNode=childNode.next;tempNode.append(childNode);childNode=nextNode;}currentNode=tempNode;}if(!isEmpty$2(schema,nonEmptyElements,whitespaceElements,newParent)){parent.insert(newParent,parents[0],true);parent.insert(node,newParent);}else{parent.insert(node,parents[0],true);}parent=parents[0];if(isEmpty$2(schema,nonEmptyElements,whitespaceElements,parent)||hasOnlyChild(parent,'br')){parent.empty().remove();}}else if(node.parent){if(node.name==='li'){sibling=node.prev;if(sibling&&(sibling.name==='ul'||sibling.name==='ul')){sibling.append(node);continue;}sibling=node.next;if(sibling&&(sibling.name==='ul'||sibling.name==='ul')){sibling.insert(node,sibling.firstChild,true);continue;}node.wrap(filterNode(new Node$2('ul',1)));continue;}if(schema.isValidChild(node.parent.name,'div')&&schema.isValidChild('div',node.name)){node.wrap(filterNode(new Node$2('div',1)));}else{if(specialElements[node.name]){node.empty().remove();}else{node.unwrap();}}}}};var filterNode=function(node){var i,name,list;if(name in nodeFilters){list=matchedNodes[name];if(list){list.push(node);}else{matchedNodes[name]=[node];}}i=attributeFilters.length;while(i--){name=attributeFilters[i].name;if(name in node.attributes.map){list=matchedAttributes[name];if(list){list.push(node);}else{matchedAttributes[name]=[node];}}}return node;};var addNodeFilter=function(name,callback){each$18(explode$3(name),function(name){var list=nodeFilters[name];if(!list){nodeFilters[name]=list=[];}list.push(callback);});};var getNodeFilters=function(){var out=[];for(var name in nodeFilters){if(nodeFilters.hasOwnProperty(name)){out.push({name:name,callbacks:nodeFilters[name]});}}return out;};var addAttributeFilter=function(name,callback){each$18(explode$3(name),function(name){var i;for(i=0;i<attributeFilters.length;i++){if(attributeFilters[i].name===name){attributeFilters[i].callbacks.push(callback);return;}}attributeFilters.push({name:name,callbacks:[callback]});});};var getAttributeFilters=function(){return[].concat(attributeFilters);};var parse=function(html,args){var parser,nodes,i,l,fi,fl,list,name;var blockElements;var invalidChildren=[];var isInWhiteSpacePreservedElement;var node;args=args||{};matchedNodes={};matchedAttributes={};blockElements=extend$3(makeMap$4('script,style,head,html,body,title,meta,param'),schema.getBlockElements());var nonEmptyElements=schema.getNonEmptyElements();var children=schema.children;var validate=settings.validate;var rootBlockName='forced_root_block'in args?args.forced_root_block:settings.forced_root_block;var whiteSpaceElements=schema.getWhiteSpaceElements();var startWhiteSpaceRegExp=/^[ \\t\\r\\n]+/;var endWhiteSpaceRegExp=/[ \\t\\r\\n]+$/;var allWhiteSpaceRegExp=/[ \\t\\r\\n]+/g;var isAllWhiteSpaceRegExp=/^[ \\t\\r\\n]+$/;isInWhiteSpacePreservedElement=whiteSpaceElements.hasOwnProperty(args.context)||whiteSpaceElements.hasOwnProperty(settings.root_name);var addRootBlocks=function(){var node=rootNode.firstChild,next,rootBlockNode;var trim=function(rootBlockNode){if(rootBlockNode){node=rootBlockNode.firstChild;if(node&&node.type===3){node.value=node.value.replace(startWhiteSpaceRegExp,'');}node=rootBlockNode.lastChild;if(node&&node.type===3){node.value=node.value.replace(endWhiteSpaceRegExp,'');}}};if(!schema.isValidChild(rootNode.name,rootBlockName.toLowerCase())){return;}while(node){next=node.next;if(node.type===3||node.type===1&&node.name!=='p'&&!blockElements[node.name]&&!node.attr('data-mce-type')){if(!rootBlockNode){rootBlockNode=createNode(rootBlockName,1);rootBlockNode.attr(settings.forced_root_block_attrs);rootNode.insert(rootBlockNode,node);rootBlockNode.append(node);}else{rootBlockNode.append(node);}}else{trim(rootBlockNode);rootBlockNode=null;}node=next;}trim(rootBlockNode);};var createNode=function(name,type){var node=new Node$2(name,type);var list;if(name in nodeFilters){list=matchedNodes[name];if(list){list.push(node);}else{matchedNodes[name]=[node];}}return node;};var removeWhitespaceBefore=function(node){var textNode,textNodeNext,textVal,sibling;var blockElements=schema.getBlockElements();for(textNode=node.prev;textNode&&textNode.type===3;){textVal=textNode.value.replace(endWhiteSpaceRegExp,'');if(textVal.length>0){textNode.value=textVal;return;}textNodeNext=textNode.next;if(textNodeNext){if(textNodeNext.type===3&&textNodeNext.value.length){textNode=textNode.prev;continue;}if(!blockElements[textNodeNext.name]&&textNodeNext.name!=='script'&&textNodeNext.name!=='style'){textNode=textNode.prev;continue;}}sibling=textNode.prev;textNode.remove();textNode=sibling;}};var cloneAndExcludeBlocks=function(input){var name;var output={};for(name in input){if(name!=='li'&&name!=='p'){output[name]=input[name];}}return output;};parser=SaxParser$1({validate:validate,allow_script_urls:settings.allow_script_urls,allow_conditional_comments:settings.allow_conditional_comments,self_closing_elements:cloneAndExcludeBlocks(schema.getSelfClosingElements()),cdata:function(text){node.append(createNode('#cdata',4)).value=text;},text:function(text,raw){var textNode;if(!isInWhiteSpacePreservedElement){text=text.replace(allWhiteSpaceRegExp,' ');if(isLineBreakNode(node.lastChild,blockElements)){text=text.replace(startWhiteSpaceRegExp,'');}}if(text.length!==0){textNode=createNode('#text',3);textNode.raw=!!raw;node.append(textNode).value=text;}},comment:function(text){node.append(createNode('#comment',8)).value=text;},pi:function(name,text){node.append(createNode(name,7)).value=text;removeWhitespaceBefore(node);},doctype:function(text){var newNode;newNode=node.append(createNode('#doctype',10));newNode.value=text;removeWhitespaceBefore(node);},start:function(name,attrs,empty){var newNode,attrFiltersLen,elementRule,attrName,parent;elementRule=validate?schema.getElementRule(name):{};if(elementRule){newNode=createNode(elementRule.outputName||name,1);newNode.attributes=attrs;newNode.shortEnded=empty;node.append(newNode);parent=children[node.name];if(parent&&children[newNode.name]&&!parent[newNode.name]){invalidChildren.push(newNode);}attrFiltersLen=attributeFilters.length;while(attrFiltersLen--){attrName=attributeFilters[attrFiltersLen].name;if(attrName in attrs.map){list=matchedAttributes[attrName];if(list){list.push(newNode);}else{matchedAttributes[attrName]=[newNode];}}}if(blockElements[name]){removeWhitespaceBefore(newNode);}if(!empty){node=newNode;}if(!isInWhiteSpacePreservedElement&&whiteSpaceElements[name]){isInWhiteSpacePreservedElement=true;}}},end:function(name){var textNode,elementRule,text,sibling,tempNode;elementRule=validate?schema.getElementRule(name):{};if(elementRule){if(blockElements[name]){if(!isInWhiteSpacePreservedElement){textNode=node.firstChild;if(textNode&&textNode.type===3){text=textNode.value.replace(startWhiteSpaceRegExp,'');if(text.length>0){textNode.value=text;textNode=textNode.next;}else{sibling=textNode.next;textNode.remove();textNode=sibling;while(textNode&&textNode.type===3){text=textNode.value;sibling=textNode.next;if(text.length===0||isAllWhiteSpaceRegExp.test(text)){textNode.remove();textNode=sibling;}textNode=sibling;}}}textNode=node.lastChild;if(textNode&&textNode.type===3){text=textNode.value.replace(endWhiteSpaceRegExp,'');if(text.length>0){textNode.value=text;textNode=textNode.prev;}else{sibling=textNode.prev;textNode.remove();textNode=sibling;while(textNode&&textNode.type===3){text=textNode.value;sibling=textNode.prev;if(text.length===0||isAllWhiteSpaceRegExp.test(text)){textNode.remove();textNode=sibling;}textNode=sibling;}}}}}if(isInWhiteSpacePreservedElement&&whiteSpaceElements[name]){isInWhiteSpacePreservedElement=false;}if(elementRule.removeEmpty&&isEmpty$2(schema,nonEmptyElements,whiteSpaceElements,node)){if(!node.attributes.map.name&&!node.attr('id')){tempNode=node.parent;if(blockElements[node.name]){node.empty().remove();}else{node.unwrap();}node=tempNode;return;}}if(elementRule.paddEmpty&&(isPaddedWithNbsp(node)||isEmpty$2(schema,nonEmptyElements,whiteSpaceElements,node))){paddEmptyNode(settings,args,blockElements,node);}node=node.parent;}}},schema);var rootNode=node=new Node$2(args.context||settings.root_name,11);parser.parse(html);if(validate&&invalidChildren.length){if(!args.context){fixInvalidChildren(invalidChildren);}else{args.invalid=true;}}if(rootBlockName&&(rootNode.name==='body'||args.isRootContent)){addRootBlocks();}if(!args.invalid){for(name in matchedNodes){list=nodeFilters[name];nodes=matchedNodes[name];fi=nodes.length;while(fi--){if(!nodes[fi].parent){nodes.splice(fi,1);}}for(i=0,l=list.length;i<l;i++){list[i](nodes,name,args);}}for(i=0,l=attributeFilters.length;i<l;i++){list=attributeFilters[i];if(list.name in matchedAttributes){nodes=matchedAttributes[list.name];fi=nodes.length;while(fi--){if(!nodes[fi].parent){nodes.splice(fi,1);}}for(fi=0,fl=list.callbacks.length;fi<fl;fi++){list.callbacks[fi](nodes,list.name,args);}}}}return rootNode;};var exports={schema:schema,addAttributeFilter:addAttributeFilter,getAttributeFilters:getAttributeFilters,addNodeFilter:addNodeFilter,getNodeFilters:getNodeFilters,filterNode:filterNode,parse:parse};register$2(exports,settings);$_2wvuyy6pjnlpay4e.register(exports,settings);return exports;}var addTempAttr=function(htmlParser,tempAttrs,name){if($_1q1txeljnlpawsa.inArray(tempAttrs,name)===-1){htmlParser.addAttributeFilter(name,function(nodes,name){var i=nodes.length;while(i--){nodes[i].attr(name,null);}});tempAttrs.push(name);}};var postProcess$1=function(editor,args,content){if(!args.no_events&&editor){var outArgs=$_5atig84wjnlpaxs7.firePostProcess(editor,merge(args,{content:content}));return outArgs.content;}else{return content;}};var getHtmlFromNode=function(dom,node,args){var html=$_90hfb72rjnlpaxae.trim(args.getInner?node.innerHTML:dom.getOuterHTML(node));return args.selection||isWsPreserveElement(Element$$1.fromDom(node))?html:$_1q1txeljnlpawsa.trim(html);};var parseHtml=function(htmlParser,html,args){var parserArgs=args.selection?merge({forced_root_block:false},args):args;var rootNode=htmlParser.parse(html,parserArgs);$_bpervq6mjnlpay3i.trimTrailingBr(rootNode);return rootNode;};var serializeNode=function(settings,schema,node){var htmlSerializer=HtmlSerializer(settings,schema);return htmlSerializer.serialize(node);};var toHtml=function(editor,settings,schema,rootNode,args){var content=serializeNode(settings,schema,rootNode);return postProcess$1(editor,args,content);};function DomSerializer(settings,editor){var dom,schema,htmlParser;var tempAttrs=['data-mce-selected'];dom=editor&&editor.dom?editor.dom:DOMUtils$1.DOM;schema=editor&&editor.schema?editor.schema:Schema(settings);settings.entity_encoding=settings.entity_encoding||'named';settings.remove_trailing_brs='remove_trailing_brs'in settings?settings.remove_trailing_brs:true;htmlParser=DomParser(settings,schema);$_bpervq6mjnlpay3i.register(htmlParser,settings,dom);var serialize=function(node,parserArgs){var args=merge({format:'html'},parserArgs?parserArgs:{});var targetNode=$_5tjdgs6njnlpay3r.process(editor,node,args);var html=getHtmlFromNode(dom,targetNode,args);var rootNode=parseHtml(htmlParser,html,args);return args.format==='tree'?rootNode:toHtml(editor,settings,schema,rootNode,args);};return{schema:schema,addNodeFilter:htmlParser.addNodeFilter,addAttributeFilter:htmlParser.addAttributeFilter,serialize:serialize,addRules:function(rules){schema.addValidElements(rules);},setRules:function(rules){schema.setValidElements(rules);},addTempAttr:curry(addTempAttr,htmlParser,tempAttrs),getTempAttrs:function(){return tempAttrs;}};}function DomSerializer$1(settings,editor){var domSerializer=DomSerializer(settings,editor);return{schema:domSerializer.schema,addNodeFilter:domSerializer.addNodeFilter,addAttributeFilter:domSerializer.addAttributeFilter,serialize:domSerializer.serialize,addRules:domSerializer.addRules,setRules:domSerializer.setRules,addTempAttr:domSerializer.addTempAttr,getTempAttrs:domSerializer.getTempAttrs};}function BookmarkManager(selection){return{getBookmark:curry($_43l8qj2xjnlpaxb1.getBookmark,selection),moveToBookmark:curry($_43l8qj2xjnlpaxb1.moveToBookmark,selection)};}(function(BookmarkManager){BookmarkManager.isBookmarkNode=$_43l8qj2xjnlpaxb1.isBookmarkNode;})(BookmarkManager||(BookmarkManager={}));var BookmarkManager$1=BookmarkManager;var isContentEditableFalse$10=$_fy28ei1rjnlpax2o.isContentEditableFalse;var isContentEditableTrue$6=$_fy28ei1rjnlpax2o.isContentEditableTrue;var getContentEditableRoot$2=function(root,node){while(node&&node!==root){if(isContentEditableTrue$6(node)||isContentEditableFalse$10(node)){return node;}node=node.parentNode;}return null;};var ControlSelection=function(selection,editor){var dom=editor.dom,each=$_1q1txeljnlpawsa.each;var selectedElm,selectedElmGhost,resizeHelper,resizeHandles,selectedHandle;var startX,startY,selectedElmX,selectedElmY,startW,startH,ratio,resizeStarted;var width,height;var editableDoc=editor.getDoc(),rootDocument=document;var abs=Math.abs,round=Math.round,rootElement=editor.getBody();var startScrollWidth,startScrollHeight;resizeHandles={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var rootClass='.mce-content-body';editor.contentStyles.push(rootClass+' div.mce-resizehandle {'+'position: absolute;'+'border: 1px solid black;'+'box-sizing: content-box;'+'background: #FFF;'+'width: 7px;'+'height: 7px;'+'z-index: 10000'+'}'+rootClass+' .mce-resizehandle:hover {'+'background: #000'+'}'+rootClass+' img[data-mce-selected],'+rootClass+' hr[data-mce-selected] {'+'outline: 1px solid black;'+'resize: none'+'}'+rootClass+' .mce-clonedresizable {'+'position: absolute;'+($_cseqobajnlpawll.gecko?'':'outline: 1px dashed black;')+'opacity: .5;'+'filter: alpha(opacity=50);'+'z-index: 10000'+'}'+rootClass+' .mce-resize-helper {'+'background: #555;'+'background: rgba(0,0,0,0.75);'+'border-radius: 3px;'+'border: 1px;'+'color: white;'+'display: none;'+'font-family: sans-serif;'+'font-size: 12px;'+'white-space: nowrap;'+'line-height: 14px;'+'margin: 5px 10px;'+'padding: 5px;'+'position: absolute;'+'z-index: 10001'+'}');var isImage=function(elm){return elm&&(elm.nodeName==='IMG'||editor.dom.is(elm,'figure.image'));};var isEventOnImageOutsideRange=function(evt,range){return isImage(evt.target)&&!$_5xpdav5wjnlpaxyf.isXYWithinRange(evt.clientX,evt.clientY,range);};var contextMenuSelectImage=function(evt){var target=evt.target;if(isEventOnImageOutsideRange(evt,editor.selection.getRng())&&!evt.isDefaultPrevented()){evt.preventDefault();editor.selection.select(target);}};var getResizeTarget=function(elm){return editor.dom.is(elm,'figure.image')?elm.querySelector('img'):elm;};var isResizable=function(elm){var selector=editor.settings.object_resizing;if(selector===false||$_cseqobajnlpawll.iOS){return false;}if(typeof selector!=='string'){selector='table,img,figure.image,div';}if(elm.getAttribute('data-mce-resize')==='false'){return false;}if(elm===editor.getBody()){return false;}return $_d8v5lf1gjnlpax0y.is(Element$$1.fromDom(elm),selector);};var resizeGhostElement=function(e){var deltaX,deltaY,proportional;var resizeHelperX,resizeHelperY;deltaX=e.screenX-startX;deltaY=e.screenY-startY;width=deltaX*selectedHandle[2]+startW;height=deltaY*selectedHandle[3]+startH;width=width<5?5:width;height=height<5?5:height;if(isImage(selectedElm)&&editor.settings.resize_img_proportional!==false){proportional=!$_1qv0695yjnlpaxyk.modifierPressed(e);}else{proportional=$_1qv0695yjnlpaxyk.modifierPressed(e)||isImage(selectedElm)&&selectedHandle[2]*selectedHandle[3]!==0;}if(proportional){if(abs(deltaX)>abs(deltaY)){height=round(width*ratio);width=round(height/ratio);}else{width=round(height/ratio);height=round(width*ratio);}}dom.setStyles(getResizeTarget(selectedElmGhost),{width:width,height:height});resizeHelperX=selectedHandle.startPos.x+deltaX;resizeHelperY=selectedHandle.startPos.y+deltaY;resizeHelperX=resizeHelperX>0?resizeHelperX:0;resizeHelperY=resizeHelperY>0?resizeHelperY:0;dom.setStyles(resizeHelper,{left:resizeHelperX,top:resizeHelperY,display:'block'});resizeHelper.innerHTML=width+' &times; '+height;if(selectedHandle[2]<0&&selectedElmGhost.clientWidth<=width){dom.setStyle(selectedElmGhost,'left',selectedElmX+(startW-width));}if(selectedHandle[3]<0&&selectedElmGhost.clientHeight<=height){dom.setStyle(selectedElmGhost,'top',selectedElmY+(startH-height));}deltaX=rootElement.scrollWidth-startScrollWidth;deltaY=rootElement.scrollHeight-startScrollHeight;if(deltaX+deltaY!==0){dom.setStyles(resizeHelper,{left:resizeHelperX-deltaX,top:resizeHelperY-deltaY});}if(!resizeStarted){$_5atig84wjnlpaxs7.fireObjectResizeStart(editor,selectedElm,startW,startH);resizeStarted=true;}};var endGhostResize=function(){resizeStarted=false;var setSizeProp=function(name$$1,value){if(value){if(selectedElm.style[name$$1]||!editor.schema.isValid(selectedElm.nodeName.toLowerCase(),name$$1)){dom.setStyle(getResizeTarget(selectedElm),name$$1,value);}else{dom.setAttrib(getResizeTarget(selectedElm),name$$1,value);}}};setSizeProp('width',width);setSizeProp('height',height);dom.unbind(editableDoc,'mousemove',resizeGhostElement);dom.unbind(editableDoc,'mouseup',endGhostResize);if(rootDocument!==editableDoc){dom.unbind(rootDocument,'mousemove',resizeGhostElement);dom.unbind(rootDocument,'mouseup',endGhostResize);}dom.remove(selectedElmGhost);dom.remove(resizeHelper);showResizeRect(selectedElm);$_5atig84wjnlpaxs7.fireObjectResized(editor,selectedElm,width,height);dom.setAttrib(selectedElm,'style',dom.getAttrib(selectedElm,'style'));editor.nodeChanged();};var showResizeRect=function(targetElm){var position,targetWidth,targetHeight,e,rect;hideResizeRect();unbindResizeHandleEvents();position=dom.getPos(targetElm,rootElement);selectedElmX=position.x;selectedElmY=position.y;rect=targetElm.getBoundingClientRect();targetWidth=rect.width||rect.right-rect.left;targetHeight=rect.height||rect.bottom-rect.top;if(selectedElm!==targetElm){selectedElm=targetElm;width=height=0;}e=editor.fire('ObjectSelected',{target:targetElm});if(isResizable(targetElm)&&!e.isDefaultPrevented()){each(resizeHandles,function(handle,name$$1){var handleElm;var startDrag=function(e){startX=e.screenX;startY=e.screenY;startW=getResizeTarget(selectedElm).clientWidth;startH=getResizeTarget(selectedElm).clientHeight;ratio=startH/startW;selectedHandle=handle;handle.startPos={x:targetWidth*handle[0]+selectedElmX,y:targetHeight*handle[1]+selectedElmY};startScrollWidth=rootElement.scrollWidth;startScrollHeight=rootElement.scrollHeight;selectedElmGhost=selectedElm.cloneNode(true);dom.addClass(selectedElmGhost,'mce-clonedresizable');dom.setAttrib(selectedElmGhost,'data-mce-bogus','all');selectedElmGhost.contentEditable=false;selectedElmGhost.unSelectabe=true;dom.setStyles(selectedElmGhost,{left:selectedElmX,top:selectedElmY,margin:0});selectedElmGhost.removeAttribute('data-mce-selected');rootElement.appendChild(selectedElmGhost);dom.bind(editableDoc,'mousemove',resizeGhostElement);dom.bind(editableDoc,'mouseup',endGhostResize);if(rootDocument!==editableDoc){dom.bind(rootDocument,'mousemove',resizeGhostElement);dom.bind(rootDocument,'mouseup',endGhostResize);}resizeHelper=dom.add(rootElement,'div',{'class':'mce-resize-helper','data-mce-bogus':'all'},startW+' &times; '+startH);};handleElm=dom.get('mceResizeHandle'+name$$1);if(handleElm){dom.remove(handleElm);}handleElm=dom.add(rootElement,'div',{'id':'mceResizeHandle'+name$$1,'data-mce-bogus':'all','class':'mce-resizehandle','unselectable':true,'style':'cursor:'+name$$1+'-resize; margin:0; padding:0'});if($_cseqobajnlpawll.ie===11){handleElm.contentEditable=false;}dom.bind(handleElm,'mousedown',function(e){e.stopImmediatePropagation();e.preventDefault();startDrag(e);});handle.elm=handleElm;dom.setStyles(handleElm,{left:targetWidth*handle[0]+selectedElmX-handleElm.offsetWidth/2,top:targetHeight*handle[1]+selectedElmY-handleElm.offsetHeight/2});});}else{hideResizeRect();}selectedElm.setAttribute('data-mce-selected','1');};var hideResizeRect=function(){var name$$1,handleElm;unbindResizeHandleEvents();if(selectedElm){selectedElm.removeAttribute('data-mce-selected');}for(name$$1 in resizeHandles){handleElm=dom.get('mceResizeHandle'+name$$1);if(handleElm){dom.unbind(handleElm);dom.remove(handleElm);}}};var updateResizeRect=function(e){var startElm,controlElm;var isChildOrEqual=function(node,parent$$1){if(node){do{if(node===parent$$1){return true;}}while(node=node.parentNode);}};if(resizeStarted||editor.removed){return;}each(dom.select('img[data-mce-selected],hr[data-mce-selected]'),function(img){img.removeAttribute('data-mce-selected');});controlElm=e.type==='mousedown'?e.target:selection.getNode();controlElm=dom.$(controlElm).closest('table,img,figure.image,hr')[0];if(isChildOrEqual(controlElm,rootElement)){disableGeckoResize();startElm=selection.getStart(true);if(isChildOrEqual(startElm,controlElm)&&isChildOrEqual(selection.getEnd(true),controlElm)){showResizeRect(controlElm);return;}}hideResizeRect();};var isWithinContentEditableFalse=function(elm){return isContentEditableFalse$10(getContentEditableRoot$2(editor.getBody(),elm));};var unbindResizeHandleEvents=function(){for(var name$$1 in resizeHandles){var handle=resizeHandles[name$$1];if(handle.elm){dom.unbind(handle.elm);delete handle.elm;}}};var disableGeckoResize=function(){try{editor.getDoc().execCommand('enableObjectResizing',false,false);}catch(ex){}};editor.on('init',function(){disableGeckoResize();if($_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie>=11){editor.on('mousedown click',function(e){var target=e.target,nodeName=target.nodeName;if(!resizeStarted&&/^(TABLE|IMG|HR)$/.test(nodeName)&&!isWithinContentEditableFalse(target)){if(e.button!==2){editor.selection.select(target,nodeName==='TABLE');}if(e.type==='mousedown'){editor.nodeChanged();}}});editor.dom.bind(rootElement,'mscontrolselect',function(e){var delayedSelect=function(node){$_2nbnh1ijnlpawpi.setEditorTimeout(editor,function(){editor.selection.select(node);});};if(isWithinContentEditableFalse(e.target)){e.preventDefault();delayedSelect(e.target);return;}if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault();if(e.target.tagName==='IMG'){delayedSelect(e.target);}}});}var throttledUpdateResizeRect=$_2nbnh1ijnlpawpi.throttle(function(e){if(!editor.composing){updateResizeRect(e);}});editor.on('nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged',throttledUpdateResizeRect);editor.on('keyup compositionend',function(e){if(selectedElm&&selectedElm.nodeName==='TABLE'){throttledUpdateResizeRect(e);}});editor.on('hide blur',hideResizeRect);editor.on('contextmenu',contextMenuSelectImage);});editor.on('remove',unbindResizeHandleEvents);var destroy=function(){selectedElm=selectedElmGhost=null;};return{isResizable:isResizable,showResizeRect:showResizeRect,hideResizeRect:hideResizeRect,updateResizeRect:updateResizeRect,destroy:destroy};};var hasCeProperty=function(node){return $_fy28ei1rjnlpax2o.isContentEditableTrue(node)||$_fy28ei1rjnlpax2o.isContentEditableFalse(node);};var findParent$1=function(node,rootNode,predicate){while(node&&node!==rootNode){if(predicate(node)){return node;}node=node.parentNode;}return null;};var findClosestIeRange=function(clientX,clientY,doc){var element,rng,rects;element=doc.elementFromPoint(clientX,clientY);rng=doc.body.createTextRange();if(!element||element.tagName==='HTML'){element=doc.body;}rng.moveToElementText(element);rects=$_1q1txeljnlpawsa.toArray(rng.getClientRects());rects=rects.sort(function(a,b){a=Math.abs(Math.max(a.top-clientY,a.bottom-clientY));b=Math.abs(Math.max(b.top-clientY,b.bottom-clientY));return a-b;});if(rects.length>0){clientY=(rects[0].bottom+rects[0].top)/2;try{rng.moveToPoint(clientX,clientY);rng.collapse(true);return rng;}catch(ex){}}return null;};var moveOutOfContentEditableFalse=function(rng,rootNode){var parentElement=rng&&rng.parentElement?rng.parentElement():null;return $_fy28ei1rjnlpax2o.isContentEditableFalse(findParent$1(parentElement,rootNode,hasCeProperty))?null:rng;};var fromPoint$1=function(clientX,clientY,doc){var rng,point;var pointDoc=doc;if(pointDoc.caretPositionFromPoint){point=pointDoc.caretPositionFromPoint(clientX,clientY);if(point){rng=doc.createRange();rng.setStart(point.offsetNode,point.offset);rng.collapse(true);}}else if(doc.caretRangeFromPoint){rng=doc.caretRangeFromPoint(clientX,clientY);}else if(pointDoc.body.createTextRange){rng=pointDoc.body.createTextRange();try{rng.moveToPoint(clientX,clientY);rng.collapse(true);}catch(ex){rng=findClosestIeRange(clientX,clientY,doc);}return moveOutOfContentEditableFalse(rng,doc.body);}return rng;};var $_445zg66wjnlpay63={fromPoint:fromPoint$1};var processRanges=function(editor,ranges){return map(ranges,function(range$$1){var evt=editor.fire('GetSelectionRange',{range:range$$1});return evt.range!==range$$1?evt.range:range$$1;});};var $_76ma076xjnlpay65={processRanges:processRanges};var fromElements=function(elements,scope){var doc=scope||document;var fragment=doc.createDocumentFragment();each(elements,function(element){fragment.appendChild(element.dom());});return Element$$1.fromDom(fragment);};var $_8n4csb70jnlpay6p={fromElements:fromElements};var tableModel=Immutable('element','width','rows');var tableRow=Immutable('element','cells');var cellPosition=Immutable('x','y');var getSpan=function(td,key){var value=parseInt($_521j8z15jnlpawz7.get(td,key),10);return isNaN(value)?1:value;};var fillout=function(table,x,y,tr,td){var rowspan=getSpan(td,'rowspan');var colspan=getSpan(td,'colspan');var rows=table.rows();for(var y2=y;y2<y+rowspan;y2++){if(!rows[y2]){rows[y2]=tableRow($_5sdpl92ijnlpax8h.deep(tr),[]);}for(var x2=x;x2<x+colspan;x2++){var cells=rows[y2].cells();cells[x2]=y2===y&&x2===x?td:$_5sdpl92ijnlpax8h.shallow(td);}}};var cellExists=function(table,x,y){var rows=table.rows();var cells=rows[y]?rows[y].cells():[];return!!cells[x];};var skipCellsX=function(table,x,y){while(cellExists(table,x,y)){x++;}return x;};var getWidth=function(rows){return foldl(rows,function(acc,row){return row.cells().length>acc?row.cells().length:acc;},0);};var findElementPos=function(table,element){var rows=table.rows();for(var y=0;y<rows.length;y++){var cells=rows[y].cells();for(var x=0;x<cells.length;x++){if($_5h7cor1ejnlpax0k.eq(cells[x],element)){return Option.some(cellPosition(x,y));}}}return Option.none();};var extractRows=function(table,sx,sy,ex,ey){var newRows=[];var rows=table.rows();for(var y=sy;y<=ey;y++){var cells=rows[y].cells();var slice=sx<ex?cells.slice(sx,ex+1):cells.slice(ex,sx+1);newRows.push(tableRow(rows[y].element(),slice));}return newRows;};var subTable=function(table,startPos,endPos){var sx=startPos.x(),sy=startPos.y();var ex=endPos.x(),ey=endPos.y();var newRows=sy<ey?extractRows(table,sx,sy,ex,ey):extractRows(table,sx,ey,ex,sy);return tableModel(table.element(),getWidth(newRows),newRows);};var createDomTable=function(table,rows){var tableElement=$_5sdpl92ijnlpax8h.shallow(table.element());var tableBody=Element$$1.fromTag('tbody');$_9vd3j51xjnlpax4s.append(tableBody,rows);$_ag89ax1yjnlpax4x.append(tableElement,tableBody);return tableElement;};var modelRowsToDomRows=function(table){return map(table.rows(),function(row){var cells=map(row.cells(),function(cell){var td=$_5sdpl92ijnlpax8h.deep(cell);$_521j8z15jnlpawz7.remove(td,'colspan');$_521j8z15jnlpawz7.remove(td,'rowspan');return td;});var tr=$_5sdpl92ijnlpax8h.shallow(row.element());$_9vd3j51xjnlpax4s.append(tr,cells);return tr;});};var fromDom$2=function(tableElm){var table=tableModel($_5sdpl92ijnlpax8h.shallow(tableElm),0,[]);each($_cmitir27jnlpax6e.descendants(tableElm,'tr'),function(tr,y){each($_cmitir27jnlpax6e.descendants(tr,'td,th'),function(td,x){fillout(table,skipCellsX(table,x,y),y,tr,td);});});return tableModel(table.element(),getWidth(table.rows()),table.rows());};var toDom=function(table){return createDomTable(table,modelRowsToDomRows(table));};var subsection=function(table,startElement,endElement){return findElementPos(table,startElement).bind(function(startPos){return findElementPos(table,endElement).map(function(endPos){return subTable(table,startPos,endPos);});});};var $_7mbdap71jnlpay6v={fromDom:fromDom$2,toDom:toDom,subsection:subsection};var findParentListContainer=function(parents){return find(parents,function(elm){return $_7u5fzs11jnlpawv6.name(elm)==='ul'||$_7u5fzs11jnlpawv6.name(elm)==='ol';});};var getFullySelectedListWrappers=function(parents,rng){return find(parents,function(elm){return $_7u5fzs11jnlpawv6.name(elm)==='li'&&hasAllContentsSelected(elm,rng);}).fold(constant([]),function(li){return findParentListContainer(parents).map(function(listCont){return[Element$$1.fromTag('li'),Element$$1.fromTag($_7u5fzs11jnlpawv6.name(listCont))];}).getOr([]);});};var wrap$3=function(innerElm,elms){var wrapped=foldl(elms,function(acc,elm){$_ag89ax1yjnlpax4x.append(elm,acc);return elm;},innerElm);return elms.length>0?$_8n4csb70jnlpay6p.fromElements([wrapped]):wrapped;};var directListWrappers=function(commonAnchorContainer){if(isListItem(commonAnchorContainer)){return $_dr4ybh18jnlpawzt.parent(commonAnchorContainer).filter(isList).fold(constant([]),function(listElm){return[commonAnchorContainer,listElm];});}else{return isList(commonAnchorContainer)?[commonAnchorContainer]:[];}};var getWrapElements=function(rootNode,rng){var commonAnchorContainer=Element$$1.fromDom(rng.commonAncestorContainer);var parents=$_4b88sj42jnlpaxkd.parentsAndSelf(commonAnchorContainer,rootNode);var wrapElements=filter(parents,function(elm){return isInline(elm)||isHeading(elm);});var listWrappers=getFullySelectedListWrappers(parents,rng);var allWrappers=wrapElements.concat(listWrappers.length?listWrappers:directListWrappers(commonAnchorContainer));return map(allWrappers,$_5sdpl92ijnlpax8h.shallow);};var emptyFragment=function(){return $_8n4csb70jnlpay6p.fromElements([]);};var getFragmentFromRange=function(rootNode,rng){return wrap$3(Element$$1.fromDom(rng.cloneContents()),getWrapElements(rootNode,rng));};var getParentTable=function(rootElm,cell){return $_2kbu29jnlpax6t.ancestor(cell,'table',curry($_5h7cor1ejnlpax0k.eq,rootElm));};var getTableFragment=function(rootNode,selectedTableCells){return getParentTable(rootNode,selectedTableCells[0]).bind(function(tableElm){var firstCell=selectedTableCells[0];var lastCell=selectedTableCells[selectedTableCells.length-1];var fullTableModel=$_7mbdap71jnlpay6v.fromDom(tableElm);return $_7mbdap71jnlpay6v.subsection(fullTableModel,firstCell,lastCell).map(function(sectionedTableModel){return $_8n4csb70jnlpay6p.fromElements([$_7mbdap71jnlpay6v.toDom(sectionedTableModel)]);});}).getOrThunk(emptyFragment);};var getSelectionFragment=function(rootNode,ranges){return ranges.length>0&&ranges[0].collapsed?emptyFragment():getFragmentFromRange(rootNode,ranges[0]);};var read$4=function(rootNode,ranges){var selectedCells=$_1yq8wz4hjnlpaxo7.getCellsFromElementOrRanges(ranges,rootNode);return selectedCells.length>0?getTableFragment(rootNode,selectedCells):getSelectionFragment(rootNode,ranges);};var $_7ki6146zjnlpay6b={read:read$4};var getContent=function(editor,args){var rng=editor.selection.getRng(),tmpElm=editor.dom.create('body');var sel=editor.selection.getSel();var fragment;var ranges=$_76ma076xjnlpay65.processRanges(editor,$_533sn84ijnlpaxoe.getRanges(sel));args=args||{};args.get=true;args.format=args.format||'html';args.selection=true;args=editor.fire('BeforeGetContent',args);if(args.isDefaultPrevented()){editor.fire('GetContent',args);return args.content;}if(args.format==='text'){return editor.selection.isCollapsed()?'':$_90hfb72rjnlpaxae.trim(rng.text||(sel.toString?sel.toString():''));}if(rng.cloneContents){fragment=args.contextual?$_7ki6146zjnlpay6b.read(Element$$1.fromDom(editor.getBody()),ranges).dom():rng.cloneContents();if(fragment){tmpElm.appendChild(fragment);}}else if(rng.item!==undefined||rng.htmlText!==undefined){tmpElm.innerHTML='<br>'+(rng.item?rng.item(0).outerHTML:rng.htmlText);tmpElm.removeChild(tmpElm.firstChild);}else{tmpElm.innerHTML=rng.toString();}args.getInner=true;var content=editor.selection.serializer.serialize(tmpElm,args);if(args.format==='tree'){return content;}args.content=editor.selection.isCollapsed()?'':content;editor.fire('GetContent',args);return args.content;};var $_d9gs4y6yjnlpay67={getContent:getContent};var setContent=function(editor,content,args){var rng=editor.selection.getRng(),caretNode;var doc=editor.getDoc();var frag,temp;args=args||{format:'html'};args.set=true;args.selection=true;args.content=content;if(!args.no_events){args=editor.fire('BeforeSetContent',args);if(args.isDefaultPrevented()){editor.fire('SetContent',args);return;}}content=args.content;if(rng.insertNode){content+='<span id=\"__caret\">_</span>';if(rng.startContainer===doc&&rng.endContainer===doc){doc.body.innerHTML=content;}else{rng.deleteContents();if(doc.body.childNodes.length===0){doc.body.innerHTML=content;}else{if(rng.createContextualFragment){rng.insertNode(rng.createContextualFragment(content));}else{frag=doc.createDocumentFragment();temp=doc.createElement('div');frag.appendChild(temp);temp.outerHTML=content;rng.insertNode(frag);}}}caretNode=editor.dom.get('__caret');rng=doc.createRange();rng.setStartBefore(caretNode);rng.setEndBefore(caretNode);editor.selection.setRng(rng);editor.dom.remove('__caret');try{editor.selection.setRng(rng);}catch(ex){}}else{if(rng.item){doc.execCommand('Delete',false,null);rng=editor.getRng();}if(/^\\s+/.test(content)){rng.pasteHTML('<span id=\"__mce_tmp\">_</span>'+content);editor.dom.remove('__mce_tmp');}else{rng.pasteHTML(content);}}if(!args.no_events){editor.fire('SetContent',args);}};var $_b3j7u072jnlpaybw={setContent:setContent};var getEndpointElement=function(root,rng,start,real,resolve){var container=start?rng.startContainer:rng.endContainer;var offset=start?rng.startOffset:rng.endOffset;return Option.from(container).map(Element$$1.fromDom).map(function(elm){return!real||!rng.collapsed?$_dr4ybh18jnlpawzt.child(elm,resolve(elm,offset)).getOr(elm):elm;}).bind(function(elm){return $_7u5fzs11jnlpawv6.isElement(elm)?Option.some(elm):$_dr4ybh18jnlpawzt.parent(elm);}).map(function(elm){return elm.dom();}).getOr(root);};var getStart$2=function(root,rng,real){return getEndpointElement(root,rng,true,real,function(elm,offset){return Math.min($_dr4ybh18jnlpawzt.childNodesCount(elm),offset);});};var getEnd=function(root,rng,real){return getEndpointElement(root,rng,false,real,function(elm,offset){return offset>0?offset-1:offset;});};var skipEmptyTextNodes=function(node,forwards){var orig=node;while(node&&$_fy28ei1rjnlpax2o.isText(node)&&node.length===0){node=forwards?node.nextSibling:node.previousSibling;}return node||orig;};var getNode$1=function(root,rng){var elm,startContainer,endContainer,startOffset,endOffset;if(!rng){return root;}startContainer=rng.startContainer;endContainer=rng.endContainer;startOffset=rng.startOffset;endOffset=rng.endOffset;elm=rng.commonAncestorContainer;if(!rng.collapsed){if(startContainer===endContainer){if(endOffset-startOffset<2){if(startContainer.hasChildNodes()){elm=startContainer.childNodes[startOffset];}}}if(startContainer.nodeType===3&&endContainer.nodeType===3){if(startContainer.length===startOffset){startContainer=skipEmptyTextNodes(startContainer.nextSibling,true);}else{startContainer=startContainer.parentNode;}if(endOffset===0){endContainer=skipEmptyTextNodes(endContainer.previousSibling,false);}else{endContainer=endContainer.parentNode;}if(startContainer&&startContainer===endContainer){return startContainer;}}}if(elm&&elm.nodeType===3){return elm.parentNode;}return elm;};var getSelectedBlocks=function(dom,rng,startElm,endElm){var node,root;var selectedBlocks=[];root=dom.getRoot();startElm=dom.getParent(startElm||getStart$2(root,rng,rng.collapsed),dom.isBlock);endElm=dom.getParent(endElm||getEnd(root,rng,rng.collapsed),dom.isBlock);if(startElm&&startElm!==root){selectedBlocks.push(startElm);}if(startElm&&endElm&&startElm!==endElm){node=startElm;var walker=new TreeWalker(startElm,root);while((node=walker.next())&&node!==endElm){if(dom.isBlock(node)){selectedBlocks.push(node);}}}if(endElm&&startElm!==endElm&&endElm!==root){selectedBlocks.push(endElm);}return selectedBlocks;};var select$1=function(dom,node,content){return Option.from(node).map(function(node){var idx=dom.nodeIndex(node);var rng=dom.createRng();rng.setStart(node.parentNode,idx);rng.setEnd(node.parentNode,idx+1);if(content){moveEndPoint$1(dom,rng,node,true);moveEndPoint$1(dom,rng,node,false);}return rng;});};var each$19=$_1q1txeljnlpawsa.each;var isNativeIeSelection=function(rng){return!!rng.select;};var isAttachedToDom=function(node){return!!(node&&node.ownerDocument)&&$_5h7cor1ejnlpax0k.contains(Element$$1.fromDom(node.ownerDocument),Element$$1.fromDom(node));};var isValidRange=function(rng){if(!rng){return false;}else if(isNativeIeSelection(rng)){return true;}else{return isAttachedToDom(rng.startContainer)&&isAttachedToDom(rng.endContainer);}};var Selection$1=function(dom,win,serializer,editor){var bookmarkManager,controlSelection;var selectedRange,explicitRange,selectorChangedData;var setCursorLocation=function(node,offset){var rng=dom.createRng();if(!node){moveEndPoint$1(dom,rng,editor.getBody(),true);setRng(rng);}else{rng.setStart(node,offset);rng.setEnd(node,offset);setRng(rng);collapse(false);}};var getContent=function(args){return $_d9gs4y6yjnlpay67.getContent(editor,args);};var setContent=function(content,args){return $_b3j7u072jnlpaybw.setContent(editor,content,args);};var getStart=function(real){return getStart$2(editor.getBody(),getRng(),real);};var getEnd$$1=function(real){return getEnd(editor.getBody(),getRng(),real);};var getBookmark=function(type,normalized){return bookmarkManager.getBookmark(type,normalized);};var moveToBookmark=function(bookmark){return bookmarkManager.moveToBookmark(bookmark);};var select=function(node,content){select$1(dom,node,content).each(setRng);return node;};var isCollapsed=function(){var rng=getRng(),sel=getSel();if(!rng||rng.item){return false;}if(rng.compareEndPoints){return rng.compareEndPoints('StartToEnd',rng)===0;}return!sel||rng.collapsed;};var collapse=function(toStart){var rng=getRng();rng.collapse(!!toStart);setRng(rng);};var getSel=function(){return win.getSelection?win.getSelection():win.document.selection;};var getRng=function(){var selection,rng,elm,doc;var tryCompareBoundaryPoints=function(how,sourceRange,destinationRange){try{return sourceRange.compareBoundaryPoints(how,destinationRange);}catch(ex){return-1;}};if(!win){return null;}doc=win.document;if(typeof doc==='undefined'||doc===null){return null;}if(editor.bookmark!==undefined&&$_8odu5n4yjnlpaxsg.hasFocus(editor)===false){var bookmark=$_13pqgk4ojnlpaxqr.getRng(editor);if(bookmark.isSome()){return bookmark.map(function(r){return $_76ma076xjnlpay65.processRanges(editor,[r])[0];}).getOr(doc.createRange());}}try{if(selection=getSel()){if(selection.rangeCount>0){rng=selection.getRangeAt(0);}else{rng=selection.createRange?selection.createRange():doc.createRange();}}}catch(ex){}rng=$_76ma076xjnlpay65.processRanges(editor,[rng])[0];if(!rng){rng=doc.createRange?doc.createRange():doc.body.createTextRange();}if(rng.setStart&&rng.startContainer.nodeType===9&&rng.collapsed){elm=dom.getRoot();rng.setStart(elm,0);rng.setEnd(elm,0);}if(selectedRange&&explicitRange){if(tryCompareBoundaryPoints(rng.START_TO_START,rng,selectedRange)===0&&tryCompareBoundaryPoints(rng.END_TO_END,rng,selectedRange)===0){rng=explicitRange;}else{selectedRange=null;explicitRange=null;}}return rng;};var setRng=function(rng,forward){var sel,node,evt;if(!isValidRange(rng)){return;}var ieRange=isNativeIeSelection(rng)?rng:null;if(ieRange){explicitRange=null;try{ieRange.select();}catch(ex){}return;}sel=getSel();evt=editor.fire('SetSelectionRange',{range:rng,forward:forward});rng=evt.range;if(sel){explicitRange=rng;try{sel.removeAllRanges();sel.addRange(rng);}catch(ex){}if(forward===false&&sel.extend){sel.collapse(rng.endContainer,rng.endOffset);sel.extend(rng.startContainer,rng.startOffset);}selectedRange=sel.rangeCount>0?sel.getRangeAt(0):null;}if(!rng.collapsed&&rng.startContainer===rng.endContainer&&sel.setBaseAndExtent&&!$_cseqobajnlpawll.ie){if(rng.endOffset-rng.startOffset<2){if(rng.startContainer.hasChildNodes()){node=rng.startContainer.childNodes[rng.startOffset];if(node&&node.tagName==='IMG'){sel.setBaseAndExtent(rng.startContainer,rng.startOffset,rng.endContainer,rng.endOffset);if(sel.anchorNode!==rng.startContainer||sel.focusNode!==rng.endContainer){sel.setBaseAndExtent(node,0,node,1);}}}}}editor.fire('AfterSetSelectionRange',{range:rng,forward:forward});};var setNode=function(elm){setContent(dom.getOuterHTML(elm));return elm;};var getNode=function(){return getNode$1(editor.getBody(),getRng());};var getSelectedBlocks$$1=function(startElm,endElm){return getSelectedBlocks(dom,getRng(),startElm,endElm);};var isForward=function(){var sel=getSel();var anchorRange,focusRange;if(!sel||!sel.anchorNode||!sel.focusNode){return true;}anchorRange=dom.createRng();anchorRange.setStart(sel.anchorNode,sel.anchorOffset);anchorRange.collapse(true);focusRange=dom.createRng();focusRange.setStart(sel.focusNode,sel.focusOffset);focusRange.collapse(true);return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START,focusRange)<=0;};var normalize=function(){var rng=getRng();var sel=getSel();if(!$_533sn84ijnlpaxoe.hasMultipleRanges(sel)&&hasAnyRanges(editor)){var normRng=$_afh56j4mjnlpaxpx.normalize(dom,rng);normRng.each(function(normRng){setRng(normRng,isForward());});return normRng.getOr(rng);}return rng;};var selectorChanged=function(selector,callback){var currentSelectors;if(!selectorChangedData){selectorChangedData={};currentSelectors={};editor.on('NodeChange',function(e){var node=e.element,parents=dom.getParents(node,null,dom.getRoot()),matchedSelectors={};each$19(selectorChangedData,function(callbacks,selector){each$19(parents,function(node){if(dom.is(node,selector)){if(!currentSelectors[selector]){each$19(callbacks,function(callback){callback(true,{node:node,selector:selector,parents:parents});});currentSelectors[selector]=callbacks;}matchedSelectors[selector]=callbacks;return false;}});});each$19(currentSelectors,function(callbacks,selector){if(!matchedSelectors[selector]){delete currentSelectors[selector];each$19(callbacks,function(callback){callback(false,{node:node,selector:selector,parents:parents});});}});});}if(!selectorChangedData[selector]){selectorChangedData[selector]=[];}selectorChangedData[selector].push(callback);return exports;};var getScrollContainer=function(){var scrollContainer;var node=dom.getRoot();while(node&&node.nodeName!=='BODY'){if(node.scrollHeight>node.clientHeight){scrollContainer=node;break;}node=node.parentNode;}return scrollContainer;};var scrollIntoView=function(elm,alignToTop){return $_av60ug39jnlpaxee.scrollElementIntoView(editor,elm,alignToTop);};var placeCaretAt=function(clientX,clientY){return setRng($_445zg66wjnlpay63.fromPoint(clientX,clientY,editor.getDoc()));};var getBoundingClientRect=function(){var rng=getRng();return rng.collapsed?CaretPosition$1.fromRangeStart(rng).getClientRects()[0]:rng.getBoundingClientRect();};var destroy=function(){win=selectedRange=explicitRange=null;controlSelection.destroy();};var exports={bookmarkManager:null,controlSelection:null,dom:dom,win:win,serializer:serializer,editor:editor,collapse:collapse,setCursorLocation:setCursorLocation,getContent:getContent,setContent:setContent,getBookmark:getBookmark,moveToBookmark:moveToBookmark,select:select,isCollapsed:isCollapsed,isForward:isForward,setNode:setNode,getNode:getNode,getSel:getSel,setRng:setRng,getRng:getRng,getStart:getStart,getEnd:getEnd$$1,getSelectedBlocks:getSelectedBlocks$$1,normalize:normalize,selectorChanged:selectorChanged,getScrollContainer:getScrollContainer,scrollIntoView:scrollIntoView,placeCaretAt:placeCaretAt,getBoundingClientRect:getBoundingClientRect,destroy:destroy};bookmarkManager=BookmarkManager$1(exports);controlSelection=ControlSelection(exports,editor);exports.bookmarkManager=bookmarkManager;exports.controlSelection=controlSelection;return exports;};var isContentEditableFalse$11=$_fy28ei1rjnlpax2o.isContentEditableFalse;var getSelectedNode$1=getSelectedNode;var isAfterContentEditableFalse$2=isAfterContentEditableFalse;var isBeforeContentEditableFalse$2=isBeforeContentEditableFalse;var getVisualCaretPosition=function(walkFn,caretPosition){while(caretPosition=walkFn(caretPosition)){if(caretPosition.isVisible()){return caretPosition;}}return caretPosition;};var isMoveInsideSameBlock=function(from,to){var inSameBlock=isInSameBlock(from,to);if(!inSameBlock&&$_fy28ei1rjnlpax2o.isBr(from.getNode())){return true;}return inSameBlock;};var moveToCeFalseHorizontally=function(direction,editor,getNextPosFn,range){var node,caretPosition,peekCaretPosition,rangeIsInContainerBlock;var forwards=direction===HDirection.Forwards;var isBeforeContentEditableFalseFn=forwards?isBeforeContentEditableFalse$2:isAfterContentEditableFalse$2;if(!range.collapsed){node=getSelectedNode$1(range);if(isContentEditableFalse$11(node)){return showCaret(direction,editor,node,direction===HDirection.Backwards,true);}}rangeIsInContainerBlock=isRangeInCaretContainerBlock(range);caretPosition=getNormalizedRangeEndPoint(direction,editor.getBody(),range);if(isBeforeContentEditableFalseFn(caretPosition)){return selectNode(editor,caretPosition.getNode(!forwards));}caretPosition=getNextPosFn(caretPosition);if(!caretPosition){if(rangeIsInContainerBlock){return range;}return null;}if(isBeforeContentEditableFalseFn(caretPosition)){return showCaret(direction,editor,caretPosition.getNode(!forwards),forwards,true);}peekCaretPosition=getNextPosFn(caretPosition);if(isBeforeContentEditableFalseFn(peekCaretPosition)){if(isMoveInsideSameBlock(caretPosition,peekCaretPosition)){return showCaret(direction,editor,peekCaretPosition.getNode(!forwards),forwards,true);}}if(rangeIsInContainerBlock){return renderRangeCaret(editor,caretPosition.toRange(),true);}return null;};var moveToCeFalseVertically=function(direction,editor,walkerFn,range){var caretPosition,linePositions,nextLinePositions;var closestNextLineRect,caretClientRect,clientX;var dist1,dist2,contentEditableFalseNode;contentEditableFalseNode=getSelectedNode$1(range);caretPosition=getNormalizedRangeEndPoint(direction,editor.getBody(),range);linePositions=walkerFn(editor.getBody(),isAboveLine(1),caretPosition);nextLinePositions=$_n452lmjnlpawsj.filter(linePositions,isLine(1));caretClientRect=$_n452lmjnlpawsj.last(caretPosition.getClientRects());if(isBeforeContentEditableFalse$2(caretPosition)||isBeforeTable(caretPosition)){contentEditableFalseNode=caretPosition.getNode();}if(isAfterContentEditableFalse$2(caretPosition)||isAfterTable(caretPosition)){contentEditableFalseNode=caretPosition.getNode(true);}if(!caretClientRect){return null;}clientX=caretClientRect.left;closestNextLineRect=findClosestClientRect(nextLinePositions,clientX);if(closestNextLineRect){if(isContentEditableFalse$11(closestNextLineRect.node)){dist1=Math.abs(clientX-closestNextLineRect.left);dist2=Math.abs(clientX-closestNextLineRect.right);return showCaret(direction,editor,closestNextLineRect.node,dist1<dist2,true);}}if(contentEditableFalseNode){var caretPositions=positionsUntil(direction,editor.getBody(),isAboveLine(1),contentEditableFalseNode);closestNextLineRect=findClosestClientRect($_n452lmjnlpawsj.filter(caretPositions,isLine(1)),clientX);if(closestNextLineRect){return renderRangeCaret(editor,closestNextLineRect.position.toRange(),true);}closestNextLineRect=$_n452lmjnlpawsj.last($_n452lmjnlpawsj.filter(caretPositions,isLine(0)));if(closestNextLineRect){return renderRangeCaret(editor,closestNextLineRect.position.toRange(),true);}}};var createTextBlock=function(editor){var textBlock=editor.dom.create(editor.settings.forced_root_block);if(!$_cseqobajnlpawll.ie||$_cseqobajnlpawll.ie>=11){textBlock.innerHTML='<br data-mce-bogus=\"1\">';}return textBlock;};var exitPreBlock=function(editor,direction,range){var pre,caretPos,newBlock;var caretWalker=CaretWalker(editor.getBody());var getNextVisualCaretPosition=$_dv6bef2njnlpax9l.curry(getVisualCaretPosition,caretWalker.next);var getPrevVisualCaretPosition=$_dv6bef2njnlpax9l.curry(getVisualCaretPosition,caretWalker.prev);if(range.collapsed&&editor.settings.forced_root_block){pre=editor.dom.getParent(range.startContainer,'PRE');if(!pre){return;}if(direction===1){caretPos=getNextVisualCaretPosition(CaretPosition$1.fromRangeStart(range));}else{caretPos=getPrevVisualCaretPosition(CaretPosition$1.fromRangeStart(range));}if(!caretPos){newBlock=createTextBlock(editor);if(direction===1){editor.$(pre).after(newBlock);}else{editor.$(pre).before(newBlock);}editor.selection.select(newBlock,true);editor.selection.collapse();}}};var getHorizontalRange=function(editor,forward){var caretWalker=CaretWalker(editor.getBody());var getNextVisualCaretPosition=$_dv6bef2njnlpax9l.curry(getVisualCaretPosition,caretWalker.next);var getPrevVisualCaretPosition=$_dv6bef2njnlpax9l.curry(getVisualCaretPosition,caretWalker.prev);var newRange;var direction=forward?HDirection.Forwards:HDirection.Backwards;var getNextPosFn=forward?getNextVisualCaretPosition:getPrevVisualCaretPosition;var range=editor.selection.getRng();newRange=moveToCeFalseHorizontally(direction,editor,getNextPosFn,range);if(newRange){return newRange;}newRange=exitPreBlock(editor,direction,range);if(newRange){return newRange;}return null;};var getVerticalRange=function(editor,down){var newRange;var direction=down?1:-1;var walkerFn=down?downUntil:upUntil;var range=editor.selection.getRng();newRange=moveToCeFalseVertically(direction,editor,walkerFn,range);if(newRange){return newRange;}newRange=exitPreBlock(editor,direction,range);if(newRange){return newRange;}return null;};var moveH$1=function(editor,forward){return function(){var newRng=getHorizontalRange(editor,forward);if(newRng){editor.selection.setRng(newRng);return true;}else{return false;}};};var moveV$1=function(editor,down){return function(){var newRng=getVerticalRange(editor,down);if(newRng){editor.selection.setRng(newRng);return true;}else{return false;}};};var defaultPatterns=function(patterns){return map(patterns,function(pattern){return merge({shiftKey:false,altKey:false,ctrlKey:false,metaKey:false,keyCode:0,action:noop},pattern);});};var matchesEvent=function(pattern,evt){return evt.keyCode===pattern.keyCode&&evt.shiftKey===pattern.shiftKey&&evt.altKey===pattern.altKey&&evt.ctrlKey===pattern.ctrlKey&&evt.metaKey===pattern.metaKey;};var match$1=function(patterns,evt){return bind(defaultPatterns(patterns),function(pattern){return matchesEvent(pattern,evt)?[pattern]:[];});};var action=function(f){var x=[];for(var _i=1;_i<arguments.length;_i++){x[_i-1]=arguments[_i];}var args=Array.prototype.slice.call(arguments,1);return function(){return f.apply(null,args);};};var execute=function(patterns,evt){return find(match$1(patterns,evt),function(pattern){return pattern.action();});};var $_4wmttl77jnlpaycu={match:match$1,action:action,execute:execute};var executeKeydownOverride=function(editor,caret,evt){var os=$_766rx4ojnlpawtd.detect().os;$_4wmttl77jnlpaycu.execute([{keyCode:$_1qv0695yjnlpaxyk.RIGHT,action:moveH$1(editor,true)},{keyCode:$_1qv0695yjnlpaxyk.LEFT,action:moveH$1(editor,false)},{keyCode:$_1qv0695yjnlpaxyk.UP,action:moveV$1(editor,false)},{keyCode:$_1qv0695yjnlpaxyk.DOWN,action:moveV$1(editor,true)},{keyCode:$_1qv0695yjnlpaxyk.RIGHT,action:moveH(editor,true)},{keyCode:$_1qv0695yjnlpaxyk.LEFT,action:moveH(editor,false)},{keyCode:$_1qv0695yjnlpaxyk.UP,action:moveV(editor,false)},{keyCode:$_1qv0695yjnlpaxyk.DOWN,action:moveV(editor,true)},{keyCode:$_1qv0695yjnlpaxyk.RIGHT,action:$_1971nm4djnlpaxmv.move(editor,caret,true)},{keyCode:$_1qv0695yjnlpaxyk.LEFT,action:$_1971nm4djnlpaxmv.move(editor,caret,false)},{keyCode:$_1qv0695yjnlpaxyk.RIGHT,ctrlKey:!os.isOSX(),altKey:os.isOSX(),action:$_1971nm4djnlpaxmv.moveNextWord(editor,caret)},{keyCode:$_1qv0695yjnlpaxyk.LEFT,ctrlKey:!os.isOSX(),altKey:os.isOSX(),action:$_1971nm4djnlpaxmv.movePrevWord(editor,caret)}],evt).each(function(_){evt.preventDefault();});};var setup$7=function(editor,caret){editor.on('keydown',function(evt){if(evt.isDefaultPrevented()===false){executeKeydownOverride(editor,caret,evt);}});};var $_61j8yg75jnlpayck={setup:setup$7};var getParentInlines=function(rootElm,startElm){var parents=$_4b88sj42jnlpaxkd.parentsAndSelf(startElm,rootElm);return findIndex(parents,isBlock).fold(constant(parents),function(index){return parents.slice(0,index);});};var hasOnlyOneChild$1=function(elm){return $_dr4ybh18jnlpawzt.children(elm).length===1;};var deleteLastPosition=function(forward,editor,target,parentInlines){var isFormatElement$$1=curry(isFormatElement,editor);var formatNodes=map(filter(parentInlines,isFormatElement$$1),function(elm){return elm.dom();});if(formatNodes.length===0){$_ezizyx47jnlpaxle.deleteElement(editor,forward,target);}else{var pos=replaceWithCaretFormat(target.dom(),formatNodes);editor.selection.setRng(pos.toRange());}};var deleteCaret$1=function(editor,forward){var rootElm=Element$$1.fromDom(editor.getBody());var startElm=Element$$1.fromDom(editor.selection.getStart());var parentInlines=filter(getParentInlines(rootElm,startElm),hasOnlyOneChild$1);return last(parentInlines).map(function(target){var fromPos=CaretPosition$1.fromRangeStart(editor.selection.getRng());if($_dfzzw73vjnlpaxik.willDeleteLastPositionInElement(forward,fromPos,target.dom())){deleteLastPosition(forward,editor,target,parentInlines);return true;}else{return false;}}).getOr(false);};var backspaceDelete$5=function(editor,forward){return editor.selection.isCollapsed()?deleteCaret$1(editor,forward):false;};var $_7joyou79jnlpayd3={backspaceDelete:backspaceDelete$5};var executeKeydownOverride$1=function(editor,caret,evt){$_4wmttl77jnlpaycu.execute([{keyCode:$_1qv0695yjnlpaxyk.BACKSPACE,action:$_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.backspaceDelete,editor,false)},{keyCode:$_1qv0695yjnlpaxyk.DELETE,action:$_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.backspaceDelete,editor,true)},{keyCode:$_1qv0695yjnlpaxyk.BACKSPACE,action:$_4wmttl77jnlpaycu.action($_5d7kmb48jnlpaxm1.backspaceDelete,editor,caret,false)},{keyCode:$_1qv0695yjnlpaxyk.DELETE,action:$_4wmttl77jnlpaycu.action($_5d7kmb48jnlpaxm1.backspaceDelete,editor,caret,true)},{keyCode:$_1qv0695yjnlpaxyk.BACKSPACE,action:$_4wmttl77jnlpaycu.action($_3apnm14fjnlpaxn8.backspaceDelete,editor,false)},{keyCode:$_1qv0695yjnlpaxyk.DELETE,action:$_4wmttl77jnlpaycu.action($_3apnm14fjnlpaxn8.backspaceDelete,editor,true)},{keyCode:$_1qv0695yjnlpaxyk.BACKSPACE,action:$_4wmttl77jnlpaycu.action($_f5evyu43jnlpaxki.backspaceDelete,editor,false)},{keyCode:$_1qv0695yjnlpaxyk.DELETE,action:$_4wmttl77jnlpaycu.action($_f5evyu43jnlpaxki.backspaceDelete,editor,true)},{keyCode:$_1qv0695yjnlpaxyk.BACKSPACE,action:$_4wmttl77jnlpaycu.action($_3n8adg3tjnlpaxi5.backspaceDelete,editor,false)},{keyCode:$_1qv0695yjnlpaxyk.DELETE,action:$_4wmttl77jnlpaycu.action($_3n8adg3tjnlpaxi5.backspaceDelete,editor,true)},{keyCode:$_1qv0695yjnlpaxyk.BACKSPACE,action:$_4wmttl77jnlpaycu.action($_7joyou79jnlpayd3.backspaceDelete,editor,false)},{keyCode:$_1qv0695yjnlpaxyk.DELETE,action:$_4wmttl77jnlpaycu.action($_7joyou79jnlpayd3.backspaceDelete,editor,true)}],evt).each(function(_){evt.preventDefault();});};var executeKeyupOverride=function(editor,evt){$_4wmttl77jnlpaycu.execute([{keyCode:$_1qv0695yjnlpaxyk.BACKSPACE,action:$_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.paddEmptyElement,editor)},{keyCode:$_1qv0695yjnlpaxyk.DELETE,action:$_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.paddEmptyElement,editor)}],evt);};var setup$8=function(editor,caret){editor.on('keydown',function(evt){if(evt.isDefaultPrevented()===false){executeKeydownOverride$1(editor,caret,evt);}});editor.on('keyup',function(evt){if(evt.isDefaultPrevented()===false){executeKeyupOverride(editor,evt);}});};var $_7bt40278jnlpayd0={setup:setup$8};var firstNonWhiteSpaceNodeSibling=function(node){while(node){if(node.nodeType===1||node.nodeType===3&&node.data&&/[\\r\\n\\s]/.test(node.data)){return node;}node=node.nextSibling;}};var moveToCaretPosition=function(editor,root){var walker,node,rng,lastNode=root,tempElm;var dom=editor.dom;var moveCaretBeforeOnEnterElementsMap=editor.schema.getMoveCaretBeforeOnEnterElements();if(!root){return;}if(/^(LI|DT|DD)$/.test(root.nodeName)){var firstChild=firstNonWhiteSpaceNodeSibling(root.firstChild);if(firstChild&&/^(UL|OL|DL)$/.test(firstChild.nodeName)){root.insertBefore(dom.doc.createTextNode('\\xA0'),root.firstChild);}}rng=dom.createRng();root.normalize();if(root.hasChildNodes()){walker=new TreeWalker(root,root);while(node=walker.current()){if($_fy28ei1rjnlpax2o.isText(node)){rng.setStart(node,0);rng.setEnd(node,0);break;}if(moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]){rng.setStartBefore(node);rng.setEndBefore(node);break;}lastNode=node;node=walker.next();}if(!node){rng.setStart(lastNode,0);rng.setEnd(lastNode,0);}}else{if($_fy28ei1rjnlpax2o.isBr(root)){if(root.nextSibling&&dom.isBlock(root.nextSibling)){rng.setStartBefore(root);rng.setEndBefore(root);}else{rng.setStartAfter(root);rng.setEndAfter(root);}}else{rng.setStart(root,0);rng.setEnd(root,0);}}editor.selection.setRng(rng);dom.remove(tempElm);editor.selection.scrollIntoView(root);};var getEditableRoot=function(dom,node){var root=dom.getRoot();var parent,editableRoot;parent=node;while(parent!==root&&dom.getContentEditable(parent)!=='false'){if(dom.getContentEditable(parent)==='true'){editableRoot=parent;}parent=parent.parentNode;}return parent!==root?editableRoot:root;};var getParentBlock$2=function(editor){return Option.from(editor.dom.getParent(editor.selection.getStart(true),editor.dom.isBlock));};var getParentBlockName=function(editor){return getParentBlock$2(editor).fold(constant(''),function(parentBlock){return parentBlock.nodeName.toUpperCase();});};var isListItemParentBlock=function(editor){return getParentBlock$2(editor).filter(function(elm){return isListItem(Element$$1.fromDom(elm));}).isSome();};var $_f5kh147ejnlpaye2={moveToCaretPosition:moveToCaretPosition,getEditableRoot:getEditableRoot,getParentBlock:getParentBlock$2,getParentBlockName:getParentBlockName,isListItemParentBlock:isListItemParentBlock};var hasFirstChild=function(elm,name){return elm.firstChild&&elm.firstChild.nodeName===name;};var hasParent$1=function(elm,parentName){return elm&&elm.parentNode&&elm.parentNode.nodeName===parentName;};var isListBlock=function(elm){return elm&&/^(OL|UL|LI)$/.test(elm.nodeName);};var isNestedList=function(elm){return isListBlock(elm)&&isListBlock(elm.parentNode);};var getContainerBlock=function(containerBlock){var containerBlockParent=containerBlock.parentNode;if(/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)){return containerBlockParent;}return containerBlock;};var isFirstOrLastLi=function(containerBlock,parentBlock,first){var node=containerBlock[first?'firstChild':'lastChild'];while(node){if($_fy28ei1rjnlpax2o.isElement(node)){break;}node=node[first?'nextSibling':'previousSibling'];}return node===parentBlock;};var insert$1=function(editor,createNewBlock,containerBlock,parentBlock,newBlockName){var dom=editor.dom;var rng=editor.selection.getRng();if(containerBlock===editor.getBody()){return;}if(isNestedList(containerBlock)){newBlockName='LI';}var newBlock=newBlockName?createNewBlock(newBlockName):dom.create('BR');if(isFirstOrLastLi(containerBlock,parentBlock,true)&&isFirstOrLastLi(containerBlock,parentBlock,false)){if(hasParent$1(containerBlock,'LI')){dom.insertAfter(newBlock,getContainerBlock(containerBlock));}else{dom.replace(newBlock,containerBlock);}}else if(isFirstOrLastLi(containerBlock,parentBlock,true)){if(hasParent$1(containerBlock,'LI')){dom.insertAfter(newBlock,getContainerBlock(containerBlock));newBlock.appendChild(dom.doc.createTextNode(' '));newBlock.appendChild(containerBlock);}else{containerBlock.parentNode.insertBefore(newBlock,containerBlock);}}else if(isFirstOrLastLi(containerBlock,parentBlock,false)){dom.insertAfter(newBlock,getContainerBlock(containerBlock));}else{containerBlock=getContainerBlock(containerBlock);var tmpRng=rng.cloneRange();tmpRng.setStartAfter(parentBlock);tmpRng.setEndAfter(containerBlock);var fragment=tmpRng.extractContents();if(newBlockName==='LI'&&hasFirstChild(fragment,'LI')){newBlock=fragment.firstChild;dom.insertAfter(fragment,containerBlock);}else{dom.insertAfter(fragment,containerBlock);dom.insertAfter(newBlock,containerBlock);}}dom.remove(parentBlock);$_f5kh147ejnlpaye2.moveToCaretPosition(editor,newBlock);};var $_ejp82b7djnlpaydz={insert:insert$1};var isEmptyAnchor=function(elm){return elm&&elm.nodeName==='A'&&$_1q1txeljnlpawsa.trim($_90hfb72rjnlpaxae.trim(elm.innerText||elm.textContent)).length===0;};var isTableCell$5=function(node){return node&&/^(TD|TH|CAPTION)$/.test(node.nodeName);};var emptyBlock=function(elm){elm.innerHTML='<br data-mce-bogus=\"1\">';};var containerAndSiblingName=function(container,nodeName){return container.nodeName===nodeName||container.previousSibling&&container.previousSibling.nodeName===nodeName;};var canSplitBlock=function(dom,node){return node&&dom.isBlock(node)&&!/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName)&&!/^(fixed|absolute)/i.test(node.style.position)&&dom.getContentEditable(node)!=='true';};var trimInlineElementsOnLeftSideOfBlock=function(dom,nonEmptyElementsMap,block){var node=block;var firstChilds=[];var i;if(!node){return;}while(node=node.firstChild){if(dom.isBlock(node)){return;}if($_fy28ei1rjnlpax2o.isElement(node)&&!nonEmptyElementsMap[node.nodeName.toLowerCase()]){firstChilds.push(node);}}i=firstChilds.length;while(i--){node=firstChilds[i];if(!node.hasChildNodes()||node.firstChild===node.lastChild&&node.firstChild.nodeValue===''){dom.remove(node);}else{if(isEmptyAnchor(node)){dom.remove(node);}}}};var normalizeZwspOffset=function(start,container,offset){if($_fy28ei1rjnlpax2o.isText(container)===false){return offset;}else if(start){return offset===1&&container.data.charAt(offset-1)===$_90hfb72rjnlpaxae.ZWSP?0:offset;}else{return offset===container.data.length-1&&container.data.charAt(offset)===$_90hfb72rjnlpaxae.ZWSP?container.data.length:offset;}};var includeZwspInRange=function(rng){var newRng=rng.cloneRange();newRng.setStart(rng.startContainer,normalizeZwspOffset(true,rng.startContainer,rng.startOffset));newRng.setEnd(rng.endContainer,normalizeZwspOffset(false,rng.endContainer,rng.endOffset));return newRng;};var trimLeadingLineBreaks=function(node){do{if($_fy28ei1rjnlpax2o.isText(node)){node.nodeValue=node.nodeValue.replace(/^[\\r\\n]+/,'');}node=node.firstChild;}while(node);};var getEditableRoot$1=function(dom,node){var root=dom.getRoot();var parent,editableRoot;parent=node;while(parent!==root&&dom.getContentEditable(parent)!=='false'){if(dom.getContentEditable(parent)==='true'){editableRoot=parent;}parent=parent.parentNode;}return parent!==root?editableRoot:root;};var setForcedBlockAttrs=function(editor,node){var forcedRootBlockName=$_c6e09z3ajnlpaxek.getForcedRootBlock(editor);if(forcedRootBlockName&&forcedRootBlockName.toLowerCase()===node.tagName.toLowerCase()){editor.dom.setAttribs(node,$_c6e09z3ajnlpaxek.getForcedRootBlockAttrs(editor));}};var wrapSelfAndSiblingsInDefaultBlock=function(editor,newBlockName,rng,container,offset){var newBlock,parentBlock,startNode,node,next,rootBlockName;var blockName=newBlockName||'P';var dom=editor.dom,editableRoot=getEditableRoot$1(dom,container);parentBlock=dom.getParent(container,dom.isBlock);if(!parentBlock||!canSplitBlock(dom,parentBlock)){parentBlock=parentBlock||editableRoot;if(parentBlock===editor.getBody()||isTableCell$5(parentBlock)){rootBlockName=parentBlock.nodeName.toLowerCase();}else{rootBlockName=parentBlock.parentNode.nodeName.toLowerCase();}if(!parentBlock.hasChildNodes()){newBlock=dom.create(blockName);setForcedBlockAttrs(editor,newBlock);parentBlock.appendChild(newBlock);rng.setStart(newBlock,0);rng.setEnd(newBlock,0);return newBlock;}node=container;while(node.parentNode!==parentBlock){node=node.parentNode;}while(node&&!dom.isBlock(node)){startNode=node;node=node.previousSibling;}if(startNode&&editor.schema.isValidChild(rootBlockName,blockName.toLowerCase())){newBlock=dom.create(blockName);setForcedBlockAttrs(editor,newBlock);startNode.parentNode.insertBefore(newBlock,startNode);node=startNode;while(node&&!dom.isBlock(node)){next=node.nextSibling;newBlock.appendChild(node);node=next;}rng.setStart(container,offset);rng.setEnd(container,offset);}}return container;};var addBrToBlockIfNeeded=function(dom,block){var lastChild;block.normalize();lastChild=block.lastChild;if(!lastChild||/^(left|right)$/gi.test(dom.getStyle(lastChild,'float',true))){dom.add(block,'br');}};var insert$2=function(editor,evt){var tmpRng,editableRoot,container,offset,parentBlock,shiftKey;var newBlock,fragment,containerBlock,parentBlockName,containerBlockName,newBlockName,isAfterLastNodeInContainer;var dom=editor.dom;var schema=editor.schema,nonEmptyElementsMap=schema.getNonEmptyElements();var rng=editor.selection.getRng();var createNewBlock=function(name){var node=container,block,clonedNode,caretNode;var textInlineElements=schema.getTextInlineElements();if(name||parentBlockName==='TABLE'||parentBlockName==='HR'){block=dom.create(name||newBlockName);setForcedBlockAttrs(editor,block);}else{block=parentBlock.cloneNode(false);}caretNode=block;if($_c6e09z3ajnlpaxek.shouldKeepStyles(editor)===false){dom.setAttrib(block,'style',null);dom.setAttrib(block,'class',null);}else{do{if(textInlineElements[node.nodeName]){if(isCaretNode(node)){continue;}clonedNode=node.cloneNode(false);dom.setAttrib(clonedNode,'id','');if(block.hasChildNodes()){clonedNode.appendChild(block.firstChild);block.appendChild(clonedNode);}else{caretNode=clonedNode;block.appendChild(clonedNode);}}}while((node=node.parentNode)&&node!==editableRoot);}emptyBlock(caretNode);return block;};var isCaretAtStartOrEndOfBlock=function(start){var walker,node,name,normalizedOffset;normalizedOffset=normalizeZwspOffset(start,container,offset);if($_fy28ei1rjnlpax2o.isText(container)&&(start?normalizedOffset>0:normalizedOffset<container.nodeValue.length)){return false;}if(container.parentNode===parentBlock&&isAfterLastNodeInContainer&&!start){return true;}if(start&&$_fy28ei1rjnlpax2o.isElement(container)&&container===parentBlock.firstChild){return true;}if(containerAndSiblingName(container,'TABLE')||containerAndSiblingName(container,'HR')){return isAfterLastNodeInContainer&&!start||!isAfterLastNodeInContainer&&start;}walker=new TreeWalker(container,parentBlock);if($_fy28ei1rjnlpax2o.isText(container)){if(start&&normalizedOffset===0){walker.prev();}else if(!start&&normalizedOffset===container.nodeValue.length){walker.next();}}while(node=walker.current()){if($_fy28ei1rjnlpax2o.isElement(node)){if(!node.getAttribute('data-mce-bogus')){name=node.nodeName.toLowerCase();if(nonEmptyElementsMap[name]&&name!=='br'){return false;}}}else if($_fy28ei1rjnlpax2o.isText(node)&&!/^[ \\t\\r\\n]*$/.test(node.nodeValue)){return false;}if(start){walker.prev();}else{walker.next();}}return true;};var insertNewBlockAfter=function(){if(/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName)&&containerBlockName!=='HGROUP'){newBlock=createNewBlock(newBlockName);}else{newBlock=createNewBlock();}if($_c6e09z3ajnlpaxek.shouldEndContainerOnEmptyBlock(editor)&&canSplitBlock(dom,containerBlock)&&dom.isEmpty(parentBlock)){newBlock=dom.split(containerBlock,parentBlock);}else{dom.insertAfter(newBlock,parentBlock);}$_f5kh147ejnlpaye2.moveToCaretPosition(editor,newBlock);};$_afh56j4mjnlpaxpx.normalize(dom,rng).each(function(normRng){rng.setStart(normRng.startContainer,normRng.startOffset);rng.setEnd(normRng.endContainer,normRng.endOffset);});container=rng.startContainer;offset=rng.startOffset;newBlockName=$_c6e09z3ajnlpaxek.getForcedRootBlock(editor);shiftKey=evt.shiftKey;if($_fy28ei1rjnlpax2o.isElement(container)&&container.hasChildNodes()){isAfterLastNodeInContainer=offset>container.childNodes.length-1;container=container.childNodes[Math.min(offset,container.childNodes.length-1)]||container;if(isAfterLastNodeInContainer&&$_fy28ei1rjnlpax2o.isText(container)){offset=container.nodeValue.length;}else{offset=0;}}editableRoot=getEditableRoot$1(dom,container);if(!editableRoot){return;}if(newBlockName&&!shiftKey||!newBlockName&&shiftKey){container=wrapSelfAndSiblingsInDefaultBlock(editor,newBlockName,rng,container,offset);}parentBlock=dom.getParent(container,dom.isBlock);containerBlock=parentBlock?dom.getParent(parentBlock.parentNode,dom.isBlock):null;parentBlockName=parentBlock?parentBlock.nodeName.toUpperCase():'';containerBlockName=containerBlock?containerBlock.nodeName.toUpperCase():'';if(containerBlockName==='LI'&&!evt.ctrlKey){parentBlock=containerBlock;containerBlock=containerBlock.parentNode;parentBlockName=containerBlockName;}if(/^(LI|DT|DD)$/.test(parentBlockName)){if(dom.isEmpty(parentBlock)){$_ejp82b7djnlpaydz.insert(editor,createNewBlock,containerBlock,parentBlock,newBlockName);return;}}if(newBlockName&&parentBlock===editor.getBody()){return;}newBlockName=newBlockName||'P';if(isCaretContainerBlock(parentBlock)){newBlock=showCaretContainerBlock(parentBlock);if(dom.isEmpty(parentBlock)){emptyBlock(parentBlock);}$_f5kh147ejnlpaye2.moveToCaretPosition(editor,newBlock);}else if(isCaretAtStartOrEndOfBlock()){insertNewBlockAfter();}else if(isCaretAtStartOrEndOfBlock(true)){newBlock=parentBlock.parentNode.insertBefore(createNewBlock(),parentBlock);$_f5kh147ejnlpaye2.moveToCaretPosition(editor,containerAndSiblingName(parentBlock,'HR')?newBlock:parentBlock);}else{tmpRng=includeZwspInRange(rng).cloneRange();tmpRng.setEndAfter(parentBlock);fragment=tmpRng.extractContents();trimLeadingLineBreaks(fragment);newBlock=fragment.firstChild;dom.insertAfter(fragment,parentBlock);trimInlineElementsOnLeftSideOfBlock(dom,nonEmptyElementsMap,newBlock);addBrToBlockIfNeeded(dom,parentBlock);if(dom.isEmpty(parentBlock)){emptyBlock(parentBlock);}newBlock.normalize();if(dom.isEmpty(newBlock)){dom.remove(newBlock);insertNewBlockAfter();}else{$_f5kh147ejnlpaye2.moveToCaretPosition(editor,newBlock);}}dom.setAttrib(newBlock,'id','');editor.fire('NewBlock',{newBlock:newBlock});};var $_dytumn7cjnlpaydl={insert:insert$2};var matchesSelector=function(editor,selector){return $_f5kh147ejnlpaye2.getParentBlock(editor).filter(function(parentBlock){return selector.length>0&&$_d8v5lf1gjnlpax0y.is(Element$$1.fromDom(parentBlock),selector);}).isSome();};var shouldInsertBr=function(editor){return matchesSelector(editor,$_c6e09z3ajnlpaxek.getBrNewLineSelector(editor));};var shouldBlockNewLine=function(editor){return matchesSelector(editor,$_c6e09z3ajnlpaxek.getNoNewLineSelector(editor));};var $_8nqlsa7gjnlpayev={shouldInsertBr:shouldInsertBr,shouldBlockNewLine:shouldBlockNewLine};var newLineAction=Adt.generate([{br:[]},{block:[]},{none:[]}]);var shouldBlockNewLine$1=function(editor,shiftKey){return $_8nqlsa7gjnlpayev.shouldBlockNewLine(editor);};var isBrMode=function(requiredState){return function(editor,shiftKey){var brMode=$_c6e09z3ajnlpaxek.getForcedRootBlock(editor)==='';return brMode===requiredState;};};var inListBlock=function(requiredState){return function(editor,shiftKey){return $_f5kh147ejnlpaye2.isListItemParentBlock(editor)===requiredState;};};var inBlock=function(blockName,requiredState){return function(editor,shiftKey){var state=$_f5kh147ejnlpaye2.getParentBlockName(editor)===blockName.toUpperCase();return state===requiredState;};};var inPreBlock=function(requiredState){return inBlock('pre',requiredState);};var inSummaryBlock=function(){return inBlock('summary',true);};var shouldPutBrInPre$1=function(requiredState){return function(editor,shiftKey){return $_c6e09z3ajnlpaxek.shouldPutBrInPre(editor)===requiredState;};};var inBrContext=function(editor,shiftKey){return $_8nqlsa7gjnlpayev.shouldInsertBr(editor);};var hasShiftKey=function(editor,shiftKey){return shiftKey;};var canInsertIntoEditableRoot=function(editor){var forcedRootBlock=$_c6e09z3ajnlpaxek.getForcedRootBlock(editor);var rootEditable=$_f5kh147ejnlpaye2.getEditableRoot(editor.dom,editor.selection.getStart());return rootEditable&&editor.schema.isValidChild(rootEditable.nodeName,forcedRootBlock?forcedRootBlock:'P');};var match$2=function(predicates,action){return function(editor,shiftKey){var isMatch=foldl(predicates,function(res,p){return res&&p(editor,shiftKey);},true);return isMatch?Option.some(action):Option.none();};};var getAction$1=function(editor,evt){return $_3eehvl4cjnlpaxms.evaluateUntil([match$2([shouldBlockNewLine$1],newLineAction.none()),match$2([inSummaryBlock()],newLineAction.br()),match$2([inPreBlock(true),shouldPutBrInPre$1(false),hasShiftKey],newLineAction.br()),match$2([inPreBlock(true),shouldPutBrInPre$1(false)],newLineAction.block()),match$2([inPreBlock(true),shouldPutBrInPre$1(true),hasShiftKey],newLineAction.block()),match$2([inPreBlock(true),shouldPutBrInPre$1(true)],newLineAction.br()),match$2([inListBlock(true),hasShiftKey],newLineAction.br()),match$2([inListBlock(true)],newLineAction.block()),match$2([isBrMode(true),hasShiftKey,canInsertIntoEditableRoot],newLineAction.block()),match$2([isBrMode(true)],newLineAction.br()),match$2([inBrContext],newLineAction.br()),match$2([isBrMode(false),hasShiftKey],newLineAction.br()),match$2([canInsertIntoEditableRoot],newLineAction.block())],[editor,evt.shiftKey]).getOr(newLineAction.none());};var $_5478lv7fjnlpayeb={getAction:getAction$1};var insert$3=function(editor,evt){$_5478lv7fjnlpayeb.getAction(editor,evt).fold(function(){$_ejrlhl4ljnlpaxpg.insert(editor,evt);},function(){$_dytumn7cjnlpaydl.insert(editor,evt);},noop);};var $_en8mkp7bjnlpaydc={insert:insert$3};var endTypingLevel=function(undoManager){if(undoManager.typing){undoManager.typing=false;undoManager.add();}};var handleEnterKeyEvent=function(editor,event){if(event.isDefaultPrevented()){return;}event.preventDefault();endTypingLevel(editor.undoManager);editor.undoManager.transact(function(){if(editor.selection.isCollapsed()===false){editor.execCommand('Delete');}$_en8mkp7bjnlpaydc.insert(editor,event);});};var setup$9=function(editor){editor.on('keydown',function(event){if(event.keyCode===$_1qv0695yjnlpaxyk.ENTER){handleEnterKeyEvent(editor,event);}});};var $_39dxqo7ajnlpaydb={setup:setup$9};var isValidInsertPoint=function(location,caretPosition){return isAtStartOrEnd(location)&&$_fy28ei1rjnlpax2o.isText(caretPosition.container());};var insertNbspAtPosition=function(editor,caretPosition){var container=caretPosition.container();var offset=caretPosition.offset();container.insertData(offset,'\\xA0');editor.selection.setCursorLocation(container,offset+1);};var insertAtLocation=function(editor,caretPosition,location){if(isValidInsertPoint(location,caretPosition)){insertNbspAtPosition(editor,caretPosition);return true;}else{return false;}};var insertAtCaret$2=function(editor){var isInlineTarget=curry($_955v2u3wjnlpaxit.isInlineTarget,editor);var caretPosition=CaretPosition$1.fromRangeStart(editor.selection.getRng());var boundaryLocation=$_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget,editor.getBody(),caretPosition);return boundaryLocation.map(curry(insertAtLocation,editor,caretPosition)).getOr(false);};var isAtStartOrEnd=function(location){return location.fold(constant(false),constant(true),constant(true),constant(false));};var insertAtSelection=function(editor){return editor.selection.isCollapsed()?insertAtCaret$2(editor):false;};var $_55jipx7ijnlpayf1={insertAtSelection:insertAtSelection};var executeKeydownOverride$2=function(editor,evt){$_4wmttl77jnlpaycu.execute([{keyCode:$_1qv0695yjnlpaxyk.SPACEBAR,action:$_4wmttl77jnlpaycu.action($_55jipx7ijnlpayf1.insertAtSelection,editor)}],evt).each(function(_){evt.preventDefault();});};var setup$10=function(editor){editor.on('keydown',function(evt){if(evt.isDefaultPrevented()===false){executeKeydownOverride$2(editor,evt);}});};var $_4zpmte7hjnlpayez={setup:setup$10};var findBlockCaretContainer=function(editor){return $_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()),'*[data-mce-caret]').fold(constant(null),function(elm){return elm.dom();});};var removeIeControlRect=function(editor){editor.selection.setRng(editor.selection.getRng());};var showBlockCaretContainer=function(editor,blockCaretContainer){if(blockCaretContainer.hasAttribute('data-mce-caret')){showCaretContainerBlock(blockCaretContainer);removeIeControlRect(editor);editor.selection.scrollIntoView(blockCaretContainer);}};var handleBlockContainer=function(editor,e){var blockCaretContainer=findBlockCaretContainer(editor);if(!blockCaretContainer){return;}if(e.type==='compositionstart'){e.preventDefault();e.stopPropagation();showBlockCaretContainer(editor,blockCaretContainer);return;}if(hasContent(blockCaretContainer)){showBlockCaretContainer(editor,blockCaretContainer);editor.undoManager.add();}};var setup$11=function(editor){editor.on('keyup compositionstart',curry(handleBlockContainer,editor));};var $_fb76tn7jjnlpayf4={setup:setup$11};var setup$12=function(editor){var caret=$_1971nm4djnlpaxmv.setupSelectedState(editor);$_fb76tn7jjnlpayf4.setup(editor);$_61j8yg75jnlpayck.setup(editor,caret);$_7bt40278jnlpayd0.setup(editor,caret);$_39dxqo7ajnlpaydb.setup(editor);$_4zpmte7hjnlpayez.setup(editor);};var $_cvby1r74jnlpayci={setup:setup$12};function Quirks(editor){var each=$_1q1txeljnlpawsa.each;var BACKSPACE=$_1qv0695yjnlpaxyk.BACKSPACE,DELETE=$_1qv0695yjnlpaxyk.DELETE,dom=editor.dom,selection=editor.selection,settings=editor.settings,parser=editor.parser;var isGecko=$_cseqobajnlpawll.gecko,isIE=$_cseqobajnlpawll.ie,isWebKit=$_cseqobajnlpawll.webkit;var mceInternalUrlPrefix='data:text/mce-internal,';var mceInternalDataType=isIE?'Text':'URL';var setEditorCommandState=function(cmd,state){try{editor.getDoc().execCommand(cmd,false,state);}catch(ex){}};var isDefaultPrevented=function(e){return e.isDefaultPrevented();};var setMceInternalContent=function(e){var selectionHtml,internalContent;if(e.dataTransfer){if(editor.selection.isCollapsed()&&e.target.tagName==='IMG'){selection.select(e.target);}selectionHtml=editor.selection.getContent();if(selectionHtml.length>0){internalContent=mceInternalUrlPrefix+escape(editor.id)+','+escape(selectionHtml);e.dataTransfer.setData(mceInternalDataType,internalContent);}}};var getMceInternalContent=function(e){var internalContent;if(e.dataTransfer){internalContent=e.dataTransfer.getData(mceInternalDataType);if(internalContent&&internalContent.indexOf(mceInternalUrlPrefix)>=0){internalContent=internalContent.substr(mceInternalUrlPrefix.length).split(',');return{id:unescape(internalContent[0]),html:unescape(internalContent[1])};}}return null;};var insertClipboardContents=function(content,internal){if(editor.queryCommandSupported('mceInsertClipboardContent')){editor.execCommand('mceInsertClipboardContent',false,{content:content,internal:internal});}else{editor.execCommand('mceInsertContent',false,content);}};var emptyEditorWhenDeleting=function(){var serializeRng=function(rng){var body=dom.create('body');var contents=rng.cloneContents();body.appendChild(contents);return selection.serializer.serialize(body,{format:'html'});};var allContentsSelected=function(rng){var selection=serializeRng(rng);var allRng=dom.createRng();allRng.selectNode(editor.getBody());var allSelection=serializeRng(allRng);return selection===allSelection;};editor.on('keydown',function(e){var keyCode=e.keyCode;var isCollapsed,body;if(!isDefaultPrevented(e)&&(keyCode===DELETE||keyCode===BACKSPACE)){isCollapsed=editor.selection.isCollapsed();body=editor.getBody();if(isCollapsed&&!dom.isEmpty(body)){return;}if(!isCollapsed&&!allContentsSelected(editor.selection.getRng())){return;}e.preventDefault();editor.setContent('');if(body.firstChild&&dom.isBlock(body.firstChild)){editor.selection.setCursorLocation(body.firstChild,0);}else{editor.selection.setCursorLocation(body,0);}editor.nodeChanged();}});};var selectAll=function(){editor.shortcuts.add('meta+a',null,'SelectAll');};var inputMethodFocus=function(){if(!editor.settings.content_editable){dom.bind(editor.getDoc(),'mousedown mouseup',function(e){var rng;if(e.target===editor.getDoc().documentElement){rng=selection.getRng();editor.getBody().focus();if(e.type==='mousedown'){if(isCaretContainer(rng.startContainer)){return;}selection.placeCaretAt(e.clientX,e.clientY);}else{selection.setRng(rng);}}});}};var removeHrOnBackspace=function(){editor.on('keydown',function(e){if(!isDefaultPrevented(e)&&e.keyCode===BACKSPACE){if(!editor.getBody().getElementsByTagName('hr').length){return;}if(selection.isCollapsed()&&selection.getRng().startOffset===0){var node=selection.getNode();var previousSibling=node.previousSibling;if(node.nodeName==='HR'){dom.remove(node);e.preventDefault();return;}if(previousSibling&&previousSibling.nodeName&&previousSibling.nodeName.toLowerCase()==='hr'){dom.remove(previousSibling);e.preventDefault();}}}});};var focusBody=function(){if(!Range.prototype.getClientRects){editor.on('mousedown',function(e){if(!isDefaultPrevented(e)&&e.target.nodeName==='HTML'){var body_1=editor.getBody();body_1.blur();$_2nbnh1ijnlpawpi.setEditorTimeout(editor,function(){body_1.focus();});}});}};var selectControlElements=function(){editor.on('click',function(e){var target=e.target;if(/^(IMG|HR)$/.test(target.nodeName)&&dom.getContentEditableParent(target)!=='false'){e.preventDefault();editor.selection.select(target);editor.nodeChanged();}if(target.nodeName==='A'&&dom.hasClass(target,'mce-item-anchor')){e.preventDefault();selection.select(target);}});};var removeStylesWhenDeletingAcrossBlockElements=function(){var getAttributeApplyFunction=function(){var template=dom.getAttribs(selection.getStart().cloneNode(false));return function(){var target=selection.getStart();if(target!==editor.getBody()){dom.setAttrib(target,'style',null);each(template,function(attr){target.setAttributeNode(attr.cloneNode(true));});}};};var isSelectionAcrossElements=function(){return!selection.isCollapsed()&&dom.getParent(selection.getStart(),dom.isBlock)!==dom.getParent(selection.getEnd(),dom.isBlock);};editor.on('keypress',function(e){var applyAttributes;if(!isDefaultPrevented(e)&&(e.keyCode===8||e.keyCode===46)&&isSelectionAcrossElements()){applyAttributes=getAttributeApplyFunction();editor.getDoc().execCommand('delete',false,null);applyAttributes();e.preventDefault();return false;}});dom.bind(editor.getDoc(),'cut',function(e){var applyAttributes;if(!isDefaultPrevented(e)&&isSelectionAcrossElements()){applyAttributes=getAttributeApplyFunction();$_2nbnh1ijnlpawpi.setEditorTimeout(editor,function(){applyAttributes();});}});};var disableBackspaceIntoATable=function(){editor.on('keydown',function(e){if(!isDefaultPrevented(e)&&e.keyCode===BACKSPACE){if(selection.isCollapsed()&&selection.getRng().startOffset===0){var previousSibling=selection.getNode().previousSibling;if(previousSibling&&previousSibling.nodeName&&previousSibling.nodeName.toLowerCase()==='table'){e.preventDefault();return false;}}}});};var removeBlockQuoteOnBackSpace=function(){editor.on('keydown',function(e){var rng,container,offset,root,parent$$1;if(isDefaultPrevented(e)||e.keyCode!==$_1qv0695yjnlpaxyk.BACKSPACE){return;}rng=selection.getRng();container=rng.startContainer;offset=rng.startOffset;root=dom.getRoot();parent$$1=container;if(!rng.collapsed||offset!==0){return;}while(parent$$1&&parent$$1.parentNode&&parent$$1.parentNode.firstChild===parent$$1&&parent$$1.parentNode!==root){parent$$1=parent$$1.parentNode;}if(parent$$1.tagName==='BLOCKQUOTE'){editor.formatter.toggle('blockquote',null,parent$$1);rng=dom.createRng();rng.setStart(container,0);rng.setEnd(container,0);selection.setRng(rng);}});};var setGeckoEditingOptions=function(){var setOpts=function(){setEditorCommandState('StyleWithCSS',false);setEditorCommandState('enableInlineTableEditing',false);if(!settings.object_resizing){setEditorCommandState('enableObjectResizing',false);}};if(!settings.readonly){editor.on('BeforeExecCommand MouseDown',setOpts);}};var addBrAfterLastLinks=function(){var fixLinks=function(){each(dom.select('a'),function(node){var parentNode=node.parentNode;var root=dom.getRoot();if(parentNode.lastChild===node){while(parentNode&&!dom.isBlock(parentNode)){if(parentNode.parentNode.lastChild!==parentNode||parentNode===root){return;}parentNode=parentNode.parentNode;}dom.add(parentNode,'br',{'data-mce-bogus':1});}});};editor.on('SetContent ExecCommand',function(e){if(e.type==='setcontent'||e.command==='mceInsertLink'){fixLinks();}});};var setDefaultBlockType=function(){if(settings.forced_root_block){editor.on('init',function(){setEditorCommandState('DefaultParagraphSeparator',settings.forced_root_block);});}};var normalizeSelection=function(){editor.on('keyup focusin mouseup',function(e){if(!$_1qv0695yjnlpaxyk.modifierPressed(e)){selection.normalize();}},true);};var showBrokenImageIcon=function(){editor.contentStyles.push('img:-moz-broken {'+'-moz-force-broken-image-icon:1;'+'min-width:24px;'+'min-height:24px'+'}');};var restoreFocusOnKeyDown=function(){if(!editor.inline){editor.on('keydown',function(){if(document.activeElement===document.body){editor.getWin().focus();}});}};var bodyHeight=function(){if(!editor.inline){editor.contentStyles.push('body {min-height: 150px}');editor.on('click',function(e){var rng;if(e.target.nodeName==='HTML'){if($_cseqobajnlpawll.ie>11){editor.getBody().focus();return;}rng=editor.selection.getRng();editor.getBody().focus();editor.selection.setRng(rng);editor.selection.normalize();editor.nodeChanged();}});}};var blockCmdArrowNavigation=function(){if($_cseqobajnlpawll.mac){editor.on('keydown',function(e){if($_1qv0695yjnlpaxyk.metaKeyPressed(e)&&!e.shiftKey&&(e.keyCode===37||e.keyCode===39)){e.preventDefault();editor.selection.getSel().modify('move',e.keyCode===37?'backward':'forward','lineboundary');}});}};var disableAutoUrlDetect=function(){setEditorCommandState('AutoUrlDetect',false);};var tapLinksAndImages=function(){editor.on('click',function(e){var elm=e.target;do{if(elm.tagName==='A'){e.preventDefault();return;}}while(elm=elm.parentNode);});editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');};var blockFormSubmitInsideEditor=function(){editor.on('init',function(){editor.dom.bind(editor.getBody(),'submit',function(e){e.preventDefault();});});};var removeAppleInterchangeBrs=function(){parser.addNodeFilter('br',function(nodes){var i=nodes.length;while(i--){if(nodes[i].attr('class')==='Apple-interchange-newline'){nodes[i].remove();}}});};var ieInternalDragAndDrop=function(){editor.on('dragstart',function(e){setMceInternalContent(e);});editor.on('drop',function(e){if(!isDefaultPrevented(e)){var internalContent=getMceInternalContent(e);if(internalContent&&internalContent.id!==editor.id){e.preventDefault();var rng=$_445zg66wjnlpay63.fromPoint(e.x,e.y,editor.getDoc());selection.setRng(rng);insertClipboardContents(internalContent.html,true);}}});};var refreshContentEditable=function(){};var isHidden=function(){var sel;if(!isGecko||editor.removed){return 0;}sel=editor.selection.getSel();return!sel||!sel.rangeCount||sel.rangeCount===0;};removeBlockQuoteOnBackSpace();emptyEditorWhenDeleting();if(!$_cseqobajnlpawll.windowsPhone){normalizeSelection();}if(isWebKit){inputMethodFocus();selectControlElements();setDefaultBlockType();blockFormSubmitInsideEditor();disableBackspaceIntoATable();removeAppleInterchangeBrs();if($_cseqobajnlpawll.iOS){restoreFocusOnKeyDown();bodyHeight();tapLinksAndImages();}else{selectAll();}}if($_cseqobajnlpawll.ie>=11){bodyHeight();disableBackspaceIntoATable();}if($_cseqobajnlpawll.ie){selectAll();disableAutoUrlDetect();ieInternalDragAndDrop();}if(isGecko){removeHrOnBackspace();focusBody();removeStylesWhenDeletingAcrossBlockElements();setGeckoEditingOptions();addBrAfterLastLinks();showBrokenImageIcon();blockCmdArrowNavigation();disableBackspaceIntoATable();}return{refreshContentEditable:refreshContentEditable,isHidden:isHidden};}var isTextBlockNode=function(node){return $_fy28ei1rjnlpax2o.isElement(node)&&isTextBlock(Element$$1.fromDom(node));};var normalizeSelection$1=function(editor){var rng=editor.selection.getRng();var startPos=CaretPosition.fromRangeStart(rng);var endPos=CaretPosition.fromRangeEnd(rng);if(CaretPosition.isElementPosition(startPos)){var container=startPos.container();if(isTextBlockNode(container)){$_32xcvk30jnlpaxbn.firstPositionIn(container).each(function(pos){return rng.setStart(pos.container(),pos.offset());});}}if(CaretPosition.isElementPosition(endPos)){var container=startPos.container();if(isTextBlockNode(container)){$_32xcvk30jnlpaxbn.lastPositionIn(container).each(function(pos){return rng.setEnd(pos.container(),pos.offset());});}}editor.selection.setRng($_4fmn0j3qjnlpaxhi.normalize(rng));};var setup$13=function(editor){editor.on('click',function(e){if(e.detail>=3){normalizeSelection$1(editor);}});};var preventSummaryToggle=function(editor){editor.on('click',function(e){if(editor.dom.getParent(e.target,'details')){e.preventDefault();}});};var filterDetails=function(editor){editor.parser.addNodeFilter('details',function(elms){each(elms,function(details){details.attr('data-mce-open',details.attr('open'));details.attr('open','open');});});editor.serializer.addNodeFilter('details',function(elms){each(elms,function(details){var open=details.attr('data-mce-open');details.attr('open',isString(open)?open:null);details.attr('data-mce-open',null);});});};var setup$14=function(editor){preventSummaryToggle(editor);filterDetails(editor);};var DOM$2=DOMUtils$1.DOM;var appendStyle=function(editor,text){var head=Element$$1.fromDom(editor.getDoc().head);var tag=Element$$1.fromTag('style');$_521j8z15jnlpawz7.set(tag,'type','text/css');$_ag89ax1yjnlpax4x.append(tag,Element$$1.fromText(text));$_ag89ax1yjnlpax4x.append(head,tag);};var createParser=function(editor){var parser=DomParser(editor.settings,editor.schema);parser.addAttributeFilter('src,href,style,tabindex',function(nodes,name$$1){var i=nodes.length,node;var dom=editor.dom;var value,internalName;while(i--){node=nodes[i];value=node.attr(name$$1);internalName='data-mce-'+name$$1;if(!node.attributes.map[internalName]){if(value.indexOf('data:')===0||value.indexOf('blob:')===0){continue;}if(name$$1==='style'){value=dom.serializeStyle(dom.parseStyle(value),node.name);if(!value.length){value=null;}node.attr(internalName,value);node.attr(name$$1,value);}else if(name$$1==='tabindex'){node.attr(internalName,value);node.attr(name$$1,null);}else{node.attr(internalName,editor.convertURL(value,name$$1,node.name));}}}});parser.addNodeFilter('script',function(nodes){var i=nodes.length,node,type;while(i--){node=nodes[i];type=node.attr('type')||'no/type';if(type.indexOf('mce-')!==0){node.attr('type','mce-'+type);}}});parser.addNodeFilter('#cdata',function(nodes){var i=nodes.length,node;while(i--){node=nodes[i];node.type=8;node.name='#comment';node.value='[CDATA['+node.value+']]';}});parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div',function(nodes){var i=nodes.length,node;var nonEmptyElements=editor.schema.getNonEmptyElements();while(i--){node=nodes[i];if(node.isEmpty(nonEmptyElements)&&node.getAll('br').length===0){node.append(new Node$2('br',1)).shortEnded=true;}}});return parser;};var autoFocus=function(editor){if(editor.settings.auto_focus){$_2nbnh1ijnlpawpi.setEditorTimeout(editor,function(){var focusEditor;if(editor.settings.auto_focus===true){focusEditor=editor;}else{focusEditor=editor.editorManager.get(editor.settings.auto_focus);}if(!focusEditor.destroyed){focusEditor.focus();}},100);}};var initEditor=function(editor){editor.bindPendingEventDelegates();editor.initialized=true;editor.fire('init');editor.focus(true);editor.nodeChanged({initial:true});editor.execCallback('init_instance_callback',editor);autoFocus(editor);};var getStyleSheetLoader=function(editor){return editor.inline?DOM$2.styleSheetLoader:editor.dom.styleSheetLoader;// return ''\n};var initContentBody=function(editor,skipWrite){var settings=editor.settings;var targetElm=editor.getElement();var doc=editor.getDoc(),body,contentCssText;if(!settings.inline){editor.getElement().style.visibility=editor.orgVisibility;}if(!skipWrite&&!settings.content_editable){doc.open();doc.write(editor.iframeHTML);doc.close();}if(settings.content_editable){editor.on('remove',function(){var bodyEl=this.getBody();DOM$2.removeClass(bodyEl,'mce-content-body');DOM$2.removeClass(bodyEl,'mce-edit-focus');DOM$2.setAttrib(bodyEl,'contentEditable',null);});DOM$2.addClass(targetElm,'mce-content-body');editor.contentDocument=doc=settings.content_document||document;editor.contentWindow=settings.content_window||window;editor.bodyElement=targetElm;settings.content_document=settings.content_window=null;settings.root_name=targetElm.nodeName.toLowerCase();}body=editor.getBody();body.disabled=true;editor.readonly=settings.readonly;if(!editor.readonly){if(editor.inline&&DOM$2.getStyle(body,'position',true)==='static'){body.style.position='relative';}body.contentEditable=editor.getParam('content_editable_state',true);}body.disabled=false;editor.editorUpload=EditorUpload(editor);editor.schema=Schema(settings);editor.dom=DOMUtils$1(doc,{keep_values:true,url_converter:editor.convertURL,url_converter_scope:editor,hex_colors:settings.force_hex_style_colors,class_filter:settings.class_filter,update_styles:true,root_element:editor.inline?editor.getBody():null,collect:settings.content_editable,schema:editor.schema,onSetAttrib:function(e){editor.fire('SetAttrib',e);}});editor.parser=createParser(editor);editor.serializer=DomSerializer$1(settings,editor);editor.selection=Selection$1(editor.dom,editor.getWin(),editor.serializer,editor);editor.annotator=Annotator(editor);editor.formatter=Formatter(editor);editor.undoManager=UndoManager(editor);editor._nodeChangeDispatcher=new NodeChange(editor);editor._selectionOverrides=SelectionOverrides(editor);setup$14(editor);setup$13(editor);$_cvby1r74jnlpayci.setup(editor);$_cjqvqq5njnlpaxw3.setup(editor);editor.fire('PreInit');if(!settings.browser_spellcheck&&!settings.gecko_spellcheck){doc.body.spellcheck=false;DOM$2.setAttrib(body,'spellcheck','false');}editor.quirks=Quirks(editor);editor.fire('PostRender');if(settings.directionality){body.dir=settings.directionality;}if(settings.nowrap){body.style.whiteSpace='nowrap';}if(settings.protect){editor.on('BeforeSetContent',function(e){$_1q1txeljnlpawsa.each(settings.protect,function(pattern){e.content=e.content.replace(pattern,function(str){return'<!--mce:protected '+escape(str)+'-->';});});});}editor.on('SetContent',function(){editor.addVisual(editor.getBody());});editor.load({initial:true,format:'html'});editor.startContent=editor.getContent({format:'raw'});editor.on('compositionstart compositionend',function(e){editor.composing=e.type==='compositionstart';});if(editor.contentStyles.length>0){contentCssText='';$_1q1txeljnlpawsa.each(editor.contentStyles,function(style){contentCssText+=style+'\\r\\n';});editor.dom.addStyle(contentCssText);}getStyleSheetLoader(editor).loadAll(editor.contentCSS,function(_){initEditor(editor);},function(urls){initEditor(editor);});if(settings.content_style){appendStyle(editor,settings.content_style);}};var $_8cqui75bjnlpaxue={initContentBody:initContentBody};var DOM$3=DOMUtils$1.DOM;var relaxDomain=function(editor,ifr){if(document.domain!==window.location.hostname&&$_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie<12){var bodyUuid=$_cb5mec5ljnlpaxvz.uuid('mce');editor[bodyUuid]=function(){$_8cqui75bjnlpaxue.initContentBody(editor);};var domainRelaxUrl='javascript:(function(){'+'document.open();document.domain=\"'+document.domain+'\";'+'var ed = window.parent.tinymce.get(\"'+editor.id+'\");document.write(ed.iframeHTML);'+'document.close();ed.'+bodyUuid+'(true);})()';DOM$3.setAttrib(ifr,'src',domainRelaxUrl);return true;}return false;};var normalizeHeight=function(height){var normalizedHeight=typeof height==='number'?height+'px':height;return normalizedHeight?normalizedHeight:'';};var createIframeElement=function(id,title,height,customAttrs){var iframe=Element$$1.fromTag('iframe');$_521j8z15jnlpawz7.setAll(iframe,customAttrs);$_521j8z15jnlpawz7.setAll(iframe,{id:id+'_ifr',frameBorder:'0',allowTransparency:'true',title:title});$_asiuhf13jnlpawvc.setAll(iframe,{width:'100%',height:normalizeHeight(height),display:'block'});return iframe;};var getIframeHtml=function(editor){var bodyId,bodyClass,iframeHTML;iframeHTML=$_c6e09z3ajnlpaxek.getDocType(editor)+'<html><head>';if($_c6e09z3ajnlpaxek.getDocumentBaseUrl(editor)!==editor.documentBaseUrl){iframeHTML+='<base href=\"'+editor.documentBaseURI.getURI()+'\" />';}iframeHTML+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';bodyId=$_c6e09z3ajnlpaxek.getBodyId(editor);bodyClass=$_c6e09z3ajnlpaxek.getBodyClass(editor);if($_c6e09z3ajnlpaxek.getContentSecurityPolicy(editor)){iframeHTML+='<meta http-equiv=\"Content-Security-Policy\" content=\"'+$_c6e09z3ajnlpaxek.getContentSecurityPolicy(editor)+'\" />';}iframeHTML+='</head><body id=\"'+bodyId+'\" class=\"mce-content-body '+bodyClass+'\" data-id=\"'+editor.id+'\"><br></body></html>';return iframeHTML;};var createIframe=function(editor,o){var title=editor.editorManager.translate('Rich Text Area. Press ALT-F9 for menu. '+'Press ALT-F10 for toolbar. Press ALT-0 for help');var ifr=createIframeElement(editor.id,title,o.height,$_c6e09z3ajnlpaxek.getIframeAttrs(editor)).dom();ifr.onload=function(){ifr.onload=null;editor.fire('load');};var isDomainRelaxed=relaxDomain(editor,ifr);editor.contentAreaContainer=o.iframeContainer;editor.iframeElement=ifr;editor.iframeHTML=getIframeHtml(editor);DOM$3.add(o.iframeContainer,ifr);return isDomainRelaxed;};var init$1=function(editor,boxInfo){var isDomainRelaxed=createIframe(editor,boxInfo);if(boxInfo.editorContainer){DOM$3.get(boxInfo.editorContainer).style.display=editor.orgDisplay;editor.hidden=DOM$3.isHidden(boxInfo.editorContainer);}editor.getElement().style.display='none';DOM$3.setAttrib(editor.id,'aria-hidden','true');if(!isDomainRelaxed){$_8cqui75bjnlpaxue.initContentBody(editor);}};var $_aablho7njnlpayfx={init:init$1};var DOM$4=DOMUtils$1.DOM;var initPlugin=function(editor,initializedPlugins,plugin){var Plugin=PluginManager$1.get(plugin);var pluginUrl,pluginInstance;pluginUrl=PluginManager$1.urls[plugin]||editor.documentBaseUrl.replace(/\\/$/,'');plugin=$_1q1txeljnlpawsa.trim(plugin);if(Plugin&&$_1q1txeljnlpawsa.inArray(initializedPlugins,plugin)===-1){$_1q1txeljnlpawsa.each(PluginManager$1.dependencies(plugin),function(dep){initPlugin(editor,initializedPlugins,dep);});if(editor.plugins[plugin]){return;}pluginInstance=new Plugin(editor,pluginUrl,editor.$);editor.plugins[plugin]=pluginInstance;if(pluginInstance.init){pluginInstance.init(editor,pluginUrl);initializedPlugins.push(plugin);}}};var trimLegacyPrefix=function(name){return name.replace(/^\\-/,'');};var initPlugins=function(editor){var initializedPlugins=[];$_1q1txeljnlpawsa.each(editor.settings.plugins.split(/[ ,]/),function(name){initPlugin(editor,initializedPlugins,trimLegacyPrefix(name));});};var initTheme=function(editor){var Theme;var theme=editor.settings.theme;if(isString(theme)){editor.settings.theme=trimLegacyPrefix(theme);Theme=ThemeManager.get(theme);editor.theme=new Theme(editor,ThemeManager.urls[theme]);if(editor.theme.init){editor.theme.init(editor,ThemeManager.urls[theme]||editor.documentBaseUrl.replace(/\\/$/,''),editor.$);}}else{editor.theme={};}};var renderFromLoadedTheme=function(editor){var w,h,minHeight,re,info;var settings=editor.settings;var elm=editor.getElement();w=settings.width||DOM$4.getStyle(elm,'width')||'100%';h=settings.height||DOM$4.getStyle(elm,'height')||elm.offsetHeight;minHeight=settings.min_height||100;re=/^[0-9\\.]+(|px)$/i;if(re.test(''+w)){w=Math.max(parseInt(w,10),100);}if(re.test(''+h)){h=Math.max(parseInt(h,10),minHeight);}info=editor.theme.renderUI({targetNode:elm,width:w,height:h,deltaWidth:settings.delta_width,deltaHeight:settings.delta_height});if(!settings.content_editable){h=(info.iframeHeight||h)+(typeof h==='number'?info.deltaHeight||0:'');if(h<minHeight){h=minHeight;}}info.height=h;return info;};var renderFromThemeFunc=function(editor){var info;var elm=editor.getElement();info=editor.settings.theme(editor,elm);if(info.editorContainer.nodeType){info.editorContainer.id=info.editorContainer.id||editor.id+'_parent';}if(info.iframeContainer&&info.iframeContainer.nodeType){info.iframeContainer.id=info.iframeContainer.id||editor.id+'_iframecontainer';}info.height=info.iframeHeight?info.iframeHeight:elm.offsetHeight;return info;};var createThemeFalseResult=function(element){return{editorContainer:element,iframeContainer:element};};var renderThemeFalseIframe=function(targetElement){var iframeContainer=DOM$4.create('div');DOM$4.insertAfter(iframeContainer,targetElement);return createThemeFalseResult(iframeContainer);};var renderThemeFalse=function(editor){var targetElement=editor.getElement();return editor.inline?createThemeFalseResult(null):renderThemeFalseIframe(targetElement);};var renderThemeUi=function(editor){var settings=editor.settings,elm=editor.getElement();editor.orgDisplay=elm.style.display;if(isString(settings.theme)){return renderFromLoadedTheme(editor);}else if(isFunction(settings.theme)){return renderFromThemeFunc(editor);}else{return renderThemeFalse(editor);}};var init$2=function(editor){var settings=editor.settings;var elm=editor.getElement();var boxInfo;editor.rtl=settings.rtl_ui||editor.editorManager.i18n.rtl;editor.editorManager.i18n.setCode(settings.language);settings.aria_label=settings.aria_label||DOM$4.getAttrib(elm,'aria-label',editor.getLang('aria.rich_text_area'));editor.fire('ScriptsLoaded');initTheme(editor);initPlugins(editor);boxInfo=renderThemeUi(editor);editor.editorContainer=boxInfo.editorContainer?boxInfo.editorContainer:null;if(settings.content_css){$_1q1txeljnlpawsa.each($_1q1txeljnlpawsa.explode(settings.content_css),function(u){editor.contentCSS.push(editor.documentBaseURI.toAbsolute(u));});}if(settings.content_editable){return $_8cqui75bjnlpaxue.initContentBody(editor);}else{return $_aablho7njnlpayfx.init(editor,boxInfo);}};var $_99cvli58jnlpaxu5={init:init$2};var DOM$5=DOMUtils$1.DOM;var hasSkipLoadPrefix=function(name$$1){return name$$1.charAt(0)==='-';};var loadLanguage=function(scriptLoader,editor){var settings=editor.settings;if(settings.language&&settings.language!=='en'&&!settings.language_url){settings.language_url=editor.editorManager.baseURL+'/langs/'+settings.language+'.js';}if(settings.language_url&&!editor.editorManager.i18n.data[settings.language]){scriptLoader.add(settings.language_url);}};var loadTheme=function(scriptLoader,editor,suffix,callback){var settings=editor.settings,theme=settings.theme;if(isString(theme)){if(!hasSkipLoadPrefix(theme)&&!ThemeManager.urls.hasOwnProperty(theme)){var themeUrl=settings.theme_url;if(themeUrl){ThemeManager.load(theme,editor.documentBaseURI.toAbsolute(themeUrl));}else{ThemeManager.load(theme,'themes/'+theme+'/theme'+suffix+'.js');}}scriptLoader.loadQueue(function(){ThemeManager.waitFor(theme,callback);});}else{callback();}};var loadPlugins=function(settings,suffix){if($_1q1txeljnlpawsa.isArray(settings.plugins)){settings.plugins=settings.plugins.join(' ');}$_1q1txeljnlpawsa.each(settings.external_plugins,function(url,name$$1){PluginManager$1.load(name$$1,url);settings.plugins+=' '+name$$1;});$_1q1txeljnlpawsa.each(settings.plugins.split(/[ ,]/),function(plugin){plugin=$_1q1txeljnlpawsa.trim(plugin);if(plugin&&!PluginManager$1.urls[plugin]){if(hasSkipLoadPrefix(plugin)){plugin=plugin.substr(1,plugin.length);var dependencies=PluginManager$1.dependencies(plugin);$_1q1txeljnlpawsa.each(dependencies,function(dep){var defaultSettings={prefix:'plugins/',resource:dep,suffix:'/plugin'+suffix+'.js'};dep=PluginManager$1.createUrl(defaultSettings,dep);PluginManager$1.load(dep.resource,dep);});}else{PluginManager$1.load(plugin,{prefix:'plugins/',resource:plugin,suffix:'/plugin'+suffix+'.js'});}}});};var loadScripts=function(editor,suffix){var scriptLoader=ScriptLoader.ScriptLoader;loadTheme(scriptLoader,editor,suffix,function(){loadLanguage(scriptLoader,editor);loadPlugins(editor.settings,suffix);scriptLoader.loadQueue(function(){if(!editor.removed){$_99cvli58jnlpaxu5.init(editor);}},editor,function(urls){$_2xhw4u57jnlpaxu1.pluginLoadError(editor,urls[0]);if(!editor.removed){$_99cvli58jnlpaxu5.init(editor);}});});};var render=function(editor){var settings=editor.settings,id=editor.id;var readyHandler=function(){DOM$5.unbind(window,'ready',readyHandler);editor.render();};if(!EventUtils.Event.domLoaded){DOM$5.bind(window,'ready',readyHandler);return;}if(!editor.getElement()){return;}if(!$_cseqobajnlpawll.contentEditable){return;}if(!settings.inline){editor.orgVisibility=editor.getElement().style.visibility;editor.getElement().style.visibility='hidden';}else{editor.inline=true;}var form=editor.getElement().form||DOM$5.getParent(id,'form');if(form){editor.formElement=form;if(settings.hidden_input&&!/TEXTAREA|INPUT/i.test(editor.getElement().nodeName)){DOM$5.insertAfter(DOM$5.create('input',{type:'hidden',name:id}),id);editor.hasHiddenInput=true;}editor.formEventDelegate=function(e){editor.fire(e.type,e);};DOM$5.bind(form,'submit reset',editor.formEventDelegate);editor.on('reset',function(){editor.setContent(editor.startContent,{format:'raw'});});if(settings.submit_patch&&!form.submit.nodeType&&!form.submit.length&&!form._mceOldSubmit){form._mceOldSubmit=form.submit;form.submit=function(){editor.editorManager.triggerSave();editor.setDirty(false);return form._mceOldSubmit(form);};}}editor.windowManager=WindowManager(editor);editor.notificationManager=NotificationManager(editor);if(settings.encoding==='xml'){editor.on('GetContent',function(e){if(e.save){e.content=DOM$5.encode(e.content);}});}if(settings.add_form_submit_trigger){editor.on('submit',function(){if(editor.initialized){editor.save();}});}if(settings.add_unload_trigger){editor._beforeUnload=function(){if(editor.initialized&&!editor.destroyed&&!editor.isHidden()){editor.save({format:'raw',no_events:true,set_dirty:false});}};editor.editorManager.on('BeforeUnload',editor._beforeUnload);}editor.editorManager.add(editor);loadScripts(editor,editor.suffix);};var $_eajmw851jnlpaxt7={render:render};var add$4=function(editor,name,settings){var sidebars=editor.sidebars?editor.sidebars:[];sidebars.push({name:name,settings:settings});editor.sidebars=sidebars;};var $_g47nm77ojnlpayg6={add:add$4};var each$20=$_1q1txeljnlpawsa.each;var trim$4=$_1q1txeljnlpawsa.trim;var queryParts='source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');var DEFAULT_PORTS={ftp:21,http:80,https:443,mailto:25};var URI=function(url,settings){var self$$1=this;var baseUri,baseUrl;url=trim$4(url);settings=self$$1.settings=settings||{};baseUri=settings.base_uri;if(/^([\\w\\-]+):([^\\/]{2})/i.test(url)||/^\\s*#/.test(url)){self$$1.source=url;return;}var isProtocolRelative=url.indexOf('//')===0;if(url.indexOf('/')===0&&!isProtocolRelative){url=(baseUri?baseUri.protocol||'http':'http')+'://mce_host'+url;}if(!/^[\\w\\-]*:?\\/\\//.test(url)){baseUrl=settings.base_uri?settings.base_uri.path:new URI(document.location.href).directory;if(settings.base_uri.protocol==''){url='//mce_host'+self$$1.toAbsPath(baseUrl,url);}else{url=/([^#?]*)([#?]?.*)/.exec(url);url=(baseUri&&baseUri.protocol||'http')+'://mce_host'+self$$1.toAbsPath(baseUrl,url[1])+url[2];}}url=url.replace(/@@/g,'(mce_at)');url=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);each$20(queryParts,function(v,i){var part=url[i];if(part){part=part.replace(/\\(mce_at\\)/g,'@@');}self$$1[v]=part;});if(baseUri){if(!self$$1.protocol){self$$1.protocol=baseUri.protocol;}if(!self$$1.userInfo){self$$1.userInfo=baseUri.userInfo;}if(!self$$1.port&&self$$1.host==='mce_host'){self$$1.port=baseUri.port;}if(!self$$1.host||self$$1.host==='mce_host'){self$$1.host=baseUri.host;}self$$1.source='';}if(isProtocolRelative){self$$1.protocol='';}};URI.prototype={setPath:function(path){var self$$1=this;path=/^(.*?)\\/?(\\w+)?$/.exec(path);self$$1.path=path[0];self$$1.directory=path[1];self$$1.file=path[2];self$$1.source='';self$$1.getURI();},toRelative:function(uri){var self$$1=this;var output;if(uri==='./'){return uri;}uri=new URI(uri,{base_uri:self$$1});if(uri.host!=='mce_host'&&self$$1.host!==uri.host&&uri.host||self$$1.port!==uri.port||self$$1.protocol!==uri.protocol&&uri.protocol!==''){return uri.getURI();}var tu=self$$1.getURI(),uu=uri.getURI();if(tu===uu||tu.charAt(tu.length-1)==='/'&&tu.substr(0,tu.length-1)===uu){return tu;}output=self$$1.toRelPath(self$$1.path,uri.path);if(uri.query){output+='?'+uri.query;}if(uri.anchor){output+='#'+uri.anchor;}return output;},toAbsolute:function(uri,noHost){uri=new URI(uri,{base_uri:this});return uri.getURI(noHost&&this.isSameOrigin(uri));},isSameOrigin:function(uri){if(this.host==uri.host&&this.protocol==uri.protocol){if(this.port==uri.port){return true;}var defaultPort=DEFAULT_PORTS[this.protocol];if(defaultPort&&(this.port||defaultPort)==(uri.port||defaultPort)){return true;}}return false;},toRelPath:function(base,path){var items,breakPoint=0,out='',i,l;base=base.substring(0,base.lastIndexOf('/'));base=base.split('/');items=path.split('/');if(base.length>=items.length){for(i=0,l=base.length;i<l;i++){if(i>=items.length||base[i]!==items[i]){breakPoint=i+1;break;}}}if(base.length<items.length){for(i=0,l=items.length;i<l;i++){if(i>=base.length||base[i]!==items[i]){breakPoint=i+1;break;}}}if(breakPoint===1){return path;}for(i=0,l=base.length-(breakPoint-1);i<l;i++){out+='../';}for(i=breakPoint-1,l=items.length;i<l;i++){if(i!==breakPoint-1){out+='/'+items[i];}else{out+=items[i];}}return out;},toAbsPath:function(base,path){var i,nb=0,o=[],tr,outPath;tr=/\\/$/.test(path)?'/':'';base=base.split('/');path=path.split('/');each$20(base,function(k){if(k){o.push(k);}});base=o;for(i=path.length-1,o=[];i>=0;i--){if(path[i].length===0||path[i]==='.'){continue;}if(path[i]==='..'){nb++;continue;}if(nb>0){nb--;continue;}o.push(path[i]);}i=base.length-nb;if(i<=0){outPath=o.reverse().join('/');}else{outPath=base.slice(0,i).join('/')+'/'+o.reverse().join('/');}if(outPath.indexOf('/')!==0){outPath='/'+outPath;}if(tr&&outPath.lastIndexOf('/')!==outPath.length-1){outPath+=tr;}return outPath;},getURI:function(noProtoHost){var s;var self$$1=this;if(!self$$1.source||noProtoHost){s='';if(!noProtoHost){if(self$$1.protocol){s+=self$$1.protocol+'://';}else{s+='//';}if(self$$1.userInfo){s+=self$$1.userInfo+'@';}if(self$$1.host){s+=self$$1.host;}if(self$$1.port){s+=':'+self$$1.port;}}if(self$$1.path){s+=self$$1.path;}if(self$$1.query){s+='?'+self$$1.query;}if(self$$1.anchor){s+='#'+self$$1.anchor;}self$$1.source=s;}return self$$1.source;}};URI.parseDataUri=function(uri){var type,matches;uri=decodeURIComponent(uri).split(',');matches=/data:([^;]+)/.exec(uri[0]);if(matches){type=matches[1];}return{type:type,data:uri[1]};};URI.getDocumentBaseUrl=function(loc){var baseUrl;if(loc.protocol.indexOf('http')!==0&&loc.protocol!=='file:'){baseUrl=loc.href;}else{baseUrl=loc.protocol+'//'+loc.host+loc.pathname;}if(/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)){baseUrl=baseUrl.replace(/[\\?#].*$/,'').replace(/[\\/\\\\][^\\/]+$/,'');if(!/[\\/\\\\]$/.test(baseUrl)){baseUrl+='/';}}return baseUrl;};var defaultFormat='html';var trimEmptyContents=function(editor,html){var blockName=$_c6e09z3ajnlpaxek.getForcedRootBlock(editor);var emptyRegExp=new RegExp('^(<'+blockName+'[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/'+blockName+'>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');return html.replace(emptyRegExp,'');};var getContentFromBody=function(editor,args,body){var content;args.format=args.format?args.format:defaultFormat;args.get=true;args.getInner=true;if(!args.no_events){editor.fire('BeforeGetContent',args);}if(args.format==='raw'){content=$_1q1txeljnlpawsa.trim($_9cq8vj61jnlpaxzc.trimExternal(editor.serializer,body.innerHTML));}else if(args.format==='text'){content=$_90hfb72rjnlpaxae.trim(body.innerText||body.textContent);}else if(args.format==='tree'){return editor.serializer.serialize(body,args);}else{content=trimEmptyContents(editor,editor.serializer.serialize(body,args));}if(args.format!=='text'&&!isWsPreserveElement(Element$$1.fromDom(body))){args.content=$_1q1txeljnlpawsa.trim(content);}else{args.content=content;}if(!args.no_events){editor.fire('GetContent',args);}return args.content;};var getContent$1=function(editor,args){if(args===void 0){args={};}return Option.from(editor.getBody()).fold(constant(args.format==='tree'?new Node$2('body',11):''),function(body){return getContentFromBody(editor,args,body);});};var traverse=function(node,fn){fn(node);if(node.firstChild){traverse(node.firstChild,fn);}if(node.next){traverse(node.next,fn);}};var findMatchingNodes=function(nodeFilters,attributeFilters,node){var nodeMatches={};var attrMatches={};var matches=[];if(node.firstChild){traverse(node.firstChild,function(node){each(nodeFilters,function(filter$$1){if(filter$$1.name===node.name){if(nodeMatches[filter$$1.name]){nodeMatches[filter$$1.name].nodes.push(node);}else{nodeMatches[filter$$1.name]={filter:filter$$1,nodes:[node]};}}});each(attributeFilters,function(filter$$1){if(typeof node.attr(filter$$1.name)==='string'){if(attrMatches[filter$$1.name]){attrMatches[filter$$1.name].nodes.push(node);}else{attrMatches[filter$$1.name]={filter:filter$$1,nodes:[node]};}}});});}for(var name in nodeMatches){if(nodeMatches.hasOwnProperty(name)){matches.push(nodeMatches[name]);}}for(var name in attrMatches){if(attrMatches.hasOwnProperty(name)){matches.push(attrMatches[name]);}}return matches;};var filter$3=function(nodeFilters,attributeFilters,node){var matches=findMatchingNodes(nodeFilters,attributeFilters,node);each(matches,function(match){each(match.filter.callbacks,function(callback){callback(match.nodes,match.filter.name,{});});});};var defaultFormat$1='html';var isTreeNode=function(content){return content instanceof Node$2;};var moveSelection=function(editor){if($_8odu5n4yjnlpaxsg.hasFocus(editor)){$_32xcvk30jnlpaxbn.firstPositionIn(editor.getBody()).each(function(pos){var node=pos.getNode();var caretPos=$_fy28ei1rjnlpax2o.isTable(node)?$_32xcvk30jnlpaxbn.firstPositionIn(node).getOr(pos):pos;editor.selection.setRng(caretPos.toRange());});}};var setEditorHtml=function(editor,html){editor.dom.setHTML(editor.getBody(),html);moveSelection(editor);};var setContentString=function(editor,body,content,args){var forcedRootBlockName,padd;if(content.length===0||/^\\s+$/.test(content)){padd='<br data-mce-bogus=\"1\">';if(body.nodeName==='TABLE'){content='<tr><td>'+padd+'</td></tr>';}else if(/^(UL|OL)$/.test(body.nodeName)){content='<li>'+padd+'</li>';}forcedRootBlockName=$_c6e09z3ajnlpaxek.getForcedRootBlock(editor);if(forcedRootBlockName&&editor.schema.isValidChild(body.nodeName.toLowerCase(),forcedRootBlockName.toLowerCase())){content=padd;content=editor.dom.createHTML(forcedRootBlockName,editor.settings.forced_root_block_attrs,content);}else if(!content){content='<br data-mce-bogus=\"1\">';}setEditorHtml(editor,content);editor.fire('SetContent',args);}else{if(args.format!=='raw'){content=HtmlSerializer({validate:editor.validate},editor.schema).serialize(editor.parser.parse(content,{isRootContent:true,insert:true}));}args.content=isWsPreserveElement(Element$$1.fromDom(body))?content:$_1q1txeljnlpawsa.trim(content);setEditorHtml(editor,args.content);if(!args.no_events){editor.fire('SetContent',args);}}return args.content;};var setContentTree=function(editor,body,content,args){filter$3(editor.parser.getNodeFilters(),editor.parser.getAttributeFilters(),content);var html=HtmlSerializer({validate:editor.validate},editor.schema).serialize(content);args.content=isWsPreserveElement(Element$$1.fromDom(body))?html:$_1q1txeljnlpawsa.trim(html);setEditorHtml(editor,args.content);if(!args.no_events){editor.fire('SetContent',args);}return content;};var setContent$1=function(editor,content,args){if(args===void 0){args={};}args.format=args.format?args.format:defaultFormat$1;args.set=true;args.content=isTreeNode(content)?'':content;if(!isTreeNode(content)&&!args.no_events){editor.fire('BeforeSetContent',args);content=args.content;}return Option.from(editor.getBody()).fold(constant(content),function(body){return isTreeNode(content)?setContentTree(editor,body,content,args):setContentString(editor,body,content,args);});};var DOM$6=DOMUtils$1.DOM;var restoreOriginalStyles=function(editor){DOM$6.setStyle(editor.id,'display',editor.orgDisplay);};var safeDestroy=function(x){return Option.from(x).each(function(x){return x.destroy();});};var clearDomReferences=function(editor){editor.contentAreaContainer=editor.formElement=editor.container=editor.editorContainer=null;editor.bodyElement=editor.contentDocument=editor.contentWindow=null;editor.iframeElement=editor.targetElm=null;if(editor.selection){editor.selection=editor.selection.win=editor.selection.dom=editor.selection.dom.doc=null;}};var restoreForm=function(editor){var form=editor.formElement;if(form){if(form._mceOldSubmit){form.submit=form._mceOldSubmit;form._mceOldSubmit=null;}DOM$6.unbind(form,'submit reset',editor.formEventDelegate);}};var remove$9=function(editor){if(!editor.removed){var _selectionOverrides=editor._selectionOverrides,editorUpload=editor.editorUpload;var body=editor.getBody();var element=editor.getElement();if(body){editor.save({is_removing:true});}editor.removed=true;editor.unbindAllNativeEvents();if(editor.hasHiddenInput&&element){DOM$6.remove(element.nextSibling);}if(!editor.inline&&body){restoreOriginalStyles(editor);}$_5atig84wjnlpaxs7.fireRemove(editor);editor.editorManager.remove(editor);DOM$6.remove(editor.getContainer());safeDestroy(_selectionOverrides);safeDestroy(editorUpload);editor.destroy();}};var destroy=function(editor,automatic){var selection=editor.selection,dom=editor.dom;if(editor.destroyed){return;}if(!automatic&&!editor.removed){editor.remove();return;}if(!automatic){editor.editorManager.off('beforeunload',editor._beforeUnload);if(editor.theme&&editor.theme.destroy){editor.theme.destroy();}safeDestroy(selection);safeDestroy(dom);}restoreForm(editor);clearDomReferences(editor);editor.destroyed=true;};var DOM$7=DOMUtils$1.DOM;var extend$4=$_1q1txeljnlpawsa.extend;var each$21=$_1q1txeljnlpawsa.each;var resolve$4=$_1q1txeljnlpawsa.resolve;var ie$2=$_cseqobajnlpawll.ie;var Editor=function(id,settings,editorManager){var self=this;var documentBaseUrl=self.documentBaseUrl=editorManager.documentBaseURL;var baseUri=editorManager.baseURI;settings=getEditorSettings(self,id,documentBaseUrl,editorManager.defaultSettings,settings);self.settings=settings;AddOnManager.language=settings.language||'en';AddOnManager.languageLoad=settings.language_load;AddOnManager.baseURL=editorManager.baseURL;self.id=id;self.setDirty(false);self.plugins={};self.documentBaseURI=new URI(settings.document_base_url,{base_uri:baseUri});self.baseURI=baseUri;self.contentCSS=[];self.contentStyles=[];self.shortcuts=new Shortcuts(self);self.loadedCSS={};self.editorCommands=new EditorCommands(self);self.suffix=editorManager.suffix;self.editorManager=editorManager;self.inline=settings.inline;self.buttons={};self.menuItems={};if(settings.cache_suffix){$_cseqobajnlpawll.cacheSuffix=settings.cache_suffix.replace(/^[\\?\\&]+/,'');}if(settings.override_viewport===false){$_cseqobajnlpawll.overrideViewPort=false;}editorManager.fire('SetupEditor',{editor:self});self.execCallback('setup',self);self.$=DomQuery.overrideDefaults(function(){return{context:self.inline?self.getBody():self.getDoc(),element:self.getBody()};});};Editor.prototype={render:function(){$_eajmw851jnlpaxt7.render(this);},focus:function(skipFocus){$_8odu5n4yjnlpaxsg.focus(this,skipFocus);},hasFocus:function(){return $_8odu5n4yjnlpaxsg.hasFocus(this);},execCallback:function(name){var x=[];for(var _i=1;_i<arguments.length;_i++){x[_i-1]=arguments[_i];}var self=this;var callback=self.settings[name],scope;if(!callback){return;}if(self.callbackLookup&&(scope=self.callbackLookup[name])){callback=scope.func;scope=scope.scope;}if(typeof callback==='string'){scope=callback.replace(/\\.\\w+$/,'');scope=scope?resolve$4(scope):0;callback=resolve$4(callback);self.callbackLookup=self.callbackLookup||{};self.callbackLookup[name]={func:callback,scope:scope};}return callback.apply(scope||self,Array.prototype.slice.call(arguments,1));},translate:function(text){if(text&&$_1q1txeljnlpawsa.is(text,'string')){var lang_1=this.settings.language||'en',i18n_1=this.editorManager.i18n;text=i18n_1.data[lang_1+'.'+text]||text.replace(/\\{\\#([^\\}]+)\\}/g,function(a,b){return i18n_1.data[lang_1+'.'+b]||'{#'+b+'}';});}return this.editorManager.translate(text);},getLang:function(name,defaultVal){return this.editorManager.i18n.data[(this.settings.language||'en')+'.'+name]||(defaultVal!==undefined?defaultVal:'{#'+name+'}');},getParam:function(name,defaultVal,type){return getParam(this,name,defaultVal,type);},nodeChanged:function(args){this._nodeChangeDispatcher.nodeChanged(args);},addButton:function(name,settings){var self=this;if(settings.cmd){settings.onclick=function(){self.execCommand(settings.cmd);};}if(settings.stateSelector&&typeof settings.active==='undefined'){settings.active=false;}if(!settings.text&&!settings.icon){settings.icon=name;}settings.tooltip=settings.tooltip||settings.title;self.buttons[name]=settings;},addSidebar:function(name,settings){return $_g47nm77ojnlpayg6.add(this,name,settings);},addMenuItem:function(name,settings){var self=this;if(settings.cmd){settings.onclick=function(){self.execCommand(settings.cmd);};}self.menuItems[name]=settings;},addContextToolbar:function(predicate,items){var self=this;var selector;self.contextToolbars=self.contextToolbars||[];if(typeof predicate==='string'){selector=predicate;predicate=function(elm){return self.dom.is(elm,selector);};}self.contextToolbars.push({id:$_cb5mec5ljnlpaxvz.uuid('mcet'),predicate:predicate,items:items});},addCommand:function(name,callback,scope){this.editorCommands.addCommand(name,callback,scope);},addQueryStateHandler:function(name,callback,scope){this.editorCommands.addQueryStateHandler(name,callback,scope);},addQueryValueHandler:function(name,callback,scope){this.editorCommands.addQueryValueHandler(name,callback,scope);},addShortcut:function(pattern,desc,cmdFunc,scope){this.shortcuts.add(pattern,desc,cmdFunc,scope);},execCommand:function(cmd,ui,value,args){return this.editorCommands.execCommand(cmd,ui,value,args);},queryCommandState:function(cmd){return this.editorCommands.queryCommandState(cmd);},queryCommandValue:function(cmd){return this.editorCommands.queryCommandValue(cmd);},queryCommandSupported:function(cmd){return this.editorCommands.queryCommandSupported(cmd);},show:function(){var self=this;if(self.hidden){self.hidden=false;if(self.inline){self.getBody().contentEditable=true;}else{DOM$7.show(self.getContainer());DOM$7.hide(self.id);}self.load();self.fire('show');}},hide:function(){var self=this,doc=self.getDoc();if(!self.hidden){if(ie$2&&doc&&!self.inline){doc.execCommand('SelectAll');}self.save();if(self.inline){self.getBody().contentEditable=false;if(self===self.editorManager.focusedEditor){self.editorManager.focusedEditor=null;}}else{DOM$7.hide(self.getContainer());DOM$7.setStyle(self.id,'display',self.orgDisplay);}self.hidden=true;self.fire('hide');}},isHidden:function(){return!!this.hidden;},setProgressState:function(state,time){this.fire('ProgressState',{state:state,time:time});},load:function(args){var self=this;var elm=self.getElement(),html;if(self.removed){return'';}if(elm){args=args||{};args.load=true;html=self.setContent(elm.value!==undefined?elm.value:elm.innerHTML,args);args.element=elm;if(!args.no_events){self.fire('LoadContent',args);}args.element=elm=null;return html;}},save:function(args){var self=this;var elm=self.getElement(),html,form;if(!elm||!self.initialized||self.removed){return;}args=args||{};args.save=true;args.element=elm;html=args.content=self.getContent(args);if(!args.no_events){self.fire('SaveContent',args);}if(args.format==='raw'){self.fire('RawSaveContent',args);}html=args.content;if(!/TEXTAREA|INPUT/i.test(elm.nodeName)){if(args.is_removing||!self.inline){elm.innerHTML=html;}if(form=DOM$7.getParent(self.id,'form')){each$21(form.elements,function(elm){if(elm.name===self.id){elm.value=html;return false;}});}}else{elm.value=html;}args.element=elm=null;if(args.set_dirty!==false){self.setDirty(false);}return html;},setContent:function(content,args){return setContent$1(this,content,args);},getContent:function(args){return getContent$1(this,args);},insertContent:function(content,args){if(args){content=extend$4({content:content},args);}this.execCommand('mceInsertContent',false,content);},isDirty:function(){return!this.isNotDirty;},setDirty:function(state){var oldState=!this.isNotDirty;this.isNotDirty=!state;if(state&&state!==oldState){this.fire('dirty');}},setMode:function(mode){setMode(this,mode);},getContainer:function(){var self=this;if(!self.container){self.container=DOM$7.get(self.editorContainer||self.id+'_parent');}return self.container;},getContentAreaContainer:function(){return this.contentAreaContainer;},getElement:function(){if(!this.targetElm){this.targetElm=DOM$7.get(this.id);}return this.targetElm;},getWin:function(){var self=this;var elm;if(!self.contentWindow){elm=self.iframeElement;if(elm){self.contentWindow=elm.contentWindow;}}return self.contentWindow;},getDoc:function(){var self=this;var win;if(!self.contentDocument){win=self.getWin();if(win){self.contentDocument=win.document;}}return self.contentDocument;},getBody:function(){var doc=this.getDoc();return this.bodyElement||(doc?doc.body:null);},convertURL:function(url,name,elm){var self=this,settings=self.settings;if(settings.urlconverter_callback){return self.execCallback('urlconverter_callback',url,elm,true,name);}if(!settings.convert_urls||elm&&elm.nodeName==='LINK'||url.indexOf('file:')===0||url.length===0){return url;}if(settings.relative_urls){return self.documentBaseURI.toRelative(url);}url=self.documentBaseURI.toAbsolute(url,settings.remove_script_host);return url;},addVisual:function(elm){var self=this;var settings=self.settings;var dom=self.dom;var cls;elm=elm||self.getBody();if(self.hasVisual===undefined){self.hasVisual=settings.visual;}each$21(dom.select('table,a',elm),function(elm){var value;switch(elm.nodeName){case'TABLE':cls=settings.visual_table_class||'mce-item-table';value=dom.getAttrib(elm,'border');if((!value||value==='0')&&self.hasVisual){dom.addClass(elm,cls);}else{dom.removeClass(elm,cls);}return;case'A':if(!dom.getAttrib(elm,'href')){value=dom.getAttrib(elm,'name')||elm.id;cls=settings.visual_anchor_class||'mce-item-anchor';if(value&&self.hasVisual){dom.addClass(elm,cls);}else{dom.removeClass(elm,cls);}}return;}});self.fire('VisualAid',{element:elm,hasVisual:self.hasVisual});},remove:function(){remove$9(this);},destroy:function(automatic){destroy(this,automatic);},uploadImages:function(callback){return this.editorUpload.uploadImages(callback);},_scanForImages:function(){return this.editorUpload.scanForImages();}};extend$4(Editor.prototype,EditorObservable$1);var isEditorUIElement=function(elm){return elm.className.toString().indexOf('mce-')!==-1;};var $_598dic7xjnlpayi4={isEditorUIElement:isEditorUIElement};var isManualNodeChange=function(e){return e.type==='nodechange'&&e.selectionChange;};var registerPageMouseUp=function(editor,throttledStore){var mouseUpPage=function(){throttledStore.throttle();};DOMUtils$1.DOM.bind(document,'mouseup',mouseUpPage);editor.on('remove',function(){DOMUtils$1.DOM.unbind(document,'mouseup',mouseUpPage);});};var registerFocusOut=function(editor){editor.on('focusout',function(){$_13pqgk4ojnlpaxqr.store(editor);});};var registerMouseUp=function(editor,throttledStore){editor.on('mouseup touchend',function(e){throttledStore.throttle();});};var registerEditorEvents=function(editor,throttledStore){var browser=$_766rx4ojnlpawtd.detect().browser;if(browser.isIE()){registerFocusOut(editor);}else{registerMouseUp(editor,throttledStore);}editor.on('keyup nodechange',function(e){if(!isManualNodeChange(e)){$_13pqgk4ojnlpaxqr.store(editor);}});};var register$3=function(editor){var throttledStore=first$1(function(){$_13pqgk4ojnlpaxqr.store(editor);},0);if(editor.inline){registerPageMouseUp(editor,throttledStore);}editor.on('init',function(){registerEditorEvents(editor,throttledStore);});editor.on('remove',function(){throttledStore.cancel();});};var $_8hqfi17yjnlpayi5={register:register$3};var documentFocusInHandler;var DOM$8=DOMUtils$1.DOM;var isEditorUIElement$1=function(elm){return $_598dic7xjnlpayi4.isEditorUIElement(elm);};var isUIElement=function(editor,elm){var customSelector=editor?editor.settings.custom_ui_selector:'';var parent$$1=DOM$8.getParent(elm,function(elm){return isEditorUIElement$1(elm)||(customSelector?editor.dom.is(elm,customSelector):false);});return parent$$1!==null;};var getActiveElement=function(){try{return document.activeElement;}catch(ex){return document.body;}};var registerEvents=function(editorManager,e){var editor=e.editor;$_8hqfi17yjnlpayi5.register(editor);editor.on('focusin',function(){var self$$1=this;var focusedEditor=editorManager.focusedEditor;if(focusedEditor!==self$$1){if(focusedEditor){focusedEditor.fire('blur',{focusedEditor:self$$1});}editorManager.setActive(self$$1);editorManager.focusedEditor=self$$1;self$$1.fire('focus',{blurredEditor:focusedEditor});self$$1.focus(true);}});editor.on('focusout',function(){var self$$1=this;$_2nbnh1ijnlpawpi.setEditorTimeout(self$$1,function(){var focusedEditor=editorManager.focusedEditor;if(!isUIElement(self$$1,getActiveElement())&&focusedEditor===self$$1){self$$1.fire('blur',{focusedEditor:null});editorManager.focusedEditor=null;}});});if(!documentFocusInHandler){documentFocusInHandler=function(e){var activeEditor=editorManager.activeEditor;var target;target=e.target;if(activeEditor&&target.ownerDocument===document){if(target!==document.body&&!isUIElement(activeEditor,target)&&editorManager.focusedEditor===activeEditor){activeEditor.fire('blur',{focusedEditor:null});editorManager.focusedEditor=null;}}};DOM$8.bind(document,'focusin',documentFocusInHandler);}};var unregisterDocumentEvents=function(editorManager,e){if(editorManager.focusedEditor===e.editor){editorManager.focusedEditor=null;}if(!editorManager.activeEditor){DOM$8.unbind(document,'focusin',documentFocusInHandler);documentFocusInHandler=null;}};var setup$15=function(editorManager){editorManager.on('AddEditor',curry(registerEvents,editorManager));editorManager.on('RemoveEditor',curry(unregisterDocumentEvents,editorManager));};var $_8pld3r7wjnlpayhz={setup:setup$15,isEditorUIElement:isEditorUIElement$1,isUIElement:isUIElement};var data={};var code='en';var $_f6nmn17zjnlpayic={setCode:function(newCode){if(newCode){code=newCode;this.rtl=this.data[newCode]?this.data[newCode]._dir==='rtl':false;}},getCode:function(){return code;},rtl:false,add:function(code,items){var langData=data[code];if(!langData){data[code]=langData={};}for(var name in items){langData[name]=items[name];}this.setCode(code);},translate:function(text){var langData=data[code]||{};var toString=function(obj){if($_1q1txeljnlpawsa.is(obj,'function')){return Object.prototype.toString.call(obj);}return!isEmpty(obj)?''+obj:'';};var isEmpty=function(text){return text===''||text===null||$_1q1txeljnlpawsa.is(text,'undefined');};var getLangData=function(text){text=toString(text);return $_1q1txeljnlpawsa.hasOwn(langData,text)?toString(langData[text]):text;};if(isEmpty(text)){return'';}if($_1q1txeljnlpawsa.is(text,'object')&&$_1q1txeljnlpawsa.hasOwn(text,'raw')){return toString(text.raw);}if($_1q1txeljnlpawsa.is(text,'array')){var values_1=text.slice(1);text=getLangData(text[0]).replace(/\\{([0-9]+)\\}/g,function($1,$2){return $_1q1txeljnlpawsa.hasOwn(values_1,$2)?toString(values_1[$2]):$1;});}return getLangData(text).replace(/{context:\\w+}$/,'');},data:data};var DOM$9=DOMUtils$1.DOM;var explode$4=$_1q1txeljnlpawsa.explode;var each$22=$_1q1txeljnlpawsa.each;var extend$5=$_1q1txeljnlpawsa.extend;var instanceCounter=0;var beforeUnloadDelegate;var EditorManager;var boundGlobalEvents=false;var legacyEditors=[];var editors=[];var isValidLegacyKey=function(id){return id!=='length';};var globalEventDelegate=function(e){each$22(EditorManager.get(),function(editor){if(e.type==='scroll'){editor.fire('ScrollWindow',e);}else{editor.fire('ResizeWindow',e);}});};var toggleGlobalEvents=function(state){if(state!==boundGlobalEvents){if(state){DomQuery(window).on('resize scroll',globalEventDelegate);}else{DomQuery(window).off('resize scroll',globalEventDelegate);}boundGlobalEvents=state;}};var removeEditorFromList=function(targetEditor){var oldEditors=editors;delete legacyEditors[targetEditor.id];for(var i=0;i<legacyEditors.length;i++){if(legacyEditors[i]===targetEditor){legacyEditors.splice(i,1);break;}}editors=filter(editors,function(editor){return targetEditor!==editor;});if(EditorManager.activeEditor===targetEditor){EditorManager.activeEditor=editors.length>0?editors[0]:null;}if(EditorManager.focusedEditor===targetEditor){EditorManager.focusedEditor=null;}return oldEditors.length!==editors.length;};var purgeDestroyedEditor=function(editor){if(editor&&editor.initialized&&!(editor.getContainer()||editor.getBody()).parentNode){removeEditorFromList(editor);editor.unbindAllNativeEvents();editor.destroy(true);editor.removed=true;editor=null;}return editor;};EditorManager={defaultSettings:{},$:DomQuery,majorVersion:'4',minorVersion:'8.4',releaseDate:'2018-10-23',editors:legacyEditors,i18n:$_f6nmn17zjnlpayic,activeEditor:null,settings:{},setup:function(){var self$$1=this;var baseURL,documentBaseURL,suffix='',preInit,src;documentBaseURL=URI.getDocumentBaseUrl(document.location);if(/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)){documentBaseURL=documentBaseURL.replace(/[\\?#].*$/,'').replace(/[\\/\\\\][^\\/]+$/,'');if(!/[\\/\\\\]$/.test(documentBaseURL)){documentBaseURL+='/';}}preInit=window.tinymce||window.tinyMCEPreInit;if(preInit){baseURL=preInit.base||preInit.baseURL;suffix=preInit.suffix;}else{var scripts=document.getElementsByTagName('script');for(var i=0;i<scripts.length;i++){src=scripts[i].src;var srcScript=src.substring(src.lastIndexOf('/'));if(/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)){if(srcScript.indexOf('.min')!==-1){suffix='.min';}baseURL=src.substring(0,src.lastIndexOf('/'));break;}}if(!baseURL&&document.currentScript){src=document.currentScript.src;if(src.indexOf('.min')!==-1){suffix='.min';}baseURL=src.substring(0,src.lastIndexOf('/'));}}self$$1.baseURL=new URI(documentBaseURL).toAbsolute(baseURL);self$$1.documentBaseURL=documentBaseURL;self$$1.baseURI=new URI(self$$1.baseURL);self$$1.suffix=suffix;$_8pld3r7wjnlpayhz.setup(self$$1);},overrideDefaults:function(defaultSettings){var baseUrl,suffix;baseUrl=defaultSettings.base_url;if(baseUrl){this.baseURL=new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/,''));this.baseURI=new URI(this.baseURL);}suffix=defaultSettings.suffix;if(defaultSettings.suffix){this.suffix=suffix;}this.defaultSettings=defaultSettings;var pluginBaseUrls=defaultSettings.plugin_base_urls;for(var name$$1 in pluginBaseUrls){AddOnManager.PluginManager.urls[name$$1]=pluginBaseUrls[name$$1];}},init:function(settings){var self$$1=this;var result,invalidInlineTargets;invalidInlineTargets=$_1q1txeljnlpawsa.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track '+'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu',' ');var isInvalidInlineTarget=function(settings,elm){return settings.inline&&elm.tagName.toLowerCase()in invalidInlineTargets;};var createId=function(elm){var id=elm.id;if(!id){id=elm.name;if(id&&!DOM$9.get(id)){id=elm.name;}else{id=DOM$9.uniqueId();}elm.setAttribute('id',id);}return id;};var execCallback=function(name$$1){var callback=settings[name$$1];if(!callback){return;}return callback.apply(self$$1,Array.prototype.slice.call(arguments,2));};var hasClass=function(elm,className){return className.constructor===RegExp?className.test(elm.className):DOM$9.hasClass(elm,className);};var findTargets=function(settings){var l,targets=[];if($_cseqobajnlpawll.ie&&$_cseqobajnlpawll.ie<11){$_2xhw4u57jnlpaxu1.initError('TinyMCE does not support the browser you are using. For a list of supported'+' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');return[];}if(settings.types){each$22(settings.types,function(type){targets=targets.concat(DOM$9.select(type.selector));});return targets;}else if(settings.selector){return DOM$9.select(settings.selector);}else if(settings.target){return[settings.target];}switch(settings.mode){case'exact':l=settings.elements||'';if(l.length>0){each$22(explode$4(l),function(id){var elm;if(elm=DOM$9.get(id)){targets.push(elm);}else{each$22(document.forms,function(f){each$22(f.elements,function(e){if(e.name===id){id='mce_editor_'+instanceCounter++;DOM$9.setAttrib(e,'id',id);targets.push(e);}});});}});}break;case'textareas':case'specific_textareas':each$22(DOM$9.select('textarea'),function(elm){if(settings.editor_deselector&&hasClass(elm,settings.editor_deselector)){return;}if(!settings.editor_selector||hasClass(elm,settings.editor_selector)){targets.push(elm);}});break;}return targets;};var provideResults=function(editors){result=editors;};var initEditors=function(){var initCount=0;var editors=[];var targets;var createEditor=function(id,settings,targetElm){var editor=new Editor(id,settings,self$$1);editors.push(editor);editor.on('init',function(){if(++initCount===targets.length){provideResults(editors);}});editor.targetElm=editor.targetElm||targetElm;editor.render();};DOM$9.unbind(window,'ready',initEditors);execCallback('onpageload');targets=DomQuery.unique(findTargets(settings));if(settings.types){each$22(settings.types,function(type){$_1q1txeljnlpawsa.each(targets,function(elm){if(DOM$9.is(elm,type.selector)){createEditor(createId(elm),extend$5({},settings,type),elm);return false;}return true;});});return;}$_1q1txeljnlpawsa.each(targets,function(elm){purgeDestroyedEditor(self$$1.get(elm.id));});targets=$_1q1txeljnlpawsa.grep(targets,function(elm){return!self$$1.get(elm.id);});if(targets.length===0){provideResults([]);}else{each$22(targets,function(elm){if(isInvalidInlineTarget(settings,elm)){$_2xhw4u57jnlpaxu1.initError('Could not initialize inline editor on invalid inline target element',elm);}else{createEditor(createId(elm),settings,elm);}});}};self$$1.settings=settings;DOM$9.bind(window,'ready',initEditors);return new promiseObj(function(resolve){if(result){resolve(result);}else{provideResults=function(editors){resolve(editors);};}});},get:function(id){if(arguments.length===0){return editors.slice(0);}else if(isString(id)){return find(editors,function(editor){return editor.id===id;}).getOr(null);}else if(isNumber(id)){return editors[id]?editors[id]:null;}else{return null;}},add:function(editor){var self$$1=this;var existingEditor;existingEditor=legacyEditors[editor.id];if(existingEditor===editor){return editor;}if(self$$1.get(editor.id)===null){if(isValidLegacyKey(editor.id)){legacyEditors[editor.id]=editor;}legacyEditors.push(editor);editors.push(editor);}toggleGlobalEvents(true);self$$1.activeEditor=editor;self$$1.fire('AddEditor',{editor:editor});if(!beforeUnloadDelegate){beforeUnloadDelegate=function(){self$$1.fire('BeforeUnload');};DOM$9.bind(window,'beforeunload',beforeUnloadDelegate);}return editor;},createEditor:function(id,settings){return this.add(new Editor(id,settings,this));},remove:function(selector){var self$$1=this;var i,editor;if(!selector){for(i=editors.length-1;i>=0;i--){self$$1.remove(editors[i]);}return;}if(isString(selector)){each$22(DOM$9.select(selector),function(elm){editor=self$$1.get(elm.id);if(editor){self$$1.remove(editor);}});return;}editor=selector;if(isNull(self$$1.get(editor.id))){return null;}if(removeEditorFromList(editor)){self$$1.fire('RemoveEditor',{editor:editor});}if(editors.length===0){DOM$9.unbind(window,'beforeunload',beforeUnloadDelegate);}editor.remove();toggleGlobalEvents(editors.length>0);return editor;},execCommand:function(cmd,ui,value){var self$$1=this,editor=self$$1.get(value);switch(cmd){case'mceAddEditor':if(!self$$1.get(value)){new Editor(value,self$$1.settings,self$$1).render();}return true;case'mceRemoveEditor':if(editor){editor.remove();}return true;case'mceToggleEditor':if(!editor){self$$1.execCommand('mceAddEditor',0,value);return true;}if(editor.isHidden()){editor.show();}else{editor.hide();}return true;}if(self$$1.activeEditor){return self$$1.activeEditor.execCommand(cmd,ui,value);}return false;},triggerSave:function(){each$22(editors,function(editor){editor.save();});},addI18n:function(code,items){$_f6nmn17zjnlpayic.add(code,items);},translate:function(text){return $_f6nmn17zjnlpayic.translate(text);},setActive:function(editor){var activeEditor=this.activeEditor;if(this.activeEditor!==editor){if(activeEditor){activeEditor.fire('deactivate',{relatedTarget:editor});}editor.fire('activate',{relatedTarget:activeEditor});}this.activeEditor=editor;}};extend$5(EditorManager,$_c8v03c4tjnlpaxrw);EditorManager.setup();var EditorManager$1=EditorManager;function RangeUtils(dom){var walk=function(rng,callback){return $_6wozuu3djnlpaxew.walk(dom,rng,callback);};var split=$_fvyfxh69jnlpay1e.split;var normalize=function(rng){return $_afh56j4mjnlpaxpx.normalize(dom,rng).fold(constant(false),function(normalizedRng){rng.setStart(normalizedRng.startContainer,normalizedRng.startOffset);rng.setEnd(normalizedRng.endContainer,normalizedRng.endOffset);return true;});};return{walk:walk,split:split,normalize:normalize};}(function(RangeUtils){RangeUtils.compareRanges=$_3s8g9y4njnlpaxqj.isEq;RangeUtils.getCaretRangeFromPoint=$_445zg66wjnlpay63.fromPoint;RangeUtils.getSelectedNode=getSelectedNode;RangeUtils.getNode=getNode;})(RangeUtils||(RangeUtils={}));var RangeUtils$1=RangeUtils;var min=Math.min;var max=Math.max;var round$2=Math.round;var relativePosition=function(rect,targetRect,rel){var x,y,w,h,targetW,targetH;x=targetRect.x;y=targetRect.y;w=rect.w;h=rect.h;targetW=targetRect.w;targetH=targetRect.h;rel=(rel||'').split('');if(rel[0]==='b'){y+=targetH;}if(rel[1]==='r'){x+=targetW;}if(rel[0]==='c'){y+=round$2(targetH/2);}if(rel[1]==='c'){x+=round$2(targetW/2);}if(rel[3]==='b'){y-=h;}if(rel[4]==='r'){x-=w;}if(rel[3]==='c'){y-=round$2(h/2);}if(rel[4]==='c'){x-=round$2(w/2);}return create$3(x,y,w,h);};var findBestRelativePosition=function(rect,targetRect,constrainRect,rels){var pos,i;for(i=0;i<rels.length;i++){pos=relativePosition(rect,targetRect,rels[i]);if(pos.x>=constrainRect.x&&pos.x+pos.w<=constrainRect.w+constrainRect.x&&pos.y>=constrainRect.y&&pos.y+pos.h<=constrainRect.h+constrainRect.y){return rels[i];}}return null;};var inflate=function(rect,w,h){return create$3(rect.x-w,rect.y-h,rect.w+w*2,rect.h+h*2);};var intersect=function(rect,cropRect){var x1,y1,x2,y2;x1=max(rect.x,cropRect.x);y1=max(rect.y,cropRect.y);x2=min(rect.x+rect.w,cropRect.x+cropRect.w);y2=min(rect.y+rect.h,cropRect.y+cropRect.h);if(x2-x1<0||y2-y1<0){return null;}return create$3(x1,y1,x2-x1,y2-y1);};var clamp$1=function(rect,clampRect,fixedSize){var underflowX1,underflowY1,overflowX2,overflowY2,x1,y1,x2,y2,cx2,cy2;x1=rect.x;y1=rect.y;x2=rect.x+rect.w;y2=rect.y+rect.h;cx2=clampRect.x+clampRect.w;cy2=clampRect.y+clampRect.h;underflowX1=max(0,clampRect.x-x1);underflowY1=max(0,clampRect.y-y1);overflowX2=max(0,x2-cx2);overflowY2=max(0,y2-cy2);x1+=underflowX1;y1+=underflowY1;if(fixedSize){x2+=underflowX1;y2+=underflowY1;x1-=overflowX2;y1-=overflowY2;}x2-=overflowX2;y2-=overflowY2;return create$3(x1,y1,x2-x1,y2-y1);};var create$3=function(x,y,w,h){return{x:x,y:y,w:w,h:h};};var fromClientRect=function(clientRect){return create$3(clientRect.left,clientRect.top,clientRect.width,clientRect.height);};var $_f1a1rs81jnlpayiu={inflate:inflate,relativePosition:relativePosition,findBestRelativePosition:findBestRelativePosition,intersect:intersect,clamp:clamp$1,create:create$3,fromClientRect:fromClientRect};var types={};var $_4cmhbp82jnlpayiz={add:function(type,typeClass){types[type.toLowerCase()]=typeClass;},has:function(type){return!!types[type.toLowerCase()];},get:function(type){var lctype=type.toLowerCase();var controlType=types.hasOwnProperty(lctype)?types[lctype]:null;if(controlType===null){throw new Error('Could not find module for type: '+type);}return controlType;},create:function(type,settings){var ControlType;if(typeof type==='string'){settings=settings||{};settings.type=type;}else{settings=type;type=settings.type;}type=type.toLowerCase();ControlType=types[type];if(!ControlType){throw new Error('Could not find control by type: '+type);}ControlType=new ControlType(settings);ControlType.type=type;return ControlType;}};var each$23=$_1q1txeljnlpawsa.each;var extend$6=$_1q1txeljnlpawsa.extend;var extendClass;var initializing;var Class$1=function(){};Class$1.extend=extendClass=function(prop){var self=this;var _super=self.prototype;var prototype,name,member;var Class=function(){var i,mixins,mixin;var self=this;if(!initializing){if(self.init){self.init.apply(self,arguments);}mixins=self.Mixins;if(mixins){i=mixins.length;while(i--){mixin=mixins[i];if(mixin.init){mixin.init.apply(self,arguments);}}}}};var dummy=function(){return this;};var createMethod=function(name,fn){return function(){var self=this;var tmp=self._super;var ret;self._super=_super[name];ret=fn.apply(self,arguments);self._super=tmp;return ret;};};initializing=true;prototype=new self();initializing=false;if(prop.Mixins){each$23(prop.Mixins,function(mixin){for(var name_1 in mixin){if(name_1!=='init'){prop[name_1]=mixin[name_1];}}});if(_super.Mixins){prop.Mixins=_super.Mixins.concat(prop.Mixins);}}if(prop.Methods){each$23(prop.Methods.split(','),function(name){prop[name]=dummy;});}if(prop.Properties){each$23(prop.Properties.split(','),function(name){var fieldName='_'+name;prop[name]=function(value){var self=this;if(value!==undefined){self[fieldName]=value;return self;}return self[fieldName];};});}if(prop.Statics){each$23(prop.Statics,function(func,name){Class[name]=func;});}if(prop.Defaults&&_super.Defaults){prop.Defaults=extend$6({},_super.Defaults,prop.Defaults);}for(name in prop){member=prop[name];if(typeof member==='function'&&_super[name]){prototype[name]=createMethod(name,member);}else{prototype[name]=member;}}Class.prototype=prototype;Class.constructor=Class;Class.extend=extendClass;return Class;};var min$1=Math.min;var max$1=Math.max;var round$3=Math.round;var Color=function(value){var self={};var r=0,g=0,b=0;var rgb2hsv=function(r,g,b){var h,s,v,d,minRGB,maxRGB;h=0;s=0;v=0;r=r/255;g=g/255;b=b/255;minRGB=min$1(r,min$1(g,b));maxRGB=max$1(r,max$1(g,b));if(minRGB===maxRGB){v=minRGB;return{h:0,s:0,v:v*100};}d=r===minRGB?g-b:b===minRGB?r-g:b-r;h=r===minRGB?3:b===minRGB?1:5;h=60*(h-d/(maxRGB-minRGB));s=(maxRGB-minRGB)/maxRGB;v=maxRGB;return{h:round$3(h),s:round$3(s*100),v:round$3(v*100)};};var hsvToRgb=function(hue,saturation,brightness){var side,chroma,x,match;hue=(parseInt(hue,10)||0)%360;saturation=parseInt(saturation,10)/100;brightness=parseInt(brightness,10)/100;saturation=max$1(0,min$1(saturation,1));brightness=max$1(0,min$1(brightness,1));if(saturation===0){r=g=b=round$3(255*brightness);return;}side=hue/60;chroma=brightness*saturation;x=chroma*(1-Math.abs(side%2-1));match=brightness-chroma;switch(Math.floor(side)){case 0:r=chroma;g=x;b=0;break;case 1:r=x;g=chroma;b=0;break;case 2:r=0;g=chroma;b=x;break;case 3:r=0;g=x;b=chroma;break;case 4:r=x;g=0;b=chroma;break;case 5:r=chroma;g=0;b=x;break;default:r=g=b=0;}r=round$3(255*(r+match));g=round$3(255*(g+match));b=round$3(255*(b+match));};var toHex=function(){var hex=function(val){val=parseInt(val,10).toString(16);return val.length>1?val:'0'+val;};return'#'+hex(r)+hex(g)+hex(b);};var toRgb=function(){return{r:r,g:g,b:b};};var toHsv=function(){return rgb2hsv(r,g,b);};var parse=function(value){var matches;if(typeof value==='object'){if('r'in value){r=value.r;g=value.g;b=value.b;}else if('v'in value){hsvToRgb(value.h,value.s,value.v);}}else{if(matches=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)){r=parseInt(matches[1],10);g=parseInt(matches[2],10);b=parseInt(matches[3],10);}else if(matches=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)){r=parseInt(matches[1],16);g=parseInt(matches[2],16);b=parseInt(matches[3],16);}else if(matches=/#([0-F])([0-F])([0-F])/gi.exec(value)){r=parseInt(matches[1]+matches[1],16);g=parseInt(matches[2]+matches[2],16);b=parseInt(matches[3]+matches[3],16);}}r=r<0?0:r>255?255:r;g=g<0?0:g>255?255:g;b=b<0?0:b>255?255:b;return self;};if(value){parse(value);}self.toRgb=toRgb;self.toHsv=toHsv;self.toHex=toHex;self.parse=parse;return self;};var serialize=function(o,quote){var i,v,t,name;quote=quote||'\"';if(o===null){return'null';}t=typeof o;if(t==='string'){v='\\bb\\tt\\nn\\ff\\rr\"\"\\'\\'\\\\\\\\';return quote+o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g,function(a,b){if(quote==='\"'&&a==='\\''){return a;}i=v.indexOf(b);if(i+1){return'\\\\'+v.charAt(i+1);}a=b.charCodeAt().toString(16);return'\\\\u'+'0000'.substring(a.length)+a;})+quote;}if(t==='object'){if(o.hasOwnProperty&&Object.prototype.toString.call(o)==='[object Array]'){for(i=0,v='[';i<o.length;i++){v+=(i>0?',':'')+serialize(o[i],quote);}return v+']';}v='{';for(name in o){if(o.hasOwnProperty(name)){v+=typeof o[name]!=='function'?(v.length>1?','+quote:quote)+name+quote+':'+serialize(o[name],quote):'';}}return v+'}';}return''+o;};var $_aw5rjw85jnlpayja={serialize:serialize,parse:function(text){try{return JSON.parse(text);}catch(ex){}}};var $_oa3la86jnlpayji={callbacks:{},count:0,send:function(settings){var self=this,dom=DOMUtils$1.DOM,count=settings.count!==undefined?settings.count:self.count;var id='tinymce_jsonp_'+count;self.callbacks[count]=function(json){dom.remove(id);delete self.callbacks[count];settings.callback(json);};dom.add(dom.doc.body,'script',{id:id,src:settings.url,type:'text/javascript'});self.count++;}};var XHR={send:function(settings){var xhr,count=0;var ready=function(){if(!settings.async||xhr.readyState===4||count++>10000){if(settings.success&&count<10000&&xhr.status===200){settings.success.call(settings.success_scope,''+xhr.responseText,xhr,settings);}else if(settings.error){settings.error.call(settings.error_scope,count>10000?'TIMED_OUT':'GENERAL',xhr,settings);}xhr=null;}else{setTimeout(ready,10);}};settings.scope=settings.scope||this;settings.success_scope=settings.success_scope||settings.scope;settings.error_scope=settings.error_scope||settings.scope;settings.async=settings.async===false?false:true;settings.data=settings.data||'';XHR.fire('beforeInitialize',{settings:settings});xhr=XMLHttpRequest();if(xhr){if(xhr.overrideMimeType){xhr.overrideMimeType(settings.content_type);}xhr.open(settings.type||(settings.data?'POST':'GET'),settings.url,settings.async);if(settings.crossDomain){xhr.withCredentials=true;}if(settings.content_type){xhr.setRequestHeader('Content-Type',settings.content_type);}if(settings.requestheaders){$_1q1txeljnlpawsa.each(settings.requestheaders,function(header){xhr.setRequestHeader(header.key,header.value);});}xhr.setRequestHeader('X-Requested-With','XMLHttpRequest');xhr=XHR.fire('beforeSend',{xhr:xhr,settings:settings}).xhr;xhr.send(settings.data);if(!settings.async){return ready();}setTimeout(ready,10);}}};$_1q1txeljnlpawsa.extend(XHR,$_c8v03c4tjnlpaxrw);var extend$7=$_1q1txeljnlpawsa.extend;var JSONRequest=function(settings){this.settings=extend$7({},settings);this.count=0;};JSONRequest.sendRPC=function(o){return new JSONRequest().send(o);};JSONRequest.prototype={send:function(args){var ecb=args.error,scb=args.success;args=extend$7(this.settings,args);args.success=function(c,x){c=$_aw5rjw85jnlpayja.parse(c);if(typeof c==='undefined'){c={error:'JSON Parse error.'};}if(c.error){ecb.call(args.error_scope||args.scope,c.error,x);}else{scb.call(args.success_scope||args.scope,c.result);}};args.error=function(ty,x){if(ecb){ecb.call(args.error_scope||args.scope,ty,x);}};args.data=$_aw5rjw85jnlpayja.serialize({id:args.id||'c'+this.count++,method:args.method,params:args.params});args.content_type='application/json';XHR.send(args);}};var create$4=function(){return function(){var data={};var keys=[];var storage={getItem:function(key){var item=data[key];return item?item:null;},setItem:function(key,value){keys.push(key);data[key]=String(value);},key:function(index){return keys[index];},removeItem:function(key){keys=keys.filter(function(k){return k===key;});delete data[key];},clear:function(){keys=[];data={};},length:0};Object.defineProperty(storage,'length',{get:function(){return keys.length;},configurable:false,enumerable:false});return storage;}();};var localStorage$$1;try{localStorage$$1=window.localStorage;}catch(e){localStorage$$1=create$4();}var LocalStorage=localStorage$$1;var tinymce=EditorManager$1;var publicApi={geom:{Rect:$_f1a1rs81jnlpayiu},util:{Promise:promiseObj,Delay:$_2nbnh1ijnlpawpi,Tools:$_1q1txeljnlpawsa,VK:$_1qv0695yjnlpaxyk,URI:URI,Class:Class$1,EventDispatcher:Dispatcher,Observable:$_c8v03c4tjnlpaxrw,I18n:$_f6nmn17zjnlpayic,XHR:XHR,JSON:$_aw5rjw85jnlpayja,JSONRequest:JSONRequest,JSONP:$_oa3la86jnlpayji,LocalStorage:LocalStorage,Color:Color},dom:{EventUtils:EventUtils,Sizzle:Sizzle,DomQuery:DomQuery,TreeWalker:TreeWalker,DOMUtils:DOMUtils$1,ScriptLoader:ScriptLoader,RangeUtils:RangeUtils$1,Serializer:DomSerializer$1,ControlSelection:ControlSelection,BookmarkManager:BookmarkManager$1,Selection:Selection$1,Event:EventUtils.Event},html:{Styles:Styles,Entities:$_bea7j51sjnlpax2u,Node:Node$2,Schema:Schema,SaxParser:SaxParser$1,DomParser:DomParser,Writer:Writer,Serializer:HtmlSerializer},ui:{Factory:$_4cmhbp82jnlpayiz},Env:$_cseqobajnlpawll,AddOnManager:AddOnManager,Annotator:Annotator,Formatter:Formatter,UndoManager:UndoManager,EditorCommands:EditorCommands,WindowManager:WindowManager,NotificationManager:NotificationManager,EditorObservable:EditorObservable$1,Shortcuts:Shortcuts,Editor:Editor,FocusManager:$_598dic7xjnlpayi4,EditorManager:EditorManager$1,DOM:DOMUtils$1.DOM,ScriptLoader:ScriptLoader.ScriptLoader,PluginManager:AddOnManager.PluginManager,ThemeManager:AddOnManager.ThemeManager,trim:$_1q1txeljnlpawsa.trim,isArray:$_1q1txeljnlpawsa.isArray,is:$_1q1txeljnlpawsa.is,toArray:$_1q1txeljnlpawsa.toArray,makeMap:$_1q1txeljnlpawsa.makeMap,each:$_1q1txeljnlpawsa.each,map:$_1q1txeljnlpawsa.map,grep:$_1q1txeljnlpawsa.grep,inArray:$_1q1txeljnlpawsa.inArray,extend:$_1q1txeljnlpawsa.extend,create:$_1q1txeljnlpawsa.create,walk:$_1q1txeljnlpawsa.walk,createNS:$_1q1txeljnlpawsa.createNS,resolve:$_1q1txeljnlpawsa.resolve,explode:$_1q1txeljnlpawsa.explode,_addCacheSuffix:$_1q1txeljnlpawsa._addCacheSuffix,isOpera:$_cseqobajnlpawll.opera,isWebKit:$_cseqobajnlpawll.webkit,isIE:$_cseqobajnlpawll.ie,isGecko:$_cseqobajnlpawll.gecko,isMac:$_cseqobajnlpawll.mac};tinymce=$_1q1txeljnlpawsa.extend(tinymce,publicApi);var Tinymce=tinymce;var exportToModuleLoaders=function(tinymce){if(typeof module==='object'){try{module.exports=tinymce;}catch(_){}}};var exportToWindowGlobal=function(tinymce){window.tinymce=tinymce;window.tinyMCE=tinymce;};exportToWindowGlobal(Tinymce);exportToModuleLoaders(Tinymce);})();})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/tinymce.js"],"names":["noop","x","_i","arguments","length","compose","fa","fb","apply","constant","value","identity","curry","f","args","Array","i","newArgs","j","all","concat","die","msg","Error","never","always","never$1","always$1","none","NONE","eq","o","isNone","call$$1","thunk","id","n","noop$$1","nul","undef","undefined","me","fold","s","is","isSome","getOr","getOrThunk","getOrDie","getOrNull","getOrUndefined","or","orThunk","map","ap","each","bind","flatten","exists","forall","filter","equals","equals_","toArray","toString","Object","freeze","some","a","constant_a","self","v","optfab","fab","elementEq","b","from","Option","typeOf","t","prototype","isPrototypeOf","String","isType","type","isString","isObject","isArray","isNull","isBoolean","isFunction","isNumber","rawIndexOf","pIndexOf","indexOf","fastIndex","xs","call","slowIndex","slowIndexOf","r","contains","pred","findIndex","len","eachr","partition","pass","fail","arr","push","foldr","acc","foldl","find","output","slice","reverse","difference","a1","a2","mapToObject","sort","comparator","copy","head","last","from$1","Global","window","Function","path","parts","scope","resolve","p","split","unsafe","name","actual","$_3b2dlgcjnlpawlt","url","createObjectURL","blob","revokeObjectURL","u","$_9khkh7bjnlpawls","nav","navigator","userAgent","opera","webkit","ie","ie11","ie12","gecko","mac","iDevice","android","fileApi","phone","tablet","windowsPhone","matchMediaQuery","query","matchMedia","matches","test","appName","exec","contentEditable","parseInt","match","$_cseqobajnlpawll","iOS","transparentSrc","caretAfter","range","getSelection","documentMode","document","ceFalse","cacheSuffix","container","overrideViewPort","experimentalShadowDom","canHaveCSP","desktop","promise","fn","thisArg","Promise","TypeError","_state","_value","_deferreds","doResolve","reject","asap","immediateFn","setImmediate","setTimeout","handle","deferred","cb","onFulfilled","onRejected","ret","e","newValue","then","finale","Handler","done","reason","ex","catch","remaining","res","val","constructor","race","values","promiseObj","requestAnimationFramePromise","requestAnimationFrame$$1","callback","element","requestAnimationFrameFunc","requestAnimationFrame","vendors","featurefill","wrappedSetTimeout","time","wrappedSetInterval","setInterval","wrappedClearTimeout","clearTimeout","wrappedClearInterval","clearInterval","debounce","timer","func","stop","$_2nbnh1ijnlpawpi","body","setEditorTimeout","editor","removed","setEditorInterval","throttle","eventExpandoPrefix","mouseEventRe","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","hasIsDefaultPrevented","event$$1","isDefaultPrevented","returnTrue","returnFalse","addEvent","target","name$$1","capture","addEventListener","attachEvent","removeEvent","removeEventListener","detachEvent","getTargetFromShadowDom","defaultTarget","composedPath","fix","originalEvent","data","srcElement","pageX","clientX","eventDoc","ownerDocument","doc","documentElement","scrollLeft","clientLeft","pageY","clientY","scrollTop","clientTop","preventDefault","stopPropagation","isPropagationStopped","cancelBubble","stopImmediatePropagation","isImmediatePropagationStopped","metaKey","bindOnReady","win","eventUtils","domLoaded","isDocReady","readyState","readyHandler","waitForDomLoaded","tryScroll","doScroll","top","EventUtils","self$$1","events","count","expando","hasFocusIn","hasMouseEnterLeave","mouseEnterLeave","Date","mouseenter","mouseleave","executeHandlers","evt","callbackList","l","names","fakeName","nativeHandler","defaultNativeHandler","event","nodeType","current","related","currentTarget","relatedTarget","parentNode","unbind","ci","eventMap","fire","defaultView","parentWindow","clean","children","getElementsByTagName","destroy","cancel","Event","support","Expr","getText","isXML","tokenize","compile","select","outermostContext","sortInput","hasDuplicate","setDocument","document$1","docElem","documentIsHTML","rbuggyQSA","rbuggyMatches","contains$1","preferredDoc","dirruns","classCache","createCache","tokenCache","compilerCache","sortOrder","strundefined","MAX_NEGATIVE","hasOwn","hasOwnProperty","pop","push_native","push$1","slice$1","indexOf$1","elem","booleans","whitespace","identifier","attributes","pseudos","rtrim","RegExp","rcomma","rcombinators","rattributeQuotes","rpseudo","ridentifier","matchExpr","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","rinputs","rheader","rnative","rquickExpr","rsibling","rescape","runescape","funescape","_","escaped","escapedWhitespace","high","fromCharCode","childNodes","els","Sizzle","selector","context","results","seed","m","groups","old","nid","newContext","newSelector","getElementById","getElementsByClassName","qsa","nodeName","toLowerCase","getAttribute","replace","setAttribute","toSelector","testContext","join","querySelectorAll","qsaError","removeAttribute","keys","cache","key","cacheLength","shift","markFunction","siblingCheck","cur","diff","sourceIndex","nextSibling","createInputPseudo","createButtonPseudo","createPositionalPseudo","argument","matchIndexes","node","hasCompare","parent$$1","getTop","getById","attrId","tag","tmp","className","disconnectedMatch","compareDocumentPosition","adown","bup","compare","sortDetached","aup","bp","unshift","expr","elements","matchesSelector","attr","attrHandle","getAttributeNode","specified","error","uniqueSort","duplicates","detectDuplicates","sortStable","splice","textContent","firstChild","nodeValue","selectors","createPseudo","relative","dir","first","preFilter","excess","unquoted","nodeNameSelector","pattern","operator","check","result","what","simple","forward","ofType","xml","outerCache","nodeIndex","start","useCache","lastChild","pseudo","setFilters","idx","matched","not","input","matcher","unmatched","has","text","innerText","lang","elemLang","hash","location","root","focus","activeElement","hasFocus","href","tabIndex","enabled","disabled","checked","selected","selectedIndex","empty","parent","header","button","length$$1","even","odd","lt","gt","nth","radio","checkbox","file","password","image","submit","reset","filters","parseOnly","tokens","soFar","preFilters","cached","addCombinator","combinator","base","checkNonElements","doneName","oldCache","newCache","elementMatcher","matchers","multipleContexts","contexts","condense","newUnmatched","mapped","setMatcher","postFilter","postFinder","postSelector","temp","preMap","postMap","preexisting","elems","matcherIn","matcherOut","matcherFromTokens","checkContext","leadingRelative","implicitRelative","matchContext","matchAnyContext","matcherFromGroupMatchers","elementMatchers","setMatchers","bySet","byElement","superMatcher","outermost","matchedCount","setMatched","contextBackup","dirrunsUnique","Math","random","token","compiled","isArray$1","obj","array","each$1","map$1","out","item","index","filter$1","indexOf$2","reduce","collection","iteratee","accumulator","findIndex$1","predicate","find$1","last$1","$_n452lmjnlpawsj","whiteSpaceRegExp","trim","str","makeMap","items","delim","prop","create","sp","ns","cn","scn","c","de","createNS","onCreate","extend","static","ext","walk","resolve$1","explode","d","_addCacheSuffix","$_1q1txeljnlpawsa","grep","inArray","push$2","slice$2","rquickExpr$1","Event$$1","skipUniques","isDefined","isString$1","isWindow","createFragment","html","fragDoc","frag","createElement","createDocumentFragment","innerHTML","appendChild","domManipulate","targetNodes","sourceItem","getElementDocument","DomQuery","makeArray","hasClass","wrap","wrapper","lastParent","newWrapper","cloneNode","insertBefore","numericCssMap","booleanMap","propFix","for","class","readonly","cssFix","float","attrHooks","cssHooks","init","whiteSpaceRegExp$1","trim$1","each$2","charAt","add","nodes","unique","hook","set","get","removeAttr","css","elm","camel","toUpperCase","dashed","style","removeProperty","getComputedStyle","getPropertyValue","currentStyle","remove","removeChild","append","host","prepend","before","after","appendTo","prependTo","replaceWith","content","wrapAll","wrapInner","contents","unwrap","clone","addClass","toggleClass","removeClass","state","existingClassName","classState","on","off","trigger","show","hide","closest","offset","docElm","y","pos","getBoundingClientRect","left","object","el","until","sibling","siblingName","firstSibling","parents","next","prev","contentDocument","contentWindow","parentsUntil","nextUntil","prevUntil","overrideDefaults","defaults","sub","appendHooks","targetHooks","hooks","maxlength","maxLength","size","cssText","opacity","zoom","called","firstMatch","regexes","find$2","agent","major","minor","group","Number","nu","detect","versionRegexes","cleanedAgent","unknown","Version","edge","chrome","ie$1","opera$1","firefox","safari","isBrowser","unknown$1","nu$1","version","info","isEdge","isChrome","isIE","isOpera","isFirefox","isSafari","Browser","windows","ios","android$1","linux","osx","solaris","freebsd","isOS","unknown$2","nu$2","isWindows","isiOS","isAndroid","isOSX","isLinux","isSolaris","isFreeBSD","OperatingSystem","DeviceType","os","browser","isiPad","isiPhone","isAndroid3","isAndroid4","isTablet","isTouch","isPhone","iOSwebview","isWebView","detect$1","candidates","candidate","search","detectBrowser","browsers","detectOs","oses","UaString","contains$2","substr","trim$2","normalVersionRegex","checkContains","uastring","monstrosity","PlatformInfo","detect$2","deviceType","PlatformDetection","detect$3","$_766rx4ojnlpawtd","fromHtml","div","hasChildNodes","console","fromDom","fromTag","fromText","createTextNode","dom","fromPoint","elementFromPoint","Element$$1","$_8b12q912jnlpawv7","ATTRIBUTE","Node","ATTRIBUTE_NODE","CDATA_SECTION","CDATA_SECTION_NODE","COMMENT","COMMENT_NODE","DOCUMENT","DOCUMENT_NODE","DOCUMENT_TYPE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT","DOCUMENT_FRAGMENT_NODE","ELEMENT","ELEMENT_NODE","TEXT","TEXT_NODE","PROCESSING_INSTRUCTION","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE","ENTITY_REFERENCE_NODE","ENTITY","ENTITY_NODE","NOTATION","NOTATION_NODE","isType$1","isComment","isElement","isText","isDocument","$_7u5fzs11jnlpawv6","each$3","props","k","map$2","tupleMap","tuple","bifilter","branch","rawSet","setAll","attrs","get$1","has$1","hasAttribute","hasNone","transferOne","source","destination","transfer","$_521j8z15jnlpawz7","inBody","getBody","$_1lsags16jnlpawzj","isSupported","$_1z4orl17jnlpawzp","internalSet","property","setProperty","internalRemove","set$1","setAll$1","setOptions","get$2","styles","getUnsafeProperty","getRaw","raw","getAllRaw","ruleName","isValidValue","remove$1","preserve","oldStyles","restore","sourceDom","targetDom","reflow","offsetWidth","transferOne$1","transfer$1","$_asiuhf13jnlpawvc","Immutable","fields","struct","toArray$1","recurse","$_arqw5m1djnlpax0i","documentPositionPreceding","DOCUMENT_POSITION_PRECEDING","documentPositionContainedBy","DOCUMENT_POSITION_CONTAINED_BY","$_eo508y1fjnlpax0w","is$1","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","one","querySelector","$_d8v5lf1gjnlpax0y","e1","e2","isEqualNode","member","regularContains","d1","d2","ieContains","contains$3","$_5h7cor1ejnlpax0k","owner","findIndex$2","kin","isRoot","rawParent","siblings","filterSelf","offsetParent","prevSibling","previousSibling","prevSiblings","nextSiblings","child","childNodesCount","spot","leaf","cs","$_dr4ybh18jnlpawzt","browser$1","firstElement","getTableCaptionDeltaY","caption","bodyTop","offsetTop","captionTop","captionHeight","offsetHeight","getPos","rootElm","offsetLeft","$_9kqe0nnjnlpawsp","nu$3","baseFn","callbacks","map$$1","nCallback","isReady","run","cbs","pure$1","LazyValue","pure","bounce","nu$4","aFutureB","anonBind","futureB","toLazy","toCached","pure$2","Future","par","asyncValues","asyncValue","par$1","futures","value$1","opt","onValue","toOption","isValue","isError","message","onError","Result","StyleSheetLoader","document$$1","settings","idCount","loadedStates","maxLoadTime","appendToHead","load","loadedCallback","errorCallback","link","startTime","passed","status","failed","isOldWebKit","webKitChunks","wait","testCallback","waitCallback","getTime","waitForWebKitLinkLoaded","styleSheets","styleSheet","waitForGeckoLinkLoaded","rel","async","defer","crossOrigin","onload","onerror","loadF","unbox","loadAll","urls","success","failure","TreeWalker","startNode","rootNode","findSibling","startName","shallow","findPreviousNode","prev2","blocks","voids","tableCells","tableSections","textBlocks","headings","listItems","lists","wsElements","lazyLookup","lookup","isHeading","isBlock","isInline","isBr","isTextBlock","isList","isListItem","isVoid","isTableSection","isTableCell","isWsPreserveElement","isNodeType","isElement$1","matchNodeNames","matchStyleValues","cssValue","computed","hasPropValue","propName","propValue","attrName","attrValue","hasAttributeValue","isBogus","isBogusAll","isTable","tagName","hasContentEditableState","isText$1","isComment$1","isDocument$1","isBr$1","isContentEditableTrue","isContentEditableFalse","$_fy28ei1rjnlpax2o","surroundedBySpans","previousIsSpan","nextIsSpan","isBookmarkNode","trimNode","trimmedLength","$_7nxzh21pjnlpax26","makeMap$1","namedEntities","baseEntities","reverseEntities","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","nativeDecode","buildEntitiesLookup","radix","chr","entity","encodeRaw","encodeAllRaw","encodeNumeric","charCodeAt","encodeNamed","entities","getEncodeFunc","entitiesMap","encodeNamedAndNumeric","encodeCustomNamed","nameMap","named","numeric","decode","$_bea7j51sjnlpax2u","mapCache","dummyObj","makeMap$2","each$4","extend$1","explode$1","inArray$1","compileSchema","schema","globalAttributes","blockContent","phrasingContent","flowContent","html4BlockContent","html4PhrasingContent","ni","attributesOrder","arrayToMap","addAttrs","schemaItem","table","script","compileElementMap","mode","Schema","patternElements","validStyles","invalidStyles","schemaItems","whiteSpaceElementsMap","selfClosingElementsMap","shortEndedElementsMap","boolAttrMap","validClasses","blockElementsMap","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","textInlineElementsMap","customElementsMap","specialElements","createLookupTable","option","defaultValue","extendWith","verify_html","valid_elements","valid_styles","invalid_styles","valid_classes","special","patternToRegExp","addValidElements","validElements","ei","ai","al","attrData","elementName","attrType","prefix","outputName","globalAttributesOrder","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","required","attributesDefault","attributesForced","forcedValue","validValues","attributePatterns","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","rule","inline","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","custom_elements","valid_children","extended_valid_elements","dd","dt","li","td","th","tr","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getBlockElements","getTextBlockElements","getTextInlineElements","getShortEndedElements","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","isValidChild","isValid","attrPatterns","getCustomElements","toHex","g","hex","Styles","rgbRegExp","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","encodingItems","invisibleChar","color","parse","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","suffix","noJoin","right","bottom","box","canCompress","compress2","encode","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","lastIndex","border","serialize","serializeStyles","styleList","styleMap","each$5","grep$1","simpleSelectorRe","whiteSpaceRegExp$2","setupAttrHooks","getContext","keepValues","keep_values","keepUrlHook","$elm","src","updateInternalStyleAttr","rawValue","findNodeIndex","normalized","lastNodeType","DOMUtils","_this","addedStyles","files","counter","stdMode","boxModel","styleSheetLoader","boundEvents","ownEvents","proxy","$","getRoot","getElementsByName","$$","getAttrib","defaultVal","getAttribs","setAttrib","originalValue","onSetAttrib","attrElm","deep","clone_1","root_element","getViewPort","argWin","actWin","pageXOffset","pageYOffset","w","innerWidth","clientWidth","h","innerHeight","clientHeight","setStyle","update_styles","setStyles","stylesArg","getStyle","getSize","getRect","elms","getParents","collect","selectorVal","getParent","_findSib","getNext","getPrev","setAttribs","setHTML","canHaveHTML","parentElm","newElm","createHTML","outHtml","keepChildren","$node","removeAllAttribs","removeAttributeNode","parseStyle","serializeStyle","addStyle","styleElm","DOM","loadCSS","cls","isHidden","uniqueId","getOuterHTML","outerHTML","setOuterHTML","insertAfter","reference","referenceNode","oldElm","replaceChild","rename","attrNode","findCommonAncestor","ps","pe","rgbVal","isEmpty","walker","brCount","bogusVal","createRng","createRange","splitElm","replacementElm","bef","aft","pa","setStart","setEnd","extractContents","getContentEditable","getContentEditableParent","isChildOf","dumpRng","startContainer","startOffset","endContainer","endOffset","DOMUtils$1","each$6","grep$2","isFunction$1","ScriptLoader","QUEUED","LOADING","LOADED","FAILED","states","queue","scriptLoadedCallbacks","queueLoadedCallbacks","loading","loadScript","onreadystatechange","log","isDone","markDone","loadQueue","loadScripts","scripts","failures","execCallbacks","loadingScripts","notifyCallbacks","each$7","AddOnManager","_listeners","instance","dependencies","requireLangPack","languages","language","languageLoad","addOn","listener","createUrl","baseUrl","dep","resource","addComponents","pluginName","pluginUrl","loadDependencies","addOnUrl","deps","newUrl","urlString","baseURL","substring","lastIndexOf","waitFor","PluginManager","ThemeManager","marker","appendAt","wrap$1","$_ag89ax1yjnlpax4x","before$1","after$1","prepend$1","append$1","$_9vd3j51xjnlpax4s","rogue","remove$2","$_azq8zm1wjnlpax4n","first$1","rate","last$3","Cell","initial","Toggler","turnOff","turnOn","active","toggle","isOn","read","remove$3","$_c7tpvt26jnlpax6a","supports","classList","get$3","add$1","clazz","remove$4","$_2thj3d25jnlpax63","add$2","cleanClass","remove$5","toggle$1","toggler","hasClasslist","has$2","$_fes8i223jnlpax5z","all$1","descendants","ancestors","siblings$1","children$1","$_g370pf28jnlpax6n","all$2","ancestors$1","siblings$2","children$2","descendants$1","$_cmitir27jnlpax6e","ClosestOrAncestor","ancestor","first$2","descendant","sibling$1","child$1","descend","$_cs5qmd2ajnlpax6v","first$3","ancestor$1","sibling$2","child$2","descendant$1","closest$1","$_2kbu29jnlpax6t","annotation","dataAnnotation","dataAnnotationId","identify","annotationName","rng","selection","getRng","an","newStart","getAttr","uid","findMarkers","isAnnotation","findAll","markers","directory","nodesAlready","setup","registry","changeCallbacks","initData","listeners","previous","withCallbacks","updateCallbacks","callbackMap","outputData","fireCallbacks","fireNoAnnotation","onNodeChange","annotations","_a","addListener","setup$1","identifyParserNode","span","optAnnotation","serializer","addNodeFilter","spans","persistent","create$1","register","generate","date","floor","add$3","classes","remove$6","toggle$2","hasAll","hasAny","getNative","get$4","$_6bet4b2hjnlpax8c","clone$1","original","shallowAs","copy$1","cloneChildren","mutate","$_5sdpl92ijnlpax8h","fromHtml$1","fromTags","tags","fromText$1","texts","fromDom$1","$_d4cc782kjnlpax8m","get$5","set$2","docDom","fragment","contentElements","getOuter","$_am4twv2jjnlpax8k","slice$3","constant$1","negate","compose$2","and","curry$1","tempArgs","noop$1","$_dv6bef2njnlpax9l","ZWSP","isZwsp","trim$3","$_90hfb72rjnlpaxae","isElement$2","isText$2","isCaretContainerBlock","isCaretContainerInline","isCaretContainer","hasContent","insertInline","textNode","startsWithCaretContainer","splitText","endsWithCaretContainer","isBeforeInline","isAfterInline","createBogusBr","br","insertBlock","blockName","blockNode","trimBogusBr","brs","lastBr","showCaretContainerBlock","caretContainer","isRangeInCaretContainerBlock","isContentEditableTrue$1","isContentEditableFalse$1","isBr$2","isText$3","isInvalidTextElement","isAtomicInline","isTable$1","isCaretContainer$1","isCaretCandidate","isNonUiContentEditableFalse","isUnselectable","isInEditable","isAtomicContentEditableFalse","isAtomic","isEditableCaretCandidate","round","clone$2","rect","width","height","collapse","toStart","isEqual","rect1","rect2","isValidOverflow","overflowY","min","isAbove","isBelow","containsXY","overflowX","outer","inner","getOverflow","getSelectedNode","getNode","extendingChars","isExtendingChar","ch","liftN","isElement$3","isCaretCandidate$1","isBlock$1","isFloated","isValidElementCaretCandidate","isNotPre","isText$4","isBr$3","resolveIndex","isWhiteSpace","isRange","isHiddenWhiteSpaceRange","range$$1","getBrClientRect","brNode","nbsp","clientRect","getBoundingClientRectWebKitText","sc","ec","so","eo","newRng","cloneRange","setEndAfter","isZeroRect","clientRects","getClientRects","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","beforeNode","addUniqueAndValidRect","addCharacterOffset","isAtEnd","CaretPosition","isAtStart","toRange","isVisible","isEqual$$1","getNode$$1","fromRangeStart","fromRangeEnd","pos1","pos2","isTextPosition","isElementPosition","CaretPosition$1","isText$5","isBogus$1","nodeIndex$1","normalizedParent","getChildNodes","normalizedTextOffset","equal$1","normalizedNodeIndex","numTextFragments","createPathItem","create$2","outputOffset","resolvePathItem","findTextPosition","targetOffset","dataLen","resolve$2","isContentEditableFalse$2","getNormalizedTextOffset","trimmedOffset","getPoint","point","max","getLocation","bookmark","isCollapsed","end","trimEmptyTextNode","findIndex$3","moveEndPoint","normalizeTableCellSelection","findAdjacentContentEditableFalseElm","getOffsetBookmark","getCaretBookmark","getRangeBookmark","createBookmarkSpan","filled","getPersistentBookmark","collapsed","rng2","endBookmarkNode","insertNode","startBookmarkNode","moveToBookmark","keep","getBookmark","$_5l0mu32ljnlpax8x","getUndoBookmark","CARET_ID","isCaretNode","getParentCaretContainer","isElement$4","isText$6","removeNode","getNodeValue","setNodeValue","trimCount","trimmedText","removeUnchanged","remove$7","removeTextAndReposition","removeElementAndReposition","newPosition","removeTextCaretContainer","removeElementCaretContainer","removeAndReposition","caretContainerNode","$_ctzulb33jnlpaxck","isContentEditableTrue$2","isContentEditableFalse$3","showCaret","direction","scrollIntoView","_selectionOverrides","getNodeRange","selectNode","renderCaretAtRange","normalizedRange","normalizeRange","caretPositionNode","caretPositionBeforeNode","ceRoot","renderRangeCaret","caretRange","HDirection","isContentEditableFalse$4","isText$7","isElement$5","isBr$4","isCaretCandidate$2","isAtomic$1","isEditableCaretCandidate$1","nodeAtIndex","getCaretCandidatePosition","isForwards","isBackwards","isBrBeforeBlock","findCaretPosition","Forwards","isInSameBlock","startPos","nextNode","innerNode","rootContentEditableFalseElm","findNode","CaretWalker","Backwards","BreakType","flip","positions","walk$1","caretWalker","getBreakType","currentPos","nextPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","newPos","lastPos","lastRect","newRect","lastDist","abs","newDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","getFirstLinePositions","$_32xcvk30jnlpaxbn","firstPositionIn","getLastLinePositions","lastPositionIn","deflate","delta","getCorners","getYAxisValue","tds","cell","findClosestCorner","corners","newCorner","oldCorner","oldDist","sqrt","getClosestCell","isTargetCorner","cells","corner","getBottomValue","getTopValue","isAbove$1","isBelow$1","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","getPos$1","fireScrollIntoViewEvent","alignToTop","scrollEvent","scrollElementIntoView","viewPort","viewPortY","viewPortH","offsetY","scrollContainer","getScrollContainer","getWin","scrollTo","getViewPortRect","scrollBy","dx","dy","scrollRangeIntoView","rngRect","bodyRect","overflow","margin","$_av60ug39jnlpaxee","getBodySetting","getParam","bodyObj","getIframeAttrs","getDocType","getDocumentBaseUrl","getBodyId","getBodyClass","getContentSecurityPolicy","shouldPutBrInPre","getForcedRootBlock","block","getForcedRootBlockAttrs","getBrNewLineSelector","getNoNewLineSelector","shouldKeepStyles","shouldEndContainerOnEmptyBlock","getFontStyleValues","getFontSizeClasses","getImagesDataImgFilter","isAutomaticUploadsEnabled","shouldReuseFileName","shouldReplaceBlobUris","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","$_c6e09z3ajnlpaxek","browser$2","isFakeCaretTableBrowser","moveToRange","setRng","hasNextBreak","lineInfo","breakPos","startsWithWrapBreak","startsWithBrBreak","isAtTableCellLine","isAtFirstTableCellLine","isAtLastTableCellLine","isCaretAtStartOrEndOfTable","caretPos","positionIn","navigateHorizontally","getClosestAbovePosition","getClosestBelowPosition","getTable","renderBlock","down","forcedRootBlock","undoManager","transact","moveCaret","last$$1","navigateVertically","moveH","moveV","isContentEditableFalse$5","isTableCell$1","getAbsoluteClientRect","scrollX","scrollY","rootRect","trimInlineCaretContainers","contentEditableFalseNodes","deleteData","FakeCaret","lastVisualCaret","cursorInterval","caret","caretState","startBlink","reposition","getCss","isFakeCaretTarget","isContentEditableFalse$6","isBlockLike","isCaretContainer$2","isCaretContainerBlock$1","curry$2","isElement$6","isCaretCandidate$3","skipCaretContainers","predicateFn","getParentBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","setStartBefore","setEndBefore","setStartAfter","isNodesInSameBlock","node1","node2","lean","before$2","after$2","leanLeft","leanRight","isNextToContentEditableFalse","isNextToTable","getRelativeCefElm","getNormalizedRangeEndPoint","isBeforeContentEditableFalse","isAfterContentEditableFalse","isBeforeTable","isAfterTable","walkToPositionIn","position","fromPosition","afterElement","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","to","isAtBr","shouldSkipPosition","navigate","nextPosition","prevPosition","isStringPathBookmark","isRangeBookmark","isIdBookmark","isIndexBookmark","isPathBookmark","addBogus","resolveCaretPositionBookmark","insertZwsp","tryFindRangePosition","padEmptyCaretContainer","setEndPoint","isValidTextNode","restoreEndPoint","appendData","alt","o1","o2","resolvePaths","resolveId","endPos","spos","epos","resolveIndex$1","resolve$3","$_6rgudt2yjnlpaxb4","getBookmark$1","isBookmarkNode$1","$_43l8qj2xjnlpaxb1","isInlineBlock","moveStart","isWhiteSpaceNode","getNonWhiteSpaceSibling","inc","isTextBlock$1","ed","replaceVars","vars","isEq","str1","normalizeStyleValue","getTextDecoration","decoration","getParents$1","$_dlfh233cjnlpaxes","isBookmarkNode$2","getParents$2","isWhiteSpaceNode$1","isTextBlock$2","findLeaf","excludeTrailingWhitespace","isBogusBr","findParentContentEditable","findSpace","findWordEndPoint","lastTextNode","findSelectorEndPoint","format","curFormat","findBlockEndPoint","scopeRoot","findParentContainer","block_expand","expandRng","endPoint","expand","$_3cscnj2wjnlpaxau","each$8","getEndChild","walk$2","startPoint","exclude","collectSiblings","endNode","findEndPoint","walkBoundary","$_6wozuu3djnlpaxew","zeroWidth","NodeValue","getOption","getOptionIE10","getOptionSafe","api","get$6","set$3","$_dzrxgg3gjnlpaxf6","isZeroWidth","wrapName","__rest","getOwnPropertySymbols","shouldApplyToTrailingSpaces","applyWordGrab","makeAnnotation","eDoc","decorate","_b","master","_c","_d","_e","annotate","newWrappers","getDoc","finishWrapper","getOrOpenWrapper","processElements","processElement","ctx","processNodes","annotateWithBookmark","initialRng","Annotator","changes","annotationChanged","getAll","hasOnlyOneChild","isPaddingNode","isPaddedEmptyBlock","blockElements","isEmptyFragmentElement","nonEmptyElements","isListFragment","cleanupDomFragment","domFragment","toDomFragment","listItems$1","isPadding","isListItemPadded","isEmptyOrPadded","trimListItems","getParentLi","parentBlock","isParentBlockLi","getSplit","beforeRng","afterRng","cloneContents","findFirstIn","newCaretPos","findLastOf","insertMiddle","insertAtCaret","liTarget","liElms","BEGINNING","END","isAt","$_64vm3ljnlpaxgp","each$9","ElementUtils","attribs","compareObjects","obj1","obj2","getLastChildren","rawNode","removeTrailingBr","allBrs","fillWithPaddingBr","isPaddingContents","isPaddedElement","trimBlockTrailingBr","lastChildPrevSibling","$_azhpc63njnlpaxgw","makeMap$3","Writer","indent","indentBefore","indentAfter","htmlOutput","indent_before","indent_after","entity_encoding","element_format","cdata","comment","pi","doctype","getContent","HtmlSerializer","writer","validate","handlers","handler","sortedAttrs","elementRule","shortEnded","createRange$1","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","normalize","$_4fmn0j3qjnlpaxhi","isAfterNbsp","trimOrPadLeftRight","hasSiblingText","trimNbspAfterDeleteAndPadValue","isTableCell$2","selectionSetContent","insertData","setContent","validInsertion","trimBrsFromTableCell","reduceInlineTextElements","merge","textInlineElements","root_1","elementUtils_1","testNode","markFragmentElements","umarkFragmentElements","isPartOfFragment","canHaveChildren","moveSelectionToMarker","parentEditableFalseElm","nextRng","getContentEditableFalseParent","findNextCaretRng","insertHtmlAtCaret","details","parser","bookmarkHtml","paste","caretElement","parentElement","execCommand","parserArgs","insert","showBlockCaretContainer","invalid","getStart","addVisual","processValue","insertAtCaret$1","$_f55bk53kjnlpaxge","sectionResult","detection","mobilePlugins","defaultMobileSettings","theme","normalizePlugins","plugins","pluginNames","trimmedPlugins","filterMobilePlugins","extractSections","keys$$1","getSection","sections","sectionSettings","hasSection","getDefaultSettings","documentBaseUrl","delta_width","delta_height","popup_css","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","convert_urls","relative_urls","remove_script_host","object_resizing","visual","font_size_style_values","font_size_legacy_values","forced_root_block","hidden_input","render_ui","indentation","inline_styles","convert_fonts_to_spans","convertURL","ie7_compat","getExternalPlugins","overrideSettings","userDefinedExternalPlugins","external_plugins","combinePlugins","forcedPlugins","processPlugins","isTouchDevice","defaultOverrideSettings","forced_plugins","platformPlugins","combinedPlugins","isOnMobile","combineSettings","defaultSettings","extendedSettings","content_editable","getEditorSettings","getFiltered","getString","getParamObject","isArrayOf","strongRtl","hasStrongRtl","isInlineTarget","isRtl","findInlineParents","findRootInline","hasSameParentBlock","block1","block2","isAtZwsp","normalizePosition","normalizeForwards","normalizeBackwards","$_955v2u3wjnlpaxit","isBeforeRoot","getParentBlock$1","placeCaretInEmptyBody","setCursorLocation","paddEmptyBody","willDeleteLastPositionInElement","fromPos","firstPos","normalizedFirstPos","normalizedLastPos","normalizedFromPos","prevPos","$_dfzzw73vjnlpaxik","any","ancestor$2","sibling$3","child$3","descendant$2","closest$2","$_1kxnjb40jnlpaxjq","hasWhitespacePreserveParent","rootElement","isWhitespace","isNamedAnchor","isContent","isBookmark","isBogus$2","isBogusAll$1","isEmptyNode","targetNode","isEmpty$1","$_czpaaj3zjnlpaxjj","BlockPosition","BlockBoundary","getBlockPosition","containerElm","isDifferentBlocks","blockBoundary","hasSameParent","parent1","parent2","isEditable","skipLastBr","blockPosition","lastPositionInBlock","readFromRange","fromBlockPos","toBlockPos","blockPos","read$1","$_5nfp373ujnlpaxi8","dropLast","parentsUntil$1","parents$1","parentsAndSelf","$_4b88sj42jnlpaxkd","getChildrenUntilBlockBoundary","extractChildren","removeEmptyRoot","isEmptyBefore","nestedBlockMerge","fromBlock","toBlock","insertionPoint","sidelongBlockMerge","findInsertionPoint","getInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","$_dkwg7o41jnlpaxk0","backspaceDelete","$_3n8adg3tjnlpaxi5","deleteRangeMergeBlocks","deleteContents","isRawNodeInTable","isSelectionInTable","isEverythingSelected","noPrevious","noNext","emptyEditor","deleteRange","backspaceDelete$1","$_f5evyu43jnlpaxki","generate$1","cases","constructors","adt","acase","argLength","branches","branchKeys","allReqd","reqKey","label","params","Adt","isCompoundElement","DeleteAction","moveToElement","moveToPosition","isAtContentEditableBlockCaret","caretLocation","isDeleteFromCefDifferentBlocks","inSameBlock","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","deleteAction","getContentEditableAction","read$2","needsReposition","beforeOrStartOf","afterOrEndOf","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwardsFromElm","startPosition","findCaretPositionForwardsFromElm","findCaretPositionBackwards","findCaretPositionForward","findCaretPosition$1","findCaretPosOutsideElmAfterDelete","setSelection","eqRawNode","isBlock$2","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","afterDeletePos","prevNode","deleteElement","normalizedAfterDeletePos","paddPos","$_ezizyx47jnlpaxle","deleteElement$1","hideFakeCaret","backspaceDeleteCaret","deleteOffscreenSelection","backspaceDeleteRange","selectedElement","getContentEditableRoot","paddEmptyElement","backspaceDelete$2","$_jcgv344jnlpaxks","isText$8","startsWithCaretContainer$1","endsWithCaretContainer$1","createZwsp","insertBefore$1","newNode","insertAfter$1","insertInline$1","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","$_7h17zm49jnlpaxma","evaluateUntil","fns","$_3eehvl4cjnlpaxms","Location","rescope","before$3","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","after$3","isValidLocation","getElement","readLocation","getName","outside","inside","isEq$1","location1","location2","betweenInlines","fromInline","toInline","skipNoMovement","fromLocation","toLocation","findLocationTraverse","findLocationSimple","findLocation","$_1wxx4j4bjnlpaxmj","prevLocation","nextLocation","hasSelectionModifyApi","getSel","modify","moveRel","moveByWord","$_8umecq4ejnlpaxn3","setCaretPosition","isFeatureEnabled","inline_boundaries","setSelected","renderCaretLocation","findLocation$1","toggleInlines","selectedInlines","targetInlines","safeRemoveCaretContainer","composing","renderInsideInlineCaret","inlines","move","moveWord","setupSelectedState","moveNextWord","movePrevWord","$_1971nm4djnlpaxmv","isFeatureEnabled$1","rangeFromPositions","hasOnlyTwoOrLessPositionsLeft","setCaretLocation","location$$1","deleteFromTo","ignore","nodeChanged","rescope$1","backspaceDeleteCollapsed","toPosition","backspaceDelete$3","$_5d7kmb48jnlpaxm1","tableCellRng","tableSelection","removeTable","emptyCells","isRootFromElement","getClosestCell$1","getClosestTable","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableCells","getCellRangeFromStartTable","endCell","partialSelection","startCell","isWithinSameTable","getCellRng","getTableSelectionFromCellRng","getTableSelectionFromRng","getCellIndex","getSelectedCells","startIndex","endIndex","getAction","getActionFromCells","getActionFromRange","$_baassw4gjnlpaxnk","getRanges","ranges","rangeCount","getRangeAt","getSelectedNodes","hasMultipleRanges","$_533sn84ijnlpaxoe","getCellsFromRanges","getCellsFromElement","selectedCells","getCellsFromElementOrRanges","rangeCells","getCellsFromEditor","$_1yq8wz4hjnlpaxo7","deleteTableElement","deleteCellRange","action","deleteCaptionRange","emptyElement","deleteTableRange","startElm","getParentCaption","deleteRange$1","getParentCell","deleteBetweenCells","fromCell","toCell","isDeleteOfLastCharPos","fromCaption","emptyCaretCaption","validateCaretCaption","toCaption","deleteCaretInsideCaption","deleteCaretCells","deleteCaretCaption","deleteCaret","backspaceDelete$4","$_3apnm14fjnlpaxn8","nativeCommand","command","deleteCommand","forwardDeleteCommand","$_7ms0593sjnlpaxht","getSpecifiedFontProp","getProperty","round$1","number","precision","factor","pow","toPt","fontSize","normalizeFontFamily","fontFamily","getComputedFontProp","getFontProp","$_ar9b8r4kjnlpaxov","getFontSize","getFontFamily","findFirstCaretElement","isRangeAtStartOfNode","getCaretElement","fromFontSizeNumber","fontSizeNumber","fontSizes","fontClasses","fontNameAction","formatter","fontNameQuery","fontSizeAction","fontSizeQuery","isEq$2","rng1","$_3s8g9y4njnlpaxqj","findParent","hasParent","hasParentWithName","isTable$2","isTableCell$3","isCeFalseCaretContainer","hasBrBeforeAfter","isPrevNode","hasContentEditableFalseParent","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","normalize$1","normRng","$_afh56j4mjnlpaxpx","hasRightSideContent","scrollToBr","brElm","moveSelectionToBr","extraBr","insertBrAtCaret","isAfterLastNodeInContainer","containerBlock","containerBlockName","isControlKey","ctrlKey","insertBrBefore","insertBrAfter","hasBrAfter","isBeforeBr","isAnchorLink","isInsideAnchor","readInlineAnchorLocation","insertBrOutsideAnchor","anchorLocation","$_ejrlhl4ljnlpaxpg","cata","subject","onBefore","onOn","onAfter","situ","$_64es4o4qjnlpaxri","type$1","domRange","exact","range$1","exactFromRange","simRange","soffset","finish","foffset","getStart$1","startSitu","finishSitu","$_f9vlzb4pjnlpaxrd","browser$3","clamp","normalizeRng","isOrContains","isRngInRoot","shouldStore","nativeRangeToSelectionRange","readRange","getBookmark$2","bookmarkToNativeRng","store","newBookmark","storeNative","$_13pqgk4ojnlpaxqr","indentElement","useMargin","unit","indentStyleName","styleValue","indentUnit","indentValue","queryCommandState","getSelectedBlocks","each$10","extend$2","map$3","inArray$2","EditorCommands","commands","ui","customCommand","skip_focus","quirks","queryCommandValue","addCommands","commandList","addCommand","queryCommandSupported","addQueryStateHandler","addQueryValueHandler","hasCustomCommand","execNativeCommand","isFormatMatch","toggleFormat","storeSelection","restoreSelection","queryCommandEnabled","translate","notificationManager","open","align","listElm","listParent","hasVisual","anchor","editingHost","selectNodeContents","alignStates","matchNode","paddingLeft","getEnd","list","Undo","undo","Redo","redo","nativeEvents","Dispatcher","bindings","toggleEvent","beforeFire","once","extra","bindingName","hi","isNative","getEventDispatcher","_eventDispatcher","toggleNativeEvent","$_c8v03c4tjnlpaxrw","bubble","hasEventListeners","firePreProcess","firePostProcess","fireRemove","fireSwitchMode","fireObjectResizeStart","fireObjectResized","$_5atig84wjnlpaxs7","setEditorCommandState","cmd","toggleReadOnly","controlSelection","hideResizeRect","setMode","getMode","initialized","isReadOnly","DOM$1","customEventRootDelegates","getEventTarget","eventName","event_root","eventRoot","isListening","hidden","fireEvent","bindEventDelegate","eventRootElm","delegate","delegates","editorManager","activeEditor","editors","EditorObservable","bindPendingEventDelegates","_pendingNativeEvents","unbindAllNativeEvents","getContainer","EditorObservable$1","each$11","explode$2","keyCodeLookup","f9","f10","f11","modifierNames","Shortcuts","shortcuts","pendingPatterns","parseShortcut","shortcut","keyCode","charCode","access","ctrl","meta","createShortcut","desc","cmdFunc","subpatterns","hasModifier","altKey","isFunctionKey","matchShortcut","shiftKey","executeShortcutAction","any$1","ancestor$3","closest$3","sibling$4","child$4","descendant$3","$_f7rq0y50jnlpaxt3","focus$$1","blur$$1","blur","_doc","focusInside","$_9bj08p4zjnlpaxsp","getContentEditableHost","getCollapsedNode","getFocusInElement","normalizeSelection","focusBody","setActive","hasElementFocus","hasIframeFocus","iframeElement","hasInlineFocus","rawBody","hasFocus$1","focusEditor","refreshContentEditable","contentEditableHost","activateEditor","bookmarkRng","focus$1","skipFocus","$_8odu5n4yjnlpaxsg","getProp","rawElm","getComputedSizeProp","getClientWidth","getClientHeight","getMarginTop","getMarginLeft","getBoundingClientRect$1","isInsideElementContentArea","bodyElm","transpose","deltaX","deltaY","isXYInContentArea","targetElm","transposedPoint","fromDomSafe","isEditorAttachedToDom","rawContainer","getContentAreaContainer","$_wem7o53jnlpaxtk","NotificationManagerImpl","unimplemented","close","getArgs","NotificationManager","notifications","getImplementation","getNotificationManagerImpl","getTopNotification","progressBar","timeout","addNotification","notification","closeNotification","otherNotification","getNotifications","registerEvents","serviceMessage","service_message","icon","WindowManagerImpl","alert","confirm","getParams","setParams","WindowManager","getWindowManagerImpl","funcBind","fireOpenEvent","fireCloseEvent","addWindow","closeWindow","otherWindow","getTopWindow","getWindows","resolvePluginName","targetUrl","matchUrl","pluginUrlToMessage","plugin","displayNotification","displayError","_skinLoaded","uploadError","pluginLoadError","initError","console$$1","$_2xhw4u57jnlpaxu1","PluginManager$1","XMLHttpRequest","Uploader","uploadStatus","pendingPromises","pathJoin","path1","path2","defaultHandler","blobInfo","progress","xhr","formData","withCredentials","credentials","upload","onprogress","loaded","total","json","JSON","responseText","basePath","FormData","filename","send","noUpload","handlerSuccess","handlerFailure","resolvePending","blobUri","uploadBlobInfo","openNotification","markPending","closeNotification_1","markUploaded","removeFailed","percent","isDefaultHandler","pendingUploadBlobInfo","uploadBlobs","blobInfos","isUploaded","isPending","FileReader","Uint8Array","requestAnimationFrame$1","atob","base64","$_7fz2a15jjnlpaxvr","blobUriToBlob","rejectWithError","responseType","response","parseDataUri","uri","uriParts","decodeURIComponent","dataUriToBlob","Blob","uriToBlob","blobToDataUri","reader","onloadend","readAsDataURL","$_4ygjjg5gjnlpaxvh","imageToBlobInfo","blobCache","img","getByUri","dataUri","err","findFirst","cachedBlobInfo","getAllImages","ImageScanner","cachedPromises","images","promises","imageInfo","newPromise","count$1","rnd","now","uuid","$_cb5mec5ljnlpaxvz","BlobCache","mimeToExt","mime","mimes","toBlobInfo","removeByUri","UploadStatus","PENDING","UPLOADED","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","EditorUpload","uploader","imageScanner","urlFilters","aliveGuard","cacheInvalidator","replaceString","replaceImageUrl","replacementUrl","replaceUrlInUndoStack","level","fragments","replaceImageUri","uploadImages","scanForImages","imageInfos","filteredResult","uploadInfo","uploadImagesAuto","isValidDataUriImage","imgElm","filter$$1","dataImgFilter","addFilter","resultItem","replaceBlobUris","editorUpload","source_view","isBlockElement","isValidTarget","hasBlockParent","shouldRemoveTextNode","addRootBlocks","rootBlockNode","tempNode","wrapped","rootNodeName","forced_root_block_attrs","setup$2","$_cjqvqq5njnlpaxw3","getStartNode","getEndNode","getFirstChildren","getLastChildren$1","hasAllContentsSelected","moveEndPoint$1","hasAnyRanges","sel","NodeChange","lastRng","lastPath","isSameElementPath","currentPath","nativeRng","fakeRng","selectionChange","disable_nodechange","getAbsolutePosition","getBodyPosition","getScrollPosition","getBodyScroll","inlineScroll","iframeScroll","getMousePosition","iframePosition","scrollPosition","calculatePosition","bodyPosition","mousePosition","calc","$_d639a65sjnlpaxxw","isContentEditableFalse$7","isContentEditableTrue$4","isDraggable","isValidDropTarget","targetElement","dragElement","cloneElement","cloneElm","createGhost","clonedElm","ghostElm","padding","boxSizing","appendGhostToBody","moveGhost","maxX","maxY","removeElement","isLeftMouseButtonPressed","hasDraggableElement","applyRelPos","relX","start$1","ceElm","elmPos","screenX","screenY","scrollWidth","scrollHeight","relY","ghost","move$1","throttledPlaceCaretAt","placeCaretAt","movement","dragging","targetPos","getRawTarget","drop","targetClone_1","targetClone","insertContent","removeDragState","stop$$1","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","dropHandler","dragEndHandler","rootDocument","blockIeDrop","realTarget","$_5gate55rjnlpaxxq","getNodeClientRects","toArrayWithNode","VDirection","findUntil","walkUntil","isAboveFn","isBeflowFn","line","targetClientRect","aboveLineNumber","lineNumber","isLineNumber","upUntil","Up","downUntil","Down","positionsUntil","walkFn","isBelowFn","getClientRect","isAboveLine","isLine","isContentEditableFalse$8","findNode$1","distanceToRectLeft","distanceToRectRight","isInside","findClosestClientRect","oldClientRect","oldDistance","newDistance","walkUntil$1","findLineNodeRects","targetNodeRect","checkPosFn","lineRects","getFakeCaretTargets","caretInfo","closestCaret","closestNodeRect","contentEditableFalseNodeRects","targetNodeRects","isXYWithinRange","$_5xpdav5wjnlpaxyf","setup$3","renderFocusCaret","$_gfh1f95xjnlpaxyi","$_1qv0695yjnlpaxyk","BACKSPACE","DELETE","DOWN","ENTER","LEFT","RIGHT","SPACEBAR","TAB","UP","modifierPressed","metaKeyPressed","isContentEditableTrue$5","isContentEditableFalse$9","isAfterContentEditableFalse$1","isBeforeContentEditableFalse$1","getContentEditableRoot$1","SelectionOverrides","fakeCaret","realSelectionId","selectedContentEditableNode","isFakeSelectionElement","getRealSelectionElement","setRange","getRange","showCaret$$1","getNormalizedRangeEndPoint$$1","blockCaretContainer","contentEditableRoot","removeContentEditableSelection","handleTouchSelect","moved","setContentEditableSelection","hasNormalCaretPosition","isInSameBlock$$1","hasBetterMouseTarget","targetBlock","caretBlock","isPasteBin","isRangeInCaretContainer","clipboardData","realSelectionElement","clearData","setData","outerText","addCss","contentStyles","rootClass","isWithinCaretContainer","$realSelectionContainer","origTargetClone","removeAllRanges","addRange","isValidPrefixAttrName","trimComments","isInvalidUri","allow_html_data_urls","findEndTagIndex","tokenRegExp","shortEndedElements","SaxParser","fix_self_closing","endRegExp","stack","attrList","textData","isInternalElement","removeInternalElements","fillAttrsMap","isShortEnded","isValidElement","attribsValue","validAttributesMap","validAttributePatterns","processHtml","anyAttributesRequired","selfClosing","attrRegExp","fixSelfClosing","filteredUrlAttrs","scriptUriRegExp","processEndTag","valid","parseAttribute","val2","val3","attrRule","trimRegExp","unescape","self_closing_elements","remove_internals","allow_conditional_comments","findEndTag","SaxParser$1","trimHtml","tempAttrs","trimContentRegExp","trimInternal","bogusAllRegExp","endTagIndex","matchLength","getTempAttrs","trimExternal","$_9cq8vj61jnlpaxzc","KEEP","INSERT","vDown","vUp","snake","diag","buildScript","start1","end1","start2","end2","middle","getMiddleSnake","i2","buildSnake","sum","$_27o9im64jnlpaxzv","getOuterHtml","createFragment$1","insertAt","removeAt","applyDiff","read$3","write","currentFragments","$_12gl6x63jnlpaxzs","undoLevelDocument","lazyTempDocument","implementation","createHTMLDocument","hasIframes","createFragmentedLevel","beforeBookmark","createCompleteLevel","createFromEditor","trimmedFragments","trimmed","applyToEditor","getLevelContent","getCleanLevelContent","hasEqualContent","level1","level2","hasEqualCleanedContent","isEq$3","$_4dwaci60jnlpaxyt","UndoManager","isFirstTypedCharacter","locks","isUnlocked","setTyping","typing","setDirty","addNonTypingUndoLevel","endTyping","beforeChange","isDirty","lastLevel","modKey","isInsertReplacementText","inputType","isInsertTextDataNull","addShortcut","currentLevel","custom_undo_redo_levels","clear","hasUndo","hasRedo","callback1","callback2","isEq$4","matchesUnInheritedFormatSelector","formatList","inherit","matchParents","matchName","matchItems","itemName","similar","onmatch","matchAll","startElement","matchedFormatNames","checkedMap","canApply","defaultBlock","$_706y6v68jnlpay1a","split$1","$_fvyfxh69jnlpay1e","ZWSP$1","CARET_ID$1","importNode","getEmptyCaretContainers","isCaretContainerEmpty","findFirstTextNode","createCaretContainer","fill","trimZwspFromCaretContainer","removeCaretContainerNode","removeCaretContainer","insertCaretContainerNode","formatNode","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","applyCaretFormat","wordcharRegex","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","disableCaretContainer","setup$4","replaceWithCaretFormat","innerMost","isFormatElement","inlineElements","postProcessHooks","filter$2","each$12","addPostProcessHook","postProcess","isPre","hasPreSibling","pre","joinPre","pre1","pre2","$_48059m6ajnlpay1h","MCE_ATTR_RE","each$13","isEq$5","isTableCell$4","lastIdx","wrap$2","wrapWithSiblings","nodesToWrap","currNode","forEach","matchName$1","isColorFormatAndAnchor","links","find$4","removeNode$1","rootBlockElm","list_block","removeFormat","compareNode","stylesModified","remove_similar","valueOut","findFormatRoot","formatRoot","wrapAndSplit","lastClone","firstClone","formatRootParent","mixed","remove$8","splitToFormatRoot","process","lastContentEditable","removeRngStyle","wrappedContent","textDecoration","ceFalseOverride","$_4dimpr6cjnlpay1t","each$14","isElementNode","findElementSibling","mergeSiblingsNodes","tmpSibling","elementUtils","processChildElements","hasStyle","applyStyle","unwrapEmptySpan","processUnderlineAndColor","mergeUnderlineAndColor","mergeBackgroundColorAndFontSize","backgroundColor","mergeSubSup","mergeSiblings","merge_siblings","clearChildStyles","clear_child_styles","mergeWithChildren","mergeWithParents","merge_with_parents","$_4luhzy6bjnlpay1j","each$15","isElementNode$1","applyFormat","setElementFormat","fmt","onformat","styleVal","applyNodeStyle","found","applyRngStyle","nodeSpecific","wrapElm","currentWrapElm","parentName","childCount","getChildCount","getChildElementNode","mergeStyles","curSelNode","$_f4ruu466jnlpay08","each$16","setup$5","formatChangeData","currentFormats","matchedFormats","addListeners","formats","formatChangeItems","formatChanged","formatChangeState","$_10ddoa6djnlpay24","get$8","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","preview","textAlign","aligncenter","display","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","fontsize","fontsize_class","blockquote","subscript","superscript","code","removeformat","$_2j3wlv6fjnlpay2d","FormatRegistry","unregister","each$17","parsedSelectorToHtml","ancestry","sItem","getRequiredParent","elmRule","wrapInHtml","parentCandidate","parentRequired","ancestorName","siblingElm","selectorToHtml","parseSelector","parseSelectorItem","$0","$1","$2","$3","$4","getCssText","previewFrag","previewElm","previewCss","parentFontSize","previewStyles","preview_styles","removeVars","numValue","parseFloat","$_6yt3d06gjnlpay2j","toggle$3","$_div70r6hjnlpay2r","setup$6","$_azkj2d6ijnlpay2t","Formatter","hasOwnProperty$2","shallow$1","baseMerge","merger","objects","curObject","htmlParser","addAttributeFilter","internalName","cleanup","trimTrailingBr","brNode1","brNode2","$_bpervq6mjnlpay3i","preProcess","impl","oldDoc","shouldFireEvent","no_events","$_5tjdgs6njnlpay3r","removeAttrs","addFontToSpansFilter","domParser","face","addStrikeToSpanFilter","addFilters","register$1","$_2wvuyy6pjnlpay4e","whiteSpaceRegExp$3","typeLookup","walk$3","Node$2","selfAttrs","selfAttr","cloneAttrs","refNode","paddEmptyNode","brPreferred","padd_empty_with_br","isPaddedWithNbsp","hasOnlyChild","isPadded","isEmpty$2","whitespaceElements","isLineBreakNode","register$2","remove_trailing_brs","prevName","whiteSpaceElements","appendRel","addNoOpener","newRel","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","makeMap$4","each$18","explode$3","extend$3","DomParser","nodeFilters","attributeFilters","matchedNodes","matchedAttributes","root_name","fixInvalidChildren","newParent","currentNode","childNode","nonSplitableElements","textBlockElements","fixed","filterNode","getNodeFilters","getAttributeFilters","fi","fl","invalidChildren","isInWhiteSpacePreservedElement","rootBlockName","startWhiteSpaceRegExp","endWhiteSpaceRegExp","allWhiteSpaceRegExp","isAllWhiteSpaceRegExp","createNode","removeWhitespaceBefore","textNodeNext","textVal","cloneAndExcludeBlocks","attrFiltersLen","isRootContent","exports","addTempAttr","postProcess$1","outArgs","getHtmlFromNode","getInner","parseHtml","serializeNode","htmlSerializer","toHtml","DomSerializer","addRules","rules","setRules","DomSerializer$1","domSerializer","BookmarkManager","BookmarkManager$1","isContentEditableFalse$10","isContentEditableTrue$6","getContentEditableRoot$2","ControlSelection","selectedElm","selectedElmGhost","resizeHelper","resizeHandles","selectedHandle","startX","startY","selectedElmX","selectedElmY","startW","startH","ratio","resizeStarted","editableDoc","startScrollWidth","startScrollHeight","nw","ne","se","sw","isImage","isEventOnImageOutsideRange","contextMenuSelectImage","getResizeTarget","isResizable","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","resize_img_proportional","endGhostResize","setSizeProp","showResizeRect","targetWidth","targetHeight","unbindResizeHandleEvents","handleElm","startDrag","unSelectabe","updateResizeRect","controlElm","isChildOrEqual","disableGeckoResize","isWithinContentEditableFalse","delayedSelect","throttledUpdateResizeRect","hasCeProperty","findParent$1","findClosestIeRange","rects","createTextRange","moveToElementText","moveToPoint","moveOutOfContentEditableFalse","fromPoint$1","pointDoc","caretPositionFromPoint","offsetNode","caretRangeFromPoint","$_445zg66wjnlpay63","processRanges","$_76ma076xjnlpay65","fromElements","$_8n4csb70jnlpay6p","tableModel","tableRow","cellPosition","getSpan","isNaN","fillout","rowspan","colspan","rows","y2","x2","cellExists","skipCellsX","getWidth","row","findElementPos","extractRows","sx","sy","ey","newRows","subTable","createDomTable","tableElement","tableBody","modelRowsToDomRows","fromDom$2","tableElm","toDom","subsection","endElement","$_7mbdap71jnlpay6v","findParentListContainer","getFullySelectedListWrappers","listCont","wrap$3","innerElm","directListWrappers","commonAnchorContainer","getWrapElements","wrapElements","listWrappers","allWrappers","emptyFragment","getFragmentFromRange","getParentTable","getTableFragment","selectedTableCells","firstCell","lastCell","fullTableModel","sectionedTableModel","getSelectionFragment","read$4","$_7ki6146zjnlpay6b","tmpElm","contextual","htmlText","$_d9gs4y6yjnlpay67","createContextualFragment","pasteHTML","$_b3j7u072jnlpaybw","getEndpointElement","real","getStart$2","skipEmptyTextNodes","forwards","orig","getNode$1","endElm","selectedBlocks","select$1","each$19","isNativeIeSelection","isAttachedToDom","isValidRange","Selection$1","bookmarkManager","selectedRange","explicitRange","selectorChangedData","getEnd$$1","compareEndPoints","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","START_TO_START","END_TO_END","ieRange","setBaseAndExtent","anchorNode","focusNode","setNode","getSelectedBlocks$$1","isForward","anchorRange","focusRange","anchorOffset","focusOffset","selectorChanged","currentSelectors","matchedSelectors","isContentEditableFalse$11","getSelectedNode$1","isAfterContentEditableFalse$2","isBeforeContentEditableFalse$2","getVisualCaretPosition","isMoveInsideSameBlock","moveToCeFalseHorizontally","getNextPosFn","peekCaretPosition","rangeIsInContainerBlock","isBeforeContentEditableFalseFn","moveToCeFalseVertically","walkerFn","linePositions","nextLinePositions","closestNextLineRect","caretClientRect","dist1","dist2","contentEditableFalseNode","caretPositions","createTextBlock","textBlock","exitPreBlock","newBlock","getNextVisualCaretPosition","getPrevVisualCaretPosition","getHorizontalRange","newRange","getVerticalRange","moveH$1","moveV$1","defaultPatterns","patterns","matchesEvent","match$1","execute","$_4wmttl77jnlpaycu","executeKeydownOverride","setup$7","$_61j8yg75jnlpayck","getParentInlines","hasOnlyOneChild$1","deleteLastPosition","parentInlines","isFormatElement$$1","deleteCaret$1","backspaceDelete$5","$_7joyou79jnlpayd3","executeKeydownOverride$1","executeKeyupOverride","setup$8","$_7bt40278jnlpayd0","firstNonWhiteSpaceNodeSibling","moveToCaretPosition","lastNode","tempElm","getEditableRoot","editableRoot","getParentBlock$2","getParentBlockName","isListItemParentBlock","$_f5kh147ejnlpaye2","hasFirstChild","hasParent$1","isListBlock","isNestedList","getContainerBlock","containerBlockParent","isFirstOrLastLi","insert$1","createNewBlock","newBlockName","tmpRng","$_ejp82b7djnlpaydz","isEmptyAnchor","isTableCell$5","emptyBlock","containerAndSiblingName","canSplitBlock","trimInlineElementsOnLeftSideOfBlock","firstChilds","normalizeZwspOffset","includeZwspInRange","trimLeadingLineBreaks","getEditableRoot$1","setForcedBlockAttrs","forcedRootBlockName","wrapSelfAndSiblingsInDefaultBlock","addBrToBlockIfNeeded","insert$2","parentBlockName","clonedNode","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","$_dytumn7cjnlpaydl","shouldInsertBr","shouldBlockNewLine","$_8nqlsa7gjnlpayev","newLineAction","shouldBlockNewLine$1","isBrMode","requiredState","brMode","inListBlock","inBlock","inPreBlock","inSummaryBlock","shouldPutBrInPre$1","inBrContext","hasShiftKey","canInsertIntoEditableRoot","rootEditable","match$2","predicates","isMatch","getAction$1","$_5478lv7fjnlpayeb","insert$3","$_en8mkp7bjnlpaydc","endTypingLevel","handleEnterKeyEvent","setup$9","$_39dxqo7ajnlpaydb","isValidInsertPoint","isAtStartOrEnd","insertNbspAtPosition","insertAtLocation","insertAtCaret$2","boundaryLocation","insertAtSelection","$_55jipx7ijnlpayf1","executeKeydownOverride$2","setup$10","$_4zpmte7hjnlpayez","findBlockCaretContainer","removeIeControlRect","handleBlockContainer","setup$11","$_fb76tn7jjnlpayf4","setup$12","$_cvby1r74jnlpayci","Quirks","isGecko","isWebKit","mceInternalUrlPrefix","mceInternalDataType","setMceInternalContent","selectionHtml","internalContent","dataTransfer","escape","getMceInternalContent","getData","insertClipboardContents","internal","emptyEditorWhenDeleting","serializeRng","allContentsSelected","allRng","allSelection","selectAll","inputMethodFocus","removeHrOnBackspace","Range","body_1","selectControlElements","removeStylesWhenDeletingAcrossBlockElements","getAttributeApplyFunction","template","setAttributeNode","isSelectionAcrossElements","applyAttributes","disableBackspaceIntoATable","removeBlockQuoteOnBackSpace","setGeckoEditingOptions","setOpts","addBrAfterLastLinks","fixLinks","setDefaultBlockType","showBrokenImageIcon","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","disableAutoUrlDetect","tapLinksAndImages","blockFormSubmitInsideEditor","removeAppleInterchangeBrs","ieInternalDragAndDrop","isTextBlockNode","normalizeSelection$1","setup$13","detail","preventSummaryToggle","filterDetails","setup$14","DOM$2","appendStyle","createParser","autoFocus","auto_focus","destroyed","initEditor","execCallback","getStyleSheetLoader","initContentBody","skipWrite","contentCssText","visibility","orgVisibility","iframeHTML","bodyEl","content_document","content_window","bodyElement","hex_colors","force_hex_style_colors","class_filter","annotator","_nodeChangeDispatcher","browser_spellcheck","gecko_spellcheck","spellcheck","directionality","nowrap","whiteSpace","protect","startContent","contentCSS","content_style","$_8cqui75bjnlpaxue","DOM$3","relaxDomain","ifr","domain","hostname","bodyUuid","domainRelaxUrl","normalizeHeight","normalizedHeight","createIframeElement","title","customAttrs","iframe","frameBorder","allowTransparency","getIframeHtml","bodyId","bodyClass","documentBaseURI","getURI","createIframe","isDomainRelaxed","contentAreaContainer","iframeContainer","init$1","boxInfo","editorContainer","orgDisplay","$_aablho7njnlpayfx","DOM$4","initPlugin","initializedPlugins","Plugin","pluginInstance","trimLegacyPrefix","initPlugins","initTheme","Theme","renderFromLoadedTheme","minHeight","re","min_height","renderUI","deltaWidth","deltaHeight","iframeHeight","renderFromThemeFunc","createThemeFalseResult","renderThemeFalseIframe","renderThemeFalse","renderThemeUi","init$2","rtl","rtl_ui","i18n","setCode","aria_label","getLang","content_css","toAbsolute","$_99cvli58jnlpaxu5","DOM$5","hasSkipLoadPrefix","loadLanguage","scriptLoader","language_url","loadTheme","themeUrl","theme_url","loadPlugins","render","form","formElement","hasHiddenInput","formEventDelegate","_mceOldSubmit","triggerSave","windowManager","encoding","save","_beforeUnload","set_dirty","$_eajmw851jnlpaxt7","add$4","sidebars","$_g47nm77ojnlpayg6","each$20","trim$4","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","URI","baseUri","base_uri","isProtocolRelative","protocol","toAbsPath","part","userInfo","port","setPath","toRelative","tu","uu","toRelPath","noHost","isSameOrigin","defaultPort","breakPoint","nb","outPath","noProtoHost","loc","pathname","defaultFormat","trimEmptyContents","emptyRegExp","getContentFromBody","getContent$1","traverse","findMatchingNodes","nodeMatches","attrMatches","filter$3","defaultFormat$1","isTreeNode","moveSelection","setEditorHtml","setContentString","padd","setContentTree","setContent$1","DOM$6","restoreOriginalStyles","safeDestroy","clearDomReferences","restoreForm","remove$9","is_removing","automatic","DOM$7","extend$4","each$21","resolve$4","ie$2","Editor","documentBaseURL","baseURI","language_load","loadedCSS","editorCommands","buttons","menuItems","cache_suffix","override_viewport","callbackLookup","lang_1","i18n_1","addButton","onclick","stateSelector","tooltip","addSidebar","addMenuItem","addContextToolbar","contextToolbars","focusedEditor","setProgressState","isNotDirty","oldState","urlconverter_callback","visual_table_class","visual_anchor_class","_scanForImages","isEditorUIElement","$_598dic7xjnlpayi4","isManualNodeChange","registerPageMouseUp","throttledStore","mouseUpPage","registerFocusOut","registerMouseUp","registerEditorEvents","register$3","$_8hqfi17yjnlpayi5","documentFocusInHandler","DOM$8","isEditorUIElement$1","isUIElement","customSelector","custom_ui_selector","getActiveElement","blurredEditor","unregisterDocumentEvents","setup$15","$_8pld3r7wjnlpayhz","$_f6nmn17zjnlpayic","newCode","_dir","getCode","langData","getLangData","values_1","DOM$9","explode$4","each$22","extend$5","instanceCounter","beforeUnloadDelegate","EditorManager","boundGlobalEvents","legacyEditors","isValidLegacyKey","globalEventDelegate","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","purgeDestroyedEditor","majorVersion","minorVersion","releaseDate","preInit","tinymce","tinyMCEPreInit","srcScript","currentScript","base_url","pluginBaseUrls","plugin_base_urls","invalidInlineTargets","isInvalidInlineTarget","createId","findTargets","targets","types","forms","editor_deselector","editor_selector","provideResults","initEditors","initCount","createEditor","existingEditor","addI18n","EditorManager$1","RangeUtils","normalizedRng","compareRanges","getCaretRangeFromPoint","RangeUtils$1","round$2","relativePosition","targetW","targetH","create$3","findBestRelativePosition","constrainRect","rels","inflate","intersect","cropRect","x1","y1","clamp$1","clampRect","fixedSize","underflowX1","underflowY1","overflowX2","overflowY2","cx2","cy2","fromClientRect","$_f1a1rs81jnlpayiu","$_4cmhbp82jnlpayiz","typeClass","lctype","controlType","ControlType","each$23","extend$6","extendClass","initializing","Class$1","_super","Class","mixins","mixin","Mixins","dummy","createMethod","name_1","Methods","Properties","fieldName","Statics","Defaults","min$1","max$1","round$3","Color","rgb2hsv","minRGB","maxRGB","hsvToRgb","hue","saturation","brightness","side","chroma","toRgb","toHsv","quote","$_aw5rjw85jnlpayja","$_oa3la86jnlpayji","XHR","ready","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","extend$7","JSONRequest","sendRPC","ecb","scb","ty","method","create$4","storage","getItem","setItem","removeItem","defineProperty","configurable","enumerable","localStorage$$1","localStorage","LocalStorage","publicApi","geom","Rect","util","Delay","Tools","VK","EventDispatcher","Observable","I18n","JSONP","Serializer","Selection","Entities","Factory","Env","FocusManager","isMac","Tinymce","exportToModuleLoaders","module","exportToWindowGlobal","tinyMCE"],"mappings":"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","sourcesContent":["// 4.8.4 (2018-10-23)\n(function () {\n(function () {\n  'use strict';\n\n  var noop = function () {\n    var x = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      x[_i] = arguments[_i];\n    }\n  };\n\n  var compose = function (fa, fb) {\n    return function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      return fa(fb.apply(null, arguments));\n    };\n  };\n  var constant = function (value) {\n    return function () {\n      return value;\n    };\n  };\n  var identity = function (x) {\n    return x;\n  };\n\n  var curry = function (f) {\n    var x = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n    var args = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i++)\n      args[i - 1] = arguments[i];\n    return function () {\n      var x = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        x[_i] = arguments[_i];\n      }\n      var newArgs = new Array(arguments.length);\n      for (var j = 0; j < newArgs.length; j++)\n        newArgs[j] = arguments[j];\n      var all = args.concat(newArgs);\n      return f.apply(null, all);\n    };\n  };\n\n  var die = function (msg) {\n    return function () {\n      throw new Error(msg);\n    };\n  };\n\n\n  var never = constant(false);\n  var always = constant(true);\n\n  var never$1 = never;\n  var always$1 = always;\n  var none = function () {\n    return NONE;\n  };\n  var NONE = function () {\n    var eq = function (o) {\n      return o.isNone();\n    };\n    var call$$1 = function (thunk) {\n      return thunk();\n    };\n    var id = function (n) {\n      return n;\n    };\n    var noop$$1 = function () {\n    };\n    var nul = function () {\n      return null;\n    };\n    var undef = function () {\n      return undefined;\n    };\n    var me = {\n      fold: function (n, s) {\n        return n();\n      },\n      is: never$1,\n      isSome: never$1,\n      isNone: always$1,\n      getOr: id,\n      getOrThunk: call$$1,\n      getOrDie: function (msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: nul,\n      getOrUndefined: undef,\n      or: id,\n      orThunk: call$$1,\n      map: none,\n      ap: none,\n      each: noop$$1,\n      bind: none,\n      flatten: none,\n      exists: never$1,\n      forall: always$1,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function () {\n        return [];\n      },\n      toString: constant('none()')\n    };\n    if (Object.freeze)\n      Object.freeze(me);\n    return me;\n  }();\n  var some = function (a) {\n    var constant_a = function () {\n      return a;\n    };\n    var self = function () {\n      return me;\n    };\n    var map = function (f) {\n      return some(f(a));\n    };\n    var bind = function (f) {\n      return f(a);\n    };\n    var me = {\n      fold: function (n, s) {\n        return s(a);\n      },\n      is: function (v) {\n        return a === v;\n      },\n      isSome: always$1,\n      isNone: never$1,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: map,\n      ap: function (optfab) {\n        return optfab.fold(none, function (fab) {\n          return some(fab(a));\n        });\n      },\n      each: function (f) {\n        f(a);\n      },\n      bind: bind,\n      flatten: constant_a,\n      exists: bind,\n      forall: bind,\n      filter: function (f) {\n        return f(a) ? me : NONE;\n      },\n      equals: function (o) {\n        return o.is(a);\n      },\n      equals_: function (o, elementEq) {\n        return o.fold(never$1, function (b) {\n          return elementEq(a, b);\n        });\n      },\n      toArray: function () {\n        return [a];\n      },\n      toString: function () {\n        return 'some(' + a + ')';\n      }\n    };\n    return me;\n  };\n  var from = function (value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n  var Option = {\n    some: some,\n    none: none,\n    from: from\n  };\n\n  var typeOf = function (x) {\n    if (x === null)\n      return 'null';\n    var t = typeof x;\n    if (t === 'object' && Array.prototype.isPrototypeOf(x))\n      return 'array';\n    if (t === 'object' && String.prototype.isPrototypeOf(x))\n      return 'string';\n    return t;\n  };\n  var isType = function (type) {\n    return function (value) {\n      return typeOf(value) === type;\n    };\n  };\n  var isString = isType('string');\n  var isObject = isType('object');\n  var isArray = isType('array');\n  var isNull = isType('null');\n  var isBoolean = isType('boolean');\n\n  var isFunction = isType('function');\n  var isNumber = isType('number');\n\n  var rawIndexOf = function () {\n    var pIndexOf = Array.prototype.indexOf;\n    var fastIndex = function (xs, x) {\n      return pIndexOf.call(xs, x);\n    };\n    var slowIndex = function (xs, x) {\n      return slowIndexOf(xs, x);\n    };\n    return pIndexOf === undefined ? slowIndex : fastIndex;\n  }();\n  var indexOf = function (xs, x) {\n    var r = rawIndexOf(xs, x);\n    return r === -1 ? Option.none() : Option.some(r);\n  };\n  var contains = function (xs, x) {\n    return rawIndexOf(xs, x) > -1;\n  };\n  var exists = function (xs, pred) {\n    return findIndex(xs, pred).isSome();\n  };\n\n\n  var map = function (xs, f) {\n    var len = xs.length;\n    var r = new Array(len);\n    for (var i = 0; i < len; i++) {\n      var x = xs[i];\n      r[i] = f(x, i, xs);\n    }\n    return r;\n  };\n  var each = function (xs, f) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n  var eachr = function (xs, f) {\n    for (var i = xs.length - 1; i >= 0; i--) {\n      var x = xs[i];\n      f(x, i, xs);\n    }\n  };\n  var partition = function (xs, pred) {\n    var pass = [];\n    var fail = [];\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      var arr = pred(x, i, xs) ? pass : fail;\n      arr.push(x);\n    }\n    return {\n      pass: pass,\n      fail: fail\n    };\n  };\n  var filter = function (xs, pred) {\n    var r = [];\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      if (pred(x, i, xs)) {\n        r.push(x);\n      }\n    }\n    return r;\n  };\n\n  var foldr = function (xs, f, acc) {\n    eachr(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n  var foldl = function (xs, f, acc) {\n    each(xs, function (x) {\n      acc = f(acc, x);\n    });\n    return acc;\n  };\n  var find = function (xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      if (pred(x, i, xs)) {\n        return Option.some(x);\n      }\n    }\n    return Option.none();\n  };\n  var findIndex = function (xs, pred) {\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      if (pred(x, i, xs)) {\n        return Option.some(i);\n      }\n    }\n    return Option.none();\n  };\n  var slowIndexOf = function (xs, x) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (xs[i] === x) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  var push = Array.prototype.push;\n  var flatten = function (xs) {\n    var r = [];\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      if (!Array.prototype.isPrototypeOf(xs[i]))\n        throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n      push.apply(r, xs[i]);\n    }\n    return r;\n  };\n  var bind = function (xs, f) {\n    var output = map(xs, f);\n    return flatten(output);\n  };\n  var forall = function (xs, pred) {\n    for (var i = 0, len = xs.length; i < len; ++i) {\n      var x = xs[i];\n      if (pred(x, i, xs) !== true) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  var slice = Array.prototype.slice;\n  var reverse = function (xs) {\n    var r = slice.call(xs, 0);\n    r.reverse();\n    return r;\n  };\n  var difference = function (a1, a2) {\n    return filter(a1, function (x) {\n      return !contains(a2, x);\n    });\n  };\n  var mapToObject = function (xs, f) {\n    var r = {};\n    for (var i = 0, len = xs.length; i < len; i++) {\n      var x = xs[i];\n      r[String(x)] = f(x, i);\n    }\n    return r;\n  };\n\n  var sort = function (xs, comparator) {\n    var copy = slice.call(xs, 0);\n    copy.sort(comparator);\n    return copy;\n  };\n  var head = function (xs) {\n    return xs.length === 0 ? Option.none() : Option.some(xs[0]);\n  };\n  var last = function (xs) {\n    return xs.length === 0 ? Option.none() : Option.some(xs[xs.length - 1]);\n  };\n  var from$1 = isFunction(Array.from) ? Array.from : function (x) {\n    return slice.call(x);\n  };\n\n  var Global = typeof window !== 'undefined' ? window : Function('return this;')();\n\n  var path = function (parts, scope) {\n    var o = scope !== undefined && scope !== null ? scope : Global;\n    for (var i = 0; i < parts.length && o !== undefined && o !== null; ++i)\n      o = o[parts[i]];\n    return o;\n  };\n  var resolve = function (p, scope) {\n    var parts = p.split('.');\n    return path(parts, scope);\n  };\n\n  var unsafe = function (name, scope) {\n    return resolve(name, scope);\n  };\n  var getOrDie = function (name, scope) {\n    var actual = unsafe(name, scope);\n    if (actual === undefined || actual === null)\n      throw name + ' not available on this browser';\n    return actual;\n  };\n  var $_3b2dlgcjnlpawlt = { getOrDie: getOrDie };\n\n  var url = function () {\n    return $_3b2dlgcjnlpawlt.getOrDie('URL');\n  };\n  var createObjectURL = function (blob) {\n    return url().createObjectURL(blob);\n  };\n  var revokeObjectURL = function (u) {\n    url().revokeObjectURL(u);\n  };\n  var $_9khkh7bjnlpawls = {\n    createObjectURL: createObjectURL,\n    revokeObjectURL: revokeObjectURL\n  };\n\n  var nav = navigator;\n  var userAgent = nav.userAgent;\n  var opera;\n  var webkit;\n  var ie;\n  var ie11;\n  var ie12;\n  var gecko;\n  var mac;\n  var iDevice;\n  var android;\n  var fileApi;\n  var phone;\n  var tablet;\n  var windowsPhone;\n  var matchMediaQuery = function (query) {\n    return 'matchMedia' in window ? matchMedia(query).matches : false;\n  };\n  opera = false;\n  android = /Android/.test(userAgent);\n  webkit = /WebKit/.test(userAgent);\n  ie = !webkit && !opera && /MSIE/gi.test(userAgent) && /Explorer/gi.test(nav.appName);\n  ie = ie && /MSIE (\\w+)\\./.exec(userAgent)[1];\n  ie11 = userAgent.indexOf('Trident/') !== -1 && (userAgent.indexOf('rv:') !== -1 || nav.appName.indexOf('Netscape') !== -1) ? 11 : false;\n  ie12 = userAgent.indexOf('Edge/') !== -1 && !ie && !ie11 ? 12 : false;\n  ie = ie || ie11 || ie12;\n  gecko = !webkit && !ie11 && /Gecko/.test(userAgent);\n  mac = userAgent.indexOf('Mac') !== -1;\n  iDevice = /(iPad|iPhone)/.test(userAgent);\n  fileApi = 'FormData' in window && 'FileReader' in window && 'URL' in window && !!$_9khkh7bjnlpawls.createObjectURL;\n  phone = matchMediaQuery('only screen and (max-device-width: 480px)') && (android || iDevice);\n  tablet = matchMediaQuery('only screen and (min-width: 800px)') && (android || iDevice);\n  windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n  if (ie12) {\n    webkit = false;\n  }\n  var contentEditable = !iDevice || fileApi || parseInt(userAgent.match(/AppleWebKit\\/(\\d*)/)[1], 10) >= 534;\n  var $_cseqobajnlpawll = {\n    opera: opera,\n    webkit: webkit,\n    ie: ie,\n    gecko: gecko,\n    mac: mac,\n    iOS: iDevice,\n    android: android,\n    contentEditable: contentEditable,\n    transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n    caretAfter: ie !== 8,\n    range: window.getSelection && 'Range' in window,\n    documentMode: ie && !ie12 ? document.documentMode || 7 : 10,\n    fileApi: fileApi,\n    ceFalse: ie === false || ie > 8,\n    cacheSuffix: null,\n    container: null,\n    overrideViewPort: null,\n    experimentalShadowDom: false,\n    canHaveCSP: ie === false || ie > 11,\n    desktop: !phone && !tablet,\n    windowsPhone: windowsPhone\n  };\n\n  var promise = function () {\n    function bind(fn, thisArg) {\n      return function () {\n        fn.apply(thisArg, arguments);\n      };\n    }\n    var isArray = Array.isArray || function (value) {\n      return Object.prototype.toString.call(value) === '[object Array]';\n    };\n    var Promise = function (fn) {\n      if (typeof this !== 'object') {\n        throw new TypeError('Promises must be constructed via new');\n      }\n      if (typeof fn !== 'function') {\n        throw new TypeError('not a function');\n      }\n      this._state = null;\n      this._value = null;\n      this._deferreds = [];\n      doResolve(fn, bind(resolve, this), bind(reject, this));\n    };\n    var asap = Promise.immediateFn || typeof setImmediate === 'function' && setImmediate || function (fn) {\n      setTimeout(fn, 1);\n    };\n    function handle(deferred) {\n      var me = this;\n      if (this._state === null) {\n        this._deferreds.push(deferred);\n        return;\n      }\n      asap(function () {\n        var cb = me._state ? deferred.onFulfilled : deferred.onRejected;\n        if (cb === null) {\n          (me._state ? deferred.resolve : deferred.reject)(me._value);\n          return;\n        }\n        var ret;\n        try {\n          ret = cb(me._value);\n        } catch (e) {\n          deferred.reject(e);\n          return;\n        }\n        deferred.resolve(ret);\n      });\n    }\n    function resolve(newValue) {\n      try {\n        if (newValue === this) {\n          throw new TypeError('A promise cannot be resolved with itself.');\n        }\n        if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n          var then = newValue.then;\n          if (typeof then === 'function') {\n            doResolve(bind(then, newValue), bind(resolve, this), bind(reject, this));\n            return;\n          }\n        }\n        this._state = true;\n        this._value = newValue;\n        finale.call(this);\n      } catch (e) {\n        reject.call(this, e);\n      }\n    }\n    function reject(newValue) {\n      this._state = false;\n      this._value = newValue;\n      finale.call(this);\n    }\n    function finale() {\n      for (var i = 0, len = this._deferreds.length; i < len; i++) {\n        handle.call(this, this._deferreds[i]);\n      }\n      this._deferreds = null;\n    }\n    function Handler(onFulfilled, onRejected, resolve, reject) {\n      this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n      this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n      this.resolve = resolve;\n      this.reject = reject;\n    }\n    function doResolve(fn, onFulfilled, onRejected) {\n      var done = false;\n      try {\n        fn(function (value) {\n          if (done) {\n            return;\n          }\n          done = true;\n          onFulfilled(value);\n        }, function (reason) {\n          if (done) {\n            return;\n          }\n          done = true;\n          onRejected(reason);\n        });\n      } catch (ex) {\n        if (done) {\n          return;\n        }\n        done = true;\n        onRejected(ex);\n      }\n    }\n    Promise.prototype.catch = function (onRejected) {\n      return this.then(null, onRejected);\n    };\n    Promise.prototype.then = function (onFulfilled, onRejected) {\n      var me = this;\n      return new Promise(function (resolve, reject) {\n        handle.call(me, new Handler(onFulfilled, onRejected, resolve, reject));\n      });\n    };\n    Promise.all = function () {\n      var args = Array.prototype.slice.call(arguments.length === 1 && isArray(arguments[0]) ? arguments[0] : arguments);\n      return new Promise(function (resolve, reject) {\n        if (args.length === 0) {\n          return resolve([]);\n        }\n        var remaining = args.length;\n        function res(i, val) {\n          try {\n            if (val && (typeof val === 'object' || typeof val === 'function')) {\n              var then = val.then;\n              if (typeof then === 'function') {\n                then.call(val, function (val) {\n                  res(i, val);\n                }, reject);\n                return;\n              }\n            }\n            args[i] = val;\n            if (--remaining === 0) {\n              resolve(args);\n            }\n          } catch (ex) {\n            reject(ex);\n          }\n        }\n        for (var i = 0; i < args.length; i++) {\n          res(i, args[i]);\n        }\n      });\n    };\n    Promise.resolve = function (value) {\n      if (value && typeof value === 'object' && value.constructor === Promise) {\n        return value;\n      }\n      return new Promise(function (resolve) {\n        resolve(value);\n      });\n    };\n    Promise.reject = function (value) {\n      return new Promise(function (resolve, reject) {\n        reject(value);\n      });\n    };\n    Promise.race = function (values) {\n      return new Promise(function (resolve, reject) {\n        for (var i = 0, len = values.length; i < len; i++) {\n          values[i].then(resolve, reject);\n        }\n      });\n    };\n    return Promise;\n  };\n  var promiseObj = window.Promise ? window.Promise : promise();\n\n  var requestAnimationFramePromise;\n  var requestAnimationFrame$$1 = function (callback, element) {\n    var i, requestAnimationFrameFunc = window.requestAnimationFrame;\n    var vendors = [\n      'ms',\n      'moz',\n      'webkit'\n    ];\n    var featurefill = function (callback) {\n      window.setTimeout(callback, 0);\n    };\n    for (i = 0; i < vendors.length && !requestAnimationFrameFunc; i++) {\n      requestAnimationFrameFunc = window[vendors[i] + 'RequestAnimationFrame'];\n    }\n    if (!requestAnimationFrameFunc) {\n      requestAnimationFrameFunc = featurefill;\n    }\n    requestAnimationFrameFunc(callback, element);\n  };\n  var wrappedSetTimeout = function (callback, time) {\n    if (typeof time !== 'number') {\n      time = 0;\n    }\n    return setTimeout(callback, time);\n  };\n  var wrappedSetInterval = function (callback, time) {\n    if (typeof time !== 'number') {\n      time = 1;\n    }\n    return setInterval(callback, time);\n  };\n  var wrappedClearTimeout = function (id) {\n    return clearTimeout(id);\n  };\n  var wrappedClearInterval = function (id) {\n    return clearInterval(id);\n  };\n  var debounce = function (callback, time) {\n    var timer, func;\n    func = function () {\n      var args = arguments;\n      clearTimeout(timer);\n      timer = wrappedSetTimeout(function () {\n        callback.apply(this, args);\n      }, time);\n    };\n    func.stop = function () {\n      clearTimeout(timer);\n    };\n    return func;\n  };\n  var $_2nbnh1ijnlpawpi = {\n    requestAnimationFrame: function (callback, element) {\n      if (requestAnimationFramePromise) {\n        requestAnimationFramePromise.then(callback);\n        return;\n      }\n      requestAnimationFramePromise = new promiseObj(function (resolve) {\n        if (!element) {\n          element = document.body;\n        }\n        requestAnimationFrame$$1(resolve, element);\n      }).then(callback);\n    },\n    setTimeout: wrappedSetTimeout,\n    setInterval: wrappedSetInterval,\n    setEditorTimeout: function (editor, callback, time) {\n      return wrappedSetTimeout(function () {\n        if (!editor.removed) {\n          callback();\n        }\n      }, time);\n    },\n    setEditorInterval: function (editor, callback, time) {\n      var timer;\n      timer = wrappedSetInterval(function () {\n        if (!editor.removed) {\n          callback();\n        } else {\n          clearInterval(timer);\n        }\n      }, time);\n      return timer;\n    },\n    debounce: debounce,\n    throttle: debounce,\n    clearInterval: wrappedClearInterval,\n    clearTimeout: wrappedClearTimeout\n  };\n\n  var eventExpandoPrefix = 'mce-data-';\n  var mouseEventRe = /^(?:mouse|contextmenu)|click/;\n  var deprecated = {\n    keyLocation: 1,\n    layerX: 1,\n    layerY: 1,\n    returnValue: 1,\n    webkitMovementX: 1,\n    webkitMovementY: 1,\n    keyIdentifier: 1\n  };\n  var hasIsDefaultPrevented = function (event$$1) {\n    return event$$1.isDefaultPrevented === returnTrue || event$$1.isDefaultPrevented === returnFalse;\n  };\n  var returnFalse = function () {\n    return false;\n  };\n  var returnTrue = function () {\n    return true;\n  };\n  var addEvent = function (target, name$$1, callback, capture) {\n    if (target.addEventListener) {\n      target.addEventListener(name$$1, callback, capture || false);\n    } else if (target.attachEvent) {\n      target.attachEvent('on' + name$$1, callback);\n    }\n  };\n  var removeEvent = function (target, name$$1, callback, capture) {\n    if (target.removeEventListener) {\n      target.removeEventListener(name$$1, callback, capture || false);\n    } else if (target.detachEvent) {\n      target.detachEvent('on' + name$$1, callback);\n    }\n  };\n  var getTargetFromShadowDom = function (event$$1, defaultTarget) {\n    if (event$$1.composedPath) {\n      var composedPath = event$$1.composedPath();\n      if (composedPath && composedPath.length > 0) {\n        return composedPath[0];\n      }\n    }\n    return defaultTarget;\n  };\n  var fix = function (originalEvent, data) {\n    var name$$1;\n    var event$$1 = data || {};\n    for (name$$1 in originalEvent) {\n      if (!deprecated[name$$1]) {\n        event$$1[name$$1] = originalEvent[name$$1];\n      }\n    }\n    if (!event$$1.target) {\n      event$$1.target = event$$1.srcElement || document;\n    }\n    if ($_cseqobajnlpawll.experimentalShadowDom) {\n      event$$1.target = getTargetFromShadowDom(originalEvent, event$$1.target);\n    }\n    if (originalEvent && mouseEventRe.test(originalEvent.type) && originalEvent.pageX === undefined && originalEvent.clientX !== undefined) {\n      var eventDoc = event$$1.target.ownerDocument || document;\n      var doc = eventDoc.documentElement;\n      var body = eventDoc.body;\n      event$$1.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event$$1.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    }\n    event$$1.preventDefault = function () {\n      event$$1.isDefaultPrevented = returnTrue;\n      if (originalEvent) {\n        if (originalEvent.preventDefault) {\n          originalEvent.preventDefault();\n        } else {\n          originalEvent.returnValue = false;\n        }\n      }\n    };\n    event$$1.stopPropagation = function () {\n      event$$1.isPropagationStopped = returnTrue;\n      if (originalEvent) {\n        if (originalEvent.stopPropagation) {\n          originalEvent.stopPropagation();\n        } else {\n          originalEvent.cancelBubble = true;\n        }\n      }\n    };\n    event$$1.stopImmediatePropagation = function () {\n      event$$1.isImmediatePropagationStopped = returnTrue;\n      event$$1.stopPropagation();\n    };\n    if (hasIsDefaultPrevented(event$$1) === false) {\n      event$$1.isDefaultPrevented = returnFalse;\n      event$$1.isPropagationStopped = returnFalse;\n      event$$1.isImmediatePropagationStopped = returnFalse;\n    }\n    if (typeof event$$1.metaKey === 'undefined') {\n      event$$1.metaKey = false;\n    }\n    return event$$1;\n  };\n  var bindOnReady = function (win, callback, eventUtils) {\n    var doc = win.document, event$$1 = { type: 'ready' };\n    if (eventUtils.domLoaded) {\n      callback(event$$1);\n      return;\n    }\n    var isDocReady = function () {\n      return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n    };\n    var readyHandler = function () {\n      if (!eventUtils.domLoaded) {\n        eventUtils.domLoaded = true;\n        callback(event$$1);\n      }\n    };\n    var waitForDomLoaded = function () {\n      if (isDocReady()) {\n        removeEvent(doc, 'readystatechange', waitForDomLoaded);\n        readyHandler();\n      }\n    };\n    var tryScroll = function () {\n      try {\n        doc.documentElement.doScroll('left');\n      } catch (ex) {\n        $_2nbnh1ijnlpawpi.setTimeout(tryScroll);\n        return;\n      }\n      readyHandler();\n    };\n    if (doc.addEventListener && !($_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie < 11)) {\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n    } else {\n      addEvent(doc, 'readystatechange', waitForDomLoaded);\n      if (doc.documentElement.doScroll && win.self === win.top) {\n        tryScroll();\n      }\n    }\n    addEvent(win, 'load', readyHandler);\n  };\n  var EventUtils = function () {\n    var self$$1 = this;\n    var events = {}, count, expando, hasFocusIn, hasMouseEnterLeave, mouseEnterLeave;\n    expando = eventExpandoPrefix + (+new Date()).toString(32);\n    hasMouseEnterLeave = 'onmouseenter' in document.documentElement;\n    hasFocusIn = 'onfocusin' in document.documentElement;\n    mouseEnterLeave = {\n      mouseenter: 'mouseover',\n      mouseleave: 'mouseout'\n    };\n    count = 1;\n    self$$1.domLoaded = false;\n    self$$1.events = events;\n    var executeHandlers = function (evt, id) {\n      var callbackList, i, l, callback;\n      var container = events[id];\n      callbackList = container && container[evt.type];\n      if (callbackList) {\n        for (i = 0, l = callbackList.length; i < l; i++) {\n          callback = callbackList[i];\n          if (callback && callback.func.call(callback.scope, evt) === false) {\n            evt.preventDefault();\n          }\n          if (evt.isImmediatePropagationStopped()) {\n            return;\n          }\n        }\n      }\n    };\n    self$$1.bind = function (target, names, callback, scope) {\n      var id, callbackList, i, name$$1, fakeName, nativeHandler, capture;\n      var win = window;\n      var defaultNativeHandler = function (evt) {\n        executeHandlers(fix(evt || win.event), id);\n      };\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return;\n      }\n      if (!target[expando]) {\n        id = count++;\n        target[expando] = id;\n        events[id] = {};\n      } else {\n        id = target[expando];\n      }\n      scope = scope || target;\n      names = names.split(' ');\n      i = names.length;\n      while (i--) {\n        name$$1 = names[i];\n        nativeHandler = defaultNativeHandler;\n        fakeName = capture = false;\n        if (name$$1 === 'DOMContentLoaded') {\n          name$$1 = 'ready';\n        }\n        if (self$$1.domLoaded && name$$1 === 'ready' && target.readyState === 'complete') {\n          callback.call(scope, fix({ type: name$$1 }));\n          continue;\n        }\n        if (!hasMouseEnterLeave) {\n          fakeName = mouseEnterLeave[name$$1];\n          if (fakeName) {\n            nativeHandler = function (evt) {\n              var current, related;\n              current = evt.currentTarget;\n              related = evt.relatedTarget;\n              if (related && current.contains) {\n                related = current.contains(related);\n              } else {\n                while (related && related !== current) {\n                  related = related.parentNode;\n                }\n              }\n              if (!related) {\n                evt = fix(evt || win.event);\n                evt.type = evt.type === 'mouseout' ? 'mouseleave' : 'mouseenter';\n                evt.target = current;\n                executeHandlers(evt, id);\n              }\n            };\n          }\n        }\n        if (!hasFocusIn && (name$$1 === 'focusin' || name$$1 === 'focusout')) {\n          capture = true;\n          fakeName = name$$1 === 'focusin' ? 'focus' : 'blur';\n          nativeHandler = function (evt) {\n            evt = fix(evt || win.event);\n            evt.type = evt.type === 'focus' ? 'focusin' : 'focusout';\n            executeHandlers(evt, id);\n          };\n        }\n        callbackList = events[id][name$$1];\n        if (!callbackList) {\n          events[id][name$$1] = callbackList = [{\n              func: callback,\n              scope: scope\n            }];\n          callbackList.fakeName = fakeName;\n          callbackList.capture = capture;\n          callbackList.nativeHandler = nativeHandler;\n          if (name$$1 === 'ready') {\n            bindOnReady(target, nativeHandler, self$$1);\n          } else {\n            addEvent(target, fakeName || name$$1, nativeHandler, capture);\n          }\n        } else {\n          if (name$$1 === 'ready' && self$$1.domLoaded) {\n            callback({ type: name$$1 });\n          } else {\n            callbackList.push({\n              func: callback,\n              scope: scope\n            });\n          }\n        }\n      }\n      target = callbackList = 0;\n      return callback;\n    };\n    self$$1.unbind = function (target, names, callback) {\n      var id, callbackList, i, ci, name$$1, eventMap;\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return self$$1;\n      }\n      id = target[expando];\n      if (id) {\n        eventMap = events[id];\n        if (names) {\n          names = names.split(' ');\n          i = names.length;\n          while (i--) {\n            name$$1 = names[i];\n            callbackList = eventMap[name$$1];\n            if (callbackList) {\n              if (callback) {\n                ci = callbackList.length;\n                while (ci--) {\n                  if (callbackList[ci].func === callback) {\n                    var nativeHandler = callbackList.nativeHandler;\n                    var fakeName = callbackList.fakeName, capture = callbackList.capture;\n                    callbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                    callbackList.nativeHandler = nativeHandler;\n                    callbackList.fakeName = fakeName;\n                    callbackList.capture = capture;\n                    eventMap[name$$1] = callbackList;\n                  }\n                }\n              }\n              if (!callback || callbackList.length === 0) {\n                delete eventMap[name$$1];\n                removeEvent(target, callbackList.fakeName || name$$1, callbackList.nativeHandler, callbackList.capture);\n              }\n            }\n          }\n        } else {\n          for (name$$1 in eventMap) {\n            callbackList = eventMap[name$$1];\n            removeEvent(target, callbackList.fakeName || name$$1, callbackList.nativeHandler, callbackList.capture);\n          }\n          eventMap = {};\n        }\n        for (name$$1 in eventMap) {\n          return self$$1;\n        }\n        delete events[id];\n        try {\n          delete target[expando];\n        } catch (ex) {\n          target[expando] = null;\n        }\n      }\n      return self$$1;\n    };\n    self$$1.fire = function (target, name$$1, args) {\n      var id;\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return self$$1;\n      }\n      args = fix(null, args);\n      args.type = name$$1;\n      args.target = target;\n      do {\n        id = target[expando];\n        if (id) {\n          executeHandlers(args, id);\n        }\n        target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n      } while (target && !args.isPropagationStopped());\n      return self$$1;\n    };\n    self$$1.clean = function (target) {\n      var i, children;\n      var unbind = self$$1.unbind;\n      if (!target || target.nodeType === 3 || target.nodeType === 8) {\n        return self$$1;\n      }\n      if (target[expando]) {\n        unbind(target);\n      }\n      if (!target.getElementsByTagName) {\n        target = target.document;\n      }\n      if (target && target.getElementsByTagName) {\n        unbind(target);\n        children = target.getElementsByTagName('*');\n        i = children.length;\n        while (i--) {\n          target = children[i];\n          if (target[expando]) {\n            unbind(target);\n          }\n        }\n      }\n      return self$$1;\n    };\n    self$$1.destroy = function () {\n      events = {};\n    };\n    self$$1.cancel = function (e) {\n      if (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n      }\n      return false;\n    };\n  };\n  EventUtils.Event = new EventUtils();\n  EventUtils.Event.bind(window, 'ready', function () {\n  });\n\n  var i;\n  var support;\n  var Expr;\n  var getText;\n  var isXML;\n  var tokenize;\n  var compile;\n  var select;\n  var outermostContext;\n  var sortInput;\n  var hasDuplicate;\n  var setDocument;\n  var document$1;\n  var docElem;\n  var documentIsHTML;\n  var rbuggyQSA;\n  var rbuggyMatches;\n  var matches;\n  var contains$1;\n  var expando = 'sizzle' + -new Date();\n  var preferredDoc = window.document;\n  var dirruns = 0;\n  var done = 0;\n  var classCache = createCache();\n  var tokenCache = createCache();\n  var compilerCache = createCache();\n  var sortOrder = function (a, b) {\n      if (a === b) {\n        hasDuplicate = true;\n      }\n      return 0;\n    };\n  var strundefined = typeof undefined;\n  var MAX_NEGATIVE = 1 << 31;\n  var hasOwn = {}.hasOwnProperty;\n  var arr = [];\n  var pop = arr.pop;\n  var push_native = arr.push;\n  var push$1 = arr.push;\n  var slice$1 = arr.slice;\n  var indexOf$1 = arr.indexOf || function (elem) {\n      var i = 0, len = this.length;\n      for (; i < len; i++) {\n        if (this[i] === elem) {\n          return i;\n        }\n      }\n      return -1;\n    };\n  var booleans = 'checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped';\n  var whitespace = '[\\\\x20\\\\t\\\\r\\\\n\\\\f]';\n  var identifier = '(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+';\n  var attributes = '\\\\[' + whitespace + '*(' + identifier + ')(?:' + whitespace + '*([*^$|!~]?=)' + whitespace + '*(?:\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\"|(' + identifier + '))|)' + whitespace + '*\\\\]';\n  var pseudos = ':(' + identifier + ')(?:\\\\((' + '(\\'((?:\\\\\\\\.|[^\\\\\\\\\\'])*)\\'|\"((?:\\\\\\\\.|[^\\\\\\\\\"])*)\")|' + '((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|' + attributes + ')*)|' + '.*' + ')\\\\)|)';\n  var rtrim = new RegExp('^' + whitespace + '+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)' + whitespace + '+$', 'g');\n  var rcomma = new RegExp('^' + whitespace + '*,' + whitespace + '*');\n  var rcombinators = new RegExp('^' + whitespace + '*([>+~]|' + whitespace + ')' + whitespace + '*');\n  var rattributeQuotes = new RegExp('=' + whitespace + '*([^\\\\]\\'\"]*?)' + whitespace + '*\\\\]', 'g');\n  var rpseudo = new RegExp(pseudos);\n  var ridentifier = new RegExp('^' + identifier + '$');\n  var matchExpr = {\n      ID: new RegExp('^#(' + identifier + ')'),\n      CLASS: new RegExp('^\\\\.(' + identifier + ')'),\n      TAG: new RegExp('^(' + identifier + '|[*])'),\n      ATTR: new RegExp('^' + attributes),\n      PSEUDO: new RegExp('^' + pseudos),\n      CHILD: new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(' + whitespace + '*(even|odd|(([+-]|)(\\\\d*)n|)' + whitespace + '*(?:([+-]|)' + whitespace + '*(\\\\d+)|))' + whitespace + '*\\\\)|)', 'i'),\n      bool: new RegExp('^(?:' + booleans + ')$', 'i'),\n      needsContext: new RegExp('^' + whitespace + '*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(' + whitespace + '*((?:-\\\\d)?\\\\d*)' + whitespace + '*\\\\)|)(?=[^-]|$)', 'i')\n    };\n  var rinputs = /^(?:input|select|textarea|button)$/i;\n  var rheader = /^h\\d$/i;\n  var rnative = /^[^{]+\\{\\s*\\[native \\w/;\n  var rquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/;\n  var rsibling = /[+~]/;\n  var rescape = /'|\\\\/g;\n  var runescape = new RegExp('\\\\\\\\([\\\\da-f]{1,6}' + whitespace + '?|(' + whitespace + ')|.)', 'ig');\n  var funescape = function (_, escaped, escapedWhitespace) {\n      var high = '0x' + escaped - 65536;\n      return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);\n    };\n  try {\n    push$1.apply(arr = slice$1.call(preferredDoc.childNodes), preferredDoc.childNodes);\n    arr[preferredDoc.childNodes.length].nodeType;\n  } catch (e) {\n    push$1 = {\n      apply: arr.length ? function (target, els) {\n        push_native.apply(target, slice$1.call(els));\n      } : function (target, els) {\n        var j = target.length, i = 0;\n        while (target[j++] = els[i++]) {\n        }\n        target.length = j - 1;\n      }\n    };\n  }\n  var Sizzle = function (selector, context, results, seed) {\n    var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;\n    if ((context ? context.ownerDocument || context : preferredDoc) !== document$1) {\n      setDocument(context);\n    }\n    context = context || document$1;\n    results = results || [];\n    if (!selector || typeof selector !== 'string') {\n      return results;\n    }\n    if ((nodeType = context.nodeType) !== 1 && nodeType !== 9) {\n      return [];\n    }\n    if (documentIsHTML && !seed) {\n      if (match = rquickExpr.exec(selector)) {\n        if (m = match[1]) {\n          if (nodeType === 9) {\n            elem = context.getElementById(m);\n            if (elem && elem.parentNode) {\n              if (elem.id === m) {\n                results.push(elem);\n                return results;\n              }\n            } else {\n              return results;\n            }\n          } else {\n            if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains$1(context, elem) && elem.id === m) {\n              results.push(elem);\n              return results;\n            }\n          }\n        } else if (match[2]) {\n          push$1.apply(results, context.getElementsByTagName(selector));\n          return results;\n        } else if ((m = match[3]) && support.getElementsByClassName) {\n          push$1.apply(results, context.getElementsByClassName(m));\n          return results;\n        }\n      }\n      if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {\n        nid = old = expando;\n        newContext = context;\n        newSelector = nodeType === 9 && selector;\n        if (nodeType === 1 && context.nodeName.toLowerCase() !== 'object') {\n          groups = tokenize(selector);\n          if (old = context.getAttribute('id')) {\n            nid = old.replace(rescape, '\\\\$&');\n          } else {\n            context.setAttribute('id', nid);\n          }\n          nid = '[id=\\'' + nid + '\\'] ';\n          i = groups.length;\n          while (i--) {\n            groups[i] = nid + toSelector(groups[i]);\n          }\n          newContext = rsibling.test(selector) && testContext(context.parentNode) || context;\n          newSelector = groups.join(',');\n        }\n        if (newSelector) {\n          try {\n            push$1.apply(results, newContext.querySelectorAll(newSelector));\n            return results;\n          } catch (qsaError) {\n          } finally {\n            if (!old) {\n              context.removeAttribute('id');\n            }\n          }\n        }\n      }\n    }\n    return select(selector.replace(rtrim, '$1'), context, results, seed);\n  };\n  function createCache() {\n    var keys = [];\n    function cache(key, value) {\n      if (keys.push(key + ' ') > Expr.cacheLength) {\n        delete cache[keys.shift()];\n      }\n      return cache[key + ' '] = value;\n    }\n    return cache;\n  }\n  function markFunction(fn) {\n    fn[expando] = true;\n    return fn;\n  }\n  function siblingCheck(a, b) {\n    var cur = b && a, diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);\n    if (diff) {\n      return diff;\n    }\n    if (cur) {\n      while (cur = cur.nextSibling) {\n        if (cur === b) {\n          return -1;\n        }\n      }\n    }\n    return a ? 1 : -1;\n  }\n  function createInputPseudo(type) {\n    return function (elem) {\n      var name$$1 = elem.nodeName.toLowerCase();\n      return name$$1 === 'input' && elem.type === type;\n    };\n  }\n  function createButtonPseudo(type) {\n    return function (elem) {\n      var name$$1 = elem.nodeName.toLowerCase();\n      return (name$$1 === 'input' || name$$1 === 'button') && elem.type === type;\n    };\n  }\n  function createPositionalPseudo(fn) {\n    return markFunction(function (argument) {\n      argument = +argument;\n      return markFunction(function (seed, matches) {\n        var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;\n        while (i--) {\n          if (seed[j = matchIndexes[i]]) {\n            seed[j] = !(matches[j] = seed[j]);\n          }\n        }\n      });\n    });\n  }\n  function testContext(context) {\n    return context && typeof context.getElementsByTagName !== strundefined && context;\n  }\n  support = Sizzle.support = {};\n  isXML = Sizzle.isXML = function (elem) {\n    var documentElement = elem && (elem.ownerDocument || elem).documentElement;\n    return documentElement ? documentElement.nodeName !== 'HTML' : false;\n  };\n  setDocument = Sizzle.setDocument = function (node) {\n    var hasCompare, doc = node ? node.ownerDocument || node : preferredDoc, parent$$1 = doc.defaultView;\n    function getTop(win) {\n      try {\n        return win.top;\n      } catch (ex) {\n      }\n      return null;\n    }\n    if (doc === document$1 || doc.nodeType !== 9 || !doc.documentElement) {\n      return document$1;\n    }\n    document$1 = doc;\n    docElem = doc.documentElement;\n    documentIsHTML = !isXML(doc);\n    if (parent$$1 && parent$$1 !== getTop(parent$$1)) {\n      if (parent$$1.addEventListener) {\n        parent$$1.addEventListener('unload', function () {\n          setDocument();\n        }, false);\n      } else if (parent$$1.attachEvent) {\n        parent$$1.attachEvent('onunload', function () {\n          setDocument();\n        });\n      }\n    }\n    support.attributes = true;\n    support.getElementsByTagName = true;\n    support.getElementsByClassName = rnative.test(doc.getElementsByClassName);\n    support.getById = true;\n    Expr.find.ID = function (id, context) {\n      if (typeof context.getElementById !== strundefined && documentIsHTML) {\n        var m = context.getElementById(id);\n        return m && m.parentNode ? [m] : [];\n      }\n    };\n    Expr.filter.ID = function (id) {\n      var attrId = id.replace(runescape, funescape);\n      return function (elem) {\n        return elem.getAttribute('id') === attrId;\n      };\n    };\n    Expr.find.TAG = support.getElementsByTagName ? function (tag, context) {\n      if (typeof context.getElementsByTagName !== strundefined) {\n        return context.getElementsByTagName(tag);\n      }\n    } : function (tag, context) {\n      var elem, tmp = [], i = 0, results = context.getElementsByTagName(tag);\n      if (tag === '*') {\n        while (elem = results[i++]) {\n          if (elem.nodeType === 1) {\n            tmp.push(elem);\n          }\n        }\n        return tmp;\n      }\n      return results;\n    };\n    Expr.find.CLASS = support.getElementsByClassName && function (className, context) {\n      if (documentIsHTML) {\n        return context.getElementsByClassName(className);\n      }\n    };\n    rbuggyMatches = [];\n    rbuggyQSA = [];\n    support.disconnectedMatch = true;\n    rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join('|'));\n    rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join('|'));\n    hasCompare = rnative.test(docElem.compareDocumentPosition);\n    contains$1 = hasCompare || rnative.test(docElem.contains) ? function (a, b) {\n      var adown = a.nodeType === 9 ? a.documentElement : a, bup = b && b.parentNode;\n      return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));\n    } : function (a, b) {\n      if (b) {\n        while (b = b.parentNode) {\n          if (b === a) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    sortOrder = hasCompare ? function (a, b) {\n      if (a === b) {\n        hasDuplicate = true;\n        return 0;\n      }\n      var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\n      if (compare) {\n        return compare;\n      }\n      compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;\n      if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {\n        if (a === doc || a.ownerDocument === preferredDoc && contains$1(preferredDoc, a)) {\n          return -1;\n        }\n        if (b === doc || b.ownerDocument === preferredDoc && contains$1(preferredDoc, b)) {\n          return 1;\n        }\n        return sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\n      }\n      return compare & 4 ? -1 : 1;\n    } : function (a, b) {\n      if (a === b) {\n        hasDuplicate = true;\n        return 0;\n      }\n      var cur, i = 0, aup = a.parentNode, bup = b.parentNode, ap = [a], bp = [b];\n      if (!aup || !bup) {\n        return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf$1.call(sortInput, a) - indexOf$1.call(sortInput, b) : 0;\n      } else if (aup === bup) {\n        return siblingCheck(a, b);\n      }\n      cur = a;\n      while (cur = cur.parentNode) {\n        ap.unshift(cur);\n      }\n      cur = b;\n      while (cur = cur.parentNode) {\n        bp.unshift(cur);\n      }\n      while (ap[i] === bp[i]) {\n        i++;\n      }\n      return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0;\n    };\n    return doc;\n  };\n  Sizzle.matches = function (expr, elements) {\n    return Sizzle(expr, null, null, elements);\n  };\n  Sizzle.matchesSelector = function (elem, expr) {\n    if ((elem.ownerDocument || elem) !== document$1) {\n      setDocument(elem);\n    }\n    expr = expr.replace(rattributeQuotes, '=\\'$1\\']');\n    if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {\n      try {\n        var ret = matches.call(elem, expr);\n        if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {\n          return ret;\n        }\n      } catch (e) {\n      }\n    }\n    return Sizzle(expr, document$1, null, [elem]).length > 0;\n  };\n  Sizzle.contains = function (context, elem) {\n    if ((context.ownerDocument || context) !== document$1) {\n      setDocument(context);\n    }\n    return contains$1(context, elem);\n  };\n  Sizzle.attr = function (elem, name$$1) {\n    if ((elem.ownerDocument || elem) !== document$1) {\n      setDocument(elem);\n    }\n    var fn = Expr.attrHandle[name$$1.toLowerCase()], val = fn && hasOwn.call(Expr.attrHandle, name$$1.toLowerCase()) ? fn(elem, name$$1, !documentIsHTML) : undefined;\n    return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name$$1) : (val = elem.getAttributeNode(name$$1)) && val.specified ? val.value : null;\n  };\n  Sizzle.error = function (msg) {\n    throw new Error('Syntax error, unrecognized expression: ' + msg);\n  };\n  Sizzle.uniqueSort = function (results) {\n    var elem, duplicates = [], j = 0, i = 0;\n    hasDuplicate = !support.detectDuplicates;\n    sortInput = !support.sortStable && results.slice(0);\n    results.sort(sortOrder);\n    if (hasDuplicate) {\n      while (elem = results[i++]) {\n        if (elem === results[i]) {\n          j = duplicates.push(i);\n        }\n      }\n      while (j--) {\n        results.splice(duplicates[j], 1);\n      }\n    }\n    sortInput = null;\n    return results;\n  };\n  getText = Sizzle.getText = function (elem) {\n    var node, ret = '', i = 0, nodeType = elem.nodeType;\n    if (!nodeType) {\n      while (node = elem[i++]) {\n        ret += getText(node);\n      }\n    } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {\n      if (typeof elem.textContent === 'string') {\n        return elem.textContent;\n      } else {\n        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n          ret += getText(elem);\n        }\n      }\n    } else if (nodeType === 3 || nodeType === 4) {\n      return elem.nodeValue;\n    }\n    return ret;\n  };\n  Expr = Sizzle.selectors = {\n    cacheLength: 50,\n    createPseudo: markFunction,\n    match: matchExpr,\n    attrHandle: {},\n    find: {},\n    relative: {\n      '>': {\n        dir: 'parentNode',\n        first: true\n      },\n      ' ': { dir: 'parentNode' },\n      '+': {\n        dir: 'previousSibling',\n        first: true\n      },\n      '~': { dir: 'previousSibling' }\n    },\n    preFilter: {\n      ATTR: function (match) {\n        match[1] = match[1].replace(runescape, funescape);\n        match[3] = (match[3] || match[4] || match[5] || '').replace(runescape, funescape);\n        if (match[2] === '~=') {\n          match[3] = ' ' + match[3] + ' ';\n        }\n        return match.slice(0, 4);\n      },\n      CHILD: function (match) {\n        match[1] = match[1].toLowerCase();\n        if (match[1].slice(0, 3) === 'nth') {\n          if (!match[3]) {\n            Sizzle.error(match[0]);\n          }\n          match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === 'even' || match[3] === 'odd'));\n          match[5] = +(match[7] + match[8] || match[3] === 'odd');\n        } else if (match[3]) {\n          Sizzle.error(match[0]);\n        }\n        return match;\n      },\n      PSEUDO: function (match) {\n        var excess, unquoted = !match[6] && match[2];\n        if (matchExpr.CHILD.test(match[0])) {\n          return null;\n        }\n        if (match[3]) {\n          match[2] = match[4] || match[5] || '';\n        } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(')', unquoted.length - excess) - unquoted.length)) {\n          match[0] = match[0].slice(0, excess);\n          match[2] = unquoted.slice(0, excess);\n        }\n        return match.slice(0, 3);\n      }\n    },\n    filter: {\n      TAG: function (nodeNameSelector) {\n        var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();\n        return nodeNameSelector === '*' ? function () {\n          return true;\n        } : function (elem) {\n          return elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\n        };\n      },\n      CLASS: function (className) {\n        var pattern = classCache[className + ' '];\n        return pattern || (pattern = new RegExp('(^|' + whitespace + ')' + className + '(' + whitespace + '|$)')) && classCache(className, function (elem) {\n          return pattern.test(typeof elem.className === 'string' && elem.className || typeof elem.getAttribute !== strundefined && elem.getAttribute('class') || '');\n        });\n      },\n      ATTR: function (name$$1, operator, check) {\n        return function (elem) {\n          var result = Sizzle.attr(elem, name$$1);\n          if (result == null) {\n            return operator === '!=';\n          }\n          if (!operator) {\n            return true;\n          }\n          result += '';\n          return operator === '=' ? result === check : operator === '!=' ? result !== check : operator === '^=' ? check && result.indexOf(check) === 0 : operator === '*=' ? check && result.indexOf(check) > -1 : operator === '$=' ? check && result.slice(-check.length) === check : operator === '~=' ? (' ' + result + ' ').indexOf(check) > -1 : operator === '|=' ? result === check || result.slice(0, check.length + 1) === check + '-' : false;\n        };\n      },\n      CHILD: function (type, what, argument, first, last) {\n        var simple = type.slice(0, 3) !== 'nth', forward = type.slice(-4) !== 'last', ofType = what === 'of-type';\n        return first === 1 && last === 0 ? function (elem) {\n          return !!elem.parentNode;\n        } : function (elem, context, xml) {\n          var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? 'nextSibling' : 'previousSibling', parent$$1 = elem.parentNode, name$$1 = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType;\n          if (parent$$1) {\n            if (simple) {\n              while (dir) {\n                node = elem;\n                while (node = node[dir]) {\n                  if (ofType ? node.nodeName.toLowerCase() === name$$1 : node.nodeType === 1) {\n                    return false;\n                  }\n                }\n                start = dir = type === 'only' && !start && 'nextSibling';\n              }\n              return true;\n            }\n            start = [forward ? parent$$1.firstChild : parent$$1.lastChild];\n            if (forward && useCache) {\n              outerCache = parent$$1[expando] || (parent$$1[expando] = {});\n              cache = outerCache[type] || [];\n              nodeIndex = cache[0] === dirruns && cache[1];\n              diff = cache[0] === dirruns && cache[2];\n              node = nodeIndex && parent$$1.childNodes[nodeIndex];\n              while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                if (node.nodeType === 1 && ++diff && node === elem) {\n                  outerCache[type] = [\n                    dirruns,\n                    nodeIndex,\n                    diff\n                  ];\n                  break;\n                }\n              }\n            } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {\n              diff = cache[1];\n            } else {\n              while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {\n                if ((ofType ? node.nodeName.toLowerCase() === name$$1 : node.nodeType === 1) && ++diff) {\n                  if (useCache) {\n                    (node[expando] || (node[expando] = {}))[type] = [\n                      dirruns,\n                      diff\n                    ];\n                  }\n                  if (node === elem) {\n                    break;\n                  }\n                }\n              }\n            }\n            diff -= last;\n            return diff === first || diff % first === 0 && diff / first >= 0;\n          }\n        };\n      },\n      PSEUDO: function (pseudo, argument) {\n        var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error('unsupported pseudo: ' + pseudo);\n        if (fn[expando]) {\n          return fn(argument);\n        }\n        if (fn.length > 1) {\n          args = [\n            pseudo,\n            pseudo,\n            '',\n            argument\n          ];\n          return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function (seed, matches) {\n            var idx, matched = fn(seed, argument), i = matched.length;\n            while (i--) {\n              idx = indexOf$1.call(seed, matched[i]);\n              seed[idx] = !(matches[idx] = matched[i]);\n            }\n          }) : function (elem) {\n            return fn(elem, 0, args);\n          };\n        }\n        return fn;\n      }\n    },\n    pseudos: {\n      not: markFunction(function (selector) {\n        var input = [], results = [], matcher = compile(selector.replace(rtrim, '$1'));\n        return matcher[expando] ? markFunction(function (seed, matches, context, xml) {\n          var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;\n          while (i--) {\n            if (elem = unmatched[i]) {\n              seed[i] = !(matches[i] = elem);\n            }\n          }\n        }) : function (elem, context, xml) {\n          input[0] = elem;\n          matcher(input, null, xml, results);\n          return !results.pop();\n        };\n      }),\n      has: markFunction(function (selector) {\n        return function (elem) {\n          return Sizzle(selector, elem).length > 0;\n        };\n      }),\n      contains: markFunction(function (text) {\n        text = text.replace(runescape, funescape);\n        return function (elem) {\n          return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1;\n        };\n      }),\n      lang: markFunction(function (lang) {\n        if (!ridentifier.test(lang || '')) {\n          Sizzle.error('unsupported lang: ' + lang);\n        }\n        lang = lang.replace(runescape, funescape).toLowerCase();\n        return function (elem) {\n          var elemLang;\n          do {\n            if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute('xml:lang') || elem.getAttribute('lang')) {\n              elemLang = elemLang.toLowerCase();\n              return elemLang === lang || elemLang.indexOf(lang + '-') === 0;\n            }\n          } while ((elem = elem.parentNode) && elem.nodeType === 1);\n          return false;\n        };\n      }),\n      target: function (elem) {\n        var hash = window.location && window.location.hash;\n        return hash && hash.slice(1) === elem.id;\n      },\n      root: function (elem) {\n        return elem === docElem;\n      },\n      focus: function (elem) {\n        return elem === document$1.activeElement && (!document$1.hasFocus || document$1.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\n      },\n      enabled: function (elem) {\n        return elem.disabled === false;\n      },\n      disabled: function (elem) {\n        return elem.disabled === true;\n      },\n      checked: function (elem) {\n        var nodeName = elem.nodeName.toLowerCase();\n        return nodeName === 'input' && !!elem.checked || nodeName === 'option' && !!elem.selected;\n      },\n      selected: function (elem) {\n        if (elem.parentNode) {\n          elem.parentNode.selectedIndex;\n        }\n        return elem.selected === true;\n      },\n      empty: function (elem) {\n        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {\n          if (elem.nodeType < 6) {\n            return false;\n          }\n        }\n        return true;\n      },\n      parent: function (elem) {\n        return !Expr.pseudos.empty(elem);\n      },\n      header: function (elem) {\n        return rheader.test(elem.nodeName);\n      },\n      input: function (elem) {\n        return rinputs.test(elem.nodeName);\n      },\n      button: function (elem) {\n        var name$$1 = elem.nodeName.toLowerCase();\n        return name$$1 === 'input' && elem.type === 'button' || name$$1 === 'button';\n      },\n      text: function (elem) {\n        var attr;\n        return elem.nodeName.toLowerCase() === 'input' && elem.type === 'text' && ((attr = elem.getAttribute('type')) == null || attr.toLowerCase() === 'text');\n      },\n      first: createPositionalPseudo(function () {\n        return [0];\n      }),\n      last: createPositionalPseudo(function (matchIndexes, length$$1) {\n        return [length$$1 - 1];\n      }),\n      eq: createPositionalPseudo(function (matchIndexes, length$$1, argument) {\n        return [argument < 0 ? argument + length$$1 : argument];\n      }),\n      even: createPositionalPseudo(function (matchIndexes, length$$1) {\n        var i = 0;\n        for (; i < length$$1; i += 2) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      }),\n      odd: createPositionalPseudo(function (matchIndexes, length$$1) {\n        var i = 1;\n        for (; i < length$$1; i += 2) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      }),\n      lt: createPositionalPseudo(function (matchIndexes, length$$1, argument) {\n        var i = argument < 0 ? argument + length$$1 : argument;\n        for (; --i >= 0;) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      }),\n      gt: createPositionalPseudo(function (matchIndexes, length$$1, argument) {\n        var i = argument < 0 ? argument + length$$1 : argument;\n        for (; ++i < length$$1;) {\n          matchIndexes.push(i);\n        }\n        return matchIndexes;\n      })\n    }\n  };\n  Expr.pseudos.nth = Expr.pseudos.eq;\n  for (i in {\n      radio: true,\n      checkbox: true,\n      file: true,\n      password: true,\n      image: true\n    }) {\n    Expr.pseudos[i] = createInputPseudo(i);\n  }\n  for (i in {\n      submit: true,\n      reset: true\n    }) {\n    Expr.pseudos[i] = createButtonPseudo(i);\n  }\n  function setFilters() {\n  }\n  setFilters.prototype = Expr.filters = Expr.pseudos;\n  Expr.setFilters = new setFilters();\n  tokenize = Sizzle.tokenize = function (selector, parseOnly) {\n    var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + ' '];\n    if (cached) {\n      return parseOnly ? 0 : cached.slice(0);\n    }\n    soFar = selector;\n    groups = [];\n    preFilters = Expr.preFilter;\n    while (soFar) {\n      if (!matched || (match = rcomma.exec(soFar))) {\n        if (match) {\n          soFar = soFar.slice(match[0].length) || soFar;\n        }\n        groups.push(tokens = []);\n      }\n      matched = false;\n      if (match = rcombinators.exec(soFar)) {\n        matched = match.shift();\n        tokens.push({\n          value: matched,\n          type: match[0].replace(rtrim, ' ')\n        });\n        soFar = soFar.slice(matched.length);\n      }\n      for (type in Expr.filter) {\n        if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {\n          matched = match.shift();\n          tokens.push({\n            value: matched,\n            type: type,\n            matches: match\n          });\n          soFar = soFar.slice(matched.length);\n        }\n      }\n      if (!matched) {\n        break;\n      }\n    }\n    return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0);\n  };\n  function toSelector(tokens) {\n    var i = 0, len = tokens.length, selector = '';\n    for (; i < len; i++) {\n      selector += tokens[i].value;\n    }\n    return selector;\n  }\n  function addCombinator(matcher, combinator, base) {\n    var dir = combinator.dir, checkNonElements = base && dir === 'parentNode', doneName = done++;\n    return combinator.first ? function (elem, context, xml) {\n      while (elem = elem[dir]) {\n        if (elem.nodeType === 1 || checkNonElements) {\n          return matcher(elem, context, xml);\n        }\n      }\n    } : function (elem, context, xml) {\n      var oldCache, outerCache, newCache = [\n          dirruns,\n          doneName\n        ];\n      if (xml) {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            if (matcher(elem, context, xml)) {\n              return true;\n            }\n          }\n        }\n      } else {\n        while (elem = elem[dir]) {\n          if (elem.nodeType === 1 || checkNonElements) {\n            outerCache = elem[expando] || (elem[expando] = {});\n            if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {\n              return newCache[2] = oldCache[2];\n            } else {\n              outerCache[dir] = newCache;\n              if (newCache[2] = matcher(elem, context, xml)) {\n                return true;\n              }\n            }\n          }\n        }\n      }\n    };\n  }\n  function elementMatcher(matchers) {\n    return matchers.length > 1 ? function (elem, context, xml) {\n      var i = matchers.length;\n      while (i--) {\n        if (!matchers[i](elem, context, xml)) {\n          return false;\n        }\n      }\n      return true;\n    } : matchers[0];\n  }\n  function multipleContexts(selector, contexts, results) {\n    var i = 0, len = contexts.length;\n    for (; i < len; i++) {\n      Sizzle(selector, contexts[i], results);\n    }\n    return results;\n  }\n  function condense(unmatched, map, filter, context, xml) {\n    var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;\n    for (; i < len; i++) {\n      if (elem = unmatched[i]) {\n        if (!filter || filter(elem, context, xml)) {\n          newUnmatched.push(elem);\n          if (mapped) {\n            map.push(i);\n          }\n        }\n      }\n    }\n    return newUnmatched;\n  }\n  function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {\n    if (postFilter && !postFilter[expando]) {\n      postFilter = setMatcher(postFilter);\n    }\n    if (postFinder && !postFinder[expando]) {\n      postFinder = setMatcher(postFinder, postSelector);\n    }\n    return markFunction(function (seed, results, context, xml) {\n      var temp, i, elem, preMap = [], postMap = [], preexisting = results.length, elems = seed || multipleContexts(selector || '*', context.nodeType ? [context] : context, []), matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems, matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;\n      if (matcher) {\n        matcher(matcherIn, matcherOut, context, xml);\n      }\n      if (postFilter) {\n        temp = condense(matcherOut, postMap);\n        postFilter(temp, [], context, xml);\n        i = temp.length;\n        while (i--) {\n          if (elem = temp[i]) {\n            matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);\n          }\n        }\n      }\n      if (seed) {\n        if (postFinder || preFilter) {\n          if (postFinder) {\n            temp = [];\n            i = matcherOut.length;\n            while (i--) {\n              if (elem = matcherOut[i]) {\n                temp.push(matcherIn[i] = elem);\n              }\n            }\n            postFinder(null, matcherOut = [], temp, xml);\n          }\n          i = matcherOut.length;\n          while (i--) {\n            if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf$1.call(seed, elem) : preMap[i]) > -1) {\n              seed[temp] = !(results[temp] = elem);\n            }\n          }\n        }\n      } else {\n        matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);\n        if (postFinder) {\n          postFinder(null, results, matcherOut, xml);\n        } else {\n          push$1.apply(results, matcherOut);\n        }\n      }\n    });\n  }\n  function matcherFromTokens(tokens) {\n    var checkContext, matcher, j, len = tokens.length, leadingRelative = Expr.relative[tokens[0].type], implicitRelative = leadingRelative || Expr.relative[' '], i = leadingRelative ? 1 : 0, matchContext = addCombinator(function (elem) {\n        return elem === checkContext;\n      }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {\n        return indexOf$1.call(checkContext, elem) > -1;\n      }, implicitRelative, true), matchers = [function (elem, context, xml) {\n          return !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));\n        }];\n    for (; i < len; i++) {\n      if (matcher = Expr.relative[tokens[i].type]) {\n        matchers = [addCombinator(elementMatcher(matchers), matcher)];\n      } else {\n        matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);\n        if (matcher[expando]) {\n          j = ++i;\n          for (; j < len; j++) {\n            if (Expr.relative[tokens[j].type]) {\n              break;\n            }\n          }\n          return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({ value: tokens[i - 2].type === ' ' ? '*' : '' })).replace(rtrim, '$1'), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens));\n        }\n        matchers.push(matcher);\n      }\n    }\n    return elementMatcher(matchers);\n  }\n  function matcherFromGroupMatchers(elementMatchers, setMatchers) {\n    var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {\n        var elem, j, matcher, matchedCount = 0, i = '0', unmatched = seed && [], setMatched = [], contextBackup = outermostContext, elems = seed || byElement && Expr.find.TAG('*', outermost), dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || 0.1, len = elems.length;\n        if (outermost) {\n          outermostContext = context !== document$1 && context;\n        }\n        for (; i !== len && (elem = elems[i]) != null; i++) {\n          if (byElement && elem) {\n            j = 0;\n            while (matcher = elementMatchers[j++]) {\n              if (matcher(elem, context, xml)) {\n                results.push(elem);\n                break;\n              }\n            }\n            if (outermost) {\n              dirruns = dirrunsUnique;\n            }\n          }\n          if (bySet) {\n            if (elem = !matcher && elem) {\n              matchedCount--;\n            }\n            if (seed) {\n              unmatched.push(elem);\n            }\n          }\n        }\n        matchedCount += i;\n        if (bySet && i !== matchedCount) {\n          j = 0;\n          while (matcher = setMatchers[j++]) {\n            matcher(unmatched, setMatched, context, xml);\n          }\n          if (seed) {\n            if (matchedCount > 0) {\n              while (i--) {\n                if (!(unmatched[i] || setMatched[i])) {\n                  setMatched[i] = pop.call(results);\n                }\n              }\n            }\n            setMatched = condense(setMatched);\n          }\n          push$1.apply(results, setMatched);\n          if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {\n            Sizzle.uniqueSort(results);\n          }\n        }\n        if (outermost) {\n          dirruns = dirrunsUnique;\n          outermostContext = contextBackup;\n        }\n        return unmatched;\n      };\n    return bySet ? markFunction(superMatcher) : superMatcher;\n  }\n  compile = Sizzle.compile = function (selector, match) {\n    var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + ' '];\n    if (!cached) {\n      if (!match) {\n        match = tokenize(selector);\n      }\n      i = match.length;\n      while (i--) {\n        cached = matcherFromTokens(match[i]);\n        if (cached[expando]) {\n          setMatchers.push(cached);\n        } else {\n          elementMatchers.push(cached);\n        }\n      }\n      cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));\n      cached.selector = selector;\n    }\n    return cached;\n  };\n  select = Sizzle.select = function (selector, context, results, seed) {\n    var i, tokens, token, type, find, compiled = typeof selector === 'function' && selector, match = !seed && tokenize(selector = compiled.selector || selector);\n    results = results || [];\n    if (match.length === 1) {\n      tokens = match[0] = match[0].slice(0);\n      if (tokens.length > 2 && (token = tokens[0]).type === 'ID' && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {\n        context = (Expr.find.ID(token.matches[0].replace(runescape, funescape), context) || [])[0];\n        if (!context) {\n          return results;\n        } else if (compiled) {\n          context = context.parentNode;\n        }\n        selector = selector.slice(tokens.shift().value.length);\n      }\n      i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;\n      while (i--) {\n        token = tokens[i];\n        if (Expr.relative[type = token.type]) {\n          break;\n        }\n        if (find = Expr.find[type]) {\n          if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {\n            tokens.splice(i, 1);\n            selector = seed.length && toSelector(tokens);\n            if (!selector) {\n              push$1.apply(results, seed);\n              return results;\n            }\n            break;\n          }\n        }\n      }\n    }\n    (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);\n    return results;\n  };\n  support.sortStable = expando.split('').sort(sortOrder).join('') === expando;\n  support.detectDuplicates = !!hasDuplicate;\n  setDocument();\n  support.sortDetached = true;\n\n  var isArray$1 = Array.isArray;\n  var toArray = function (obj) {\n    var array = obj, i, l;\n    if (!isArray$1(obj)) {\n      array = [];\n      for (i = 0, l = obj.length; i < l; i++) {\n        array[i] = obj[i];\n      }\n    }\n    return array;\n  };\n  var each$1 = function (o, cb, s) {\n    var n, l;\n    if (!o) {\n      return 0;\n    }\n    s = s || o;\n    if (o.length !== undefined) {\n      for (n = 0, l = o.length; n < l; n++) {\n        if (cb.call(s, o[n], n, o) === false) {\n          return 0;\n        }\n      }\n    } else {\n      for (n in o) {\n        if (o.hasOwnProperty(n)) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return 0;\n          }\n        }\n      }\n    }\n    return 1;\n  };\n  var map$1 = function (array, callback) {\n    var out = [];\n    each$1(array, function (item, index) {\n      out.push(callback(item, index, array));\n    });\n    return out;\n  };\n  var filter$1 = function (a, f) {\n    var o = [];\n    each$1(a, function (v, index) {\n      if (!f || f(v, index, a)) {\n        o.push(v);\n      }\n    });\n    return o;\n  };\n  var indexOf$2 = function (a, v) {\n    var i, l;\n    if (a) {\n      for (i = 0, l = a.length; i < l; i++) {\n        if (a[i] === v) {\n          return i;\n        }\n      }\n    }\n    return -1;\n  };\n  var reduce = function (collection, iteratee, accumulator, thisArg) {\n    var i = 0;\n    if (arguments.length < 3) {\n      accumulator = collection[0];\n    }\n    for (; i < collection.length; i++) {\n      accumulator = iteratee.call(thisArg, accumulator, collection[i], i);\n    }\n    return accumulator;\n  };\n  var findIndex$1 = function (array, predicate, thisArg) {\n    var i, l;\n    for (i = 0, l = array.length; i < l; i++) {\n      if (predicate.call(thisArg, array[i], i, array)) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  var find$1 = function (array, predicate, thisArg) {\n    var idx = findIndex$1(array, predicate, thisArg);\n    if (idx !== -1) {\n      return array[idx];\n    }\n    return undefined;\n  };\n  var last$1 = function (collection) {\n    return collection[collection.length - 1];\n  };\n  var $_n452lmjnlpawsj = {\n    isArray: isArray$1,\n    toArray: toArray,\n    each: each$1,\n    map: map$1,\n    filter: filter$1,\n    indexOf: indexOf$2,\n    reduce: reduce,\n    findIndex: findIndex$1,\n    find: find$1,\n    last: last$1\n  };\n\n  var whiteSpaceRegExp = /^\\s*|\\s*$/g;\n  var trim = function (str) {\n    return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp, '');\n  };\n  var is = function (obj, type) {\n    if (!type) {\n      return obj !== undefined;\n    }\n    if (type === 'array' && $_n452lmjnlpawsj.isArray(obj)) {\n      return true;\n    }\n    return typeof obj === type;\n  };\n  var makeMap = function (items, delim, map) {\n    var i;\n    items = items || [];\n    delim = delim || ',';\n    if (typeof items === 'string') {\n      items = items.split(delim);\n    }\n    map = map || {};\n    i = items.length;\n    while (i--) {\n      map[items[i]] = {};\n    }\n    return map;\n  };\n  var hasOwnProperty = function (obj, prop) {\n    return Object.prototype.hasOwnProperty.call(obj, prop);\n  };\n  var create = function (s, p, root) {\n    var self$$1 = this;\n    var sp, ns, cn, scn, c, de = 0;\n    s = /^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(s);\n    cn = s[3].match(/(^|\\.)(\\w+)$/i)[2];\n    ns = self$$1.createNS(s[3].replace(/\\.\\w+$/, ''), root);\n    if (ns[cn]) {\n      return;\n    }\n    if (s[2] === 'static') {\n      ns[cn] = p;\n      if (this.onCreate) {\n        this.onCreate(s[2], s[3], ns[cn]);\n      }\n      return;\n    }\n    if (!p[cn]) {\n      p[cn] = function () {\n      };\n      de = 1;\n    }\n    ns[cn] = p[cn];\n    self$$1.extend(ns[cn].prototype, p);\n    if (s[5]) {\n      sp = self$$1.resolve(s[5]).prototype;\n      scn = s[5].match(/\\.(\\w+)$/i)[1];\n      c = ns[cn];\n      if (de) {\n        ns[cn] = function () {\n          return sp[scn].apply(this, arguments);\n        };\n      } else {\n        ns[cn] = function () {\n          this.parent = sp[scn];\n          return c.apply(this, arguments);\n        };\n      }\n      ns[cn].prototype[cn] = ns[cn];\n      self$$1.each(sp, function (f, n) {\n        ns[cn].prototype[n] = sp[n];\n      });\n      self$$1.each(p, function (f, n) {\n        if (sp[n]) {\n          ns[cn].prototype[n] = function () {\n            this.parent = sp[n];\n            return f.apply(this, arguments);\n          };\n        } else {\n          if (n !== cn) {\n            ns[cn].prototype[n] = f;\n          }\n        }\n      });\n    }\n    self$$1.each(p.static, function (f, n) {\n      ns[cn][n] = f;\n    });\n  };\n  var extend = function (obj, ext) {\n    var x = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n      x[_i - 2] = arguments[_i];\n    }\n    var i, l, name$$1;\n    var args = arguments;\n    var value;\n    for (i = 1, l = args.length; i < l; i++) {\n      ext = args[i];\n      for (name$$1 in ext) {\n        if (ext.hasOwnProperty(name$$1)) {\n          value = ext[name$$1];\n          if (value !== undefined) {\n            obj[name$$1] = value;\n          }\n        }\n      }\n    }\n    return obj;\n  };\n  var walk = function (o, f, n, s) {\n    s = s || this;\n    if (o) {\n      if (n) {\n        o = o[n];\n      }\n      $_n452lmjnlpawsj.each(o, function (o, i) {\n        if (f.call(s, o, i, n) === false) {\n          return false;\n        }\n        walk(o, f, n, s);\n      });\n    }\n  };\n  var createNS = function (n, o) {\n    var i, v;\n    o = o || window;\n    n = n.split('.');\n    for (i = 0; i < n.length; i++) {\n      v = n[i];\n      if (!o[v]) {\n        o[v] = {};\n      }\n      o = o[v];\n    }\n    return o;\n  };\n  var resolve$1 = function (n, o) {\n    var i, l;\n    o = o || window;\n    n = n.split('.');\n    for (i = 0, l = n.length; i < l; i++) {\n      o = o[n[i]];\n      if (!o) {\n        break;\n      }\n    }\n    return o;\n  };\n  var explode = function (s, d) {\n    if (!s || is(s, 'array')) {\n      return s;\n    }\n    return $_n452lmjnlpawsj.map(s.split(d || ','), trim);\n  };\n  var _addCacheSuffix = function (url) {\n    var cacheSuffix = $_cseqobajnlpawll.cacheSuffix;\n    if (cacheSuffix) {\n      url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n    }\n    return url;\n  };\n  var $_1q1txeljnlpawsa = {\n    trim: trim,\n    isArray: $_n452lmjnlpawsj.isArray,\n    is: is,\n    toArray: $_n452lmjnlpawsj.toArray,\n    makeMap: makeMap,\n    each: $_n452lmjnlpawsj.each,\n    map: $_n452lmjnlpawsj.map,\n    grep: $_n452lmjnlpawsj.filter,\n    inArray: $_n452lmjnlpawsj.indexOf,\n    hasOwn: hasOwnProperty,\n    extend: extend,\n    create: create,\n    walk: walk,\n    createNS: createNS,\n    resolve: resolve$1,\n    explode: explode,\n    _addCacheSuffix: _addCacheSuffix\n  };\n\n  var doc = document;\n  var push$2 = Array.prototype.push;\n  var slice$2 = Array.prototype.slice;\n  var rquickExpr$1 = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/;\n  var Event$$1 = EventUtils.Event;\n  var skipUniques = $_1q1txeljnlpawsa.makeMap('children,contents,next,prev');\n  var isDefined = function (obj) {\n    return typeof obj !== 'undefined';\n  };\n  var isString$1 = function (obj) {\n    return typeof obj === 'string';\n  };\n  var isWindow = function (obj) {\n    return obj && obj === obj.window;\n  };\n  var createFragment = function (html, fragDoc) {\n    var frag, node, container;\n    fragDoc = fragDoc || doc;\n    container = fragDoc.createElement('div');\n    frag = fragDoc.createDocumentFragment();\n    container.innerHTML = html;\n    while (node = container.firstChild) {\n      frag.appendChild(node);\n    }\n    return frag;\n  };\n  var domManipulate = function (targetNodes, sourceItem, callback, reverse) {\n    var i;\n    if (isString$1(sourceItem)) {\n      sourceItem = createFragment(sourceItem, getElementDocument(targetNodes[0]));\n    } else if (sourceItem.length && !sourceItem.nodeType) {\n      sourceItem = DomQuery.makeArray(sourceItem);\n      if (reverse) {\n        for (i = sourceItem.length - 1; i >= 0; i--) {\n          domManipulate(targetNodes, sourceItem[i], callback, reverse);\n        }\n      } else {\n        for (i = 0; i < sourceItem.length; i++) {\n          domManipulate(targetNodes, sourceItem[i], callback, reverse);\n        }\n      }\n      return targetNodes;\n    }\n    if (sourceItem.nodeType) {\n      i = targetNodes.length;\n      while (i--) {\n        callback.call(targetNodes[i], sourceItem);\n      }\n    }\n    return targetNodes;\n  };\n  var hasClass = function (node, className) {\n    return node && className && (' ' + node.className + ' ').indexOf(' ' + className + ' ') !== -1;\n  };\n  var wrap = function (elements, wrapper, all) {\n    var lastParent, newWrapper;\n    wrapper = DomQuery(wrapper)[0];\n    elements.each(function () {\n      var self$$1 = this;\n      if (!all || lastParent !== self$$1.parentNode) {\n        lastParent = self$$1.parentNode;\n        newWrapper = wrapper.cloneNode(false);\n        self$$1.parentNode.insertBefore(newWrapper, self$$1);\n        newWrapper.appendChild(self$$1);\n      } else {\n        newWrapper.appendChild(self$$1);\n      }\n    });\n    return elements;\n  };\n  var numericCssMap = $_1q1txeljnlpawsa.makeMap('fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom', ' ');\n  var booleanMap = $_1q1txeljnlpawsa.makeMap('checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected', ' ');\n  var propFix = {\n    for: 'htmlFor',\n    class: 'className',\n    readonly: 'readOnly'\n  };\n  var cssFix = { float: 'cssFloat' };\n  var attrHooks = {};\n  var cssHooks = {};\n  var DomQuery = function (selector, context) {\n    return new DomQuery.fn.init(selector, context);\n  };\n  var inArray = function (item, array) {\n    var i;\n    if (array.indexOf) {\n      return array.indexOf(item);\n    }\n    i = array.length;\n    while (i--) {\n      if (array[i] === item) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  var whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\n  var trim$1 = function (str) {\n    return str === null || str === undefined ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\n  };\n  var each$2 = function (obj, callback) {\n    var length$$1, key, i, value;\n    if (obj) {\n      length$$1 = obj.length;\n      if (length$$1 === undefined) {\n        for (key in obj) {\n          if (obj.hasOwnProperty(key)) {\n            value = obj[key];\n            if (callback.call(value, key, value) === false) {\n              break;\n            }\n          }\n        }\n      } else {\n        for (i = 0; i < length$$1; i++) {\n          value = obj[i];\n          if (callback.call(value, i, value) === false) {\n            break;\n          }\n        }\n      }\n    }\n    return obj;\n  };\n  var grep = function (array, callback) {\n    var out = [];\n    each$2(array, function (i, item) {\n      if (callback(item, i)) {\n        out.push(item);\n      }\n    });\n    return out;\n  };\n  var getElementDocument = function (element) {\n    if (!element) {\n      return doc;\n    }\n    if (element.nodeType === 9) {\n      return element;\n    }\n    return element.ownerDocument;\n  };\n  DomQuery.fn = DomQuery.prototype = {\n    constructor: DomQuery,\n    selector: '',\n    context: null,\n    length: 0,\n    init: function (selector, context) {\n      var self$$1 = this;\n      var match, node;\n      if (!selector) {\n        return self$$1;\n      }\n      if (selector.nodeType) {\n        self$$1.context = self$$1[0] = selector;\n        self$$1.length = 1;\n        return self$$1;\n      }\n      if (context && context.nodeType) {\n        self$$1.context = context;\n      } else {\n        if (context) {\n          return DomQuery(selector).attr(context);\n        }\n        self$$1.context = context = document;\n      }\n      if (isString$1(selector)) {\n        self$$1.selector = selector;\n        if (selector.charAt(0) === '<' && selector.charAt(selector.length - 1) === '>' && selector.length >= 3) {\n          match = [\n            null,\n            selector,\n            null\n          ];\n        } else {\n          match = rquickExpr$1.exec(selector);\n        }\n        if (match) {\n          if (match[1]) {\n            node = createFragment(selector, getElementDocument(context)).firstChild;\n            while (node) {\n              push$2.call(self$$1, node);\n              node = node.nextSibling;\n            }\n          } else {\n            node = getElementDocument(context).getElementById(match[2]);\n            if (!node) {\n              return self$$1;\n            }\n            if (node.id !== match[2]) {\n              return self$$1.find(selector);\n            }\n            self$$1.length = 1;\n            self$$1[0] = node;\n          }\n        } else {\n          return DomQuery(context).find(selector);\n        }\n      } else {\n        this.add(selector, false);\n      }\n      return self$$1;\n    },\n    toArray: function () {\n      return $_1q1txeljnlpawsa.toArray(this);\n    },\n    add: function (items, sort) {\n      var self$$1 = this;\n      var nodes, i;\n      if (isString$1(items)) {\n        return self$$1.add(DomQuery(items));\n      }\n      if (sort !== false) {\n        nodes = DomQuery.unique(self$$1.toArray().concat(DomQuery.makeArray(items)));\n        self$$1.length = nodes.length;\n        for (i = 0; i < nodes.length; i++) {\n          self$$1[i] = nodes[i];\n        }\n      } else {\n        push$2.apply(self$$1, DomQuery.makeArray(items));\n      }\n      return self$$1;\n    },\n    attr: function (name$$1, value) {\n      var self$$1 = this;\n      var hook;\n      if (typeof name$$1 === 'object') {\n        each$2(name$$1, function (name$$1, value) {\n          self$$1.attr(name$$1, value);\n        });\n      } else if (isDefined(value)) {\n        this.each(function () {\n          var hook;\n          if (this.nodeType === 1) {\n            hook = attrHooks[name$$1];\n            if (hook && hook.set) {\n              hook.set(this, value);\n              return;\n            }\n            if (value === null) {\n              this.removeAttribute(name$$1, 2);\n            } else {\n              this.setAttribute(name$$1, value, 2);\n            }\n          }\n        });\n      } else {\n        if (self$$1[0] && self$$1[0].nodeType === 1) {\n          hook = attrHooks[name$$1];\n          if (hook && hook.get) {\n            return hook.get(self$$1[0], name$$1);\n          }\n          if (booleanMap[name$$1]) {\n            return self$$1.prop(name$$1) ? name$$1 : undefined;\n          }\n          value = self$$1[0].getAttribute(name$$1, 2);\n          if (value === null) {\n            value = undefined;\n          }\n        }\n        return value;\n      }\n      return self$$1;\n    },\n    removeAttr: function (name$$1) {\n      return this.attr(name$$1, null);\n    },\n    prop: function (name$$1, value) {\n      var self$$1 = this;\n      name$$1 = propFix[name$$1] || name$$1;\n      if (typeof name$$1 === 'object') {\n        each$2(name$$1, function (name$$1, value) {\n          self$$1.prop(name$$1, value);\n        });\n      } else if (isDefined(value)) {\n        this.each(function () {\n          if (this.nodeType === 1) {\n            this[name$$1] = value;\n          }\n        });\n      } else {\n        if (self$$1[0] && self$$1[0].nodeType && name$$1 in self$$1[0]) {\n          return self$$1[0][name$$1];\n        }\n        return value;\n      }\n      return self$$1;\n    },\n    css: function (name$$1, value) {\n      var self$$1 = this;\n      var elm, hook;\n      var camel = function (name$$1) {\n        return name$$1.replace(/-(\\D)/g, function (a, b) {\n          return b.toUpperCase();\n        });\n      };\n      var dashed = function (name$$1) {\n        return name$$1.replace(/[A-Z]/g, function (a) {\n          return '-' + a;\n        });\n      };\n      if (typeof name$$1 === 'object') {\n        each$2(name$$1, function (name$$1, value) {\n          self$$1.css(name$$1, value);\n        });\n      } else {\n        if (isDefined(value)) {\n          name$$1 = camel(name$$1);\n          if (typeof value === 'number' && !numericCssMap[name$$1]) {\n            value = value.toString() + 'px';\n          }\n          self$$1.each(function () {\n            var style = this.style;\n            hook = cssHooks[name$$1];\n            if (hook && hook.set) {\n              hook.set(this, value);\n              return;\n            }\n            try {\n              this.style[cssFix[name$$1] || name$$1] = value;\n            } catch (ex) {\n            }\n            if (value === null || value === '') {\n              if (style.removeProperty) {\n                style.removeProperty(dashed(name$$1));\n              } else {\n                style.removeAttribute(name$$1);\n              }\n            }\n          });\n        } else {\n          elm = self$$1[0];\n          hook = cssHooks[name$$1];\n          if (hook && hook.get) {\n            return hook.get(elm);\n          }\n          if (elm.ownerDocument.defaultView) {\n            try {\n              return elm.ownerDocument.defaultView.getComputedStyle(elm, null).getPropertyValue(dashed(name$$1));\n            } catch (ex) {\n              return undefined;\n            }\n          } else if (elm.currentStyle) {\n            return elm.currentStyle[camel(name$$1)];\n          } else {\n            return '';\n          }\n        }\n      }\n      return self$$1;\n    },\n    remove: function () {\n      var self$$1 = this;\n      var node, i = this.length;\n      while (i--) {\n        node = self$$1[i];\n        Event$$1.clean(node);\n        if (node.parentNode) {\n          node.parentNode.removeChild(node);\n        }\n      }\n      return this;\n    },\n    empty: function () {\n      var self$$1 = this;\n      var node, i = this.length;\n      while (i--) {\n        node = self$$1[i];\n        while (node.firstChild) {\n          node.removeChild(node.firstChild);\n        }\n      }\n      return this;\n    },\n    html: function (value) {\n      var self$$1 = this;\n      var i;\n      if (isDefined(value)) {\n        i = self$$1.length;\n        try {\n          while (i--) {\n            self$$1[i].innerHTML = value;\n          }\n        } catch (ex) {\n          DomQuery(self$$1[i]).empty().append(value);\n        }\n        return self$$1;\n      }\n      return self$$1[0] ? self$$1[0].innerHTML : '';\n    },\n    text: function (value) {\n      var self$$1 = this;\n      var i;\n      if (isDefined(value)) {\n        i = self$$1.length;\n        while (i--) {\n          if ('innerText' in self$$1[i]) {\n            self$$1[i].innerText = value;\n          } else {\n            self$$1[0].textContent = value;\n          }\n        }\n        return self$$1;\n      }\n      return self$$1[0] ? self$$1[0].innerText || self$$1[0].textContent : '';\n    },\n    append: function () {\n      return domManipulate(this, arguments, function (node) {\n        if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n          this.appendChild(node);\n        }\n      });\n    },\n    prepend: function () {\n      return domManipulate(this, arguments, function (node) {\n        if (this.nodeType === 1 || this.host && this.host.nodeType === 1) {\n          this.insertBefore(node, this.firstChild);\n        }\n      }, true);\n    },\n    before: function () {\n      var self$$1 = this;\n      if (self$$1[0] && self$$1[0].parentNode) {\n        return domManipulate(self$$1, arguments, function (node) {\n          this.parentNode.insertBefore(node, this);\n        });\n      }\n      return self$$1;\n    },\n    after: function () {\n      var self$$1 = this;\n      if (self$$1[0] && self$$1[0].parentNode) {\n        return domManipulate(self$$1, arguments, function (node) {\n          this.parentNode.insertBefore(node, this.nextSibling);\n        }, true);\n      }\n      return self$$1;\n    },\n    appendTo: function (val) {\n      DomQuery(val).append(this);\n      return this;\n    },\n    prependTo: function (val) {\n      DomQuery(val).prepend(this);\n      return this;\n    },\n    replaceWith: function (content) {\n      return this.before(content).remove();\n    },\n    wrap: function (content) {\n      return wrap(this, content);\n    },\n    wrapAll: function (content) {\n      return wrap(this, content, true);\n    },\n    wrapInner: function (content) {\n      this.each(function () {\n        DomQuery(this).contents().wrapAll(content);\n      });\n      return this;\n    },\n    unwrap: function () {\n      return this.parent().each(function () {\n        DomQuery(this).replaceWith(this.childNodes);\n      });\n    },\n    clone: function () {\n      var result = [];\n      this.each(function () {\n        result.push(this.cloneNode(true));\n      });\n      return DomQuery(result);\n    },\n    addClass: function (className) {\n      return this.toggleClass(className, true);\n    },\n    removeClass: function (className) {\n      return this.toggleClass(className, false);\n    },\n    toggleClass: function (className, state) {\n      var self$$1 = this;\n      if (typeof className !== 'string') {\n        return self$$1;\n      }\n      if (className.indexOf(' ') !== -1) {\n        each$2(className.split(' '), function () {\n          self$$1.toggleClass(this, state);\n        });\n      } else {\n        self$$1.each(function (index, node) {\n          var existingClassName, classState;\n          classState = hasClass(node, className);\n          if (classState !== state) {\n            existingClassName = node.className;\n            if (classState) {\n              node.className = trim$1((' ' + existingClassName + ' ').replace(' ' + className + ' ', ' '));\n            } else {\n              node.className += existingClassName ? ' ' + className : className;\n            }\n          }\n        });\n      }\n      return self$$1;\n    },\n    hasClass: function (className) {\n      return hasClass(this[0], className);\n    },\n    each: function (callback) {\n      return each$2(this, callback);\n    },\n    on: function (name$$1, callback) {\n      return this.each(function () {\n        Event$$1.bind(this, name$$1, callback);\n      });\n    },\n    off: function (name$$1, callback) {\n      return this.each(function () {\n        Event$$1.unbind(this, name$$1, callback);\n      });\n    },\n    trigger: function (name$$1) {\n      return this.each(function () {\n        if (typeof name$$1 === 'object') {\n          Event$$1.fire(this, name$$1.type, name$$1);\n        } else {\n          Event$$1.fire(this, name$$1);\n        }\n      });\n    },\n    show: function () {\n      return this.css('display', '');\n    },\n    hide: function () {\n      return this.css('display', 'none');\n    },\n    slice: function () {\n      return new DomQuery(slice$2.apply(this, arguments));\n    },\n    eq: function (index) {\n      return index === -1 ? this.slice(index) : this.slice(index, +index + 1);\n    },\n    first: function () {\n      return this.eq(0);\n    },\n    last: function () {\n      return this.eq(-1);\n    },\n    find: function (selector) {\n      var i, l;\n      var ret = [];\n      for (i = 0, l = this.length; i < l; i++) {\n        DomQuery.find(selector, this[i], ret);\n      }\n      return DomQuery(ret);\n    },\n    filter: function (selector) {\n      if (typeof selector === 'function') {\n        return DomQuery(grep(this.toArray(), function (item, i) {\n          return selector(i, item);\n        }));\n      }\n      return DomQuery(DomQuery.filter(selector, this.toArray()));\n    },\n    closest: function (selector) {\n      var result = [];\n      if (selector instanceof DomQuery) {\n        selector = selector[0];\n      }\n      this.each(function (i, node) {\n        while (node) {\n          if (typeof selector === 'string' && DomQuery(node).is(selector)) {\n            result.push(node);\n            break;\n          } else if (node === selector) {\n            result.push(node);\n            break;\n          }\n          node = node.parentNode;\n        }\n      });\n      return DomQuery(result);\n    },\n    offset: function (offset) {\n      var elm, doc, docElm;\n      var x = 0, y = 0, pos;\n      if (!offset) {\n        elm = this[0];\n        if (elm) {\n          doc = elm.ownerDocument;\n          docElm = doc.documentElement;\n          if (elm.getBoundingClientRect) {\n            pos = elm.getBoundingClientRect();\n            x = pos.left + (docElm.scrollLeft || doc.body.scrollLeft) - docElm.clientLeft;\n            y = pos.top + (docElm.scrollTop || doc.body.scrollTop) - docElm.clientTop;\n          }\n        }\n        return {\n          left: x,\n          top: y\n        };\n      }\n      return this.css(offset);\n    },\n    push: push$2,\n    sort: [].sort,\n    splice: [].splice\n  };\n  $_1q1txeljnlpawsa.extend(DomQuery, {\n    extend: $_1q1txeljnlpawsa.extend,\n    makeArray: function (object) {\n      if (isWindow(object) || object.nodeType) {\n        return [object];\n      }\n      return $_1q1txeljnlpawsa.toArray(object);\n    },\n    inArray: inArray,\n    isArray: $_1q1txeljnlpawsa.isArray,\n    each: each$2,\n    trim: trim$1,\n    grep: grep,\n    find: Sizzle,\n    expr: Sizzle.selectors,\n    unique: Sizzle.uniqueSort,\n    text: Sizzle.getText,\n    contains: Sizzle.contains,\n    filter: function (expr, elems, not) {\n      var i = elems.length;\n      if (not) {\n        expr = ':not(' + expr + ')';\n      }\n      while (i--) {\n        if (elems[i].nodeType !== 1) {\n          elems.splice(i, 1);\n        }\n      }\n      if (elems.length === 1) {\n        elems = DomQuery.find.matchesSelector(elems[0], expr) ? [elems[0]] : [];\n      } else {\n        elems = DomQuery.find.matches(expr, elems);\n      }\n      return elems;\n    }\n  });\n  var dir = function (el, prop, until) {\n    var matched = [];\n    var cur = el[prop];\n    if (typeof until !== 'string' && until instanceof DomQuery) {\n      until = until[0];\n    }\n    while (cur && cur.nodeType !== 9) {\n      if (until !== undefined) {\n        if (cur === until) {\n          break;\n        }\n        if (typeof until === 'string' && DomQuery(cur).is(until)) {\n          break;\n        }\n      }\n      if (cur.nodeType === 1) {\n        matched.push(cur);\n      }\n      cur = cur[prop];\n    }\n    return matched;\n  };\n  var sibling = function (node, siblingName, nodeType, until) {\n    var result = [];\n    if (until instanceof DomQuery) {\n      until = until[0];\n    }\n    for (; node; node = node[siblingName]) {\n      if (nodeType && node.nodeType !== nodeType) {\n        continue;\n      }\n      if (until !== undefined) {\n        if (node === until) {\n          break;\n        }\n        if (typeof until === 'string' && DomQuery(node).is(until)) {\n          break;\n        }\n      }\n      result.push(node);\n    }\n    return result;\n  };\n  var firstSibling = function (node, siblingName, nodeType) {\n    for (node = node[siblingName]; node; node = node[siblingName]) {\n      if (node.nodeType === nodeType) {\n        return node;\n      }\n    }\n    return null;\n  };\n  each$2({\n    parent: function (node) {\n      var parent$$1 = node.parentNode;\n      return parent$$1 && parent$$1.nodeType !== 11 ? parent$$1 : null;\n    },\n    parents: function (node) {\n      return dir(node, 'parentNode');\n    },\n    next: function (node) {\n      return firstSibling(node, 'nextSibling', 1);\n    },\n    prev: function (node) {\n      return firstSibling(node, 'previousSibling', 1);\n    },\n    children: function (node) {\n      return sibling(node.firstChild, 'nextSibling', 1);\n    },\n    contents: function (node) {\n      return $_1q1txeljnlpawsa.toArray((node.nodeName === 'iframe' ? node.contentDocument || node.contentWindow.document : node).childNodes);\n    }\n  }, function (name$$1, fn) {\n    DomQuery.fn[name$$1] = function (selector) {\n      var self$$1 = this;\n      var result = [];\n      self$$1.each(function () {\n        var nodes = fn.call(result, this, selector, result);\n        if (nodes) {\n          if (DomQuery.isArray(nodes)) {\n            result.push.apply(result, nodes);\n          } else {\n            result.push(nodes);\n          }\n        }\n      });\n      if (this.length > 1) {\n        if (!skipUniques[name$$1]) {\n          result = DomQuery.unique(result);\n        }\n        if (name$$1.indexOf('parents') === 0) {\n          result = result.reverse();\n        }\n      }\n      result = DomQuery(result);\n      if (selector) {\n        return result.filter(selector);\n      }\n      return result;\n    };\n  });\n  each$2({\n    parentsUntil: function (node, until) {\n      return dir(node, 'parentNode', until);\n    },\n    nextUntil: function (node, until) {\n      return sibling(node, 'nextSibling', 1, until).slice(1);\n    },\n    prevUntil: function (node, until) {\n      return sibling(node, 'previousSibling', 1, until).slice(1);\n    }\n  }, function (name$$1, fn) {\n    DomQuery.fn[name$$1] = function (selector, filter) {\n      var self$$1 = this;\n      var result = [];\n      self$$1.each(function () {\n        var nodes = fn.call(result, this, selector, result);\n        if (nodes) {\n          if (DomQuery.isArray(nodes)) {\n            result.push.apply(result, nodes);\n          } else {\n            result.push(nodes);\n          }\n        }\n      });\n      if (this.length > 1) {\n        result = DomQuery.unique(result);\n        if (name$$1.indexOf('parents') === 0 || name$$1 === 'prevUntil') {\n          result = result.reverse();\n        }\n      }\n      result = DomQuery(result);\n      if (filter) {\n        return result.filter(filter);\n      }\n      return result;\n    };\n  });\n  DomQuery.fn.is = function (selector) {\n    return !!selector && this.filter(selector).length > 0;\n  };\n  DomQuery.fn.init.prototype = DomQuery.fn;\n  DomQuery.overrideDefaults = function (callback) {\n    var defaults;\n    var sub = function (selector, context) {\n      defaults = defaults || callback();\n      if (arguments.length === 0) {\n        selector = defaults.element;\n      }\n      if (!context) {\n        context = defaults.context;\n      }\n      return new sub.fn.init(selector, context);\n    };\n    DomQuery.extend(sub, this);\n    return sub;\n  };\n  var appendHooks = function (targetHooks, prop, hooks) {\n    each$2(hooks, function (name$$1, func) {\n      targetHooks[name$$1] = targetHooks[name$$1] || {};\n      targetHooks[name$$1][prop] = func;\n    });\n  };\n  if ($_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie < 8) {\n    appendHooks(attrHooks, 'get', {\n      maxlength: function (elm) {\n        var value = elm.maxLength;\n        if (value === 2147483647) {\n          return undefined;\n        }\n        return value;\n      },\n      size: function (elm) {\n        var value = elm.size;\n        if (value === 20) {\n          return undefined;\n        }\n        return value;\n      },\n      class: function (elm) {\n        return elm.className;\n      },\n      style: function (elm) {\n        var value = elm.style.cssText;\n        if (value.length === 0) {\n          return undefined;\n        }\n        return value;\n      }\n    });\n    appendHooks(attrHooks, 'set', {\n      class: function (elm, value) {\n        elm.className = value;\n      },\n      style: function (elm, value) {\n        elm.style.cssText = value;\n      }\n    });\n  }\n  if ($_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie < 9) {\n    cssFix.float = 'styleFloat';\n    appendHooks(cssHooks, 'set', {\n      opacity: function (elm, value) {\n        var style = elm.style;\n        if (value === null || value === '') {\n          style.removeAttribute('filter');\n        } else {\n          style.zoom = 1;\n          style.filter = 'alpha(opacity=' + value * 100 + ')';\n        }\n      }\n    });\n  }\n  DomQuery.attrHooks = attrHooks;\n  DomQuery.cssHooks = cssHooks;\n\n  var cached = function (f) {\n    var called = false;\n    var r;\n    return function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      if (!called) {\n        called = true;\n        r = f.apply(null, args);\n      }\n      return r;\n    };\n  };\n\n  var firstMatch = function (regexes, s) {\n    for (var i = 0; i < regexes.length; i++) {\n      var x = regexes[i];\n      if (x.test(s))\n        return x;\n    }\n    return undefined;\n  };\n  var find$2 = function (regexes, agent) {\n    var r = firstMatch(regexes, agent);\n    if (!r)\n      return {\n        major: 0,\n        minor: 0\n      };\n    var group = function (i) {\n      return Number(agent.replace(r, '$' + i));\n    };\n    return nu(group(1), group(2));\n  };\n  var detect = function (versionRegexes, agent) {\n    var cleanedAgent = String(agent).toLowerCase();\n    if (versionRegexes.length === 0)\n      return unknown();\n    return find$2(versionRegexes, cleanedAgent);\n  };\n  var unknown = function () {\n    return nu(0, 0);\n  };\n  var nu = function (major, minor) {\n    return {\n      major: major,\n      minor: minor\n    };\n  };\n  var Version = {\n    nu: nu,\n    detect: detect,\n    unknown: unknown\n  };\n\n  var edge = 'Edge';\n  var chrome = 'Chrome';\n  var ie$1 = 'IE';\n  var opera$1 = 'Opera';\n  var firefox = 'Firefox';\n  var safari = 'Safari';\n  var isBrowser = function (name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n  var unknown$1 = function () {\n    return nu$1({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n  var nu$1 = function (info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isEdge: isBrowser(edge, current),\n      isChrome: isBrowser(chrome, current),\n      isIE: isBrowser(ie$1, current),\n      isOpera: isBrowser(opera$1, current),\n      isFirefox: isBrowser(firefox, current),\n      isSafari: isBrowser(safari, current)\n    };\n  };\n  var Browser = {\n    unknown: unknown$1,\n    nu: nu$1,\n    edge: constant(edge),\n    chrome: constant(chrome),\n    ie: constant(ie$1),\n    opera: constant(opera$1),\n    firefox: constant(firefox),\n    safari: constant(safari)\n  };\n\n  var windows = 'Windows';\n  var ios = 'iOS';\n  var android$1 = 'Android';\n  var linux = 'Linux';\n  var osx = 'OSX';\n  var solaris = 'Solaris';\n  var freebsd = 'FreeBSD';\n  var isOS = function (name, current) {\n    return function () {\n      return current === name;\n    };\n  };\n  var unknown$2 = function () {\n    return nu$2({\n      current: undefined,\n      version: Version.unknown()\n    });\n  };\n  var nu$2 = function (info) {\n    var current = info.current;\n    var version = info.version;\n    return {\n      current: current,\n      version: version,\n      isWindows: isOS(windows, current),\n      isiOS: isOS(ios, current),\n      isAndroid: isOS(android$1, current),\n      isOSX: isOS(osx, current),\n      isLinux: isOS(linux, current),\n      isSolaris: isOS(solaris, current),\n      isFreeBSD: isOS(freebsd, current)\n    };\n  };\n  var OperatingSystem = {\n    unknown: unknown$2,\n    nu: nu$2,\n    windows: constant(windows),\n    ios: constant(ios),\n    android: constant(android$1),\n    linux: constant(linux),\n    osx: constant(osx),\n    solaris: constant(solaris),\n    freebsd: constant(freebsd)\n  };\n\n  var DeviceType = function (os, browser, userAgent) {\n    var isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n    var isiPhone = os.isiOS() && !isiPad;\n    var isAndroid3 = os.isAndroid() && os.version.major === 3;\n    var isAndroid4 = os.isAndroid() && os.version.major === 4;\n    var isTablet = isiPad || isAndroid3 || isAndroid4 && /mobile/i.test(userAgent) === true;\n    var isTouch = os.isiOS() || os.isAndroid();\n    var isPhone = isTouch && !isTablet;\n    var iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n    return {\n      isiPad: constant(isiPad),\n      isiPhone: constant(isiPhone),\n      isTablet: constant(isTablet),\n      isPhone: constant(isPhone),\n      isTouch: constant(isTouch),\n      isAndroid: os.isAndroid,\n      isiOS: os.isiOS,\n      isWebView: constant(iOSwebview)\n    };\n  };\n\n  var detect$1 = function (candidates, userAgent) {\n    var agent = String(userAgent).toLowerCase();\n    return find(candidates, function (candidate) {\n      return candidate.search(agent);\n    });\n  };\n  var detectBrowser = function (browsers, userAgent) {\n    return detect$1(browsers, userAgent).map(function (browser) {\n      var version = Version.detect(browser.versionRegexes, userAgent);\n      return {\n        current: browser.name,\n        version: version\n      };\n    });\n  };\n  var detectOs = function (oses, userAgent) {\n    return detect$1(oses, userAgent).map(function (os) {\n      var version = Version.detect(os.versionRegexes, userAgent);\n      return {\n        current: os.name,\n        version: version\n      };\n    });\n  };\n  var UaString = {\n    detectBrowser: detectBrowser,\n    detectOs: detectOs\n  };\n\n  var contains$2 = function (str, substr) {\n    return str.indexOf(substr) !== -1;\n  };\n\n\n\n  var trim$2 = function (str) {\n    return str.replace(/^\\s+|\\s+$/g, '');\n  };\n\n  var normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n  var checkContains = function (target) {\n    return function (uastring) {\n      return contains$2(uastring, target);\n    };\n  };\n  var browsers = [\n    {\n      name: 'Edge',\n      versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n      search: function (uastring) {\n        var monstrosity = contains$2(uastring, 'edge/') && contains$2(uastring, 'chrome') && contains$2(uastring, 'safari') && contains$2(uastring, 'applewebkit');\n        return monstrosity;\n      }\n    },\n    {\n      name: 'Chrome',\n      versionRegexes: [\n        /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n        normalVersionRegex\n      ],\n      search: function (uastring) {\n        return contains$2(uastring, 'chrome') && !contains$2(uastring, 'chromeframe');\n      }\n    },\n    {\n      name: 'IE',\n      versionRegexes: [\n        /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n        /.*?rv:([0-9]+)\\.([0-9]+).*/\n      ],\n      search: function (uastring) {\n        return contains$2(uastring, 'msie') || contains$2(uastring, 'trident');\n      }\n    },\n    {\n      name: 'Opera',\n      versionRegexes: [\n        normalVersionRegex,\n        /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n      ],\n      search: checkContains('opera')\n    },\n    {\n      name: 'Firefox',\n      versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n      search: checkContains('firefox')\n    },\n    {\n      name: 'Safari',\n      versionRegexes: [\n        normalVersionRegex,\n        /.*?cpu os ([0-9]+)_([0-9]+).*/\n      ],\n      search: function (uastring) {\n        return (contains$2(uastring, 'safari') || contains$2(uastring, 'mobile/')) && contains$2(uastring, 'applewebkit');\n      }\n    }\n  ];\n  var oses = [\n    {\n      name: 'Windows',\n      search: checkContains('win'),\n      versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n    },\n    {\n      name: 'iOS',\n      search: function (uastring) {\n        return contains$2(uastring, 'iphone') || contains$2(uastring, 'ipad');\n      },\n      versionRegexes: [\n        /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n        /.*cpu os ([0-9]+)_([0-9]+).*/,\n        /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n      ]\n    },\n    {\n      name: 'Android',\n      search: checkContains('android'),\n      versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n    },\n    {\n      name: 'OSX',\n      search: checkContains('os x'),\n      versionRegexes: [/.*?os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n    },\n    {\n      name: 'Linux',\n      search: checkContains('linux'),\n      versionRegexes: []\n    },\n    {\n      name: 'Solaris',\n      search: checkContains('sunos'),\n      versionRegexes: []\n    },\n    {\n      name: 'FreeBSD',\n      search: checkContains('freebsd'),\n      versionRegexes: []\n    }\n  ];\n  var PlatformInfo = {\n    browsers: constant(browsers),\n    oses: constant(oses)\n  };\n\n  var detect$2 = function (userAgent) {\n    var browsers = PlatformInfo.browsers();\n    var oses = PlatformInfo.oses();\n    var browser = UaString.detectBrowser(browsers, userAgent).fold(Browser.unknown, Browser.nu);\n    var os = UaString.detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n    var deviceType = DeviceType(os, browser, userAgent);\n    return {\n      browser: browser,\n      os: os,\n      deviceType: deviceType\n    };\n  };\n  var PlatformDetection = { detect: detect$2 };\n\n  var detect$3 = cached(function () {\n    var userAgent = navigator.userAgent;\n    return PlatformDetection.detect(userAgent);\n  });\n  var $_766rx4ojnlpawtd = { detect: detect$3 };\n\n  var fromHtml = function (html, scope) {\n    var doc = scope || document;\n    var div = doc.createElement('div');\n    div.innerHTML = html;\n    if (!div.hasChildNodes() || div.childNodes.length > 1) {\n      console.error('HTML does not have a single root node', html);\n      throw 'HTML must have a single root node';\n    }\n    return fromDom(div.childNodes[0]);\n  };\n  var fromTag = function (tag, scope) {\n    var doc = scope || document;\n    var node = doc.createElement(tag);\n    return fromDom(node);\n  };\n  var fromText = function (text, scope) {\n    var doc = scope || document;\n    var node = doc.createTextNode(text);\n    return fromDom(node);\n  };\n  var fromDom = function (node) {\n    if (node === null || node === undefined)\n      throw new Error('Node cannot be null or undefined');\n    return { dom: constant(node) };\n  };\n  var fromPoint = function (docElm, x, y) {\n    var doc = docElm.dom();\n    return Option.from(doc.elementFromPoint(x, y)).map(fromDom);\n  };\n  var Element$$1 = {\n    fromHtml: fromHtml,\n    fromTag: fromTag,\n    fromText: fromText,\n    fromDom: fromDom,\n    fromPoint: fromPoint\n  };\n\n  var $_8b12q912jnlpawv7 = {\n    ATTRIBUTE: Node.ATTRIBUTE_NODE,\n    CDATA_SECTION: Node.CDATA_SECTION_NODE,\n    COMMENT: Node.COMMENT_NODE,\n    DOCUMENT: Node.DOCUMENT_NODE,\n    DOCUMENT_TYPE: Node.DOCUMENT_TYPE_NODE,\n    DOCUMENT_FRAGMENT: Node.DOCUMENT_FRAGMENT_NODE,\n    ELEMENT: Node.ELEMENT_NODE,\n    TEXT: Node.TEXT_NODE,\n    PROCESSING_INSTRUCTION: Node.PROCESSING_INSTRUCTION_NODE,\n    ENTITY_REFERENCE: Node.ENTITY_REFERENCE_NODE,\n    ENTITY: Node.ENTITY_NODE,\n    NOTATION: Node.NOTATION_NODE\n  };\n\n  var name = function (element) {\n    var r = element.dom().nodeName;\n    return r.toLowerCase();\n  };\n  var type = function (element) {\n    return element.dom().nodeType;\n  };\n  var value = function (element) {\n    return element.dom().nodeValue;\n  };\n  var isType$1 = function (t) {\n    return function (element) {\n      return type(element) === t;\n    };\n  };\n  var isComment = function (element) {\n    return type(element) === $_8b12q912jnlpawv7.COMMENT || name(element) === '#comment';\n  };\n  var isElement = isType$1($_8b12q912jnlpawv7.ELEMENT);\n  var isText = isType$1($_8b12q912jnlpawv7.TEXT);\n  var isDocument = isType$1($_8b12q912jnlpawv7.DOCUMENT);\n  var $_7u5fzs11jnlpawv6 = {\n    name: name,\n    type: type,\n    value: value,\n    isElement: isElement,\n    isText: isText,\n    isDocument: isDocument,\n    isComment: isComment\n  };\n\n  var keys = Object.keys;\n\n  var each$3 = function (obj, f) {\n    var props = keys(obj);\n    for (var k = 0, len = props.length; k < len; k++) {\n      var i = props[k];\n      var x = obj[i];\n      f(x, i, obj);\n    }\n  };\n  var map$2 = function (obj, f) {\n    return tupleMap(obj, function (x, i, obj) {\n      return {\n        k: i,\n        v: f(x, i, obj)\n      };\n    });\n  };\n  var tupleMap = function (obj, f) {\n    var r = {};\n    each$3(obj, function (x, i) {\n      var tuple = f(x, i, obj);\n      r[tuple.k] = tuple.v;\n    });\n    return r;\n  };\n  var bifilter = function (obj, pred) {\n    var t = {};\n    var f = {};\n    each$3(obj, function (x, i) {\n      var branch = pred(x, i) ? t : f;\n      branch[i] = x;\n    });\n    return {\n      t: t,\n      f: f\n    };\n  };\n\n  var rawSet = function (dom, key, value) {\n    if (isString(value) || isBoolean(value) || isNumber(value)) {\n      dom.setAttribute(key, value + '');\n    } else {\n      console.error('Invalid call to Attr.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n      throw new Error('Attribute value was not simple');\n    }\n  };\n  var set = function (element, key, value) {\n    rawSet(element.dom(), key, value);\n  };\n  var setAll = function (element, attrs) {\n    var dom = element.dom();\n    each$3(attrs, function (v, k) {\n      rawSet(dom, k, v);\n    });\n  };\n  var get$1 = function (element, key) {\n    var v = element.dom().getAttribute(key);\n    return v === null ? undefined : v;\n  };\n  var has$1 = function (element, key) {\n    var dom = element.dom();\n    return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n  };\n  var remove = function (element, key) {\n    element.dom().removeAttribute(key);\n  };\n  var hasNone = function (element) {\n    var attrs = element.dom().attributes;\n    return attrs === undefined || attrs === null || attrs.length === 0;\n  };\n  var clone = function (element) {\n    return foldl(element.dom().attributes, function (acc, attr) {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n  };\n  var transferOne = function (source, destination, attr) {\n    if (has$1(source, attr) && !has$1(destination, attr))\n      set(destination, attr, get$1(source, attr));\n  };\n  var transfer = function (source, destination, attrs) {\n    if (!$_7u5fzs11jnlpawv6.isElement(source) || !$_7u5fzs11jnlpawv6.isElement(destination))\n      return;\n    each(attrs, function (attr) {\n      transferOne(source, destination, attr);\n    });\n  };\n  var $_521j8z15jnlpawz7 = {\n    clone: clone,\n    set: set,\n    setAll: setAll,\n    get: get$1,\n    has: has$1,\n    remove: remove,\n    hasNone: hasNone,\n    transfer: transfer\n  };\n\n  var inBody = function (element) {\n    var dom = $_7u5fzs11jnlpawv6.isText(element) ? element.dom().parentNode : element.dom();\n    return dom !== undefined && dom !== null && dom.ownerDocument.body.contains(dom);\n  };\n  var body = cached(function () {\n    return getBody(Element$$1.fromDom(document));\n  });\n  var getBody = function (doc) {\n    var body = doc.dom().body;\n    if (body === null || body === undefined)\n      throw 'Body is not available yet';\n    return Element$$1.fromDom(body);\n  };\n  var $_1lsags16jnlpawzj = {\n    body: body,\n    getBody: getBody,\n    inBody: inBody\n  };\n\n  var isSupported = function (dom) {\n    return dom.style !== undefined;\n  };\n  var $_1z4orl17jnlpawzp = { isSupported: isSupported };\n\n  var internalSet = function (dom, property, value) {\n    if (!isString(value)) {\n      console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n      throw new Error('CSS value must be a string: ' + value);\n    }\n    if ($_1z4orl17jnlpawzp.isSupported(dom))\n      dom.style.setProperty(property, value);\n  };\n  var internalRemove = function (dom, property) {\n    if ($_1z4orl17jnlpawzp.isSupported(dom))\n      dom.style.removeProperty(property);\n  };\n  var set$1 = function (element, property, value) {\n    var dom = element.dom();\n    internalSet(dom, property, value);\n  };\n  var setAll$1 = function (element, css) {\n    var dom = element.dom();\n    each$3(css, function (v, k) {\n      internalSet(dom, k, v);\n    });\n  };\n  var setOptions = function (element, css) {\n    var dom = element.dom();\n    each$3(css, function (v, k) {\n      v.fold(function () {\n        internalRemove(dom, k);\n      }, function (value) {\n        internalSet(dom, k, value);\n      });\n    });\n  };\n  var get$2 = function (element, property) {\n    var dom = element.dom();\n    var styles = window.getComputedStyle(dom);\n    var r = styles.getPropertyValue(property);\n    var v = r === '' && !$_1lsags16jnlpawzj.inBody(element) ? getUnsafeProperty(dom, property) : r;\n    return v === null ? undefined : v;\n  };\n  var getUnsafeProperty = function (dom, property) {\n    return $_1z4orl17jnlpawzp.isSupported(dom) ? dom.style.getPropertyValue(property) : '';\n  };\n  var getRaw = function (element, property) {\n    var dom = element.dom();\n    var raw = getUnsafeProperty(dom, property);\n    return Option.from(raw).filter(function (r) {\n      return r.length > 0;\n    });\n  };\n  var getAllRaw = function (element) {\n    var css = {};\n    var dom = element.dom();\n    if ($_1z4orl17jnlpawzp.isSupported(dom)) {\n      for (var i = 0; i < dom.style.length; i++) {\n        var ruleName = dom.style.item(i);\n        css[ruleName] = dom.style[ruleName];\n      }\n    }\n    return css;\n  };\n  var isValidValue = function (tag, property, value) {\n    var element = Element$$1.fromTag(tag);\n    set$1(element, property, value);\n    var style = getRaw(element, property);\n    return style.isSome();\n  };\n  var remove$1 = function (element, property) {\n    var dom = element.dom();\n    internalRemove(dom, property);\n    if ($_521j8z15jnlpawz7.has(element, 'style') && trim$2($_521j8z15jnlpawz7.get(element, 'style')) === '') {\n      $_521j8z15jnlpawz7.remove(element, 'style');\n    }\n  };\n  var preserve = function (element, f) {\n    var oldStyles = $_521j8z15jnlpawz7.get(element, 'style');\n    var result = f(element);\n    var restore = oldStyles === undefined ? $_521j8z15jnlpawz7.remove : $_521j8z15jnlpawz7.set;\n    restore(element, 'style', oldStyles);\n    return result;\n  };\n  var copy = function (source, target) {\n    var sourceDom = source.dom();\n    var targetDom = target.dom();\n    if ($_1z4orl17jnlpawzp.isSupported(sourceDom) && $_1z4orl17jnlpawzp.isSupported(targetDom)) {\n      targetDom.style.cssText = sourceDom.style.cssText;\n    }\n  };\n  var reflow = function (e) {\n    return e.dom().offsetWidth;\n  };\n  var transferOne$1 = function (source, destination, style) {\n    getRaw(source, style).each(function (value) {\n      if (getRaw(destination, style).isNone())\n        set$1(destination, style, value);\n    });\n  };\n  var transfer$1 = function (source, destination, styles) {\n    if (!$_7u5fzs11jnlpawv6.isElement(source) || !$_7u5fzs11jnlpawv6.isElement(destination))\n      return;\n    each(styles, function (style) {\n      transferOne$1(source, destination, style);\n    });\n  };\n  var $_asiuhf13jnlpawvc = {\n    copy: copy,\n    set: set$1,\n    preserve: preserve,\n    setAll: setAll$1,\n    setOptions: setOptions,\n    remove: remove$1,\n    get: get$2,\n    getRaw: getRaw,\n    getAllRaw: getAllRaw,\n    isValidValue: isValidValue,\n    reflow: reflow,\n    transfer: transfer$1\n  };\n\n  var Immutable = function () {\n    var fields = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      fields[_i] = arguments[_i];\n    }\n    return function () {\n      var values = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n      }\n      if (fields.length !== values.length) {\n        throw new Error('Wrong number of arguments to struct. Expected \"[' + fields.length + ']\", got ' + values.length + ' arguments');\n      }\n      var struct = {};\n      each(fields, function (name, i) {\n        struct[name] = constant(values[i]);\n      });\n      return struct;\n    };\n  };\n\n  var toArray$1 = function (target, f) {\n    var r = [];\n    var recurse = function (e) {\n      r.push(e);\n      return f(e);\n    };\n    var cur = f(target);\n    do {\n      cur = cur.bind(recurse);\n    } while (cur.isSome());\n    return r;\n  };\n  var $_arqw5m1djnlpax0i = { toArray: toArray$1 };\n\n  var node = function () {\n    var f = $_3b2dlgcjnlpawlt.getOrDie('Node');\n    return f;\n  };\n  var compareDocumentPosition = function (a, b, match) {\n    return (a.compareDocumentPosition(b) & match) !== 0;\n  };\n  var documentPositionPreceding = function (a, b) {\n    return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_PRECEDING);\n  };\n  var documentPositionContainedBy = function (a, b) {\n    return compareDocumentPosition(a, b, node().DOCUMENT_POSITION_CONTAINED_BY);\n  };\n  var $_eo508y1fjnlpax0w = {\n    documentPositionPreceding: documentPositionPreceding,\n    documentPositionContainedBy: documentPositionContainedBy\n  };\n\n  var ELEMENT = $_8b12q912jnlpawv7.ELEMENT;\n  var DOCUMENT = $_8b12q912jnlpawv7.DOCUMENT;\n  var is$1 = function (element, selector) {\n    var elem = element.dom();\n    if (elem.nodeType !== ELEMENT)\n      return false;\n    else if (elem.matches !== undefined)\n      return elem.matches(selector);\n    else if (elem.msMatchesSelector !== undefined)\n      return elem.msMatchesSelector(selector);\n    else if (elem.webkitMatchesSelector !== undefined)\n      return elem.webkitMatchesSelector(selector);\n    else if (elem.mozMatchesSelector !== undefined)\n      return elem.mozMatchesSelector(selector);\n    else\n      throw new Error('Browser lacks native selectors');\n  };\n  var bypassSelector = function (dom) {\n    return dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT || dom.childElementCount === 0;\n  };\n  var all = function (selector, scope) {\n    var base = scope === undefined ? document : scope.dom();\n    return bypassSelector(base) ? [] : map(base.querySelectorAll(selector), Element$$1.fromDom);\n  };\n  var one = function (selector, scope) {\n    var base = scope === undefined ? document : scope.dom();\n    return bypassSelector(base) ? Option.none() : Option.from(base.querySelector(selector)).map(Element$$1.fromDom);\n  };\n  var $_d8v5lf1gjnlpax0y = {\n    all: all,\n    is: is$1,\n    one: one\n  };\n\n  var eq = function (e1, e2) {\n    return e1.dom() === e2.dom();\n  };\n  var isEqualNode = function (e1, e2) {\n    return e1.dom().isEqualNode(e2.dom());\n  };\n  var member = function (element, elements) {\n    return exists(elements, curry(eq, element));\n  };\n  var regularContains = function (e1, e2) {\n    var d1 = e1.dom(), d2 = e2.dom();\n    return d1 === d2 ? false : d1.contains(d2);\n  };\n  var ieContains = function (e1, e2) {\n    return $_eo508y1fjnlpax0w.documentPositionContainedBy(e1.dom(), e2.dom());\n  };\n  var browser = $_766rx4ojnlpawtd.detect().browser;\n  var contains$3 = browser.isIE() ? ieContains : regularContains;\n  var $_5h7cor1ejnlpax0k = {\n    eq: eq,\n    isEqualNode: isEqualNode,\n    member: member,\n    contains: contains$3,\n    is: $_d8v5lf1gjnlpax0y.is\n  };\n\n  var owner = function (element) {\n    return Element$$1.fromDom(element.dom().ownerDocument);\n  };\n  var documentElement = function (element) {\n    return Element$$1.fromDom(element.dom().ownerDocument.documentElement);\n  };\n  var defaultView = function (element) {\n    var el = element.dom();\n    var defaultView = el.ownerDocument.defaultView;\n    return Element$$1.fromDom(defaultView);\n  };\n  var parent = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.parentNode).map(Element$$1.fromDom);\n  };\n  var findIndex$2 = function (element) {\n    return parent(element).bind(function (p) {\n      var kin = children(p);\n      return findIndex(kin, function (elem) {\n        return $_5h7cor1ejnlpax0k.eq(element, elem);\n      });\n    });\n  };\n  var parents = function (element, isRoot) {\n    var stop = isFunction(isRoot) ? isRoot : constant(false);\n    var dom = element.dom();\n    var ret = [];\n    while (dom.parentNode !== null && dom.parentNode !== undefined) {\n      var rawParent = dom.parentNode;\n      var parent = Element$$1.fromDom(rawParent);\n      ret.push(parent);\n      if (stop(parent) === true)\n        break;\n      else\n        dom = rawParent;\n    }\n    return ret;\n  };\n  var siblings = function (element) {\n    var filterSelf = function (elements) {\n      return filter(elements, function (x) {\n        return !$_5h7cor1ejnlpax0k.eq(element, x);\n      });\n    };\n    return parent(element).map(children).map(filterSelf).getOr([]);\n  };\n  var offsetParent = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.offsetParent).map(Element$$1.fromDom);\n  };\n  var prevSibling = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.previousSibling).map(Element$$1.fromDom);\n  };\n  var nextSibling = function (element) {\n    var dom = element.dom();\n    return Option.from(dom.nextSibling).map(Element$$1.fromDom);\n  };\n  var prevSiblings = function (element) {\n    return reverse($_arqw5m1djnlpax0i.toArray(element, prevSibling));\n  };\n  var nextSiblings = function (element) {\n    return $_arqw5m1djnlpax0i.toArray(element, nextSibling);\n  };\n  var children = function (element) {\n    var dom = element.dom();\n    return map(dom.childNodes, Element$$1.fromDom);\n  };\n  var child = function (element, index) {\n    var children = element.dom().childNodes;\n    return Option.from(children[index]).map(Element$$1.fromDom);\n  };\n  var firstChild = function (element) {\n    return child(element, 0);\n  };\n  var lastChild = function (element) {\n    return child(element, element.dom().childNodes.length - 1);\n  };\n  var childNodesCount = function (element) {\n    return element.dom().childNodes.length;\n  };\n  var hasChildNodes = function (element) {\n    return element.dom().hasChildNodes();\n  };\n  var spot = Immutable('element', 'offset');\n  var leaf = function (element, offset) {\n    var cs = children(element);\n    return cs.length > 0 && offset < cs.length ? spot(cs[offset], 0) : spot(element, offset);\n  };\n  var $_dr4ybh18jnlpawzt = {\n    owner: owner,\n    defaultView: defaultView,\n    documentElement: documentElement,\n    parent: parent,\n    findIndex: findIndex$2,\n    parents: parents,\n    siblings: siblings,\n    prevSibling: prevSibling,\n    offsetParent: offsetParent,\n    prevSiblings: prevSiblings,\n    nextSibling: nextSibling,\n    nextSiblings: nextSiblings,\n    children: children,\n    child: child,\n    firstChild: firstChild,\n    lastChild: lastChild,\n    childNodesCount: childNodesCount,\n    hasChildNodes: hasChildNodes,\n    leaf: leaf\n  };\n\n  var browser$1 = $_766rx4ojnlpawtd.detect().browser;\n  var firstElement = function (nodes) {\n    return find(nodes, $_7u5fzs11jnlpawv6.isElement);\n  };\n  var getTableCaptionDeltaY = function (elm) {\n    if (browser$1.isFirefox() && $_7u5fzs11jnlpawv6.name(elm) === 'table') {\n      return firstElement($_dr4ybh18jnlpawzt.children(elm)).filter(function (elm) {\n        return $_7u5fzs11jnlpawv6.name(elm) === 'caption';\n      }).bind(function (caption) {\n        return firstElement($_dr4ybh18jnlpawzt.nextSiblings(caption)).map(function (body) {\n          var bodyTop = body.dom().offsetTop;\n          var captionTop = caption.dom().offsetTop;\n          var captionHeight = caption.dom().offsetHeight;\n          return bodyTop <= captionTop ? -captionHeight : 0;\n        });\n      }).getOr(0);\n    } else {\n      return 0;\n    }\n  };\n  var getPos = function (body, elm, rootElm) {\n    var x = 0, y = 0, offsetParent;\n    var doc = body.ownerDocument;\n    var pos;\n    rootElm = rootElm ? rootElm : body;\n    if (elm) {\n      if (rootElm === body && elm.getBoundingClientRect && $_asiuhf13jnlpawvc.get(Element$$1.fromDom(body), 'position') === 'static') {\n        pos = elm.getBoundingClientRect();\n        x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n        y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n        return {\n          x: x,\n          y: y\n        };\n      }\n      offsetParent = elm;\n      while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType) {\n        x += offsetParent.offsetLeft || 0;\n        y += offsetParent.offsetTop || 0;\n        offsetParent = offsetParent.offsetParent;\n      }\n      offsetParent = elm.parentNode;\n      while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType) {\n        x -= offsetParent.scrollLeft || 0;\n        y -= offsetParent.scrollTop || 0;\n        offsetParent = offsetParent.parentNode;\n      }\n      y += getTableCaptionDeltaY(Element$$1.fromDom(elm));\n    }\n    return {\n      x: x,\n      y: y\n    };\n  };\n  var $_9kqe0nnjnlpawsp = { getPos: getPos };\n\n  var nu$3 = function (baseFn) {\n    var data = Option.none();\n    var callbacks = [];\n    var map$$1 = function (f) {\n      return nu$3(function (nCallback) {\n        get(function (data) {\n          nCallback(f(data));\n        });\n      });\n    };\n    var get = function (nCallback) {\n      if (isReady())\n        call(nCallback);\n      else\n        callbacks.push(nCallback);\n    };\n    var set = function (x) {\n      data = Option.some(x);\n      run(callbacks);\n      callbacks = [];\n    };\n    var isReady = function () {\n      return data.isSome();\n    };\n    var run = function (cbs) {\n      each(cbs, call);\n    };\n    var call = function (cb) {\n      data.each(function (x) {\n        setTimeout(function () {\n          cb(x);\n        }, 0);\n      });\n    };\n    baseFn(set);\n    return {\n      get: get,\n      map: map$$1,\n      isReady: isReady\n    };\n  };\n  var pure$1 = function (a) {\n    return nu$3(function (callback) {\n      callback(a);\n    });\n  };\n  var LazyValue = {\n    nu: nu$3,\n    pure: pure$1\n  };\n\n  var bounce = function (f) {\n    return function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      var me = this;\n      setTimeout(function () {\n        f.apply(me, args);\n      }, 0);\n    };\n  };\n\n  var nu$4 = function (baseFn) {\n    var get = function (callback) {\n      baseFn(bounce(callback));\n    };\n    var map = function (fab) {\n      return nu$4(function (callback) {\n        get(function (a) {\n          var value = fab(a);\n          callback(value);\n        });\n      });\n    };\n    var bind = function (aFutureB) {\n      return nu$4(function (callback) {\n        get(function (a) {\n          aFutureB(a).get(callback);\n        });\n      });\n    };\n    var anonBind = function (futureB) {\n      return nu$4(function (callback) {\n        get(function (a) {\n          futureB.get(callback);\n        });\n      });\n    };\n    var toLazy = function () {\n      return LazyValue.nu(get);\n    };\n    var toCached = function () {\n      var cache = null;\n      return nu$4(function (callback) {\n        if (cache === null) {\n          cache = toLazy();\n        }\n        cache.get(callback);\n      });\n    };\n    return {\n      map: map,\n      bind: bind,\n      anonBind: anonBind,\n      toLazy: toLazy,\n      toCached: toCached,\n      get: get\n    };\n  };\n  var pure$2 = function (a) {\n    return nu$4(function (callback) {\n      callback(a);\n    });\n  };\n  var Future = {\n    nu: nu$4,\n    pure: pure$2\n  };\n\n  var par = function (asyncValues, nu) {\n    return nu(function (callback) {\n      var r = [];\n      var count = 0;\n      var cb = function (i) {\n        return function (value) {\n          r[i] = value;\n          count++;\n          if (count >= asyncValues.length) {\n            callback(r);\n          }\n        };\n      };\n      if (asyncValues.length === 0) {\n        callback([]);\n      } else {\n        each(asyncValues, function (asyncValue, i) {\n          asyncValue.get(cb(i));\n        });\n      }\n    });\n  };\n\n  var par$1 = function (futures) {\n    return par(futures, Future.nu);\n  };\n\n  var value$1 = function (o) {\n    var is = function (v) {\n      return o === v;\n    };\n    var or = function (opt) {\n      return value$1(o);\n    };\n    var orThunk = function (f) {\n      return value$1(o);\n    };\n    var map = function (f) {\n      return value$1(f(o));\n    };\n    var each = function (f) {\n      f(o);\n    };\n    var bind = function (f) {\n      return f(o);\n    };\n    var fold = function (_, onValue) {\n      return onValue(o);\n    };\n    var exists = function (f) {\n      return f(o);\n    };\n    var forall = function (f) {\n      return f(o);\n    };\n    var toOption = function () {\n      return Option.some(o);\n    };\n    return {\n      is: is,\n      isValue: always,\n      isError: never,\n      getOr: constant(o),\n      getOrThunk: constant(o),\n      getOrDie: constant(o),\n      or: or,\n      orThunk: orThunk,\n      fold: fold,\n      map: map,\n      each: each,\n      bind: bind,\n      exists: exists,\n      forall: forall,\n      toOption: toOption\n    };\n  };\n  var error = function (message) {\n    var getOrThunk = function (f) {\n      return f();\n    };\n    var getOrDie = function () {\n      return die(String(message))();\n    };\n    var or = function (opt) {\n      return opt;\n    };\n    var orThunk = function (f) {\n      return f();\n    };\n    var map = function (f) {\n      return error(message);\n    };\n    var bind = function (f) {\n      return error(message);\n    };\n    var fold = function (onError, _) {\n      return onError(message);\n    };\n    return {\n      is: never,\n      isValue: never,\n      isError: always,\n      getOr: identity,\n      getOrThunk: getOrThunk,\n      getOrDie: getOrDie,\n      or: or,\n      orThunk: orThunk,\n      fold: fold,\n      map: map,\n      each: noop,\n      bind: bind,\n      exists: never,\n      forall: always,\n      toOption: Option.none\n    };\n  };\n  var Result = {\n    value: value$1,\n    error: error\n  };\n\n  function StyleSheetLoader(document$$1, settings) {\n    /** styleSheet */\n    var idCount = 0;\n    var loadedStates = {};\n    var maxLoadTime;\n    settings = settings || {};\n    maxLoadTime = settings.maxLoadTime || 5000;\n    var appendToHead = function (node) {\n      document$$1.getElementsByTagName('head')[0].appendChild(node);\n    };\n    var load = function (url, loadedCallback, errorCallback) {\n      var link, style, startTime, state;\n      var passed = function () {\n        var callbacks = state.passed;\n        var i = callbacks.length;\n        while (i--) {\n          callbacks[i]();\n        }\n        state.status = 2;\n        state.passed = [];\n        state.failed = [];\n      };\n      var failed = function () {\n        var callbacks = state.failed;\n        var i = callbacks.length;\n        while (i--) {\n          callbacks[i]();\n        }\n        state.status = 3;\n        state.passed = [];\n        state.failed = [];\n      };\n      var isOldWebKit = function () {\n        var webKitChunks = navigator.userAgent.match(/WebKit\\/(\\d*)/);\n        return !!(webKitChunks && parseInt(webKitChunks[1], 10) < 536);\n      };\n      var wait = function (testCallback, waitCallback) {\n        if (!testCallback()) {\n          if (new Date().getTime() - startTime < maxLoadTime) {\n            $_2nbnh1ijnlpawpi.setTimeout(waitCallback);\n          } else {\n            failed();\n          }\n        }\n      };\n      var waitForWebKitLinkLoaded = function () {\n        wait(function () {\n          var styleSheets = document$$1.styleSheets;\n          var styleSheet, i = styleSheets.length, owner;\n          // while (i--) {\n          //   styleSheet = styleSheets[i];\n          //   owner = styleSheet.ownerNode ? styleSheet.ownerNode : styleSheet.owningElement;\n          //   if (owner && owner.id === link.id) {\n          //     passed();\n          //     return true;\n          //   }\n          // }\n          passed()\n          return true\n        }, waitForWebKitLinkLoaded);\n      };\n      var waitForGeckoLinkLoaded = function () {\n        wait(function () {\n          try {\n            // var cssRules = style.sheet.cssRules;\n            // passed();\n            // return !!cssRules;\n            passed()\n            return true\n          } catch (ex) {\n          }\n        }, waitForGeckoLinkLoaded);\n      };\n      url = $_1q1txeljnlpawsa._addCacheSuffix(url);\n      if (!loadedStates[url]) {\n        state = {\n          passed: [],\n          failed: []\n        };\n        loadedStates[url] = state;\n      } else {\n        state = loadedStates[url];\n      }\n      if (loadedCallback) {\n        state.passed.push(loadedCallback);\n      }\n      if (errorCallback) {\n        state.failed.push(errorCallback);\n      }\n      if (state.status === 1) {\n        return;\n      }\n      if (state.status === 2) {\n        passed();\n        return;\n      }\n      if (state.status === 3) {\n        failed();\n        return;\n      }\n      state.status = 1;\n      link = document$$1.createElement('link');\n      link.rel = 'stylesheet';\n      link.type = 'text/css';\n      link.id = 'u' + idCount++;\n      link.async = false;\n      link.defer = false;\n      link.crossOrigin = 'anonymous';\n      startTime = new Date().getTime();\n      if ('onload' in link && !isOldWebKit()) {\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n      } else {\n        if (navigator.userAgent.indexOf('Firefox') > 0) {\n          // style = document$$1.createElement('style');\n          // style.textContent = '@import \"' + url + '\"';\n          // waitForGeckoLinkLoaded();\n          // appendToHead(style);\n          return;\n        }\n        waitForWebKitLinkLoaded();\n      }\n      appendToHead(link);\n      // link.href = null;\n      waitForWebKitLinkLoaded()\n    };\n    var loadF = function (url) {\n      return Future.nu(function (resolve) {\n        load(url, compose(resolve, constant(Result.value(url))), compose(resolve, constant(Result.error(url))));\n      });\n    };\n    var unbox = function (result) {\n      return result.fold(identity, identity);\n    };\n    var loadAll = function (urls, success, failure) {\n      par$1(map(urls, loadF)).get(function (result) {\n        var parts = partition(result, function (r) {\n          return r.isValue();\n        });\n        if (parts.fail.length > 0) {\n          failure(parts.fail.map(unbox));\n        } else {\n          success(parts.pass.map(unbox));\n        }\n      });\n    };\n    return {\n      load: load,\n      loadAll: loadAll\n    };\n  }\n\n  function TreeWalker (startNode, rootNode) {\n    var node = startNode;\n    var findSibling = function (node, startName, siblingName, shallow) {\n      var sibling, parent;\n      if (node) {\n        if (!shallow && node[startName]) {\n          return node[startName];\n        }\n        if (node !== rootNode) {\n          sibling = node[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n          for (parent = node.parentNode; parent && parent !== rootNode; parent = parent.parentNode) {\n            sibling = parent[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n          }\n        }\n      }\n    };\n    var findPreviousNode = function (node, startName, siblingName, shallow) {\n      var sibling, parent, child;\n      if (node) {\n        sibling = node[siblingName];\n        if (rootNode && sibling === rootNode) {\n          return;\n        }\n        if (sibling) {\n          if (!shallow) {\n            for (child = sibling[startName]; child; child = child[startName]) {\n              if (!child[startName]) {\n                return child;\n              }\n            }\n          }\n          return sibling;\n        }\n        parent = node.parentNode;\n        if (parent && parent !== rootNode) {\n          return parent;\n        }\n      }\n    };\n    this.current = function () {\n      return node;\n    };\n    this.next = function (shallow) {\n      node = findSibling(node, 'firstChild', 'nextSibling', shallow);\n      return node;\n    };\n    this.prev = function (shallow) {\n      node = findSibling(node, 'lastChild', 'previousSibling', shallow);\n      return node;\n    };\n    this.prev2 = function (shallow) {\n      node = findPreviousNode(node, 'lastChild', 'previousSibling', shallow);\n      return node;\n    };\n  }\n\n  var blocks = [\n    'article',\n    'aside',\n    'details',\n    'div',\n    'dt',\n    'figcaption',\n    'footer',\n    'form',\n    'fieldset',\n    'header',\n    'hgroup',\n    'html',\n    'main',\n    'nav',\n    'section',\n    'summary',\n    'body',\n    'p',\n    'dl',\n    'multicol',\n    'dd',\n    'figure',\n    'address',\n    'center',\n    'blockquote',\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'listing',\n    'xmp',\n    'pre',\n    'plaintext',\n    'menu',\n    'dir',\n    'ul',\n    'ol',\n    'li',\n    'hr',\n    'table',\n    'tbody',\n    'thead',\n    'tfoot',\n    'th',\n    'tr',\n    'td',\n    'caption'\n  ];\n  var voids = [\n    'area',\n    'base',\n    'basefont',\n    'br',\n    'col',\n    'frame',\n    'hr',\n    'img',\n    'input',\n    'isindex',\n    'link',\n    'meta',\n    'param',\n    'embed',\n    'source',\n    'wbr',\n    'track'\n  ];\n  var tableCells = [\n    'td',\n    'th'\n  ];\n  var tableSections = [\n    'thead',\n    'tbody',\n    'tfoot'\n  ];\n  var textBlocks = [\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6',\n    'p',\n    'div',\n    'address',\n    'pre',\n    'form',\n    'blockquote',\n    'center',\n    'dir',\n    'fieldset',\n    'header',\n    'footer',\n    'article',\n    'section',\n    'hgroup',\n    'aside',\n    'nav',\n    'figure'\n  ];\n  var headings = [\n    'h1',\n    'h2',\n    'h3',\n    'h4',\n    'h5',\n    'h6'\n  ];\n  var listItems = [\n    'li',\n    'dd',\n    'dt'\n  ];\n  var lists = [\n    'ul',\n    'ol',\n    'dl'\n  ];\n  var wsElements = [\n    'pre',\n    'script',\n    'textarea',\n    'style'\n  ];\n  var lazyLookup = function (items) {\n    var lookup;\n    return function (node) {\n      lookup = lookup ? lookup : mapToObject(items, constant(true));\n      return lookup.hasOwnProperty($_7u5fzs11jnlpawv6.name(node));\n    };\n  };\n  var isHeading = lazyLookup(headings);\n  var isBlock = lazyLookup(blocks);\n  var isInline = function (node) {\n    return $_7u5fzs11jnlpawv6.isElement(node) && !isBlock(node);\n  };\n  var isBr = function (node) {\n    return $_7u5fzs11jnlpawv6.isElement(node) && $_7u5fzs11jnlpawv6.name(node) === 'br';\n  };\n  var isTextBlock = lazyLookup(textBlocks);\n  var isList = lazyLookup(lists);\n  var isListItem = lazyLookup(listItems);\n  var isVoid = lazyLookup(voids);\n  var isTableSection = lazyLookup(tableSections);\n  var isTableCell = lazyLookup(tableCells);\n  var isWsPreserveElement = lazyLookup(wsElements);\n\n  var isNodeType = function (type) {\n    return function (node) {\n      return !!node && node.nodeType === type;\n    };\n  };\n  var isElement$1 = isNodeType(1);\n  var matchNodeNames = function (names) {\n    var items = names.toLowerCase().split(' ');\n    return function (node) {\n      var i, name;\n      if (node && node.nodeType) {\n        name = node.nodeName.toLowerCase();\n        for (i = 0; i < items.length; i++) {\n          if (name === items[i]) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n  };\n  var matchStyleValues = function (name, values) {\n    var items = values.toLowerCase().split(' ');\n    return function (node) {\n      var i, cssValue;\n      if (isElement$1(node)) {\n        for (i = 0; i < items.length; i++) {\n          var computed = node.ownerDocument.defaultView.getComputedStyle(node, null);\n          cssValue = computed ? computed.getPropertyValue(name) : null;\n          if (cssValue === items[i]) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n  };\n  var hasPropValue = function (propName, propValue) {\n    return function (node) {\n      return isElement$1(node) && node[propName] === propValue;\n    };\n  };\n  var hasAttribute = function (attrName, attrValue) {\n    return function (node) {\n      return isElement$1(node) && node.hasAttribute(attrName);\n    };\n  };\n  var hasAttributeValue = function (attrName, attrValue) {\n    return function (node) {\n      return isElement$1(node) && node.getAttribute(attrName) === attrValue;\n    };\n  };\n  var isBogus = function (node) {\n    return isElement$1(node) && node.hasAttribute('data-mce-bogus');\n  };\n  var isBogusAll = function (node) {\n    return isElement$1(node) && node.getAttribute('data-mce-bogus') === 'all';\n  };\n  var isTable = function (node) {\n    return isElement$1(node) && node.tagName === 'TABLE';\n  };\n  var hasContentEditableState = function (value) {\n    return function (node) {\n      if (isElement$1(node)) {\n        if (node.contentEditable === value) {\n          return true;\n        }\n        if (node.getAttribute('data-mce-contenteditable') === value) {\n          return true;\n        }\n      }\n      return false;\n    };\n  };\n  var isText$1 = isNodeType(3);\n  var isComment$1 = isNodeType(8);\n  var isDocument$1 = isNodeType(9);\n  var isBr$1 = matchNodeNames('br');\n  var isContentEditableTrue = hasContentEditableState('true');\n  var isContentEditableFalse = hasContentEditableState('false');\n  var $_fy28ei1rjnlpax2o = {\n    isText: isText$1,\n    isElement: isElement$1,\n    isComment: isComment$1,\n    isDocument: isDocument$1,\n    isBr: isBr$1,\n    isContentEditableTrue: isContentEditableTrue,\n    isContentEditableFalse: isContentEditableFalse,\n    matchNodeNames: matchNodeNames,\n    hasPropValue: hasPropValue,\n    hasAttribute: hasAttribute,\n    hasAttributeValue: hasAttributeValue,\n    matchStyleValues: matchStyleValues,\n    isBogus: isBogus,\n    isBogusAll: isBogusAll,\n    isTable: isTable\n  };\n\n  var surroundedBySpans = function (node) {\n    var previousIsSpan = node.previousSibling && node.previousSibling.nodeName === 'SPAN';\n    var nextIsSpan = node.nextSibling && node.nextSibling.nodeName === 'SPAN';\n    return previousIsSpan && nextIsSpan;\n  };\n  var isBookmarkNode = function (node) {\n    return node && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n  };\n  var trimNode = function (dom, node) {\n    var i, children = node.childNodes;\n    if ($_fy28ei1rjnlpax2o.isElement(node) && isBookmarkNode(node)) {\n      return;\n    }\n    for (i = children.length - 1; i >= 0; i--) {\n      trimNode(dom, children[i]);\n    }\n    if ($_fy28ei1rjnlpax2o.isDocument(node) === false) {\n      if ($_fy28ei1rjnlpax2o.isText(node) && node.nodeValue.length > 0) {\n        var trimmedLength = $_1q1txeljnlpawsa.trim(node.nodeValue).length;\n        if (dom.isBlock(node.parentNode) || trimmedLength > 0) {\n          return;\n        }\n        if (trimmedLength === 0 && surroundedBySpans(node)) {\n          return;\n        }\n      } else if ($_fy28ei1rjnlpax2o.isElement(node)) {\n        children = node.childNodes;\n        if (children.length === 1 && isBookmarkNode(children[0])) {\n          node.parentNode.insertBefore(children[0], node);\n        }\n        if (children.length || isVoid(Element$$1.fromDom(node))) {\n          return;\n        }\n      }\n      dom.remove(node);\n    }\n    return node;\n  };\n  var $_7nxzh21pjnlpax26 = { trimNode: trimNode };\n\n  var makeMap$1 = $_1q1txeljnlpawsa.makeMap;\n  var namedEntities;\n  var baseEntities;\n  var reverseEntities;\n  var attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  var rawCharsRegExp = /[<>&\\\"\\']/g;\n  var entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n  var asciiMap = {\n    128: '\\u20AC',\n    130: '\\u201A',\n    131: '\\u0192',\n    132: '\\u201E',\n    133: '\\u2026',\n    134: '\\u2020',\n    135: '\\u2021',\n    136: '\\u02c6',\n    137: '\\u2030',\n    138: '\\u0160',\n    139: '\\u2039',\n    140: '\\u0152',\n    142: '\\u017d',\n    145: '\\u2018',\n    146: '\\u2019',\n    147: '\\u201C',\n    148: '\\u201D',\n    149: '\\u2022',\n    150: '\\u2013',\n    151: '\\u2014',\n    152: '\\u02DC',\n    153: '\\u2122',\n    154: '\\u0161',\n    155: '\\u203A',\n    156: '\\u0153',\n    158: '\\u017e',\n    159: '\\u0178'\n  };\n  baseEntities = {\n    '\"': '&quot;',\n    '\\'': '&#39;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '`': '&#96;'\n  };\n  reverseEntities = {\n    '&lt;': '<',\n    '&gt;': '>',\n    '&amp;': '&',\n    '&quot;': '\"',\n    '&apos;': '\\''\n  };\n  var nativeDecode = function (text) {\n    var elm;\n    elm = Element$$1.fromTag('div').dom();\n    elm.innerHTML = text;\n    return elm.textContent || elm.innerText || text;\n  };\n  var buildEntitiesLookup = function (items, radix) {\n    var i, chr, entity;\n    var lookup = {};\n    if (items) {\n      items = items.split(',');\n      radix = radix || 10;\n      for (i = 0; i < items.length; i += 2) {\n        chr = String.fromCharCode(parseInt(items[i], radix));\n        if (!baseEntities[chr]) {\n          entity = '&' + items[i + 1] + ';';\n          lookup[chr] = entity;\n          lookup[entity] = chr;\n        }\n      }\n      return lookup;\n    }\n  };\n  namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n  var encodeRaw = function (text, attr) {\n    return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n      return baseEntities[chr] || chr;\n    });\n  };\n  var encodeAllRaw = function (text) {\n    return ('' + text).replace(rawCharsRegExp, function (chr) {\n      return baseEntities[chr] || chr;\n    });\n  };\n  var encodeNumeric = function (text, attr) {\n    return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n      if (chr.length > 1) {\n        return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n      }\n      return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n    });\n  };\n  var encodeNamed = function (text, attr, entities) {\n    entities = entities || namedEntities;\n    return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n      return baseEntities[chr] || entities[chr] || chr;\n    });\n  };\n  var getEncodeFunc = function (name, entities) {\n    var entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n    var encodeNamedAndNumeric = function (text, attr) {\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function (chr) {\n        if (baseEntities[chr] !== undefined) {\n          return baseEntities[chr];\n        }\n        if (entitiesMap[chr] !== undefined) {\n          return entitiesMap[chr];\n        }\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return '&#' + chr.charCodeAt(0) + ';';\n      });\n    };\n    var encodeCustomNamed = function (text, attr) {\n      return encodeNamed(text, attr, entitiesMap);\n    };\n    var nameMap = makeMap$1(name.replace(/\\+/g, ','));\n    if (nameMap.named && nameMap.numeric) {\n      return encodeNamedAndNumeric;\n    }\n    if (nameMap.named) {\n      if (entities) {\n        return encodeCustomNamed;\n      }\n      return encodeNamed;\n    }\n    if (nameMap.numeric) {\n      return encodeNumeric;\n    }\n    return encodeRaw;\n  };\n  var decode = function (text) {\n    return text.replace(entityRegExp, function (all, numeric) {\n      if (numeric) {\n        if (numeric.charAt(0).toLowerCase() === 'x') {\n          numeric = parseInt(numeric.substr(1), 16);\n        } else {\n          numeric = parseInt(numeric, 10);\n        }\n        if (numeric > 65535) {\n          numeric -= 65536;\n          return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n        }\n        return asciiMap[numeric] || String.fromCharCode(numeric);\n      }\n      return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n    });\n  };\n  var $_bea7j51sjnlpax2u = {\n    encodeRaw: encodeRaw,\n    encodeAllRaw: encodeAllRaw,\n    encodeNumeric: encodeNumeric,\n    encodeNamed: encodeNamed,\n    getEncodeFunc: getEncodeFunc,\n    decode: decode\n  };\n\n  var mapCache = {};\n  var dummyObj = {};\n  var makeMap$2 = $_1q1txeljnlpawsa.makeMap;\n  var each$4 = $_1q1txeljnlpawsa.each;\n  var extend$1 = $_1q1txeljnlpawsa.extend;\n  var explode$1 = $_1q1txeljnlpawsa.explode;\n  var inArray$1 = $_1q1txeljnlpawsa.inArray;\n  var split = function (items, delim) {\n    items = $_1q1txeljnlpawsa.trim(items);\n    return items ? items.split(delim || ' ') : [];\n  };\n  var compileSchema = function (type) {\n    var schema = {};\n    var globalAttributes, blockContent;\n    var phrasingContent, flowContent, html4BlockContent, html4PhrasingContent;\n    var add = function (name, attributes, children) {\n      var ni, attributesOrder, element;\n      var arrayToMap = function (array, obj) {\n        var map = {};\n        var i, l;\n        for (i = 0, l = array.length; i < l; i++) {\n          map[array[i]] = obj || {};\n        }\n        return map;\n      };\n      children = children || [];\n      attributes = attributes || '';\n      if (typeof children === 'string') {\n        children = split(children);\n      }\n      name = split(name);\n      ni = name.length;\n      while (ni--) {\n        attributesOrder = split([\n          globalAttributes,\n          attributes\n        ].join(' '));\n        element = {\n          attributes: arrayToMap(attributesOrder),\n          attributesOrder: attributesOrder,\n          children: arrayToMap(children, dummyObj)\n        };\n        schema[name[ni]] = element;\n      }\n    };\n    var addAttrs = function (name, attributes) {\n      var ni, schemaItem, i, l;\n      name = split(name);\n      ni = name.length;\n      attributes = split(attributes);\n      while (ni--) {\n        schemaItem = schema[name[ni]];\n        for (i = 0, l = attributes.length; i < l; i++) {\n          schemaItem.attributes[attributes[i]] = {};\n          schemaItem.attributesOrder.push(attributes[i]);\n        }\n      }\n    };\n    if (mapCache[type]) {\n      return mapCache[type];\n    }\n    globalAttributes = 'id accesskey class dir lang style tabindex title role';\n    blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n    phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n    if (type !== 'html4') {\n      globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n      blockContent += ' article aside details dialog figure main header footer hgroup section nav';\n      phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n    }\n    if (type !== 'html5-strict') {\n      globalAttributes += ' xml:lang';\n      html4PhrasingContent = 'acronym applet basefont big font strike tt';\n      phrasingContent = [\n        phrasingContent,\n        html4PhrasingContent\n      ].join(' ');\n      each$4(split(html4PhrasingContent), function (name) {\n        add(name, '', phrasingContent);\n      });\n      html4BlockContent = 'center dir isindex noframes';\n      blockContent = [\n        blockContent,\n        html4BlockContent\n      ].join(' ');\n      flowContent = [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      each$4(split(html4BlockContent), function (name) {\n        add(name, '', flowContent);\n      });\n    }\n    flowContent = flowContent || [\n      blockContent,\n      phrasingContent\n    ].join(' ');\n    add('html', 'manifest', 'head body');\n    add('head', '', 'base command link meta noscript script style title');\n    add('title hr noscript br');\n    add('base', 'href target');\n    add('link', 'href rel media hreflang type sizes hreflang');\n    add('meta', 'name http-equiv content charset');\n    add('style', 'media type scoped');\n    add('script', 'src async defer type charset');\n    add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n    add('address dt dd div caption', '', flowContent);\n    add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n    add('blockquote', 'cite', flowContent);\n    add('ol', 'reversed start type', 'li');\n    add('ul', '', 'li');\n    add('li', 'value', flowContent);\n    add('dl', '', 'dt dd');\n    add('a', 'href target rel media hreflang type', phrasingContent);\n    add('q', 'cite', phrasingContent);\n    add('ins del', 'cite datetime', flowContent);\n    add('img', 'src sizes srcset alt usemap ismap width height');\n    add('iframe', 'src name width height', flowContent);\n    add('embed', 'src type width height');\n    add('object', 'data type typemustmatch name usemap form width height', [\n      flowContent,\n      'param'\n    ].join(' '));\n    add('param', 'name value');\n    add('map', 'name', [\n      flowContent,\n      'area'\n    ].join(' '));\n    add('area', 'alt coords shape href target rel media hreflang type');\n    add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n    add('colgroup', 'span', 'col');\n    add('col', 'span');\n    add('tbody thead tfoot', '', 'tr');\n    add('tr', '', 'td th');\n    add('td', 'colspan rowspan headers', flowContent);\n    add('th', 'colspan rowspan headers scope abbr', flowContent);\n    add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n    add('fieldset', 'disabled form name', [\n      flowContent,\n      'legend'\n    ].join(' '));\n    add('label', 'form for', phrasingContent);\n    add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n    add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n    add('select', 'disabled form multiple name required size', 'option optgroup');\n    add('optgroup', 'disabled label', 'option');\n    add('option', 'disabled label selected value');\n    add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n    add('menu', 'type label', [\n      flowContent,\n      'li'\n    ].join(' '));\n    add('noscript', '', flowContent);\n    if (type !== 'html4') {\n      add('wbr');\n      add('ruby', '', [\n        phrasingContent,\n        'rt rp'\n      ].join(' '));\n      add('figcaption', '', flowContent);\n      add('mark rt rp summary bdi', '', phrasingContent);\n      add('canvas', 'width height', flowContent);\n      add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n        flowContent,\n        'track source'\n      ].join(' '));\n      add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n        flowContent,\n        'track source'\n      ].join(' '));\n      add('picture', '', 'img source');\n      add('source', 'src srcset type media sizes');\n      add('track', 'kind src srclang label default');\n      add('datalist', '', [\n        phrasingContent,\n        'option'\n      ].join(' '));\n      add('article section nav aside main header footer', '', flowContent);\n      add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n      add('figure', '', [\n        flowContent,\n        'figcaption'\n      ].join(' '));\n      add('time', 'datetime', phrasingContent);\n      add('dialog', 'open', flowContent);\n      add('command', 'type label icon disabled checked radiogroup command');\n      add('output', 'for form name', phrasingContent);\n      add('progress', 'value max', phrasingContent);\n      add('meter', 'value min max low high optimum', phrasingContent);\n      add('details', 'open', [\n        flowContent,\n        'summary'\n      ].join(' '));\n      add('keygen', 'autofocus challenge disabled form keytype name');\n    }\n    if (type !== 'html5-strict') {\n      addAttrs('script', 'language xml:space');\n      addAttrs('style', 'xml:space');\n      addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n      addAttrs('embed', 'align name hspace vspace');\n      addAttrs('param', 'valuetype type');\n      addAttrs('a', 'charset name rev shape coords');\n      addAttrs('br', 'clear');\n      addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n      addAttrs('img', 'name longdesc align border hspace vspace');\n      addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n      addAttrs('font basefont', 'size color face');\n      addAttrs('input', 'usemap align');\n      addAttrs('select', 'onchange');\n      addAttrs('textarea');\n      addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n      addAttrs('ul', 'type compact');\n      addAttrs('li', 'type');\n      addAttrs('ol dl menu dir', 'compact');\n      addAttrs('pre', 'width xml:space');\n      addAttrs('hr', 'align noshade size width');\n      addAttrs('isindex', 'prompt');\n      addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n      addAttrs('col', 'width align char charoff valign');\n      addAttrs('colgroup', 'width align char charoff valign');\n      addAttrs('thead', 'align char charoff valign');\n      addAttrs('tr', 'align char charoff valign bgcolor');\n      addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n      addAttrs('form', 'accept');\n      addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n      addAttrs('tfoot', 'align char charoff valign');\n      addAttrs('tbody', 'align char charoff valign');\n      addAttrs('area', 'nohref');\n      addAttrs('body', 'background bgcolor text link vlink alink');\n    }\n    if (type !== 'html4') {\n      addAttrs('input button select textarea', 'autofocus');\n      addAttrs('input textarea', 'placeholder');\n      addAttrs('a', 'download');\n      addAttrs('link script img', 'crossorigin');\n      addAttrs('iframe', 'sandbox seamless allowfullscreen');\n    }\n    each$4(split('a form meter progress dfn'), function (name) {\n      if (schema[name]) {\n        delete schema[name].children[name];\n      }\n    });\n    delete schema.caption.children.table;\n    delete schema.script;\n    mapCache[type] = schema;\n    return schema;\n  };\n  var compileElementMap = function (value, mode) {\n    var styles;\n    if (value) {\n      styles = {};\n      if (typeof value === 'string') {\n        value = { '*': value };\n      }\n      each$4(value, function (value, key) {\n        styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$1(value, /[, ]/);\n      });\n    }\n    return styles;\n  };\n  function Schema(settings) {\n    var elements = {};\n    var children = {};\n    var patternElements = [];\n    var validStyles;\n    var invalidStyles;\n    var schemaItems;\n    var whiteSpaceElementsMap, selfClosingElementsMap, shortEndedElementsMap, boolAttrMap, validClasses;\n    var blockElementsMap, nonEmptyElementsMap, moveCaretBeforeOnEnterElementsMap, textBlockElementsMap, textInlineElementsMap;\n    var customElementsMap = {}, specialElements = {};\n    var createLookupTable = function (option, defaultValue, extendWith) {\n      var value = settings[option];\n      if (!value) {\n        value = mapCache[option];\n        if (!value) {\n          value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n          value = extend$1(value, extendWith);\n          mapCache[option] = value;\n        }\n      } else {\n        value = makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n      }\n      return value;\n    };\n    settings = settings || {};\n    schemaItems = compileSchema(settings.schema);\n    if (settings.verify_html === false) {\n      settings.valid_elements = '*[*]';\n    }\n    validStyles = compileElementMap(settings.valid_styles);\n    invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n    validClasses = compileElementMap(settings.valid_classes, 'map');\n    whiteSpaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n    selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n    shortEndedElementsMap = createLookupTable('short_ended_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n    boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls');\n    nonEmptyElementsMap = createLookupTable('non_empty_elements', 'td th iframe video audio object ' + 'script pre code', shortEndedElementsMap);\n    moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', 'table', nonEmptyElementsMap);\n    textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n    blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n    textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font strike u var cite ' + 'dfn code mark q sup sub samp');\n    each$4((settings.special || 'script noscript noframes noembed title style textarea xmp').split(' '), function (name) {\n      specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n    });\n    var patternToRegExp = function (str) {\n      return new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n    };\n    var addValidElements = function (validElements) {\n      var ei, el, ai, al, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder, prefix, outputName, globalAttributes, globalAttributesOrder, key, value;\n      var elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)\\])?$/, attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/, hasPatternsRegExp = /[*?+]/;\n      if (validElements) {\n        validElements = split(validElements, ',');\n        if (elements['@']) {\n          globalAttributes = elements['@'].attributes;\n          globalAttributesOrder = elements['@'].attributesOrder;\n        }\n        for (ei = 0, el = validElements.length; ei < el; ei++) {\n          matches = elementRuleRegExp.exec(validElements[ei]);\n          if (matches) {\n            prefix = matches[1];\n            elementName = matches[2];\n            outputName = matches[3];\n            attrData = matches[5];\n            attributes = {};\n            attributesOrder = [];\n            element = {\n              attributes: attributes,\n              attributesOrder: attributesOrder\n            };\n            if (prefix === '#') {\n              element.paddEmpty = true;\n            }\n            if (prefix === '-') {\n              element.removeEmpty = true;\n            }\n            if (matches[4] === '!') {\n              element.removeEmptyAttrs = true;\n            }\n            if (globalAttributes) {\n              for (key in globalAttributes) {\n                attributes[key] = globalAttributes[key];\n              }\n              attributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n            }\n            if (attrData) {\n              attrData = split(attrData, '|');\n              for (ai = 0, al = attrData.length; ai < al; ai++) {\n                matches = attrRuleRegExp.exec(attrData[ai]);\n                if (matches) {\n                  attr = {};\n                  attrType = matches[1];\n                  attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                  prefix = matches[3];\n                  value = matches[4];\n                  if (attrType === '!') {\n                    element.attributesRequired = element.attributesRequired || [];\n                    element.attributesRequired.push(attrName);\n                    attr.required = true;\n                  }\n                  if (attrType === '-') {\n                    delete attributes[attrName];\n                    attributesOrder.splice(inArray$1(attributesOrder, attrName), 1);\n                    continue;\n                  }\n                  if (prefix) {\n                    if (prefix === '=') {\n                      element.attributesDefault = element.attributesDefault || [];\n                      element.attributesDefault.push({\n                        name: attrName,\n                        value: value\n                      });\n                      attr.defaultValue = value;\n                    }\n                    if (prefix === ':') {\n                      element.attributesForced = element.attributesForced || [];\n                      element.attributesForced.push({\n                        name: attrName,\n                        value: value\n                      });\n                      attr.forcedValue = value;\n                    }\n                    if (prefix === '<') {\n                      attr.validValues = makeMap$2(value, '?');\n                    }\n                  }\n                  if (hasPatternsRegExp.test(attrName)) {\n                    element.attributePatterns = element.attributePatterns || [];\n                    attr.pattern = patternToRegExp(attrName);\n                    element.attributePatterns.push(attr);\n                  } else {\n                    if (!attributes[attrName]) {\n                      attributesOrder.push(attrName);\n                    }\n                    attributes[attrName] = attr;\n                  }\n                }\n              }\n            }\n            if (!globalAttributes && elementName === '@') {\n              globalAttributes = attributes;\n              globalAttributesOrder = attributesOrder;\n            }\n            if (outputName) {\n              element.outputName = elementName;\n              elements[outputName] = element;\n            }\n            if (hasPatternsRegExp.test(elementName)) {\n              element.pattern = patternToRegExp(elementName);\n              patternElements.push(element);\n            } else {\n              elements[elementName] = element;\n            }\n          }\n        }\n      }\n    };\n    var setValidElements = function (validElements) {\n      elements = {};\n      patternElements = [];\n      addValidElements(validElements);\n      each$4(schemaItems, function (element, name) {\n        children[name] = element.children;\n      });\n    };\n    var addCustomElements = function (customElements) {\n      var customElementRegExp = /^(~)?(.+)$/;\n      if (customElements) {\n        mapCache.text_block_elements = mapCache.block_elements = null;\n        each$4(split(customElements, ','), function (rule) {\n          var matches = customElementRegExp.exec(rule), inline = matches[1] === '~', cloneName = inline ? 'span' : 'div', name = matches[2];\n          children[name] = children[cloneName];\n          customElementsMap[name] = cloneName;\n          if (!inline) {\n            blockElementsMap[name.toUpperCase()] = {};\n            blockElementsMap[name] = {};\n          }\n          if (!elements[name]) {\n            var customRule = elements[cloneName];\n            customRule = extend$1({}, customRule);\n            delete customRule.removeEmptyAttrs;\n            delete customRule.removeEmpty;\n            elements[name] = customRule;\n          }\n          each$4(children, function (element, elmName) {\n            if (element[cloneName]) {\n              children[elmName] = element = extend$1({}, children[elmName]);\n              element[name] = element[cloneName];\n            }\n          });\n        });\n      }\n    };\n    var addValidChildren = function (validChildren) {\n      var childRuleRegExp = /^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;\n      mapCache[settings.schema] = null;\n      if (validChildren) {\n        each$4(split(validChildren, ','), function (rule) {\n          var matches = childRuleRegExp.exec(rule);\n          var parent, prefix;\n          if (matches) {\n            prefix = matches[1];\n            if (prefix) {\n              parent = children[matches[2]];\n            } else {\n              parent = children[matches[2]] = { '#comment': {} };\n            }\n            parent = children[matches[2]];\n            each$4(split(matches[3], '|'), function (child) {\n              if (prefix === '-') {\n                delete parent[child];\n              } else {\n                parent[child] = {};\n              }\n            });\n          }\n        });\n      }\n    };\n    var getElementRule = function (name) {\n      var element = elements[name], i;\n      if (element) {\n        return element;\n      }\n      i = patternElements.length;\n      while (i--) {\n        element = patternElements[i];\n        if (element.pattern.test(name)) {\n          return element;\n        }\n      }\n    };\n    if (!settings.valid_elements) {\n      each$4(schemaItems, function (element, name) {\n        elements[name] = {\n          attributes: element.attributes,\n          attributesOrder: element.attributesOrder\n        };\n        children[name] = element.children;\n      });\n      if (settings.schema !== 'html5') {\n        each$4(split('strong/b em/i'), function (item) {\n          item = split(item, '/');\n          elements[item[1]].outputName = item[0];\n        });\n      }\n      each$4(split('ol ul sub sup blockquote span font a table tbody tr strong em b i'), function (name) {\n        if (elements[name]) {\n          elements[name].removeEmpty = true;\n        }\n      });\n      each$4(split('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), function (name) {\n        elements[name].paddEmpty = true;\n      });\n      each$4(split('span'), function (name) {\n        elements[name].removeEmptyAttrs = true;\n      });\n    } else {\n      setValidElements(settings.valid_elements);\n    }\n    addCustomElements(settings.custom_elements);\n    addValidChildren(settings.valid_children);\n    addValidElements(settings.extended_valid_elements);\n    addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n    each$4({\n      dd: 'dl',\n      dt: 'dl',\n      li: 'ul ol',\n      td: 'tr',\n      th: 'tr',\n      tr: 'tbody thead tfoot',\n      tbody: 'table',\n      thead: 'table',\n      tfoot: 'table',\n      legend: 'fieldset',\n      area: 'map',\n      param: 'video audio object'\n    }, function (parents, item) {\n      if (elements[item]) {\n        elements[item].parentsRequired = split(parents);\n      }\n    });\n    if (settings.invalid_elements) {\n      each$4(explode$1(settings.invalid_elements), function (item) {\n        if (elements[item]) {\n          delete elements[item];\n        }\n      });\n    }\n    if (!getElementRule('span')) {\n      addValidElements('span[!data-mce-type|*]');\n    }\n    var getValidStyles = function () {\n      return validStyles;\n    };\n    var getInvalidStyles = function () {\n      return invalidStyles;\n    };\n    var getValidClasses = function () {\n      return validClasses;\n    };\n    var getBoolAttrs = function () {\n      return boolAttrMap;\n    };\n    var getBlockElements = function () {\n      return blockElementsMap;\n    };\n    var getTextBlockElements = function () {\n      return textBlockElementsMap;\n    };\n    var getTextInlineElements = function () {\n      return textInlineElementsMap;\n    };\n    var getShortEndedElements = function () {\n      return shortEndedElementsMap;\n    };\n    var getSelfClosingElements = function () {\n      return selfClosingElementsMap;\n    };\n    var getNonEmptyElements = function () {\n      return nonEmptyElementsMap;\n    };\n    var getMoveCaretBeforeOnEnterElements = function () {\n      return moveCaretBeforeOnEnterElementsMap;\n    };\n    var getWhiteSpaceElements = function () {\n      return whiteSpaceElementsMap;\n    };\n    var getSpecialElements = function () {\n      return specialElements;\n    };\n    var isValidChild = function (name, child) {\n      var parent = children[name.toLowerCase()];\n      return !!(parent && parent[child.toLowerCase()]);\n    };\n    var isValid = function (name, attr) {\n      var attrPatterns, i;\n      var rule = getElementRule(name);\n      if (rule) {\n        if (attr) {\n          if (rule.attributes[attr]) {\n            return true;\n          }\n          attrPatterns = rule.attributePatterns;\n          if (attrPatterns) {\n            i = attrPatterns.length;\n            while (i--) {\n              if (attrPatterns[i].pattern.test(name)) {\n                return true;\n              }\n            }\n          }\n        } else {\n          return true;\n        }\n      }\n      return false;\n    };\n    var getCustomElements = function () {\n      return customElementsMap;\n    };\n    return {\n      children: children,\n      elements: elements,\n      getValidStyles: getValidStyles,\n      getValidClasses: getValidClasses,\n      getBlockElements: getBlockElements,\n      getInvalidStyles: getInvalidStyles,\n      getShortEndedElements: getShortEndedElements,\n      getTextBlockElements: getTextBlockElements,\n      getTextInlineElements: getTextInlineElements,\n      getBoolAttrs: getBoolAttrs,\n      getElementRule: getElementRule,\n      getSelfClosingElements: getSelfClosingElements,\n      getNonEmptyElements: getNonEmptyElements,\n      getMoveCaretBeforeOnEnterElements: getMoveCaretBeforeOnEnterElements,\n      getWhiteSpaceElements: getWhiteSpaceElements,\n      getSpecialElements: getSpecialElements,\n      isValidChild: isValidChild,\n      isValid: isValid,\n      getCustomElements: getCustomElements,\n      addValidElements: addValidElements,\n      setValidElements: setValidElements,\n      addCustomElements: addCustomElements,\n      addValidChildren: addValidChildren\n    };\n  }\n\n  var toHex = function (match, r, g, b) {\n    var hex = function (val) {\n      val = parseInt(val, 10).toString(16);\n      return val.length > 1 ? val : '0' + val;\n    };\n    return '#' + hex(r) + hex(g) + hex(b);\n  };\n  function Styles(settings, schema) {\n    var rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n    var urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n    var styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n    var trimRightRegExp = /\\s+$/;\n    var i;\n    var encodingLookup = {};\n    var encodingItems;\n    var validStyles;\n    var invalidStyles;\n    var invisibleChar = '\\uFEFF';\n    settings = settings || {};\n    if (schema) {\n      validStyles = schema.getValidStyles();\n      invalidStyles = schema.getInvalidStyles();\n    }\n    encodingItems = ('\\\\\" \\\\\\' \\\\; \\\\: ; : ' + invisibleChar).split(' ');\n    for (i = 0; i < encodingItems.length; i++) {\n      encodingLookup[encodingItems[i]] = invisibleChar + i;\n      encodingLookup[invisibleChar + i] = encodingItems[i];\n    }\n    return {\n      toHex: function (color) {\n        return color.replace(rgbRegExp, toHex);\n      },\n      parse: function (css) {\n        var styles = {};\n        var matches, name, value, isEncoded;\n        var urlConverter = settings.url_converter;\n        var urlConverterScope = settings.url_converter_scope || this;\n        var compress = function (prefix, suffix, noJoin) {\n          var top, right, bottom, left;\n          top = styles[prefix + '-top' + suffix];\n          if (!top) {\n            return;\n          }\n          right = styles[prefix + '-right' + suffix];\n          if (!right) {\n            return;\n          }\n          bottom = styles[prefix + '-bottom' + suffix];\n          if (!bottom) {\n            return;\n          }\n          left = styles[prefix + '-left' + suffix];\n          if (!left) {\n            return;\n          }\n          var box = [\n            top,\n            right,\n            bottom,\n            left\n          ];\n          i = box.length - 1;\n          while (i--) {\n            if (box[i] !== box[i + 1]) {\n              break;\n            }\n          }\n          if (i > -1 && noJoin) {\n            return;\n          }\n          styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n          delete styles[prefix + '-top' + suffix];\n          delete styles[prefix + '-right' + suffix];\n          delete styles[prefix + '-bottom' + suffix];\n          delete styles[prefix + '-left' + suffix];\n        };\n        var canCompress = function (key) {\n          var value = styles[key], i;\n          if (!value) {\n            return;\n          }\n          value = value.split(' ');\n          i = value.length;\n          while (i--) {\n            if (value[i] !== value[0]) {\n              return false;\n            }\n          }\n          styles[key] = value[0];\n          return true;\n        };\n        var compress2 = function (target, a, b, c) {\n          if (!canCompress(a)) {\n            return;\n          }\n          if (!canCompress(b)) {\n            return;\n          }\n          if (!canCompress(c)) {\n            return;\n          }\n          styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n          delete styles[a];\n          delete styles[b];\n          delete styles[c];\n        };\n        var encode = function (str) {\n          isEncoded = true;\n          return encodingLookup[str];\n        };\n        var decode = function (str, keepSlashes) {\n          if (isEncoded) {\n            str = str.replace(/\\uFEFF[0-9]/g, function (str) {\n              return encodingLookup[str];\n            });\n          }\n          if (!keepSlashes) {\n            str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n          }\n          return str;\n        };\n        var decodeSingleHexSequence = function (escSeq) {\n          return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n        };\n        var decodeHexSequences = function (value) {\n          return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n        };\n        var processUrl = function (match, url, url2, url3, str, str2) {\n          str = str || str2;\n          if (str) {\n            str = decode(str);\n            return '\\'' + str.replace(/\\'/g, '\\\\\\'') + '\\'';\n          }\n          url = decode(url || url2 || url3);\n          if (!settings.allow_script_urls) {\n            var scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n            if (/(java|vb)script:/i.test(scriptUrl)) {\n              return '';\n            }\n            if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n              return '';\n            }\n          }\n          if (urlConverter) {\n            url = urlConverter.call(urlConverterScope, url, 'style');\n          }\n          return 'url(\\'' + url.replace(/\\'/g, '\\\\\\'') + '\\')';\n        };\n        if (css) {\n          css = css.replace(/[\\u0000-\\u001F]/g, '');\n          css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function (str) {\n            return str.replace(/[;:]/g, encode);\n          });\n          while (matches = styleRegExp.exec(css)) {\n            styleRegExp.lastIndex = matches.index + matches[0].length;\n            name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n            value = matches[2].replace(trimRightRegExp, '');\n            if (name && value) {\n              name = decodeHexSequences(name);\n              value = decodeHexSequences(value);\n              if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                continue;\n              }\n              if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                continue;\n              }\n              if (name === 'font-weight' && value === '700') {\n                value = 'bold';\n              } else if (name === 'color' || name === 'background-color') {\n                value = value.toLowerCase();\n              }\n              value = value.replace(rgbRegExp, toHex);\n              value = value.replace(urlOrStrRegExp, processUrl);\n              styles[name] = isEncoded ? decode(value, true) : value;\n            }\n          }\n          compress('border', '', true);\n          compress('border', '-width');\n          compress('border', '-color');\n          compress('border', '-style');\n          compress('padding', '');\n          compress('margin', '');\n          compress2('border', 'border-width', 'border-style', 'border-color');\n          if (styles.border === 'medium none') {\n            delete styles.border;\n          }\n          if (styles['border-image'] === 'none') {\n            delete styles['border-image'];\n          }\n        }\n        return styles;\n      },\n      serialize: function (styles, elementName) {\n        var css = '', name, value;\n        var serializeStyles = function (name) {\n          var styleList, i, l, value;\n          styleList = validStyles[name];\n          if (styleList) {\n            for (i = 0, l = styleList.length; i < l; i++) {\n              name = styleList[i];\n              value = styles[name];\n              if (value) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            }\n          }\n        };\n        var isValid = function (name, elementName) {\n          var styleMap;\n          styleMap = invalidStyles['*'];\n          if (styleMap && styleMap[name]) {\n            return false;\n          }\n          styleMap = invalidStyles[elementName];\n          if (styleMap && styleMap[name]) {\n            return false;\n          }\n          return true;\n        };\n        if (elementName && validStyles) {\n          serializeStyles('*');\n          serializeStyles(elementName);\n        } else {\n          for (name in styles) {\n            value = styles[name];\n            if (value && (!invalidStyles || isValid(name, elementName))) {\n              css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n            }\n          }\n        }\n        return css;\n      }\n    };\n  }\n\n  var each$5 = $_1q1txeljnlpawsa.each;\n  var grep$1 = $_1q1txeljnlpawsa.grep;\n  var isIE = $_cseqobajnlpawll.ie;\n  var simpleSelectorRe = /^([a-z0-9],?)+$/i;\n  var whiteSpaceRegExp$2 = /^[ \\t\\r\\n]*$/;\n  var setupAttrHooks = function (styles, settings, getContext) {\n    var attrHooks = {};\n    var keepValues = settings.keep_values;\n    var keepUrlHook = {\n      set: function ($elm, value, name$$1) {\n        if (settings.url_converter) {\n          value = settings.url_converter.call(settings.url_converter_scope || getContext(), value, name$$1, $elm[0]);\n        }\n        $elm.attr('data-mce-' + name$$1, value).attr(name$$1, value);\n      },\n      get: function ($elm, name$$1) {\n        return $elm.attr('data-mce-' + name$$1) || $elm.attr(name$$1);\n      }\n    };\n    attrHooks = {\n      style: {\n        set: function ($elm, value) {\n          if (value !== null && typeof value === 'object') {\n            $elm.css(value);\n            return;\n          }\n          if (keepValues) {\n            $elm.attr('data-mce-style', value);\n          }\n          $elm.attr('style', value);\n        },\n        get: function ($elm) {\n          var value = $elm.attr('data-mce-style') || $elm.attr('style');\n          value = styles.serialize(styles.parse(value), $elm[0].nodeName);\n          return value;\n        }\n      }\n    };\n    if (keepValues) {\n      attrHooks.href = attrHooks.src = keepUrlHook;\n    }\n    return attrHooks;\n  };\n  var updateInternalStyleAttr = function (styles, $elm) {\n    var rawValue = $elm.attr('style');\n    var value = styles.serialize(styles.parse(rawValue), $elm[0].nodeName);\n    if (!value) {\n      value = null;\n    }\n    $elm.attr('data-mce-style', value);\n  };\n  var findNodeIndex = function (node, normalized) {\n    var idx = 0, lastNodeType, nodeType;\n    if (node) {\n      for (lastNodeType = node.nodeType, node = node.previousSibling; node; node = node.previousSibling) {\n        nodeType = node.nodeType;\n        if (normalized && nodeType === 3) {\n          if (nodeType === lastNodeType || !node.nodeValue.length) {\n            continue;\n          }\n        }\n        idx++;\n        lastNodeType = nodeType;\n      }\n    }\n    return idx;\n  };\n  function DOMUtils(doc, settings) {\n    var _this = this;\n    if (settings === void 0) {\n      settings = {};\n    }\n    var attrHooks;\n    var addedStyles = {};\n    var win = window;\n    var files = {};\n    var counter = 0;\n    var stdMode = true;\n    var boxModel = true;\n    // var styleSheetLoader = StyleSheetLoader(doc);\n    var styleSheetLoader = StyleSheetLoader(doc);\n    var boundEvents = [];\n    var schema = settings.schema ? settings.schema : Schema({});\n    var styles = Styles({\n      url_converter: settings.url_converter,\n      url_converter_scope: settings.url_converter_scope\n    }, settings.schema);\n    var events = settings.ownEvents ? new EventUtils(settings.proxy) : EventUtils.Event;\n    var blockElementsMap = schema.getBlockElements();\n    var $ = DomQuery.overrideDefaults(function () {\n      return {\n        context: doc,\n        element: self$$1.getRoot()\n      };\n    });\n    var isBlock = function (node) {\n      if (typeof node === 'string') {\n        return !!blockElementsMap[node];\n      } else if (node) {\n        var type = node.nodeType;\n        if (type) {\n          return !!(type === 1 && blockElementsMap[node.nodeName]);\n        }\n      }\n      return false;\n    };\n    var get = function (elm) {\n      if (elm && doc && typeof elm === 'string') {\n        var node = doc.getElementById(elm);\n        if (node && node.id !== elm) {\n          return doc.getElementsByName(elm)[1];\n        } else {\n          return node;\n        }\n      }\n      return elm;\n    };\n    var $$ = function (elm) {\n      if (typeof elm === 'string') {\n        elm = get(elm);\n      }\n      return $(elm);\n    };\n    var getAttrib = function (elm, name$$1, defaultVal) {\n      var hook, value;\n      var $elm = $$(elm);\n      if ($elm.length) {\n        hook = attrHooks[name$$1];\n        if (hook && hook.get) {\n          value = hook.get($elm, name$$1);\n        } else {\n          value = $elm.attr(name$$1);\n        }\n      }\n      if (typeof value === 'undefined') {\n        value = defaultVal || '';\n      }\n      return value;\n    };\n    var getAttribs = function (elm) {\n      var node = get(elm);\n      if (!node) {\n        return [];\n      }\n      return node.attributes;\n    };\n    var setAttrib = function (elm, name$$1, value) {\n      var originalValue, hook;\n      if (value === '') {\n        value = null;\n      }\n      var $elm = $$(elm);\n      originalValue = $elm.attr(name$$1);\n      if (!$elm.length) {\n        return;\n      }\n      hook = attrHooks[name$$1];\n      if (hook && hook.set) {\n        hook.set($elm, value, name$$1);\n      } else {\n        $elm.attr(name$$1, value);\n      }\n      if (originalValue !== value && settings.onSetAttrib) {\n        settings.onSetAttrib({\n          attrElm: $elm,\n          attrName: name$$1,\n          attrValue: value\n        });\n      }\n    };\n    var clone = function (node, deep) {\n      if (!isIE || node.nodeType !== 1 || deep) {\n        return node.cloneNode(deep);\n      }\n      if (!deep) {\n        var clone_1 = doc.createElement(node.nodeName);\n        each$5(getAttribs(node), function (attr) {\n          setAttrib(clone_1, attr.nodeName, getAttrib(node, attr.nodeName));\n        });\n        return clone_1;\n      }\n      return null;\n    };\n    var getRoot = function () {\n      return settings.root_element || doc.body;\n    };\n    var getViewPort = function (argWin) {\n      var actWin = !argWin ? win : argWin;\n      var doc = actWin.document;\n      var rootElm = boxModel ? doc.documentElement : doc.body;\n      return {\n        x: actWin.pageXOffset || rootElm.scrollLeft,\n        y: actWin.pageYOffset || rootElm.scrollTop,\n        w: actWin.innerWidth || rootElm.clientWidth,\n        h: actWin.innerHeight || rootElm.clientHeight\n      };\n    };\n    var getPos = function (elm, rootElm) {\n      return $_9kqe0nnjnlpawsp.getPos(doc.body, get(elm), rootElm);\n    };\n    var setStyle = function (elm, name$$1, value) {\n      var $elm = $$(elm).css(name$$1, value);\n      if (settings.update_styles) {\n        updateInternalStyleAttr(styles, $elm);\n      }\n    };\n    var setStyles = function (elm, stylesArg) {\n      var $elm = $$(elm).css(stylesArg);\n      if (settings.update_styles) {\n        updateInternalStyleAttr(styles, $elm);\n      }\n    };\n    var getStyle = function (elm, name$$1, computed) {\n      var $elm = $$(elm);\n      if (computed) {\n        return $elm.css(name$$1);\n      }\n      name$$1 = name$$1.replace(/-(\\D)/g, function (a, b) {\n        return b.toUpperCase();\n      });\n      if (name$$1 === 'float') {\n        name$$1 = $_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie < 12 ? 'styleFloat' : 'cssFloat';\n      }\n      return $elm[0] && $elm[0].style ? $elm[0].style[name$$1] : undefined;\n    };\n    var getSize = function (elm) {\n      var w, h;\n      elm = get(elm);\n      w = getStyle(elm, 'width');\n      h = getStyle(elm, 'height');\n      if (w.indexOf('px') === -1) {\n        w = 0;\n      }\n      if (h.indexOf('px') === -1) {\n        h = 0;\n      }\n      return {\n        w: parseInt(w, 10) || elm.offsetWidth || elm.clientWidth,\n        h: parseInt(h, 10) || elm.offsetHeight || elm.clientHeight\n      };\n    };\n    var getRect = function (elm) {\n      var pos, size;\n      elm = get(elm);\n      pos = getPos(elm);\n      size = getSize(elm);\n      return {\n        x: pos.x,\n        y: pos.y,\n        w: size.w,\n        h: size.h\n      };\n    };\n    var is = function (elm, selector) {\n      var i;\n      if (!elm) {\n        return false;\n      }\n      if (!Array.isArray(elm)) {\n        if (selector === '*') {\n          return elm.nodeType === 1;\n        }\n        if (simpleSelectorRe.test(selector)) {\n          var selectors = selector.toLowerCase().split(/,/);\n          var elmName = elm.nodeName.toLowerCase();\n          for (i = selectors.length - 1; i >= 0; i--) {\n            if (selectors[i] === elmName) {\n              return true;\n            }\n          }\n          return false;\n        }\n        if (elm.nodeType && elm.nodeType !== 1) {\n          return false;\n        }\n      }\n      var elms = !Array.isArray(elm) ? [elm] : elm;\n      return Sizzle(selector, elms[0].ownerDocument || elms[0], null, elms).length > 0;\n    };\n    var getParents = function (elm, selector, root, collect) {\n      var result = [];\n      var selectorVal;\n      var node = get(elm);\n      collect = collect === undefined;\n      root = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n      if ($_1q1txeljnlpawsa.is(selector, 'string')) {\n        selectorVal = selector;\n        if (selector === '*') {\n          selector = function (node) {\n            return node.nodeType === 1;\n          };\n        } else {\n          selector = function (node) {\n            return is(node, selectorVal);\n          };\n        }\n      }\n      while (node) {\n        if (node === root || !node.nodeType || node.nodeType === 9) {\n          break;\n        }\n        if (!selector || typeof selector === 'function' && selector(node)) {\n          if (collect) {\n            result.push(node);\n          } else {\n            return [node];\n          }\n        }\n        node = node.parentNode;\n      }\n      return collect ? result : null;\n    };\n    var getParent = function (node, selector, root) {\n      var parents = getParents(node, selector, root, false);\n      return parents && parents.length > 0 ? parents[0] : null;\n    };\n    var _findSib = function (node, selector, name$$1) {\n      var func = selector;\n      if (node) {\n        if (typeof selector === 'string') {\n          func = function (node) {\n            return is(node, selector);\n          };\n        }\n        for (node = node[name$$1]; node; node = node[name$$1]) {\n          if (typeof func === 'function' && func(node)) {\n            return node;\n          }\n        }\n      }\n      return null;\n    };\n    var getNext = function (node, selector) {\n      return _findSib(node, selector, 'nextSibling');\n    };\n    var getPrev = function (node, selector) {\n      return _findSib(node, selector, 'previousSibling');\n    };\n    var select = function (selector, scope) {\n      return Sizzle(selector, get(scope) || settings.root_element || doc, []);\n    };\n    var run = function (elm, func, scope) {\n      var result;\n      var node = typeof elm === 'string' ? get(elm) : elm;\n      if (!node) {\n        return false;\n      }\n      if ($_1q1txeljnlpawsa.isArray(node) && (node.length || node.length === 0)) {\n        result = [];\n        each$5(node, function (elm, i) {\n          if (elm) {\n            if (typeof elm === 'string') {\n              elm = get(elm);\n            }\n            result.push(func.call(scope, elm, i));\n          }\n        });\n        return result;\n      }\n      var context = scope ? scope : _this;\n      return func.call(context, node);\n    };\n    var setAttribs = function (elm, attrs) {\n      $$(elm).each(function (i, node) {\n        each$5(attrs, function (value, name$$1) {\n          setAttrib(node, name$$1, value);\n        });\n      });\n    };\n    var setHTML = function (elm, html) {\n      var $elm = $$(elm);\n      if (isIE) {\n        $elm.each(function (i, target) {\n          if (target.canHaveHTML === false) {\n            return;\n          }\n          while (target.firstChild) {\n            target.removeChild(target.firstChild);\n          }\n          try {\n            target.innerHTML = '<br>' + html;\n            target.removeChild(target.firstChild);\n          } catch (ex) {\n            DomQuery('<div></div>').html('<br>' + html).contents().slice(1).appendTo(target);\n          }\n          return html;\n        });\n      } else {\n        $elm.html(html);\n      }\n    };\n    var add = function (parentElm, name$$1, attrs, html, create) {\n      return run(parentElm, function (parentElm) {\n        var newElm = typeof name$$1 === 'string' ? doc.createElement(name$$1) : name$$1;\n        setAttribs(newElm, attrs);\n        if (html) {\n          if (typeof html !== 'string' && html.nodeType) {\n            newElm.appendChild(html);\n          } else if (typeof html === 'string') {\n            setHTML(newElm, html);\n          }\n        }\n        return !create ? parentElm.appendChild(newElm) : newElm;\n      });\n    };\n    var create = function (name$$1, attrs, html) {\n      return add(doc.createElement(name$$1), name$$1, attrs, html, true);\n    };\n    var decode = $_bea7j51sjnlpax2u.decode;\n    var encode = $_bea7j51sjnlpax2u.encodeAllRaw;\n    var createHTML = function (name$$1, attrs, html) {\n      var outHtml = '', key;\n      outHtml += '<' + name$$1;\n      for (key in attrs) {\n        if (attrs.hasOwnProperty(key) && attrs[key] !== null && typeof attrs[key] !== 'undefined') {\n          outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n        }\n      }\n      if (typeof html !== 'undefined') {\n        return outHtml + '>' + html + '</' + name$$1 + '>';\n      }\n      return outHtml + ' />';\n    };\n    var createFragment = function (html) {\n      var node;\n      var container = doc.createElement('div');\n      var frag = doc.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    var remove = function (node, keepChildren) {\n      var $node = $$(node);\n      if (keepChildren) {\n        $node.each(function () {\n          var child;\n          while (child = this.firstChild) {\n            if (child.nodeType === 3 && child.data.length === 0) {\n              this.removeChild(child);\n            } else {\n              this.parentNode.insertBefore(child, this);\n            }\n          }\n        }).remove();\n      } else {\n        $node.remove();\n      }\n      return $node.length > 1 ? $node.toArray() : $node[0];\n    };\n    var removeAllAttribs = function (e) {\n      return run(e, function (e) {\n        var i;\n        var attrs = e.attributes;\n        for (i = attrs.length - 1; i >= 0; i--) {\n          e.removeAttributeNode(attrs.item(i));\n        }\n      });\n    };\n    var parseStyle = function (cssText) {\n      return styles.parse(cssText);\n    };\n    var serializeStyle = function (stylesArg, name$$1) {\n      return styles.serialize(stylesArg, name$$1);\n    };\n    var addStyle = function (cssText) {\n      var head, styleElm;\n      if (self$$1 !== DOMUtils.DOM && doc === document) {\n        if (addedStyles[cssText]) {\n          return;\n        }\n        addedStyles[cssText] = true;\n      }\n      styleElm = doc.getElementById('mceDefaultStyles');\n      if (!styleElm) {\n        styleElm = doc.createElement('style');\n        styleElm.id = 'mceDefaultStyles';\n        styleElm.type = 'text/css';\n        head = doc.getElementsByTagName('head')[0];\n        if (head.firstChild) {\n          head.insertBefore(styleElm, head.firstChild);\n        } else {\n          head.appendChild(styleElm);\n        }\n      }\n      if (styleElm.styleSheet) {\n        styleElm.styleSheet.cssText += cssText;\n      } else {\n        styleElm.appendChild(doc.createTextNode(cssText));\n      }\n    };\n    var loadCSS = function (url) {\n      var head;\n      if (self$$1 !== DOMUtils.DOM && doc === document) {\n        DOMUtils.DOM.loadCSS(url);\n        return;\n      }\n      if (!url) {\n        url = '';\n      }\n      head = doc.getElementsByTagName('head')[0];\n      each$5(url.split(','), function (url) {\n        var link;\n        url = $_1q1txeljnlpawsa._addCacheSuffix(url);\n        if (files[url]) {\n          return;\n        }\n        files[url] = true;\n        link = create('link', {\n          rel: 'stylesheet',\n          href: url\n        });\n        head.appendChild(link);\n      });\n    };\n    var toggleClass = function (elm, cls, state) {\n      $$(elm).toggleClass(cls, state).each(function () {\n        if (this.className === '') {\n          DomQuery(this).attr('class', null);\n        }\n      });\n    };\n    var addClass = function (elm, cls) {\n      $$(elm).addClass(cls);\n    };\n    var removeClass = function (elm, cls) {\n      toggleClass(elm, cls, false);\n    };\n    var hasClass = function (elm, cls) {\n      return $$(elm).hasClass(cls);\n    };\n    var show = function (elm) {\n      $$(elm).show();\n    };\n    var hide = function (elm) {\n      $$(elm).hide();\n    };\n    var isHidden = function (elm) {\n      return $$(elm).css('display') === 'none';\n    };\n    var uniqueId = function (prefix) {\n      return (!prefix ? 'mce_' : prefix) + counter++;\n    };\n    var getOuterHTML = function (elm) {\n      var node = typeof elm === 'string' ? get(elm) : elm;\n      return $_fy28ei1rjnlpax2o.isElement(node) ? node.outerHTML : DomQuery('<div></div>').append(DomQuery(node).clone()).html();\n    };\n    var setOuterHTML = function (elm, html) {\n      $$(elm).each(function () {\n        try {\n          if ('outerHTML' in this) {\n            this.outerHTML = html;\n            return;\n          }\n        } catch (ex) {\n        }\n        remove(DomQuery(this).html(html), true);\n      });\n    };\n    var insertAfter = function (node, reference) {\n      var referenceNode = get(reference);\n      return run(node, function (node) {\n        var parent$$1, nextSibling;\n        parent$$1 = referenceNode.parentNode;\n        nextSibling = referenceNode.nextSibling;\n        if (nextSibling) {\n          parent$$1.insertBefore(node, nextSibling);\n        } else {\n          parent$$1.appendChild(node);\n        }\n        return node;\n      });\n    };\n    var replace = function (newElm, oldElm, keepChildren) {\n      return run(oldElm, function (oldElm) {\n        if ($_1q1txeljnlpawsa.is(oldElm, 'array')) {\n          newElm = newElm.cloneNode(true);\n        }\n        if (keepChildren) {\n          each$5(grep$1(oldElm.childNodes), function (node) {\n            newElm.appendChild(node);\n          });\n        }\n        return oldElm.parentNode.replaceChild(newElm, oldElm);\n      });\n    };\n    var rename = function (elm, name$$1) {\n      var newElm;\n      if (elm.nodeName !== name$$1.toUpperCase()) {\n        newElm = create(name$$1);\n        each$5(getAttribs(elm), function (attrNode) {\n          setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n        });\n        replace(newElm, elm, true);\n      }\n      return newElm || elm;\n    };\n    var findCommonAncestor = function (a, b) {\n      var ps = a, pe;\n      while (ps) {\n        pe = b;\n        while (pe && ps !== pe) {\n          pe = pe.parentNode;\n        }\n        if (ps === pe) {\n          break;\n        }\n        ps = ps.parentNode;\n      }\n      if (!ps && a.ownerDocument) {\n        return a.ownerDocument.documentElement;\n      }\n      return ps;\n    };\n    var toHex = function (rgbVal) {\n      return styles.toHex($_1q1txeljnlpawsa.trim(rgbVal));\n    };\n    var isEmpty = function (node, elements) {\n      var i, attributes, type, whitespace, walker, name$$1, brCount = 0;\n      node = node.firstChild;\n      if (node) {\n        walker = new TreeWalker(node, node.parentNode);\n        elements = elements || (schema ? schema.getNonEmptyElements() : null);\n        whitespace = schema ? schema.getWhiteSpaceElements() : {};\n        do {\n          type = node.nodeType;\n          if ($_fy28ei1rjnlpax2o.isElement(node)) {\n            var bogusVal = node.getAttribute('data-mce-bogus');\n            if (bogusVal) {\n              node = walker.next(bogusVal === 'all');\n              continue;\n            }\n            name$$1 = node.nodeName.toLowerCase();\n            if (elements && elements[name$$1]) {\n              if (name$$1 === 'br') {\n                brCount++;\n                node = walker.next();\n                continue;\n              }\n              return false;\n            }\n            attributes = getAttribs(node);\n            i = attributes.length;\n            while (i--) {\n              name$$1 = attributes[i].nodeName;\n              if (name$$1 === 'name' || name$$1 === 'data-mce-bookmark') {\n                return false;\n              }\n            }\n          }\n          if (type === 8) {\n            return false;\n          }\n          if (type === 3 && !whiteSpaceRegExp$2.test(node.nodeValue)) {\n            return false;\n          }\n          if (type === 3 && node.parentNode && whitespace[node.parentNode.nodeName] && whiteSpaceRegExp$2.test(node.nodeValue)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n      }\n      return brCount <= 1;\n    };\n    var createRng = function () {\n      return doc.createRange();\n    };\n    var split = function (parentElm, splitElm, replacementElm) {\n      var r = createRng(), bef, aft, pa;\n      if (parentElm && splitElm) {\n        r.setStart(parentElm.parentNode, findNodeIndex(parentElm));\n        r.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n        bef = r.extractContents();\n        r = createRng();\n        r.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n        r.setEnd(parentElm.parentNode, findNodeIndex(parentElm) + 1);\n        aft = r.extractContents();\n        pa = parentElm.parentNode;\n        pa.insertBefore($_7nxzh21pjnlpax26.trimNode(self$$1, bef), parentElm);\n        if (replacementElm) {\n          pa.insertBefore(replacementElm, parentElm);\n        } else {\n          pa.insertBefore(splitElm, parentElm);\n        }\n        pa.insertBefore($_7nxzh21pjnlpax26.trimNode(self$$1, aft), parentElm);\n        remove(parentElm);\n        return replacementElm || splitElm;\n      }\n    };\n    var bind = function (target, name$$1, func, scope) {\n      if ($_1q1txeljnlpawsa.isArray(target)) {\n        var i = target.length;\n        while (i--) {\n          target[i] = bind(target[i], name$$1, func, scope);\n        }\n        return target;\n      }\n      if (settings.collect && (target === doc || target === win)) {\n        boundEvents.push([\n          target,\n          name$$1,\n          func,\n          scope\n        ]);\n      }\n      return events.bind(target, name$$1, func, scope || self$$1);\n    };\n    var unbind = function (target, name$$1, func) {\n      var i;\n      if ($_1q1txeljnlpawsa.isArray(target)) {\n        i = target.length;\n        while (i--) {\n          target[i] = unbind(target[i], name$$1, func);\n        }\n        return target;\n      }\n      if (boundEvents && (target === doc || target === win)) {\n        i = boundEvents.length;\n        while (i--) {\n          var item = boundEvents[i];\n          if (target === item[0] && (!name$$1 || name$$1 === item[1]) && (!func || func === item[2])) {\n            events.unbind(item[0], item[1], item[2]);\n          }\n        }\n      }\n      return events.unbind(target, name$$1, func);\n    };\n    var fire = function (target, name$$1, evt) {\n      return events.fire(target, name$$1, evt);\n    };\n    var getContentEditable = function (node) {\n      if (node && $_fy28ei1rjnlpax2o.isElement(node)) {\n        var contentEditable = node.getAttribute('data-mce-contenteditable');\n        if (contentEditable && contentEditable !== 'inherit') {\n          return contentEditable;\n        }\n        return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n      } else {\n        return null;\n      }\n    };\n    var getContentEditableParent = function (node) {\n      var root = getRoot();\n      var state = null;\n      for (; node && node !== root; node = node.parentNode) {\n        state = getContentEditable(node);\n        if (state !== null) {\n          break;\n        }\n      }\n      return state;\n    };\n    var destroy = function () {\n      if (boundEvents) {\n        var i = boundEvents.length;\n        while (i--) {\n          var item = boundEvents[i];\n          events.unbind(item[0], item[1], item[2]);\n        }\n      }\n      if (Sizzle.setDocument) {\n        Sizzle.setDocument();\n      }\n    };\n    var isChildOf = function (node, parent$$1) {\n      while (node) {\n        if (parent$$1 === node) {\n          return true;\n        }\n        node = node.parentNode;\n      }\n      return false;\n    };\n    var dumpRng = function (r) {\n      return 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n    };\n    var self$$1 = {\n      doc: doc,\n      settings: settings,\n      win: win,\n      files: files,\n      stdMode: stdMode,\n      boxModel: boxModel,\n      styleSheetLoader: styleSheetLoader,\n      boundEvents: boundEvents,\n      styles: styles,\n      schema: schema,\n      events: events,\n      isBlock: isBlock,\n      $: $,\n      $$: $$,\n      root: null,\n      clone: clone,\n      getRoot: getRoot,\n      getViewPort: getViewPort,\n      getRect: getRect,\n      getSize: getSize,\n      getParent: getParent,\n      getParents: getParents,\n      get: get,\n      getNext: getNext,\n      getPrev: getPrev,\n      select: select,\n      is: is,\n      add: add,\n      create: create,\n      createHTML: createHTML,\n      createFragment: createFragment,\n      remove: remove,\n      setStyle: setStyle,\n      getStyle: getStyle,\n      setStyles: setStyles,\n      removeAllAttribs: removeAllAttribs,\n      setAttrib: setAttrib,\n      setAttribs: setAttribs,\n      getAttrib: getAttrib,\n      getPos: getPos,\n      parseStyle: parseStyle,\n      serializeStyle: serializeStyle,\n      addStyle: addStyle,\n      loadCSS: loadCSS,\n      addClass: addClass,\n      removeClass: removeClass,\n      hasClass: hasClass,\n      toggleClass: toggleClass,\n      show: show,\n      hide: hide,\n      isHidden: isHidden,\n      uniqueId: uniqueId,\n      setHTML: setHTML,\n      getOuterHTML: getOuterHTML,\n      setOuterHTML: setOuterHTML,\n      decode: decode,\n      encode: encode,\n      insertAfter: insertAfter,\n      replace: replace,\n      rename: rename,\n      findCommonAncestor: findCommonAncestor,\n      toHex: toHex,\n      run: run,\n      getAttribs: getAttribs,\n      isEmpty: isEmpty,\n      createRng: createRng,\n      nodeIndex: findNodeIndex,\n      split: split,\n      bind: bind,\n      unbind: unbind,\n      fire: fire,\n      getContentEditable: getContentEditable,\n      getContentEditableParent: getContentEditableParent,\n      destroy: destroy,\n      isChildOf: isChildOf,\n      dumpRng: dumpRng\n    };\n    attrHooks = setupAttrHooks(styles, settings, function () {\n      return self$$1;\n    });\n    return self$$1;\n  }\n  (function (DOMUtils) {\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n  }(DOMUtils || (DOMUtils = {})));\n  var DOMUtils$1 = DOMUtils;\n\n  var DOM = DOMUtils$1.DOM;\n  var each$6 = $_1q1txeljnlpawsa.each;\n  var grep$2 = $_1q1txeljnlpawsa.grep;\n  var isFunction$1 = function (f) {\n    return typeof f === 'function';\n  };\n  var ScriptLoader = function () {\n    var QUEUED = 0;\n    var LOADING = 1;\n    var LOADED = 2;\n    var FAILED = 3;\n    var states = {};\n    var queue = [];\n    var scriptLoadedCallbacks = {};\n    var queueLoadedCallbacks = [];\n    var loading = 0;\n    var loadScript = function (url, success, failure) {\n      var dom = DOM;\n      var elm, id;\n      var done = function () {\n        dom.remove(id);\n        if (elm) {\n          elm.onreadystatechange = elm.onload = elm = null;\n        }\n        success();\n      };\n      var error = function () {\n        if (isFunction$1(failure)) {\n          failure();\n        } else {\n          if (typeof console !== 'undefined' && console.log) {\n            console.log('Failed to load script: ' + url);\n          }\n        }\n      };\n      id = dom.uniqueId();\n      elm = document.createElement('script');\n      elm.id = id;\n      elm.type = 'text/javascript';\n      elm.src = $_1q1txeljnlpawsa._addCacheSuffix(url);\n      elm.onload = done;\n      elm.onerror = error;\n      (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n    };\n    this.isDone = function (url) {\n      return states[url] === LOADED;\n    };\n    this.markDone = function (url) {\n      states[url] = LOADED;\n    };\n    this.add = this.load = function (url, success, scope, failure) {\n      var state = states[url];\n      if (state === undefined) {\n        queue.push(url);\n        states[url] = QUEUED;\n      }\n      if (success) {\n        if (!scriptLoadedCallbacks[url]) {\n          scriptLoadedCallbacks[url] = [];\n        }\n        scriptLoadedCallbacks[url].push({\n          success: success,\n          failure: failure,\n          scope: scope || this\n        });\n      }\n    };\n    this.remove = function (url) {\n      delete states[url];\n      delete scriptLoadedCallbacks[url];\n    };\n    this.loadQueue = function (success, scope, failure) {\n      this.loadScripts(queue, success, scope, failure);\n    };\n    this.loadScripts = function (scripts, success, scope, failure) {\n      var loadScripts;\n      var failures = [];\n      var execCallbacks = function (name$$1, url) {\n        each$6(scriptLoadedCallbacks[url], function (callback) {\n          if (isFunction$1(callback[name$$1])) {\n            callback[name$$1].call(callback.scope);\n          }\n        });\n        scriptLoadedCallbacks[url] = undefined;\n      };\n      queueLoadedCallbacks.push({\n        success: success,\n        failure: failure,\n        scope: scope || this\n      });\n      loadScripts = function () {\n        var loadingScripts = grep$2(scripts);\n        scripts.length = 0;\n        each$6(loadingScripts, function (url) {\n          if (states[url] === LOADED) {\n            execCallbacks('success', url);\n            return;\n          }\n          if (states[url] === FAILED) {\n            execCallbacks('failure', url);\n            return;\n          }\n          if (states[url] !== LOADING) {\n            states[url] = LOADING;\n            loading++;\n            loadScript(url, function () {\n              states[url] = LOADED;\n              loading--;\n              execCallbacks('success', url);\n              loadScripts();\n            }, function () {\n              states[url] = FAILED;\n              loading--;\n              failures.push(url);\n              execCallbacks('failure', url);\n              loadScripts();\n            });\n          }\n        });\n        if (!loading) {\n          var notifyCallbacks = queueLoadedCallbacks.slice(0);\n          queueLoadedCallbacks.length = 0;\n          each$6(notifyCallbacks, function (callback) {\n            if (failures.length === 0) {\n              if (isFunction$1(callback.success)) {\n                callback.success.call(callback.scope);\n              }\n            } else {\n              if (isFunction$1(callback.failure)) {\n                callback.failure.call(callback.scope, failures);\n              }\n            }\n          });\n        }\n      };\n      loadScripts();\n    };\n  };\n  ScriptLoader.ScriptLoader = new ScriptLoader();\n\n  var each$7 = $_1q1txeljnlpawsa.each;\n  function AddOnManager() {\n    var _this = this;\n    var items = [];\n    var urls = {};\n    var lookup = {};\n    var _listeners = [];\n    var get = function (name) {\n      if (lookup[name]) {\n        return lookup[name].instance;\n      }\n      return undefined;\n    };\n    var dependencies = function (name) {\n      var result;\n      if (lookup[name]) {\n        result = lookup[name].dependencies;\n      }\n      return result || [];\n    };\n    var requireLangPack = function (name, languages) {\n      var language = AddOnManager.language;\n      if (language && AddOnManager.languageLoad !== false) {\n        if (languages) {\n          languages = ',' + languages + ',';\n          if (languages.indexOf(',' + language.substr(0, 2) + ',') !== -1) {\n            language = language.substr(0, 2);\n          } else if (languages.indexOf(',' + language + ',') === -1) {\n            return;\n          }\n        }\n        ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n      }\n    };\n    var add = function (id, addOn, dependencies) {\n      items.push(addOn);\n      lookup[id] = {\n        instance: addOn,\n        dependencies: dependencies\n      };\n      var result = partition(_listeners, function (listener) {\n        return listener.name === id;\n      });\n      _listeners = result.fail;\n      each$7(result.pass, function (listener) {\n        listener.callback();\n      });\n      return addOn;\n    };\n    var remove = function (name) {\n      delete urls[name];\n      delete lookup[name];\n    };\n    var createUrl = function (baseUrl, dep) {\n      if (typeof dep === 'object') {\n        return dep;\n      }\n      return typeof baseUrl === 'string' ? {\n        prefix: '',\n        resource: dep,\n        suffix: ''\n      } : {\n        prefix: baseUrl.prefix,\n        resource: dep,\n        suffix: baseUrl.suffix\n      };\n    };\n    var addComponents = function (pluginName, scripts) {\n      var pluginUrl = _this.urls[pluginName];\n      each$7(scripts, function (script) {\n        ScriptLoader.ScriptLoader.add(pluginUrl + '/' + script);\n      });\n    };\n    var loadDependencies = function (name, addOnUrl, success, scope) {\n      var deps = dependencies(name);\n      each$7(deps, function (dep) {\n        var newUrl = createUrl(addOnUrl, dep);\n        load(newUrl.resource, newUrl, undefined, undefined);\n      });\n      if (success) {\n        if (scope) {\n          success.call(scope);\n        } else {\n          success.call(ScriptLoader);\n        }\n      }\n    };\n    var load = function (name, addOnUrl, success, scope, failure) {\n      if (urls[name]) {\n        return;\n      }\n      var urlString = typeof addOnUrl === 'string' ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n      if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n        urlString = AddOnManager.baseURL + '/' + urlString;\n      }\n      urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n      if (lookup[name]) {\n        loadDependencies(name, addOnUrl, success, scope);\n      } else {\n        ScriptLoader.ScriptLoader.add(urlString, function () {\n          return loadDependencies(name, addOnUrl, success, scope);\n        }, scope, failure);\n      }\n    };\n    var waitFor = function (name, callback) {\n      if (lookup.hasOwnProperty(name)) {\n        callback();\n      } else {\n        _listeners.push({\n          name: name,\n          callback: callback\n        });\n      }\n    };\n    return {\n      items: items,\n      urls: urls,\n      lookup: lookup,\n      _listeners: _listeners,\n      get: get,\n      dependencies: dependencies,\n      requireLangPack: requireLangPack,\n      add: add,\n      remove: remove,\n      createUrl: createUrl,\n      addComponents: addComponents,\n      load: load,\n      waitFor: waitFor\n    };\n  }\n  (function (AddOnManager) {\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n  }(AddOnManager || (AddOnManager = {})));\n\n  var before = function (marker, element) {\n    var parent = $_dr4ybh18jnlpawzt.parent(marker);\n    parent.each(function (v) {\n      v.dom().insertBefore(element.dom(), marker.dom());\n    });\n  };\n  var after = function (marker, element) {\n    var sibling = $_dr4ybh18jnlpawzt.nextSibling(marker);\n    sibling.fold(function () {\n      var parent = $_dr4ybh18jnlpawzt.parent(marker);\n      parent.each(function (v) {\n        append(v, element);\n      });\n    }, function (v) {\n      before(v, element);\n    });\n  };\n  var prepend = function (parent, element) {\n    var firstChild = $_dr4ybh18jnlpawzt.firstChild(parent);\n    firstChild.fold(function () {\n      append(parent, element);\n    }, function (v) {\n      parent.dom().insertBefore(element.dom(), v.dom());\n    });\n  };\n  var append = function (parent, element) {\n    parent.dom().appendChild(element.dom());\n  };\n  var appendAt = function (parent, element, index) {\n    $_dr4ybh18jnlpawzt.child(parent, index).fold(function () {\n      append(parent, element);\n    }, function (v) {\n      before(v, element);\n    });\n  };\n  var wrap$1 = function (element, wrapper) {\n    before(element, wrapper);\n    append(wrapper, element);\n  };\n  var $_ag89ax1yjnlpax4x = {\n    before: before,\n    after: after,\n    prepend: prepend,\n    append: append,\n    appendAt: appendAt,\n    wrap: wrap$1\n  };\n\n  var before$1 = function (marker, elements) {\n    each(elements, function (x) {\n      $_ag89ax1yjnlpax4x.before(marker, x);\n    });\n  };\n  var after$1 = function (marker, elements) {\n    each(elements, function (x, i) {\n      var e = i === 0 ? marker : elements[i - 1];\n      $_ag89ax1yjnlpax4x.after(e, x);\n    });\n  };\n  var prepend$1 = function (parent, elements) {\n    each(elements.slice().reverse(), function (x) {\n      $_ag89ax1yjnlpax4x.prepend(parent, x);\n    });\n  };\n  var append$1 = function (parent, elements) {\n    each(elements, function (x) {\n      $_ag89ax1yjnlpax4x.append(parent, x);\n    });\n  };\n  var $_9vd3j51xjnlpax4s = {\n    before: before$1,\n    after: after$1,\n    prepend: prepend$1,\n    append: append$1\n  };\n\n  var empty = function (element) {\n    element.dom().textContent = '';\n    each($_dr4ybh18jnlpawzt.children(element), function (rogue) {\n      remove$2(rogue);\n    });\n  };\n  var remove$2 = function (element) {\n    var dom = element.dom();\n    if (dom.parentNode !== null)\n      dom.parentNode.removeChild(dom);\n  };\n  var unwrap = function (wrapper) {\n    var children = $_dr4ybh18jnlpawzt.children(wrapper);\n    if (children.length > 0)\n      $_9vd3j51xjnlpax4s.before(wrapper, children);\n    remove$2(wrapper);\n  };\n  var $_azq8zm1wjnlpax4n = {\n    empty: empty,\n    remove: remove$2,\n    unwrap: unwrap\n  };\n\n  var first$1 = function (fn, rate) {\n    var timer = null;\n    var cancel = function () {\n      if (timer !== null) {\n        clearTimeout(timer);\n        timer = null;\n      }\n    };\n    var throttle = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      if (timer === null) {\n        timer = setTimeout(function () {\n          fn.apply(null, args);\n          timer = null;\n        }, rate);\n      }\n    };\n    return {\n      cancel: cancel,\n      throttle: throttle\n    };\n  };\n  var last$3 = function (fn, rate) {\n    var timer = null;\n    var cancel = function () {\n      if (timer !== null) {\n        clearTimeout(timer);\n        timer = null;\n      }\n    };\n    var throttle = function () {\n      var args = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n      if (timer !== null)\n        clearTimeout(timer);\n      timer = setTimeout(function () {\n        fn.apply(null, args);\n        timer = null;\n      }, rate);\n    };\n    return {\n      cancel: cancel,\n      throttle: throttle\n    };\n  };\n\n  var Cell = function (initial) {\n    var value = initial;\n    var get = function () {\n      return value;\n    };\n    var set = function (v) {\n      value = v;\n    };\n    var clone = function () {\n      return Cell(get());\n    };\n    return {\n      get: get,\n      set: set,\n      clone: clone\n    };\n  };\n\n  function Toggler (turnOff, turnOn, initial) {\n    var active = initial || false;\n    var on = function () {\n      turnOn();\n      active = true;\n    };\n    var off = function () {\n      turnOff();\n      active = false;\n    };\n    var toggle = function () {\n      var f = active ? off : on;\n      f();\n    };\n    var isOn = function () {\n      return active;\n    };\n    return {\n      on: on,\n      off: off,\n      toggle: toggle,\n      isOn: isOn\n    };\n  }\n\n  var read = function (element, attr) {\n    var value = $_521j8z15jnlpawz7.get(element, attr);\n    return value === undefined || value === '' ? [] : value.split(' ');\n  };\n  var add = function (element, attr, id) {\n    var old = read(element, attr);\n    var nu = old.concat([id]);\n    $_521j8z15jnlpawz7.set(element, attr, nu.join(' '));\n    return true;\n  };\n  var remove$3 = function (element, attr, id) {\n    var nu = filter(read(element, attr), function (v) {\n      return v !== id;\n    });\n    if (nu.length > 0)\n      $_521j8z15jnlpawz7.set(element, attr, nu.join(' '));\n    else\n      $_521j8z15jnlpawz7.remove(element, attr);\n    return false;\n  };\n  var $_c7tpvt26jnlpax6a = {\n    read: read,\n    add: add,\n    remove: remove$3\n  };\n\n  var supports = function (element) {\n    return element.dom().classList !== undefined;\n  };\n  var get$3 = function (element) {\n    return $_c7tpvt26jnlpax6a.read(element, 'class');\n  };\n  var add$1 = function (element, clazz) {\n    return $_c7tpvt26jnlpax6a.add(element, 'class', clazz);\n  };\n  var remove$4 = function (element, clazz) {\n    return $_c7tpvt26jnlpax6a.remove(element, 'class', clazz);\n  };\n  var toggle = function (element, clazz) {\n    if (contains(get$3(element), clazz)) {\n      return remove$4(element, clazz);\n    } else {\n      return add$1(element, clazz);\n    }\n  };\n  var $_2thj3d25jnlpax63 = {\n    get: get$3,\n    add: add$1,\n    remove: remove$4,\n    toggle: toggle,\n    supports: supports\n  };\n\n  var add$2 = function (element, clazz) {\n    if ($_2thj3d25jnlpax63.supports(element))\n      element.dom().classList.add(clazz);\n    else\n      $_2thj3d25jnlpax63.add(element, clazz);\n  };\n  var cleanClass = function (element) {\n    var classList = $_2thj3d25jnlpax63.supports(element) ? element.dom().classList : $_2thj3d25jnlpax63.get(element);\n    if (classList.length === 0) {\n      $_521j8z15jnlpawz7.remove(element, 'class');\n    }\n  };\n  var remove$5 = function (element, clazz) {\n    if ($_2thj3d25jnlpax63.supports(element)) {\n      var classList = element.dom().classList;\n      classList.remove(clazz);\n    } else\n      $_2thj3d25jnlpax63.remove(element, clazz);\n    cleanClass(element);\n  };\n  var toggle$1 = function (element, clazz) {\n    return $_2thj3d25jnlpax63.supports(element) ? element.dom().classList.toggle(clazz) : $_2thj3d25jnlpax63.toggle(element, clazz);\n  };\n  var toggler = function (element, clazz) {\n    var hasClasslist = $_2thj3d25jnlpax63.supports(element);\n    var classList = element.dom().classList;\n    var off = function () {\n      if (hasClasslist)\n        classList.remove(clazz);\n      else\n        $_2thj3d25jnlpax63.remove(element, clazz);\n    };\n    var on = function () {\n      if (hasClasslist)\n        classList.add(clazz);\n      else\n        $_2thj3d25jnlpax63.add(element, clazz);\n    };\n    return Toggler(off, on, has$2(element, clazz));\n  };\n  var has$2 = function (element, clazz) {\n    return $_2thj3d25jnlpax63.supports(element) && element.dom().classList.contains(clazz);\n  };\n  var $_fes8i223jnlpax5z = {\n    add: add$2,\n    remove: remove$5,\n    toggle: toggle$1,\n    toggler: toggler,\n    has: has$2\n  };\n\n  var all$1 = function (predicate) {\n    return descendants($_1lsags16jnlpawzj.body(), predicate);\n  };\n  var ancestors = function (scope, predicate, isRoot) {\n    return filter($_dr4ybh18jnlpawzt.parents(scope, isRoot), predicate);\n  };\n  var siblings$1 = function (scope, predicate) {\n    return filter($_dr4ybh18jnlpawzt.siblings(scope), predicate);\n  };\n  var children$1 = function (scope, predicate) {\n    return filter($_dr4ybh18jnlpawzt.children(scope), predicate);\n  };\n  var descendants = function (scope, predicate) {\n    var result = [];\n    each($_dr4ybh18jnlpawzt.children(scope), function (x) {\n      if (predicate(x)) {\n        result = result.concat([x]);\n      }\n      result = result.concat(descendants(x, predicate));\n    });\n    return result;\n  };\n  var $_g370pf28jnlpax6n = {\n    all: all$1,\n    ancestors: ancestors,\n    siblings: siblings$1,\n    children: children$1,\n    descendants: descendants\n  };\n\n  var all$2 = function (selector) {\n    return $_d8v5lf1gjnlpax0y.all(selector);\n  };\n  var ancestors$1 = function (scope, selector, isRoot) {\n    return $_g370pf28jnlpax6n.ancestors(scope, function (e) {\n      return $_d8v5lf1gjnlpax0y.is(e, selector);\n    }, isRoot);\n  };\n  var siblings$2 = function (scope, selector) {\n    return $_g370pf28jnlpax6n.siblings(scope, function (e) {\n      return $_d8v5lf1gjnlpax0y.is(e, selector);\n    });\n  };\n  var children$2 = function (scope, selector) {\n    return $_g370pf28jnlpax6n.children(scope, function (e) {\n      return $_d8v5lf1gjnlpax0y.is(e, selector);\n    });\n  };\n  var descendants$1 = function (scope, selector) {\n    return $_d8v5lf1gjnlpax0y.all(selector, scope);\n  };\n  var $_cmitir27jnlpax6e = {\n    all: all$2,\n    ancestors: ancestors$1,\n    siblings: siblings$2,\n    children: children$2,\n    descendants: descendants$1\n  };\n\n  function ClosestOrAncestor (is, ancestor, scope, a, isRoot) {\n    return is(scope, a) ? Option.some(scope) : isFunction(isRoot) && isRoot(scope) ? Option.none() : ancestor(scope, a, isRoot);\n  }\n\n  var first$2 = function (predicate) {\n    return descendant($_1lsags16jnlpawzj.body(), predicate);\n  };\n  var ancestor = function (scope, predicate, isRoot) {\n    var element = scope.dom();\n    var stop = isFunction(isRoot) ? isRoot : constant(false);\n    while (element.parentNode) {\n      element = element.parentNode;\n      var el = Element$$1.fromDom(element);\n      if (predicate(el))\n        return Option.some(el);\n      else if (stop(el))\n        break;\n    }\n    return Option.none();\n  };\n  var closest = function (scope, predicate, isRoot) {\n    var is = function (scope) {\n      return predicate(scope);\n    };\n    return ClosestOrAncestor(is, ancestor, scope, predicate, isRoot);\n  };\n  var sibling$1 = function (scope, predicate) {\n    var element = scope.dom();\n    if (!element.parentNode)\n      return Option.none();\n    return child$1(Element$$1.fromDom(element.parentNode), function (x) {\n      return !$_5h7cor1ejnlpax0k.eq(scope, x) && predicate(x);\n    });\n  };\n  var child$1 = function (scope, predicate) {\n    var result = find(scope.dom().childNodes, compose(predicate, Element$$1.fromDom));\n    return result.map(Element$$1.fromDom);\n  };\n  var descendant = function (scope, predicate) {\n    var descend = function (node) {\n      for (var i = 0; i < node.childNodes.length; i++) {\n        if (predicate(Element$$1.fromDom(node.childNodes[i])))\n          return Option.some(Element$$1.fromDom(node.childNodes[i]));\n        var res = descend(node.childNodes[i]);\n        if (res.isSome())\n          return res;\n      }\n      return Option.none();\n    };\n    return descend(scope.dom());\n  };\n  var $_cs5qmd2ajnlpax6v = {\n    first: first$2,\n    ancestor: ancestor,\n    closest: closest,\n    sibling: sibling$1,\n    child: child$1,\n    descendant: descendant\n  };\n\n  var first$3 = function (selector) {\n    return $_d8v5lf1gjnlpax0y.one(selector);\n  };\n  var ancestor$1 = function (scope, selector, isRoot) {\n    return $_cs5qmd2ajnlpax6v.ancestor(scope, function (e) {\n      return $_d8v5lf1gjnlpax0y.is(e, selector);\n    }, isRoot);\n  };\n  var sibling$2 = function (scope, selector) {\n    return $_cs5qmd2ajnlpax6v.sibling(scope, function (e) {\n      return $_d8v5lf1gjnlpax0y.is(e, selector);\n    });\n  };\n  var child$2 = function (scope, selector) {\n    return $_cs5qmd2ajnlpax6v.child(scope, function (e) {\n      return $_d8v5lf1gjnlpax0y.is(e, selector);\n    });\n  };\n  var descendant$1 = function (scope, selector) {\n    return $_d8v5lf1gjnlpax0y.one(selector, scope);\n  };\n  var closest$1 = function (scope, selector, isRoot) {\n    return ClosestOrAncestor($_d8v5lf1gjnlpax0y.is, ancestor$1, scope, selector, isRoot);\n  };\n  var $_2kbu29jnlpax6t = {\n    first: first$3,\n    ancestor: ancestor$1,\n    sibling: sibling$2,\n    child: child$2,\n    descendant: descendant$1,\n    closest: closest$1\n  };\n\n  var annotation = constant('mce-annotation');\n  var dataAnnotation = constant('data-mce-annotation');\n  var dataAnnotationId = constant('data-mce-annotation-uid');\n\n  var identify = function (editor, annotationName) {\n    var rng = editor.selection.getRng();\n    var start = Element$$1.fromDom(rng.startContainer);\n    var root = Element$$1.fromDom(editor.getBody());\n    var selector = annotationName.fold(function () {\n      return '.' + annotation();\n    }, function (an) {\n      return '[' + dataAnnotation() + '=\"' + an + '\"]';\n    });\n    var newStart = $_dr4ybh18jnlpawzt.child(start, rng.startOffset).getOr(start);\n    var closest = $_2kbu29jnlpax6t.closest(newStart, selector, function (n) {\n      return $_5h7cor1ejnlpax0k.eq(n, root);\n    });\n    var getAttr = function (c, property) {\n      if ($_521j8z15jnlpawz7.has(c, property)) {\n        return Option.some($_521j8z15jnlpawz7.get(c, property));\n      } else {\n        return Option.none();\n      }\n    };\n    return closest.bind(function (c) {\n      return getAttr(c, '' + dataAnnotationId()).bind(function (uid) {\n        return getAttr(c, '' + dataAnnotation()).map(function (name) {\n          var elements = findMarkers(editor, uid);\n          return {\n            uid: uid,\n            name: name,\n            elements: elements\n          };\n        });\n      });\n    });\n  };\n  var isAnnotation = function (elem) {\n    return $_7u5fzs11jnlpawv6.isElement(elem) && $_fes8i223jnlpax5z.has(elem, annotation());\n  };\n  var findMarkers = function (editor, uid) {\n    var body = Element$$1.fromDom(editor.getBody());\n    return $_cmitir27jnlpax6e.descendants(body, '[' + dataAnnotationId() + '=\"' + uid + '\"]');\n  };\n  var findAll = function (editor, name) {\n    var body = Element$$1.fromDom(editor.getBody());\n    var markers = $_cmitir27jnlpax6e.descendants(body, '[' + dataAnnotation() + '=\"' + name + '\"]');\n    var directory = {};\n    each(markers, function (m) {\n      var uid = $_521j8z15jnlpawz7.get(m, dataAnnotationId());\n      var nodesAlready = directory.hasOwnProperty(uid) ? directory[uid] : [];\n      directory[uid] = nodesAlready.concat([m]);\n    });\n    return directory;\n  };\n\n  var setup = function (editor, registry) {\n    var changeCallbacks = Cell({});\n    var initData = function () {\n      return {\n        listeners: [],\n        previous: Cell(Option.none())\n      };\n    };\n    var withCallbacks = function (name, f) {\n      updateCallbacks(name, function (data) {\n        f(data);\n        return data;\n      });\n    };\n    var updateCallbacks = function (name, f) {\n      var callbackMap = changeCallbacks.get();\n      var data = callbackMap.hasOwnProperty(name) ? callbackMap[name] : initData();\n      var outputData = f(data);\n      callbackMap[name] = outputData;\n      changeCallbacks.set(callbackMap);\n    };\n    var fireCallbacks = function (name, uid, elements) {\n      withCallbacks(name, function (data) {\n        each(data.listeners, function (f) {\n          return f(true, name, {\n            uid: uid,\n            nodes: map(elements, function (elem) {\n              return elem.dom();\n            })\n          });\n        });\n      });\n    };\n    var fireNoAnnotation = function (name) {\n      withCallbacks(name, function (data) {\n        each(data.listeners, function (f) {\n          return f(false, name);\n        });\n      });\n    };\n    var onNodeChange = last$3(function () {\n      var callbackMap = changeCallbacks.get();\n      var annotations = sort(keys(callbackMap));\n      each(annotations, function (name) {\n        updateCallbacks(name, function (data) {\n          var prev = data.previous.get();\n          identify(editor, Option.some(name)).fold(function () {\n            if (prev.isSome()) {\n              fireNoAnnotation(name);\n              data.previous.set(Option.none());\n            }\n          }, function (_a) {\n            var uid = _a.uid, name = _a.name, elements = _a.elements;\n            if (!prev.is(uid)) {\n              fireCallbacks(name, uid, elements);\n              data.previous.set(Option.some(uid));\n            }\n          });\n          return {\n            previous: data.previous,\n            listeners: data.listeners\n          };\n        });\n      });\n    }, 30);\n    editor.on('remove', function () {\n      onNodeChange.cancel();\n    });\n    editor.on('nodeChange', function () {\n      onNodeChange.throttle();\n    });\n    var addListener = function (name, f) {\n      updateCallbacks(name, function (data) {\n        return {\n          previous: data.previous,\n          listeners: data.listeners.concat([f])\n        };\n      });\n    };\n    return { addListener: addListener };\n  };\n\n  var setup$1 = function (editor, registry) {\n    var identifyParserNode = function (span) {\n      var optAnnotation = Option.from(span.attributes.map[dataAnnotation()]);\n      return optAnnotation.bind(registry.lookup);\n    };\n    editor.on('init', function () {\n      editor.serializer.addNodeFilter('span', function (spans) {\n        each(spans, function (span) {\n          identifyParserNode(span).each(function (settings) {\n            if (settings.persistent === false) {\n              span.unwrap();\n            }\n          });\n        });\n      });\n    });\n  };\n\n  var create$1 = function () {\n    var annotations = {};\n    var register = function (name, settings) {\n      annotations[name] = {\n        name: name,\n        settings: settings\n      };\n    };\n    var lookup = function (name) {\n      return annotations.hasOwnProperty(name) ? Option.from(annotations[name]).map(function (a) {\n        return a.settings;\n      }) : Option.none();\n    };\n    return {\n      register: register,\n      lookup: lookup\n    };\n  };\n\n  var unique = 0;\n  var generate = function (prefix) {\n    var date = new Date();\n    var time = date.getTime();\n    var random = Math.floor(Math.random() * 1000000000);\n    unique++;\n    return prefix + '_' + random + unique + String(time);\n  };\n\n  var add$3 = function (element, classes) {\n    each(classes, function (x) {\n      $_fes8i223jnlpax5z.add(element, x);\n    });\n  };\n  var remove$6 = function (element, classes) {\n    each(classes, function (x) {\n      $_fes8i223jnlpax5z.remove(element, x);\n    });\n  };\n  var toggle$2 = function (element, classes) {\n    each(classes, function (x) {\n      $_fes8i223jnlpax5z.toggle(element, x);\n    });\n  };\n  var hasAll = function (element, classes) {\n    return forall(classes, function (clazz) {\n      return $_fes8i223jnlpax5z.has(element, clazz);\n    });\n  };\n  var hasAny = function (element, classes) {\n    return exists(classes, function (clazz) {\n      return $_fes8i223jnlpax5z.has(element, clazz);\n    });\n  };\n  var getNative = function (element) {\n    var classList = element.dom().classList;\n    var r = new Array(classList.length);\n    for (var i = 0; i < classList.length; i++) {\n      r[i] = classList.item(i);\n    }\n    return r;\n  };\n  var get$4 = function (element) {\n    return $_2thj3d25jnlpax63.supports(element) ? getNative(element) : $_2thj3d25jnlpax63.get(element);\n  };\n  var $_6bet4b2hjnlpax8c = {\n    add: add$3,\n    remove: remove$6,\n    toggle: toggle$2,\n    hasAll: hasAll,\n    hasAny: hasAny,\n    get: get$4\n  };\n\n  var clone$1 = function (original, deep) {\n    return Element$$1.fromDom(original.dom().cloneNode(deep));\n  };\n  var shallow = function (original) {\n    return clone$1(original, false);\n  };\n  var deep = function (original) {\n    return clone$1(original, true);\n  };\n  var shallowAs = function (original, tag) {\n    var nu = Element$$1.fromTag(tag);\n    var attributes = $_521j8z15jnlpawz7.clone(original);\n    $_521j8z15jnlpawz7.setAll(nu, attributes);\n    return nu;\n  };\n  var copy$1 = function (original, tag) {\n    var nu = shallowAs(original, tag);\n    var cloneChildren = $_dr4ybh18jnlpawzt.children(deep(original));\n    $_9vd3j51xjnlpax4s.append(nu, cloneChildren);\n    return nu;\n  };\n  var mutate = function (original, tag) {\n    var nu = shallowAs(original, tag);\n    $_ag89ax1yjnlpax4x.before(original, nu);\n    var children = $_dr4ybh18jnlpawzt.children(original);\n    $_9vd3j51xjnlpax4s.append(nu, children);\n    $_azq8zm1wjnlpax4n.remove(original);\n    return nu;\n  };\n  var $_5sdpl92ijnlpax8h = {\n    shallow: shallow,\n    shallowAs: shallowAs,\n    deep: deep,\n    copy: copy$1,\n    mutate: mutate\n  };\n\n  var fromHtml$1 = function (html, scope) {\n    var doc = scope || document;\n    var div = doc.createElement('div');\n    div.innerHTML = html;\n    return $_dr4ybh18jnlpawzt.children(Element$$1.fromDom(div));\n  };\n  var fromTags = function (tags, scope) {\n    return map(tags, function (x) {\n      return Element$$1.fromTag(x, scope);\n    });\n  };\n  var fromText$1 = function (texts, scope) {\n    return map(texts, function (x) {\n      return Element$$1.fromText(x, scope);\n    });\n  };\n  var fromDom$1 = function (nodes) {\n    return map(nodes, Element$$1.fromDom);\n  };\n  var $_d4cc782kjnlpax8m = {\n    fromHtml: fromHtml$1,\n    fromTags: fromTags,\n    fromText: fromText$1,\n    fromDom: fromDom$1\n  };\n\n  var get$5 = function (element) {\n    return element.dom().innerHTML;\n  };\n  var set$2 = function (element, content) {\n    var owner = $_dr4ybh18jnlpawzt.owner(element);\n    var docDom = owner.dom();\n    var fragment = Element$$1.fromDom(docDom.createDocumentFragment());\n    var contentElements = $_d4cc782kjnlpax8m.fromHtml(content, docDom);\n    $_9vd3j51xjnlpax4s.append(fragment, contentElements);\n    $_azq8zm1wjnlpax4n.empty(element);\n    $_ag89ax1yjnlpax4x.append(element, fragment);\n  };\n  var getOuter = function (element) {\n    var container = Element$$1.fromTag('div');\n    var clone = Element$$1.fromDom(element.dom().cloneNode(true));\n    $_ag89ax1yjnlpax4x.append(container, clone);\n    return get$5(container);\n  };\n  var $_am4twv2jjnlpax8k = {\n    get: get$5,\n    set: set$2,\n    getOuter: getOuter\n  };\n\n  var slice$3 = [].slice;\n  var constant$1 = function (value) {\n    return function () {\n      return value;\n    };\n  };\n  var negate = function (predicate) {\n    return function (x) {\n      return !predicate(x);\n    };\n  };\n  var compose$2 = function (f, g) {\n    return function (x) {\n      return f(g(x));\n    };\n  };\n  var or = function () {\n    var x = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      x[_i] = arguments[_i];\n    }\n    var args = slice$3.call(arguments);\n    return function (x) {\n      for (var i = 0; i < args.length; i++) {\n        if (args[i](x)) {\n          return true;\n        }\n      }\n      return false;\n    };\n  };\n  var and = function () {\n    var x = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      x[_i] = arguments[_i];\n    }\n    var args = slice$3.call(arguments);\n    return function (x) {\n      for (var i = 0; i < args.length; i++) {\n        if (!args[i](x)) {\n          return false;\n        }\n      }\n      return true;\n    };\n  };\n  var curry$1 = function (fn) {\n    var x = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n    var args = slice$3.call(arguments);\n    if (args.length - 1 >= fn.length) {\n      return fn.apply(this, args.slice(1));\n    }\n    return function () {\n      var tempArgs = args.concat([].slice.call(arguments));\n      return curry$1.apply(this, tempArgs);\n    };\n  };\n  var noop$1 = function () {\n  };\n  var $_dv6bef2njnlpax9l = {\n    constant: constant$1,\n    negate: negate,\n    and: and,\n    or: or,\n    curry: curry$1,\n    compose: compose$2,\n    noop: noop$1\n  };\n\n  var ZWSP = '\\uFEFF';\n  var isZwsp = function (chr) {\n    return chr === ZWSP;\n  };\n  var trim$3 = function (text) {\n    return text.replace(new RegExp(ZWSP, 'g'), '');\n  };\n  var $_90hfb72rjnlpaxae = {\n    isZwsp: isZwsp,\n    ZWSP: ZWSP,\n    trim: trim$3\n  };\n\n  var isElement$2 = $_fy28ei1rjnlpax2o.isElement;\n  var isText$2 = $_fy28ei1rjnlpax2o.isText;\n  var isCaretContainerBlock = function (node) {\n    if (isText$2(node)) {\n      node = node.parentNode;\n    }\n    return isElement$2(node) && node.hasAttribute('data-mce-caret');\n  };\n  var isCaretContainerInline = function (node) {\n    return isText$2(node) && $_90hfb72rjnlpaxae.isZwsp(node.data);\n  };\n  var isCaretContainer = function (node) {\n    return isCaretContainerBlock(node) || isCaretContainerInline(node);\n  };\n  var hasContent = function (node) {\n    return node.firstChild !== node.lastChild || !$_fy28ei1rjnlpax2o.isBr(node.firstChild);\n  };\n  var insertInline = function (node, before) {\n    var doc, sibling, textNode, parentNode;\n    doc = node.ownerDocument;\n    textNode = doc.createTextNode($_90hfb72rjnlpaxae.ZWSP);\n    parentNode = node.parentNode;\n    if (!before) {\n      sibling = node.nextSibling;\n      if (isText$2(sibling)) {\n        if (isCaretContainer(sibling)) {\n          return sibling;\n        }\n        if (startsWithCaretContainer(sibling)) {\n          sibling.splitText(1);\n          return sibling;\n        }\n      }\n      if (node.nextSibling) {\n        parentNode.insertBefore(textNode, node.nextSibling);\n      } else {\n        parentNode.appendChild(textNode);\n      }\n    } else {\n      sibling = node.previousSibling;\n      if (isText$2(sibling)) {\n        if (isCaretContainer(sibling)) {\n          return sibling;\n        }\n        if (endsWithCaretContainer(sibling)) {\n          return sibling.splitText(sibling.data.length - 1);\n        }\n      }\n      parentNode.insertBefore(textNode, node);\n    }\n    return textNode;\n  };\n  var isBeforeInline = function (pos) {\n    var container = pos.container();\n    return pos && $_fy28ei1rjnlpax2o.isText(container) && container.data.charAt(pos.offset()) === $_90hfb72rjnlpaxae.ZWSP;\n  };\n  var isAfterInline = function (pos) {\n    var container = pos.container();\n    return pos && $_fy28ei1rjnlpax2o.isText(container) && container.data.charAt(pos.offset() - 1) === $_90hfb72rjnlpaxae.ZWSP;\n  };\n  var createBogusBr = function () {\n    var br = document.createElement('br');\n    br.setAttribute('data-mce-bogus', '1');\n    return br;\n  };\n  var insertBlock = function (blockName, node, before) {\n    var doc, blockNode, parentNode;\n    doc = node.ownerDocument;\n    blockNode = doc.createElement(blockName);\n    blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n    blockNode.setAttribute('data-mce-bogus', 'all');\n    blockNode.appendChild(createBogusBr());\n    parentNode = node.parentNode;\n    if (!before) {\n      if (node.nextSibling) {\n        parentNode.insertBefore(blockNode, node.nextSibling);\n      } else {\n        parentNode.appendChild(blockNode);\n      }\n    } else {\n      parentNode.insertBefore(blockNode, node);\n    }\n    return blockNode;\n  };\n  var startsWithCaretContainer = function (node) {\n    return isText$2(node) && node.data[0] === $_90hfb72rjnlpaxae.ZWSP;\n  };\n  var endsWithCaretContainer = function (node) {\n    return isText$2(node) && node.data[node.data.length - 1] === $_90hfb72rjnlpaxae.ZWSP;\n  };\n  var trimBogusBr = function (elm) {\n    var brs = elm.getElementsByTagName('br');\n    var lastBr = brs[brs.length - 1];\n    if ($_fy28ei1rjnlpax2o.isBogus(lastBr)) {\n      lastBr.parentNode.removeChild(lastBr);\n    }\n  };\n  var showCaretContainerBlock = function (caretContainer) {\n    if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n      trimBogusBr(caretContainer);\n      caretContainer.removeAttribute('data-mce-caret');\n      caretContainer.removeAttribute('data-mce-bogus');\n      caretContainer.removeAttribute('style');\n      caretContainer.removeAttribute('_moz_abspos');\n      return caretContainer;\n    }\n    return null;\n  };\n  var isRangeInCaretContainerBlock = function (range) {\n    return isCaretContainerBlock(range.startContainer);\n  };\n\n  var isContentEditableTrue$1 = $_fy28ei1rjnlpax2o.isContentEditableTrue;\n  var isContentEditableFalse$1 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var isBr$2 = $_fy28ei1rjnlpax2o.isBr;\n  var isText$3 = $_fy28ei1rjnlpax2o.isText;\n  var isInvalidTextElement = $_fy28ei1rjnlpax2o.matchNodeNames('script style textarea');\n  var isAtomicInline = $_fy28ei1rjnlpax2o.matchNodeNames('img input textarea hr iframe video audio object');\n  var isTable$1 = $_fy28ei1rjnlpax2o.matchNodeNames('table');\n  var isCaretContainer$1 = isCaretContainer;\n  var isCaretCandidate = function (node) {\n    if (isCaretContainer$1(node)) {\n      return false;\n    }\n    if (isText$3(node)) {\n      if (isInvalidTextElement(node.parentNode)) {\n        return false;\n      }\n      return true;\n    }\n    return isAtomicInline(node) || isBr$2(node) || isTable$1(node) || isNonUiContentEditableFalse(node);\n  };\n  var isUnselectable = function (node) {\n    return $_fy28ei1rjnlpax2o.isElement(node) && node.getAttribute('unselectable') === 'true';\n  };\n  var isNonUiContentEditableFalse = function (node) {\n    return isUnselectable(node) === false && isContentEditableFalse$1(node);\n  };\n  var isInEditable = function (node, root) {\n    for (node = node.parentNode; node && node !== root; node = node.parentNode) {\n      if (isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      if (isContentEditableTrue$1(node)) {\n        return true;\n      }\n    }\n    return true;\n  };\n  var isAtomicContentEditableFalse = function (node) {\n    if (!isNonUiContentEditableFalse(node)) {\n      return false;\n    }\n    return $_n452lmjnlpawsj.reduce(node.getElementsByTagName('*'), function (result, elm) {\n      return result || isContentEditableTrue$1(elm);\n    }, false) !== true;\n  };\n  var isAtomic = function (node) {\n    return isAtomicInline(node) || isAtomicContentEditableFalse(node);\n  };\n  var isEditableCaretCandidate = function (node, root) {\n    return isCaretCandidate(node) && isInEditable(node, root);\n  };\n\n  var round = Math.round;\n  var clone$2 = function (rect) {\n    if (!rect) {\n      return {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0,\n        width: 0,\n        height: 0\n      };\n    }\n    return {\n      left: round(rect.left),\n      top: round(rect.top),\n      bottom: round(rect.bottom),\n      right: round(rect.right),\n      width: round(rect.width),\n      height: round(rect.height)\n    };\n  };\n  var collapse = function (rect, toStart) {\n    rect = clone$2(rect);\n    if (toStart) {\n      rect.right = rect.left;\n    } else {\n      rect.left = rect.left + rect.width;\n      rect.right = rect.left;\n    }\n    rect.width = 0;\n    return rect;\n  };\n  var isEqual = function (rect1, rect2) {\n    return rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n  };\n  var isValidOverflow = function (overflowY, rect1, rect2) {\n    return overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n  };\n  var isAbove = function (rect1, rect2) {\n    if (rect1.bottom - rect1.height / 2 < rect2.top) {\n      return true;\n    }\n    if (rect1.top > rect2.bottom) {\n      return false;\n    }\n    return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n  };\n  var isBelow = function (rect1, rect2) {\n    if (rect1.top > rect2.bottom) {\n      return true;\n    }\n    if (rect1.bottom < rect2.top) {\n      return false;\n    }\n    return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n  };\n  var containsXY = function (rect, clientX, clientY) {\n    return clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n  };\n  var overflowX = function (outer, inner) {\n    if (inner.left > outer.left && inner.right < outer.right) {\n      return 0;\n    } else {\n      return inner.left < outer.left ? inner.left - outer.left : inner.right - outer.right;\n    }\n  };\n  var overflowY = function (outer, inner) {\n    if (inner.top > outer.top && inner.bottom < outer.bottom) {\n      return 0;\n    } else {\n      return inner.top < outer.top ? inner.top - outer.top : inner.bottom - outer.bottom;\n    }\n  };\n  var getOverflow = function (outer, inner) {\n    return {\n      x: overflowX(outer, inner),\n      y: overflowY(outer, inner)\n    };\n  };\n\n  var getSelectedNode = function (range) {\n    var startContainer = range.startContainer, startOffset = range.startOffset;\n    if (startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n      return startContainer.childNodes[startOffset];\n    }\n    return null;\n  };\n  var getNode = function (container, offset) {\n    if (container.nodeType === 1 && container.hasChildNodes()) {\n      if (offset >= container.childNodes.length) {\n        offset = container.childNodes.length - 1;\n      }\n      container = container.childNodes[offset];\n    }\n    return container;\n  };\n\n  var extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08E3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\uA69E-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\uFE2F\\uff9e-\\uff9f]');\n  var isExtendingChar = function (ch) {\n    return typeof ch === 'string' && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n  };\n\n  var liftN = function (arr, f) {\n    var r = [];\n    for (var i = 0; i < arr.length; i++) {\n      var x = arr[i];\n      if (x.isSome()) {\n        r.push(x.getOrDie());\n      } else {\n        return Option.none();\n      }\n    }\n    return Option.some(f.apply(null, r));\n  };\n\n  var isElement$3 = $_fy28ei1rjnlpax2o.isElement;\n  var isCaretCandidate$1 = isCaretCandidate;\n  var isBlock$1 = $_fy28ei1rjnlpax2o.matchStyleValues('display', 'block table');\n  var isFloated = $_fy28ei1rjnlpax2o.matchStyleValues('float', 'left right');\n  var isValidElementCaretCandidate = $_dv6bef2njnlpax9l.and(isElement$3, isCaretCandidate$1, $_dv6bef2njnlpax9l.negate(isFloated));\n  var isNotPre = $_dv6bef2njnlpax9l.negate($_fy28ei1rjnlpax2o.matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n  var isText$4 = $_fy28ei1rjnlpax2o.isText;\n  var isBr$3 = $_fy28ei1rjnlpax2o.isBr;\n  var nodeIndex = DOMUtils$1.nodeIndex;\n  var resolveIndex = getNode;\n  var createRange = function (doc) {\n    return 'createRange' in doc ? doc.createRange() : DOMUtils$1.DOM.createRng();\n  };\n  var isWhiteSpace = function (chr) {\n    return chr && /[\\r\\n\\t ]/.test(chr);\n  };\n  var isRange = function (rng) {\n    return !!rng.setStart && !!rng.setEnd;\n  };\n  var isHiddenWhiteSpaceRange = function (range$$1) {\n    var container = range$$1.startContainer;\n    var offset = range$$1.startOffset;\n    var text;\n    if (isWhiteSpace(range$$1.toString()) && isNotPre(container.parentNode) && $_fy28ei1rjnlpax2o.isText(container)) {\n      text = container.data;\n      if (isWhiteSpace(text[offset - 1]) || isWhiteSpace(text[offset + 1])) {\n        return true;\n      }\n    }\n    return false;\n  };\n  var getBrClientRect = function (brNode) {\n    var doc = brNode.ownerDocument;\n    var rng = createRange(doc);\n    var nbsp = doc.createTextNode('\\xA0');\n    var parentNode = brNode.parentNode;\n    var clientRect;\n    parentNode.insertBefore(nbsp, brNode);\n    rng.setStart(nbsp, 0);\n    rng.setEnd(nbsp, 1);\n    clientRect = clone$2(rng.getBoundingClientRect());\n    parentNode.removeChild(nbsp);\n    return clientRect;\n  };\n  var getBoundingClientRectWebKitText = function (rng) {\n    var sc = rng.startContainer;\n    var ec = rng.endContainer;\n    var so = rng.startOffset;\n    var eo = rng.endOffset;\n    if (sc === ec && $_fy28ei1rjnlpax2o.isText(ec) && so === 0 && eo === 1) {\n      var newRng = rng.cloneRange();\n      newRng.setEndAfter(ec);\n      return getBoundingClientRect(newRng);\n    } else {\n      return null;\n    }\n  };\n  var isZeroRect = function (r) {\n    return r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n  };\n  var getBoundingClientRect = function (item) {\n    var clientRect, clientRects;\n    clientRects = item.getClientRects();\n    if (clientRects.length > 0) {\n      clientRect = clone$2(clientRects[0]);\n    } else {\n      clientRect = clone$2(item.getBoundingClientRect());\n    }\n    if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n      return getBrClientRect(item);\n    }\n    if (isZeroRect(clientRect) && isRange(item)) {\n      return getBoundingClientRectWebKitText(item);\n    }\n    return clientRect;\n  };\n  var collapseAndInflateWidth = function (clientRect, toStart) {\n    var newClientRect = collapse(clientRect, toStart);\n    newClientRect.width = 1;\n    newClientRect.right = newClientRect.left + 1;\n    return newClientRect;\n  };\n  var getCaretPositionClientRects = function (caretPosition) {\n    var clientRects = [];\n    var beforeNode, node;\n    var addUniqueAndValidRect = function (clientRect) {\n      if (clientRect.height === 0) {\n        return;\n      }\n      if (clientRects.length > 0) {\n        if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n          return;\n        }\n      }\n      clientRects.push(clientRect);\n    };\n    var addCharacterOffset = function (container, offset) {\n      var range$$1 = createRange(container.ownerDocument);\n      if (offset < container.data.length) {\n        if (isExtendingChar(container.data[offset])) {\n          return clientRects;\n        }\n        if (isExtendingChar(container.data[offset - 1])) {\n          range$$1.setStart(container, offset);\n          range$$1.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range$$1)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1), false));\n            return clientRects;\n          }\n        }\n      }\n      if (offset > 0) {\n        range$$1.setStart(container, offset - 1);\n        range$$1.setEnd(container, offset);\n        if (!isHiddenWhiteSpaceRange(range$$1)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1), false));\n        }\n      }\n      if (offset < container.data.length) {\n        range$$1.setStart(container, offset);\n        range$$1.setEnd(container, offset + 1);\n        if (!isHiddenWhiteSpaceRange(range$$1)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(range$$1), true));\n        }\n      }\n    };\n    if (isText$4(caretPosition.container())) {\n      addCharacterOffset(caretPosition.container(), caretPosition.offset());\n      return clientRects;\n    }\n    if (isElement$3(caretPosition.container())) {\n      if (caretPosition.isAtEnd()) {\n        node = resolveIndex(caretPosition.container(), caretPosition.offset());\n        if (isText$4(node)) {\n          addCharacterOffset(node, node.data.length);\n        }\n        if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n        }\n      } else {\n        node = resolveIndex(caretPosition.container(), caretPosition.offset());\n        if (isText$4(node)) {\n          addCharacterOffset(node, 0);\n        }\n        if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), false));\n          return clientRects;\n        }\n        beforeNode = resolveIndex(caretPosition.container(), caretPosition.offset() - 1);\n        if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n          if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(beforeNode), false));\n          }\n        }\n        if (isValidElementCaretCandidate(node)) {\n          addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect(node), true));\n        }\n      }\n    }\n    return clientRects;\n  };\n  function CaretPosition(container, offset, clientRects) {\n    var isAtStart = function () {\n      if (isText$4(container)) {\n        return offset === 0;\n      }\n      return offset === 0;\n    };\n    var isAtEnd = function () {\n      if (isText$4(container)) {\n        return offset >= container.data.length;\n      }\n      return offset >= container.childNodes.length;\n    };\n    var toRange = function () {\n      var range$$1;\n      range$$1 = createRange(container.ownerDocument);\n      range$$1.setStart(container, offset);\n      range$$1.setEnd(container, offset);\n      return range$$1;\n    };\n    var getClientRects = function () {\n      if (!clientRects) {\n        clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n      }\n      return clientRects;\n    };\n    var isVisible = function () {\n      return getClientRects().length > 0;\n    };\n    var isEqual$$1 = function (caretPosition) {\n      return caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n    };\n    var getNode$$1 = function (before) {\n      return resolveIndex(container, before ? offset - 1 : offset);\n    };\n    return {\n      container: $_dv6bef2njnlpax9l.constant(container),\n      offset: $_dv6bef2njnlpax9l.constant(offset),\n      toRange: toRange,\n      getClientRects: getClientRects,\n      isVisible: isVisible,\n      isAtStart: isAtStart,\n      isAtEnd: isAtEnd,\n      isEqual: isEqual$$1,\n      getNode: getNode$$1\n    };\n  }\n  (function (CaretPosition) {\n    CaretPosition.fromRangeStart = function (range$$1) {\n      return CaretPosition(range$$1.startContainer, range$$1.startOffset);\n    };\n    CaretPosition.fromRangeEnd = function (range$$1) {\n      return CaretPosition(range$$1.endContainer, range$$1.endOffset);\n    };\n    CaretPosition.after = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex(node) + 1);\n    };\n    CaretPosition.before = function (node) {\n      return CaretPosition(node.parentNode, nodeIndex(node));\n    };\n    CaretPosition.isAbove = function (pos1, pos2) {\n      return liftN([\n        head(pos2.getClientRects()),\n        last(pos1.getClientRects())\n      ], isAbove).getOr(false);\n    };\n    CaretPosition.isBelow = function (pos1, pos2) {\n      return liftN([\n        last(pos2.getClientRects()),\n        head(pos1.getClientRects())\n      ], isBelow).getOr(false);\n    };\n    CaretPosition.isAtStart = function (pos) {\n      return pos ? pos.isAtStart() : false;\n    };\n    CaretPosition.isAtEnd = function (pos) {\n      return pos ? pos.isAtEnd() : false;\n    };\n    CaretPosition.isTextPosition = function (pos) {\n      return pos ? $_fy28ei1rjnlpax2o.isText(pos.container()) : false;\n    };\n    CaretPosition.isElementPosition = function (pos) {\n      return CaretPosition.isTextPosition(pos) === false;\n    };\n  }(CaretPosition || (CaretPosition = {})));\n  var CaretPosition$1 = CaretPosition;\n\n  var isText$5 = $_fy28ei1rjnlpax2o.isText;\n  var isBogus$1 = $_fy28ei1rjnlpax2o.isBogus;\n  var nodeIndex$1 = DOMUtils$1.nodeIndex;\n  var normalizedParent = function (node) {\n    var parentNode = node.parentNode;\n    if (isBogus$1(parentNode)) {\n      return normalizedParent(parentNode);\n    }\n    return parentNode;\n  };\n  var getChildNodes = function (node) {\n    if (!node) {\n      return [];\n    }\n    return $_n452lmjnlpawsj.reduce(node.childNodes, function (result, node) {\n      if (isBogus$1(node) && node.nodeName !== 'BR') {\n        result = result.concat(getChildNodes(node));\n      } else {\n        result.push(node);\n      }\n      return result;\n    }, []);\n  };\n  var normalizedTextOffset = function (node, offset) {\n    while (node = node.previousSibling) {\n      if (!isText$5(node)) {\n        break;\n      }\n      offset += node.data.length;\n    }\n    return offset;\n  };\n  var equal$1 = function (a) {\n    return function (b) {\n      return a === b;\n    };\n  };\n  var normalizedNodeIndex = function (node) {\n    var nodes, index, numTextFragments;\n    nodes = getChildNodes(normalizedParent(node));\n    index = $_n452lmjnlpawsj.findIndex(nodes, equal$1(node), node);\n    nodes = nodes.slice(0, index + 1);\n    numTextFragments = $_n452lmjnlpawsj.reduce(nodes, function (result, node, i) {\n      if (isText$5(node) && isText$5(nodes[i - 1])) {\n        result++;\n      }\n      return result;\n    }, 0);\n    nodes = $_n452lmjnlpawsj.filter(nodes, $_fy28ei1rjnlpax2o.matchNodeNames(node.nodeName));\n    index = $_n452lmjnlpawsj.findIndex(nodes, equal$1(node), node);\n    return index - numTextFragments;\n  };\n  var createPathItem = function (node) {\n    var name;\n    if (isText$5(node)) {\n      name = 'text()';\n    } else {\n      name = node.nodeName.toLowerCase();\n    }\n    return name + '[' + normalizedNodeIndex(node) + ']';\n  };\n  var parentsUntil = function (root, node, predicate) {\n    var parents = [];\n    for (node = node.parentNode; node !== root; node = node.parentNode) {\n      if (predicate && predicate(node)) {\n        break;\n      }\n      parents.push(node);\n    }\n    return parents;\n  };\n  var create$2 = function (root, caretPosition) {\n    var container, offset, path = [], outputOffset, childNodes, parents;\n    container = caretPosition.container();\n    offset = caretPosition.offset();\n    if (isText$5(container)) {\n      outputOffset = normalizedTextOffset(container, offset);\n    } else {\n      childNodes = container.childNodes;\n      if (offset >= childNodes.length) {\n        outputOffset = 'after';\n        offset = childNodes.length - 1;\n      } else {\n        outputOffset = 'before';\n      }\n      container = childNodes[offset];\n    }\n    path.push(createPathItem(container));\n    parents = parentsUntil(root, container);\n    parents = $_n452lmjnlpawsj.filter(parents, $_dv6bef2njnlpax9l.negate($_fy28ei1rjnlpax2o.isBogus));\n    path = path.concat($_n452lmjnlpawsj.map(parents, function (node) {\n      return createPathItem(node);\n    }));\n    return path.reverse().join('/') + ',' + outputOffset;\n  };\n  var resolvePathItem = function (node, name, index) {\n    var nodes = getChildNodes(node);\n    nodes = $_n452lmjnlpawsj.filter(nodes, function (node, index) {\n      return !isText$5(node) || !isText$5(nodes[index - 1]);\n    });\n    nodes = $_n452lmjnlpawsj.filter(nodes, $_fy28ei1rjnlpax2o.matchNodeNames(name));\n    return nodes[index];\n  };\n  var findTextPosition = function (container, offset) {\n    var node = container, targetOffset = 0, dataLen;\n    while (isText$5(node)) {\n      dataLen = node.data.length;\n      if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n        container = node;\n        offset = offset - targetOffset;\n        break;\n      }\n      if (!isText$5(node.nextSibling)) {\n        container = node;\n        offset = dataLen;\n        break;\n      }\n      targetOffset += dataLen;\n      node = node.nextSibling;\n    }\n    if (isText$5(container) && offset > container.data.length) {\n      offset = container.data.length;\n    }\n    return CaretPosition$1(container, offset);\n  };\n  var resolve$2 = function (root, path) {\n    var parts, container, offset;\n    if (!path) {\n      return null;\n    }\n    parts = path.split(',');\n    path = parts[0].split('/');\n    offset = parts.length > 1 ? parts[1] : 'before';\n    container = $_n452lmjnlpawsj.reduce(path, function (result, value) {\n      value = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n      if (!value) {\n        return null;\n      }\n      if (value[1] === 'text()') {\n        value[1] = '#text';\n      }\n      return resolvePathItem(result, value[1], parseInt(value[2], 10));\n    }, root);\n    if (!container) {\n      return null;\n    }\n    if (!isText$5(container)) {\n      if (offset === 'after') {\n        offset = nodeIndex$1(container) + 1;\n      } else {\n        offset = nodeIndex$1(container);\n      }\n      return CaretPosition$1(container.parentNode, offset);\n    }\n    return findTextPosition(container, parseInt(offset, 10));\n  };\n\n  var isContentEditableFalse$2 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var getNormalizedTextOffset = function (trim, container, offset) {\n    var node, trimmedOffset;\n    trimmedOffset = trim(container.data.slice(0, offset)).length;\n    for (node = container.previousSibling; node && $_fy28ei1rjnlpax2o.isText(node); node = node.previousSibling) {\n      trimmedOffset += trim(node.data).length;\n    }\n    return trimmedOffset;\n  };\n  var getPoint = function (dom, trim, normalized, rng, start) {\n    var container = rng[start ? 'startContainer' : 'endContainer'];\n    var offset = rng[start ? 'startOffset' : 'endOffset'];\n    var point = [];\n    var childNodes, after = 0;\n    var root = dom.getRoot();\n    if ($_fy28ei1rjnlpax2o.isText(container)) {\n      point.push(normalized ? getNormalizedTextOffset(trim, container, offset) : offset);\n    } else {\n      childNodes = container.childNodes;\n      if (offset >= childNodes.length && childNodes.length) {\n        after = 1;\n        offset = Math.max(0, childNodes.length - 1);\n      }\n      point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n    }\n    for (; container && container !== root; container = container.parentNode) {\n      point.push(dom.nodeIndex(container, normalized));\n    }\n    return point;\n  };\n  var getLocation = function (trim, selection, normalized, rng) {\n    var dom = selection.dom, bookmark = {};\n    bookmark.start = getPoint(dom, trim, normalized, rng, true);\n    if (!selection.isCollapsed()) {\n      bookmark.end = getPoint(dom, trim, normalized, rng, false);\n    }\n    return bookmark;\n  };\n  var trimEmptyTextNode = function (node) {\n    if ($_fy28ei1rjnlpax2o.isText(node) && node.data.length === 0) {\n      node.parentNode.removeChild(node);\n    }\n  };\n  var findIndex$3 = function (dom, name, element) {\n    var count = 0;\n    $_1q1txeljnlpawsa.each(dom.select(name), function (node) {\n      if (node.getAttribute('data-mce-bogus') === 'all') {\n        return;\n      }\n      if (node === element) {\n        return false;\n      }\n      count++;\n    });\n    return count;\n  };\n  var moveEndPoint = function (rng, start) {\n    var container, offset, childNodes;\n    var prefix = start ? 'start' : 'end';\n    container = rng[prefix + 'Container'];\n    offset = rng[prefix + 'Offset'];\n    if ($_fy28ei1rjnlpax2o.isElement(container) && container.nodeName === 'TR') {\n      childNodes = container.childNodes;\n      container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n      if (container) {\n        offset = start ? 0 : container.childNodes.length;\n        rng['set' + (start ? 'Start' : 'End')](container, offset);\n      }\n    }\n  };\n  var normalizeTableCellSelection = function (rng) {\n    moveEndPoint(rng, true);\n    moveEndPoint(rng, false);\n    return rng;\n  };\n  var findSibling = function (node, offset) {\n    var sibling;\n    if ($_fy28ei1rjnlpax2o.isElement(node)) {\n      node = getNode(node, offset);\n      if (isContentEditableFalse$2(node)) {\n        return node;\n      }\n    }\n    if (isCaretContainer(node)) {\n      if ($_fy28ei1rjnlpax2o.isText(node) && isCaretContainerBlock(node)) {\n        node = node.parentNode;\n      }\n      sibling = node.previousSibling;\n      if (isContentEditableFalse$2(sibling)) {\n        return sibling;\n      }\n      sibling = node.nextSibling;\n      if (isContentEditableFalse$2(sibling)) {\n        return sibling;\n      }\n    }\n  };\n  var findAdjacentContentEditableFalseElm = function (rng) {\n    return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n  };\n  var getOffsetBookmark = function (trim, normalized, selection) {\n    var element = selection.getNode();\n    var name = element ? element.nodeName : null;\n    var rng = selection.getRng();\n    if (isContentEditableFalse$2(element) || name === 'IMG') {\n      return {\n        name: name,\n        index: findIndex$3(selection.dom, name, element)\n      };\n    }\n    var sibling = findAdjacentContentEditableFalseElm(rng);\n    if (sibling) {\n      name = sibling.tagName;\n      return {\n        name: name,\n        index: findIndex$3(selection.dom, name, sibling)\n      };\n    }\n    return getLocation(trim, selection, normalized, rng);\n  };\n  var getCaretBookmark = function (selection) {\n    var rng = selection.getRng();\n    return {\n      start: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeStart(rng)),\n      end: create$2(selection.dom.getRoot(), CaretPosition$1.fromRangeEnd(rng))\n    };\n  };\n  var getRangeBookmark = function (selection) {\n    return { rng: selection.getRng() };\n  };\n  var createBookmarkSpan = function (dom, id, filled) {\n    var args = {\n      'data-mce-type': 'bookmark',\n      'id': id,\n      'style': 'overflow:hidden;line-height:0px'\n    };\n    return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n  };\n  var getPersistentBookmark = function (selection, filled) {\n    var dom = selection.dom;\n    var rng = selection.getRng();\n    var id = dom.uniqueId();\n    var collapsed = selection.isCollapsed();\n    var element = selection.getNode();\n    var name = element.nodeName;\n    if (name === 'IMG') {\n      return {\n        name: name,\n        index: findIndex$3(dom, name, element)\n      };\n    }\n    var rng2 = normalizeTableCellSelection(rng.cloneRange());\n    if (!collapsed) {\n      rng2.collapse(false);\n      var endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n      rng2.insertNode(endBookmarkNode);\n      trimEmptyTextNode(endBookmarkNode.nextSibling);\n    }\n    rng = normalizeTableCellSelection(rng);\n    rng.collapse(true);\n    var startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n    rng.insertNode(startBookmarkNode);\n    trimEmptyTextNode(startBookmarkNode.previousSibling);\n    trimEmptyTextNode(startBookmarkNode.nextSibling);\n    selection.moveToBookmark({\n      id: id,\n      keep: 1\n    });\n    return { id: id };\n  };\n  var getBookmark = function (selection, type, normalized) {\n    if (type === 2) {\n      return getOffsetBookmark($_90hfb72rjnlpaxae.trim, normalized, selection);\n    } else if (type === 3) {\n      return getCaretBookmark(selection);\n    } else if (type) {\n      return getRangeBookmark(selection);\n    } else {\n      return getPersistentBookmark(selection, false);\n    }\n  };\n  var $_5l0mu32ljnlpax8x = {\n    getBookmark: getBookmark,\n    getUndoBookmark: curry(getOffsetBookmark, identity, true),\n    getPersistentBookmark: getPersistentBookmark\n  };\n\n  var CARET_ID = '_mce_caret';\n  var isCaretNode = function (node) {\n    return $_fy28ei1rjnlpax2o.isElement(node) && node.id === CARET_ID;\n  };\n  var getParentCaretContainer = function (body, node) {\n    while (node && node !== body) {\n      if (node.id === CARET_ID) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n\n  var isElement$4 = $_fy28ei1rjnlpax2o.isElement;\n  var isText$6 = $_fy28ei1rjnlpax2o.isText;\n  var removeNode = function (node) {\n    var parentNode = node.parentNode;\n    if (parentNode) {\n      parentNode.removeChild(node);\n    }\n  };\n  var getNodeValue = function (node) {\n    try {\n      return node.nodeValue;\n    } catch (ex) {\n      return '';\n    }\n  };\n  var setNodeValue = function (node, text) {\n    if (text.length === 0) {\n      removeNode(node);\n    } else {\n      node.nodeValue = text;\n    }\n  };\n  var trimCount = function (text) {\n    var trimmedText = $_90hfb72rjnlpaxae.trim(text);\n    return {\n      count: text.length - trimmedText.length,\n      text: trimmedText\n    };\n  };\n  var removeUnchanged = function (caretContainer, pos) {\n    remove$7(caretContainer);\n    return pos;\n  };\n  var removeTextAndReposition = function (caretContainer, pos) {\n    var before = trimCount(caretContainer.data.substr(0, pos.offset()));\n    var after = trimCount(caretContainer.data.substr(pos.offset()));\n    var text = before.text + after.text;\n    if (text.length > 0) {\n      setNodeValue(caretContainer, text);\n      return CaretPosition$1(caretContainer, pos.offset() - before.count);\n    } else {\n      return pos;\n    }\n  };\n  var removeElementAndReposition = function (caretContainer, pos) {\n    var parentNode = pos.container();\n    var newPosition = indexOf(from$1(parentNode.childNodes), caretContainer).map(function (index) {\n      return index < pos.offset() ? CaretPosition$1(parentNode, pos.offset() - 1) : pos;\n    }).getOr(pos);\n    remove$7(caretContainer);\n    return newPosition;\n  };\n  var removeTextCaretContainer = function (caretContainer, pos) {\n    return isText$6(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n  };\n  var removeElementCaretContainer = function (caretContainer, pos) {\n    return pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n  };\n  var removeAndReposition = function (container, pos) {\n    return CaretPosition$1.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n  };\n  var remove$7 = function (caretContainerNode) {\n    if (isElement$4(caretContainerNode) && isCaretContainer(caretContainerNode)) {\n      if (hasContent(caretContainerNode)) {\n        caretContainerNode.removeAttribute('data-mce-caret');\n      } else {\n        removeNode(caretContainerNode);\n      }\n    }\n    if (isText$6(caretContainerNode)) {\n      var text = $_90hfb72rjnlpaxae.trim(getNodeValue(caretContainerNode));\n      setNodeValue(caretContainerNode, text);\n    }\n  };\n  var $_ctzulb33jnlpaxck = {\n    removeAndReposition: removeAndReposition,\n    remove: remove$7\n  };\n\n  var isContentEditableTrue$2 = $_fy28ei1rjnlpax2o.isContentEditableTrue;\n  var isContentEditableFalse$3 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var showCaret = function (direction, editor, node, before, scrollIntoView) {\n    return editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView);\n  };\n  var getNodeRange = function (node) {\n    var rng = node.ownerDocument.createRange();\n    rng.selectNode(node);\n    return rng;\n  };\n  var selectNode = function (editor, node) {\n    var e = editor.fire('BeforeObjectSelected', { target: node });\n    if (e.isDefaultPrevented()) {\n      return null;\n    }\n    return getNodeRange(node);\n  };\n  var renderCaretAtRange = function (editor, range, scrollIntoView) {\n    var normalizedRange = normalizeRange(1, editor.getBody(), range);\n    var caretPosition = CaretPosition$1.fromRangeStart(normalizedRange);\n    var caretPositionNode = caretPosition.getNode();\n    if (isContentEditableFalse$3(caretPositionNode)) {\n      return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n    }\n    var caretPositionBeforeNode = caretPosition.getNode(true);\n    if (isContentEditableFalse$3(caretPositionBeforeNode)) {\n      return showCaret(1, editor, caretPositionBeforeNode, false, false);\n    }\n    var ceRoot = editor.dom.getParent(caretPosition.getNode(), function (node) {\n      return isContentEditableFalse$3(node) || isContentEditableTrue$2(node);\n    });\n    if (isContentEditableFalse$3(ceRoot)) {\n      return showCaret(1, editor, ceRoot, false, scrollIntoView);\n    }\n    return null;\n  };\n  var renderRangeCaret = function (editor, range, scrollIntoView) {\n    if (!range || !range.collapsed) {\n      return range;\n    }\n    var caretRange = renderCaretAtRange(editor, range, scrollIntoView);\n    if (caretRange) {\n      return caretRange;\n    }\n    return range;\n  };\n\n  var HDirection;\n  (function (HDirection) {\n    HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n    HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n  }(HDirection || (HDirection = {})));\n  var isContentEditableFalse$4 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var isText$7 = $_fy28ei1rjnlpax2o.isText;\n  var isElement$5 = $_fy28ei1rjnlpax2o.isElement;\n  var isBr$4 = $_fy28ei1rjnlpax2o.isBr;\n  var isCaretCandidate$2 = isCaretCandidate;\n  var isAtomic$1 = isAtomic;\n  var isEditableCaretCandidate$1 = isEditableCaretCandidate;\n  var getParents = function (node, root) {\n    var parents = [];\n    while (node && node !== root) {\n      parents.push(node);\n      node = node.parentNode;\n    }\n    return parents;\n  };\n  var nodeAtIndex = function (container, offset) {\n    if (container.hasChildNodes() && offset < container.childNodes.length) {\n      return container.childNodes[offset];\n    }\n    return null;\n  };\n  var getCaretCandidatePosition = function (direction, node) {\n    if (isForwards(direction)) {\n      if (isCaretCandidate$2(node.previousSibling) && !isText$7(node.previousSibling)) {\n        return CaretPosition$1.before(node);\n      }\n      if (isText$7(node)) {\n        return CaretPosition$1(node, 0);\n      }\n    }\n    if (isBackwards(direction)) {\n      if (isCaretCandidate$2(node.nextSibling) && !isText$7(node.nextSibling)) {\n        return CaretPosition$1.after(node);\n      }\n      if (isText$7(node)) {\n        return CaretPosition$1(node, node.data.length);\n      }\n    }\n    if (isBackwards(direction)) {\n      if (isBr$4(node)) {\n        return CaretPosition$1.before(node);\n      }\n      return CaretPosition$1.after(node);\n    }\n    return CaretPosition$1.before(node);\n  };\n  var isBrBeforeBlock = function (node, root) {\n    var next;\n    if (!$_fy28ei1rjnlpax2o.isBr(node)) {\n      return false;\n    }\n    if (isAtomic(node.nextSibling)) {\n      return false;\n    }\n    next = findCaretPosition(HDirection.Forwards, CaretPosition$1.after(node), root);\n    if (!next) {\n      return false;\n    }\n    return !isInSameBlock(CaretPosition$1.before(node), CaretPosition$1.before(next), root);\n  };\n  var findCaretPosition = function (direction, startPos, root) {\n    var node, nextNode, innerNode;\n    var rootContentEditableFalseElm, caretPosition;\n    if (!isElement$5(root) || !startPos) {\n      return null;\n    }\n    if (startPos.isEqual(CaretPosition$1.after(root)) && root.lastChild) {\n      caretPosition = CaretPosition$1.after(root.lastChild);\n      if (isBackwards(direction) && isCaretCandidate$2(root.lastChild) && isElement$5(root.lastChild)) {\n        return isBr$4(root.lastChild) ? CaretPosition$1.before(root.lastChild) : caretPosition;\n      }\n    } else {\n      caretPosition = startPos;\n    }\n    var container = caretPosition.container();\n    var offset = caretPosition.offset();\n    if (isText$7(container)) {\n      if (isBackwards(direction) && offset > 0) {\n        return CaretPosition$1(container, --offset);\n      }\n      if (isForwards(direction) && offset < container.length) {\n        return CaretPosition$1(container, ++offset);\n      }\n      node = container;\n    } else {\n      if (isBackwards(direction) && offset > 0) {\n        nextNode = nodeAtIndex(container, offset - 1);\n        if (isCaretCandidate$2(nextNode)) {\n          if (!isAtomic$1(nextNode)) {\n            innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n            if (innerNode) {\n              if (isText$7(innerNode)) {\n                return CaretPosition$1(innerNode, innerNode.data.length);\n              }\n              return CaretPosition$1.after(innerNode);\n            }\n          }\n          if (isText$7(nextNode)) {\n            return CaretPosition$1(nextNode, nextNode.data.length);\n          }\n          return CaretPosition$1.before(nextNode);\n        }\n      }\n      if (isForwards(direction) && offset < container.childNodes.length) {\n        nextNode = nodeAtIndex(container, offset);\n        if (isCaretCandidate$2(nextNode)) {\n          if (isBr$4(nextNode) && root.lastChild === nextNode) {\n            return null;\n          }\n          if (isBrBeforeBlock(nextNode, root)) {\n            return findCaretPosition(direction, CaretPosition$1.after(nextNode), root);\n          }\n          if (!isAtomic$1(nextNode)) {\n            innerNode = findNode(nextNode, direction, isEditableCaretCandidate$1, nextNode);\n            if (innerNode) {\n              if (isText$7(innerNode)) {\n                return CaretPosition$1(innerNode, 0);\n              }\n              return CaretPosition$1.before(innerNode);\n            }\n          }\n          if (isText$7(nextNode)) {\n            return CaretPosition$1(nextNode, 0);\n          }\n          return CaretPosition$1.after(nextNode);\n        }\n      }\n      node = nextNode ? nextNode : caretPosition.getNode();\n    }\n    if (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart()) {\n      node = findNode(node, direction, $_dv6bef2njnlpax9l.constant(true), root, true);\n      if (isEditableCaretCandidate$1(node, root)) {\n        return getCaretCandidatePosition(direction, node);\n      }\n    }\n    nextNode = findNode(node, direction, isEditableCaretCandidate$1, root);\n    rootContentEditableFalseElm = $_n452lmjnlpawsj.last($_n452lmjnlpawsj.filter(getParents(container, root), isContentEditableFalse$4));\n    if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n      if (isForwards(direction)) {\n        caretPosition = CaretPosition$1.after(rootContentEditableFalseElm);\n      } else {\n        caretPosition = CaretPosition$1.before(rootContentEditableFalseElm);\n      }\n      return caretPosition;\n    }\n    if (nextNode) {\n      return getCaretCandidatePosition(direction, nextNode);\n    }\n    return null;\n  };\n  var CaretWalker = function (root) {\n    return {\n      next: function (caretPosition) {\n        return findCaretPosition(HDirection.Forwards, caretPosition, root);\n      },\n      prev: function (caretPosition) {\n        return findCaretPosition(HDirection.Backwards, caretPosition, root);\n      }\n    };\n  };\n\n  var BreakType;\n  (function (BreakType) {\n    BreakType[BreakType['Br'] = 0] = 'Br';\n    BreakType[BreakType['Block'] = 1] = 'Block';\n    BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n    BreakType[BreakType['Eol'] = 3] = 'Eol';\n  }(BreakType || (BreakType = {})));\n  var flip = function (direction, positions) {\n    return direction === HDirection.Backwards ? positions.reverse() : positions;\n  };\n  var walk$1 = function (direction, caretWalker, pos) {\n    return direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n  };\n  var getBreakType = function (scope, direction, currentPos, nextPos) {\n    if ($_fy28ei1rjnlpax2o.isBr(nextPos.getNode(direction === HDirection.Forwards))) {\n      return BreakType.Br;\n    } else if (isInSameBlock(currentPos, nextPos) === false) {\n      return BreakType.Block;\n    } else {\n      return BreakType.Wrap;\n    }\n  };\n  var getPositionsUntil = function (predicate, direction, scope, start) {\n    var caretWalker = CaretWalker(scope);\n    var currentPos = start, nextPos;\n    var positions = [];\n    while (currentPos) {\n      nextPos = walk$1(direction, caretWalker, currentPos);\n      if (!nextPos) {\n        break;\n      }\n      if ($_fy28ei1rjnlpax2o.isBr(nextPos.getNode(false))) {\n        if (direction === HDirection.Forwards) {\n          return {\n            positions: flip(direction, positions).concat([nextPos]),\n            breakType: BreakType.Br,\n            breakAt: Option.some(nextPos)\n          };\n        } else {\n          return {\n            positions: flip(direction, positions),\n            breakType: BreakType.Br,\n            breakAt: Option.some(nextPos)\n          };\n        }\n      }\n      if (!nextPos.isVisible()) {\n        currentPos = nextPos;\n        continue;\n      }\n      if (predicate(currentPos, nextPos)) {\n        var breakType = getBreakType(scope, direction, currentPos, nextPos);\n        return {\n          positions: flip(direction, positions),\n          breakType: breakType,\n          breakAt: Option.some(nextPos)\n        };\n      }\n      positions.push(nextPos);\n      currentPos = nextPos;\n    }\n    return {\n      positions: flip(direction, positions),\n      breakType: BreakType.Eol,\n      breakAt: Option.none()\n    };\n  };\n  var getAdjacentLinePositions = function (direction, getPositionsUntilBreak, scope, start) {\n    return getPositionsUntilBreak(scope, start).breakAt.map(function (pos) {\n      var positions = getPositionsUntilBreak(scope, pos).positions;\n      return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n    }).getOr([]);\n  };\n  var findClosestHorizontalPositionFromPoint = function (positions, x) {\n    return foldl(positions, function (acc, newPos) {\n      return acc.fold(function () {\n        return Option.some(newPos);\n      }, function (lastPos) {\n        return liftN([\n          head(lastPos.getClientRects()),\n          head(newPos.getClientRects())\n        ], function (lastRect, newRect) {\n          var lastDist = Math.abs(x - lastRect.left);\n          var newDist = Math.abs(x - newRect.left);\n          return newDist <= lastDist ? newPos : lastPos;\n        }).or(acc);\n      });\n    }, Option.none());\n  };\n  var findClosestHorizontalPosition = function (positions, pos) {\n    return head(pos.getClientRects()).bind(function (targetRect) {\n      return findClosestHorizontalPositionFromPoint(positions, targetRect.left);\n    });\n  };\n  var getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n  var getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n  var getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n  var getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n  var getFirstLinePositions = function (scope) {\n    return $_32xcvk30jnlpaxbn.firstPositionIn(scope).map(function (pos) {\n      return [pos].concat(getPositionsUntilNextLine(scope, pos).positions);\n    }).getOr([]);\n  };\n  var getLastLinePositions = function (scope) {\n    return $_32xcvk30jnlpaxbn.lastPositionIn(scope).map(function (pos) {\n      return getPositionsUntilPreviousLine(scope, pos).positions.concat(pos);\n    }).getOr([]);\n  };\n\n  var deflate = function (rect, delta) {\n    return {\n      left: rect.left - delta,\n      top: rect.top - delta,\n      right: rect.right + delta * 2,\n      bottom: rect.bottom + delta * 2,\n      width: rect.width + delta,\n      height: rect.height + delta\n    };\n  };\n  var getCorners = function (getYAxisValue, tds) {\n    return bind(tds, function (td) {\n      var rect = deflate(clone$2(td.getBoundingClientRect()), -1);\n      return [\n        {\n          x: rect.left,\n          y: getYAxisValue(rect),\n          cell: td\n        },\n        {\n          x: rect.right,\n          y: getYAxisValue(rect),\n          cell: td\n        }\n      ];\n    });\n  };\n  var findClosestCorner = function (corners, x, y) {\n    return foldl(corners, function (acc, newCorner) {\n      return acc.fold(function () {\n        return Option.some(newCorner);\n      }, function (oldCorner) {\n        var oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n        var newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n        return Option.some(newDist < oldDist ? newCorner : oldCorner);\n      });\n    }, Option.none());\n  };\n  var getClosestCell = function (getYAxisValue, isTargetCorner, table, x, y) {\n    var cells = $_cmitir27jnlpax6e.descendants(Element$$1.fromDom(table), 'td,th,caption').map(function (e) {\n      return e.dom();\n    });\n    var corners = filter(getCorners(getYAxisValue, cells), function (corner) {\n      return isTargetCorner(corner, y);\n    });\n    return findClosestCorner(corners, x, y).map(function (corner) {\n      return corner.cell;\n    });\n  };\n  var getBottomValue = function (rect) {\n    return rect.bottom;\n  };\n  var getTopValue = function (rect) {\n    return rect.top;\n  };\n  var isAbove$1 = function (corner, y) {\n    return corner.y < y;\n  };\n  var isBelow$1 = function (corner, y) {\n    return corner.y > y;\n  };\n  var getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove$1);\n  var getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow$1);\n  var findClosestPositionInAboveCell = function (table, pos) {\n    return head(pos.getClientRects()).bind(function (rect) {\n      return getClosestCellAbove(table, rect.left, rect.top);\n    }).bind(function (cell) {\n      return findClosestHorizontalPosition(getLastLinePositions(cell), pos);\n    });\n  };\n  var findClosestPositionInBelowCell = function (table, pos) {\n    return last(pos.getClientRects()).bind(function (rect) {\n      return getClosestCellBelow(table, rect.left, rect.top);\n    }).bind(function (cell) {\n      return findClosestHorizontalPosition(getFirstLinePositions(cell), pos);\n    });\n  };\n\n  var getPos$1 = function (elm) {\n    var x = 0, y = 0;\n    var offsetParent = elm;\n    while (offsetParent && offsetParent.nodeType) {\n      x += offsetParent.offsetLeft || 0;\n      y += offsetParent.offsetTop || 0;\n      offsetParent = offsetParent.offsetParent;\n    }\n    return {\n      x: x,\n      y: y\n    };\n  };\n  var fireScrollIntoViewEvent = function (editor, elm, alignToTop) {\n    var scrollEvent = {\n      elm: elm,\n      alignToTop: alignToTop\n    };\n    editor.fire('scrollIntoView', scrollEvent);\n    return scrollEvent.isDefaultPrevented();\n  };\n  var scrollElementIntoView = function (editor, elm, alignToTop) {\n    var y, viewPort;\n    var dom = editor.dom;\n    var root = dom.getRoot();\n    var viewPortY, viewPortH, offsetY = 0;\n    if (fireScrollIntoViewEvent(editor, elm, alignToTop)) {\n      return;\n    }\n    if (!$_fy28ei1rjnlpax2o.isElement(elm)) {\n      return;\n    }\n    if (alignToTop === false) {\n      offsetY = elm.offsetHeight;\n    }\n    if (root.nodeName !== 'BODY') {\n      var scrollContainer = editor.selection.getScrollContainer();\n      if (scrollContainer) {\n        y = getPos$1(elm).y - getPos$1(scrollContainer).y + offsetY;\n        viewPortH = scrollContainer.clientHeight;\n        viewPortY = scrollContainer.scrollTop;\n        if (y < viewPortY || y + 25 > viewPortY + viewPortH) {\n          scrollContainer.scrollTop = y < viewPortY ? y : y - viewPortH + 25;\n        }\n        return;\n      }\n    }\n    viewPort = dom.getViewPort(editor.getWin());\n    y = dom.getPos(elm).y + offsetY;\n    viewPortY = viewPort.y;\n    viewPortH = viewPort.h;\n    if (y < viewPort.y || y + 25 > viewPortY + viewPortH) {\n      editor.getWin().scrollTo(0, y < viewPortY ? y : y - viewPortH + 25);\n    }\n  };\n  var getViewPortRect = function (editor) {\n    if (editor.inline) {\n      return editor.getBody().getBoundingClientRect();\n    } else {\n      var win = editor.getWin();\n      return {\n        left: 0,\n        right: win.innerWidth,\n        top: 0,\n        bottom: win.innerHeight,\n        width: win.innerWidth,\n        height: win.innerHeight\n      };\n    }\n  };\n  var scrollBy = function (editor, dx, dy) {\n    if (editor.inline) {\n      editor.getBody().scrollLeft += dx;\n      editor.getBody().scrollTop += dy;\n    } else {\n      editor.getWin().scrollBy(dx, dy);\n    }\n  };\n  var scrollRangeIntoView = function (editor, rng) {\n    head(CaretPosition.fromRangeStart(rng).getClientRects()).each(function (rngRect) {\n      var bodyRect = getViewPortRect(editor);\n      var overflow = getOverflow(bodyRect, rngRect);\n      var margin = 4;\n      var dx = overflow.x > 0 ? overflow.x + margin : overflow.x - margin;\n      var dy = overflow.y > 0 ? overflow.y + margin : overflow.y - margin;\n      scrollBy(editor, overflow.x !== 0 ? dx : 0, overflow.y !== 0 ? dy : 0);\n    });\n  };\n  var $_av60ug39jnlpaxee = {\n    scrollElementIntoView: scrollElementIntoView,\n    scrollRangeIntoView: scrollRangeIntoView\n  };\n\n  var getBodySetting = function (editor, name, defaultValue) {\n    var value = editor.getParam(name, defaultValue);\n    if (value.indexOf('=') !== -1) {\n      var bodyObj = editor.getParam(name, '', 'hash');\n      return bodyObj.hasOwnProperty(editor.id) ? bodyObj[editor.id] : defaultValue;\n    } else {\n      return value;\n    }\n  };\n  var getIframeAttrs = function (editor) {\n    return editor.getParam('iframe_attrs', {});\n  };\n  var getDocType = function (editor) {\n    return editor.getParam('doctype', '<!DOCTYPE html>');\n  };\n  var getDocumentBaseUrl = function (editor) {\n    return editor.getParam('document_base_url', '');\n  };\n  var getBodyId = function (editor) {\n    return getBodySetting(editor, 'body_id', 'tinymce');\n  };\n  var getBodyClass = function (editor) {\n    return getBodySetting(editor, 'body_class', '');\n  };\n  var getContentSecurityPolicy = function (editor) {\n    return editor.getParam('content_security_policy', '');\n  };\n  var shouldPutBrInPre = function (editor) {\n    return editor.getParam('br_in_pre', true);\n  };\n  var getForcedRootBlock = function (editor) {\n    if (editor.getParam('force_p_newlines', false)) {\n      return 'p';\n    }\n    var block = editor.getParam('forced_root_block', 'p');\n    return block === false ? '' : block;\n  };\n  var getForcedRootBlockAttrs = function (editor) {\n    return editor.getParam('forced_root_block_attrs', {});\n  };\n  var getBrNewLineSelector = function (editor) {\n    return editor.getParam('br_newline_selector', '.mce-toc h2,figcaption,caption');\n  };\n  var getNoNewLineSelector = function (editor) {\n    return editor.getParam('no_newline_selector', '');\n  };\n  var shouldKeepStyles = function (editor) {\n    return editor.getParam('keep_styles', true);\n  };\n  var shouldEndContainerOnEmptyBlock = function (editor) {\n    return editor.getParam('end_container_on_empty_block', false);\n  };\n  var getFontStyleValues = function (editor) {\n    return $_1q1txeljnlpawsa.explode(editor.getParam('font_size_style_values', ''));\n  };\n  var getFontSizeClasses = function (editor) {\n    return $_1q1txeljnlpawsa.explode(editor.getParam('font_size_classes', ''));\n  };\n  var getImagesDataImgFilter = function (editor) {\n    return editor.getParam('images_dataimg_filter', constant(true), 'function');\n  };\n  var isAutomaticUploadsEnabled = function (editor) {\n    return editor.getParam('automatic_uploads', true, 'boolean');\n  };\n  var shouldReuseFileName = function (editor) {\n    return editor.getParam('images_reuse_filename', false, 'boolean');\n  };\n  var shouldReplaceBlobUris = function (editor) {\n    return editor.getParam('images_replace_blob_uris', true, 'boolean');\n  };\n  var getImageUploadUrl = function (editor) {\n    return editor.getParam('images_upload_url', '', 'string');\n  };\n  var getImageUploadBasePath = function (editor) {\n    return editor.getParam('images_upload_base_path', '', 'string');\n  };\n  var getImagesUploadCredentials = function (editor) {\n    return editor.getParam('images_upload_credentials', false, 'boolean');\n  };\n  var getImagesUploadHandler = function (editor) {\n    return editor.getParam('images_upload_handler', null, 'function');\n  };\n  var $_c6e09z3ajnlpaxek = {\n    getIframeAttrs: getIframeAttrs,\n    getDocType: getDocType,\n    getDocumentBaseUrl: getDocumentBaseUrl,\n    getBodyId: getBodyId,\n    getBodyClass: getBodyClass,\n    getContentSecurityPolicy: getContentSecurityPolicy,\n    shouldPutBrInPre: shouldPutBrInPre,\n    getForcedRootBlock: getForcedRootBlock,\n    getForcedRootBlockAttrs: getForcedRootBlockAttrs,\n    getBrNewLineSelector: getBrNewLineSelector,\n    getNoNewLineSelector: getNoNewLineSelector,\n    shouldKeepStyles: shouldKeepStyles,\n    shouldEndContainerOnEmptyBlock: shouldEndContainerOnEmptyBlock,\n    getFontStyleValues: getFontStyleValues,\n    getFontSizeClasses: getFontSizeClasses,\n    getImagesDataImgFilter: getImagesDataImgFilter,\n    isAutomaticUploadsEnabled: isAutomaticUploadsEnabled,\n    shouldReuseFileName: shouldReuseFileName,\n    shouldReplaceBlobUris: shouldReplaceBlobUris,\n    getImageUploadUrl: getImageUploadUrl,\n    getImageUploadBasePath: getImageUploadBasePath,\n    getImagesUploadCredentials: getImagesUploadCredentials,\n    getImagesUploadHandler: getImagesUploadHandler\n  };\n\n  var browser$2 = $_766rx4ojnlpawtd.detect().browser;\n  var isFakeCaretTableBrowser = function () {\n    return browser$2.isIE() || browser$2.isEdge() || browser$2.isFirefox();\n  };\n  var moveToRange = function (editor, rng) {\n    editor.selection.setRng(rng);\n    $_av60ug39jnlpaxee.scrollRangeIntoView(editor, rng);\n  };\n  var hasNextBreak = function (getPositionsUntil, scope, lineInfo) {\n    return lineInfo.breakAt.map(function (breakPos) {\n      return getPositionsUntil(scope, breakPos).breakAt.isSome();\n    }).getOr(false);\n  };\n  var startsWithWrapBreak = function (lineInfo) {\n    return lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n  };\n  var startsWithBrBreak = function (lineInfo) {\n    return lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n  };\n  var isAtTableCellLine = function (getPositionsUntil, scope, pos) {\n    var lineInfo = getPositionsUntil(scope, pos);\n    if (startsWithWrapBreak(lineInfo) || !$_fy28ei1rjnlpax2o.isBr(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n      return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n    } else {\n      return lineInfo.breakAt.isNone();\n    }\n  };\n  var isAtFirstTableCellLine = $_dv6bef2njnlpax9l.curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n  var isAtLastTableCellLine = $_dv6bef2njnlpax9l.curry(isAtTableCellLine, getPositionsUntilNextLine);\n  var isCaretAtStartOrEndOfTable = function (forward, rng, table) {\n    var caretPos = CaretPosition$1.fromRangeStart(rng);\n    return $_32xcvk30jnlpaxbn.positionIn(!forward, table).map(function (pos) {\n      return pos.isEqual(caretPos);\n    }).getOr(false);\n  };\n  var navigateHorizontally = function (editor, forward, table, td) {\n    var rng = editor.selection.getRng();\n    var direction = forward ? 1 : -1;\n    if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n      var newRng = showCaret(direction, editor, table, !forward, true);\n      moveToRange(editor, newRng);\n      return true;\n    }\n    return false;\n  };\n  var getClosestAbovePosition = function (root, table, start) {\n    return findClosestPositionInAboveCell(table, start).orThunk(function () {\n      return head(start.getClientRects()).bind(function (rect) {\n        return findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition$1.before(table)), rect.left);\n      });\n    }).getOr(CaretPosition$1.before(table));\n  };\n  var getClosestBelowPosition = function (root, table, start) {\n    return findClosestPositionInBelowCell(table, start).orThunk(function () {\n      return head(start.getClientRects()).bind(function (rect) {\n        return findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition$1.after(table)), rect.left);\n      });\n    }).getOr(CaretPosition$1.after(table));\n  };\n  var getTable = function (previous, pos) {\n    var node = pos.getNode(previous);\n    return $_fy28ei1rjnlpax2o.isElement(node) && node.nodeName === 'TABLE' ? Option.some(node) : Option.none();\n  };\n  var renderBlock = function (down, editor, table, pos) {\n    var forcedRootBlock = $_c6e09z3ajnlpaxek.getForcedRootBlock(editor);\n    if (forcedRootBlock) {\n      editor.undoManager.transact(function () {\n        var element = Element$$1.fromTag(forcedRootBlock);\n        $_521j8z15jnlpawz7.setAll(element, $_c6e09z3ajnlpaxek.getForcedRootBlockAttrs(editor));\n        $_ag89ax1yjnlpax4x.append(element, Element$$1.fromTag('br'));\n        if (down) {\n          $_ag89ax1yjnlpax4x.after(Element$$1.fromDom(table), element);\n        } else {\n          $_ag89ax1yjnlpax4x.before(Element$$1.fromDom(table), element);\n        }\n        var rng = editor.dom.createRng();\n        rng.setStart(element.dom(), 0);\n        rng.setEnd(element.dom(), 0);\n        moveToRange(editor, rng);\n      });\n    } else {\n      moveToRange(editor, pos.toRange());\n    }\n  };\n  var moveCaret = function (editor, down, pos) {\n    var table = down ? getTable(true, pos) : getTable(false, pos);\n    var last$$1 = down === false;\n    table.fold(function () {\n      return moveToRange(editor, pos.toRange());\n    }, function (table) {\n      return $_32xcvk30jnlpaxbn.positionIn(last$$1, editor.getBody()).filter(function (lastPos) {\n        return lastPos.isEqual(pos);\n      }).fold(function () {\n        return moveToRange(editor, pos.toRange());\n      }, function (_) {\n        return renderBlock(down, editor, table, pos);\n      });\n    });\n  };\n  var navigateVertically = function (editor, down, table, td) {\n    var rng = editor.selection.getRng();\n    var pos = CaretPosition$1.fromRangeStart(rng);\n    var root = editor.getBody();\n    if (!down && isAtFirstTableCellLine(td, pos)) {\n      var newPos = getClosestAbovePosition(root, table, pos);\n      moveCaret(editor, down, newPos);\n      return true;\n    } else if (down && isAtLastTableCellLine(td, pos)) {\n      var newPos = getClosestBelowPosition(root, table, pos);\n      moveCaret(editor, down, newPos);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var moveH = function (editor, forward) {\n    return function () {\n      return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return navigateHorizontally(editor, forward, table, td);\n        });\n      }).getOr(false);\n    };\n  };\n  var moveV = function (editor, forward) {\n    return function () {\n      return Option.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(function (td) {\n        return Option.from(editor.dom.getParent(td, 'table')).map(function (table) {\n          return navigateVertically(editor, forward, table, td);\n        });\n      }).getOr(false);\n    };\n  };\n\n  var isContentEditableFalse$5 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var isTableCell$1 = function (node) {\n    return $_fy28ei1rjnlpax2o.isElement(node) && /^(TD|TH)$/i.test(node.tagName);\n  };\n  var getAbsoluteClientRect = function (root, element, before) {\n    var clientRect = collapse(element.getBoundingClientRect(), before);\n    var docElm, scrollX, scrollY, margin, rootRect;\n    if (root.tagName === 'BODY') {\n      docElm = root.ownerDocument.documentElement;\n      scrollX = root.scrollLeft || docElm.scrollLeft;\n      scrollY = root.scrollTop || docElm.scrollTop;\n    } else {\n      rootRect = root.getBoundingClientRect();\n      scrollX = root.scrollLeft - rootRect.left;\n      scrollY = root.scrollTop - rootRect.top;\n    }\n    clientRect.left += scrollX;\n    clientRect.right += scrollX;\n    clientRect.top += scrollY;\n    clientRect.bottom += scrollY;\n    clientRect.width = 1;\n    margin = element.offsetWidth - element.clientWidth;\n    if (margin > 0) {\n      if (before) {\n        margin *= -1;\n      }\n      clientRect.left += margin;\n      clientRect.right += margin;\n    }\n    return clientRect;\n  };\n  var trimInlineCaretContainers = function (root) {\n    var contentEditableFalseNodes, node, sibling, i, data;\n    contentEditableFalseNodes = DomQuery('*[contentEditable=false]', root);\n    for (i = 0; i < contentEditableFalseNodes.length; i++) {\n      node = contentEditableFalseNodes[i];\n      sibling = node.previousSibling;\n      if (endsWithCaretContainer(sibling)) {\n        data = sibling.data;\n        if (data.length === 1) {\n          sibling.parentNode.removeChild(sibling);\n        } else {\n          sibling.deleteData(data.length - 1, 1);\n        }\n      }\n      sibling = node.nextSibling;\n      if (startsWithCaretContainer(sibling)) {\n        data = sibling.data;\n        if (data.length === 1) {\n          sibling.parentNode.removeChild(sibling);\n        } else {\n          sibling.deleteData(0, 1);\n        }\n      }\n    }\n  };\n  var FakeCaret = function (root, isBlock, hasFocus) {\n    var lastVisualCaret = Cell(Option.none());\n    var cursorInterval, caretContainerNode;\n    var show = function (before, element) {\n      var clientRect, rng;\n      hide();\n      if (isTableCell$1(element)) {\n        return null;\n      }\n      if (isBlock(element)) {\n        caretContainerNode = insertBlock('p', element, before);\n        clientRect = getAbsoluteClientRect(root, element, before);\n        DomQuery(caretContainerNode).css('top', clientRect.top);\n        var caret = DomQuery('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(clientRect).appendTo(root)[0];\n        lastVisualCaret.set(Option.some({\n          caret: caret,\n          element: element,\n          before: before\n        }));\n        lastVisualCaret.get().each(function (caretState) {\n          if (before) {\n            DomQuery(caretState.caret).addClass('mce-visual-caret-before');\n          }\n        });\n        startBlink();\n        rng = element.ownerDocument.createRange();\n        rng.setStart(caretContainerNode, 0);\n        rng.setEnd(caretContainerNode, 0);\n      } else {\n        caretContainerNode = insertInline(element, before);\n        rng = element.ownerDocument.createRange();\n        if (isContentEditableFalse$5(caretContainerNode.nextSibling)) {\n          rng.setStart(caretContainerNode, 0);\n          rng.setEnd(caretContainerNode, 0);\n        } else {\n          rng.setStart(caretContainerNode, 1);\n          rng.setEnd(caretContainerNode, 1);\n        }\n        return rng;\n      }\n      return rng;\n    };\n    var hide = function () {\n      trimInlineCaretContainers(root);\n      if (caretContainerNode) {\n        $_ctzulb33jnlpaxck.remove(caretContainerNode);\n        caretContainerNode = null;\n      }\n      lastVisualCaret.get().each(function (caretState) {\n        DomQuery(caretState.caret).remove();\n        lastVisualCaret.set(Option.none());\n      });\n      clearInterval(cursorInterval);\n    };\n    var startBlink = function () {\n      cursorInterval = $_2nbnh1ijnlpawpi.setInterval(function () {\n        if (hasFocus()) {\n          DomQuery('div.mce-visual-caret', root).toggleClass('mce-visual-caret-hidden');\n        } else {\n          DomQuery('div.mce-visual-caret', root).addClass('mce-visual-caret-hidden');\n        }\n      }, 500);\n    };\n    var reposition = function () {\n      lastVisualCaret.get().each(function (caretState) {\n        var clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n        DomQuery(caretState.caret).css(clientRect);\n      });\n    };\n    var destroy = function () {\n      return $_2nbnh1ijnlpawpi.clearInterval(cursorInterval);\n    };\n    var getCss = function () {\n      return '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n    };\n    return {\n      show: show,\n      hide: hide,\n      getCss: getCss,\n      reposition: reposition,\n      destroy: destroy\n    };\n  };\n  var isFakeCaretTarget = function (node) {\n    return isContentEditableFalse$5(node) || $_fy28ei1rjnlpax2o.isTable(node) && isFakeCaretTableBrowser();\n  };\n\n  var isContentEditableFalse$6 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var isBlockLike = $_fy28ei1rjnlpax2o.matchStyleValues('display', 'block table table-cell table-caption list-item');\n  var isCaretContainer$2 = isCaretContainer;\n  var isCaretContainerBlock$1 = isCaretContainerBlock;\n  var curry$2 = $_dv6bef2njnlpax9l.curry;\n  var isElement$6 = $_fy28ei1rjnlpax2o.isElement;\n  var isCaretCandidate$3 = isCaretCandidate;\n  var isForwards = function (direction) {\n    return direction > 0;\n  };\n  var isBackwards = function (direction) {\n    return direction < 0;\n  };\n  var skipCaretContainers = function (walk, shallow) {\n    var node;\n    while (node = walk(shallow)) {\n      if (!isCaretContainerBlock$1(node)) {\n        return node;\n      }\n    }\n    return null;\n  };\n  var findNode = function (node, direction, predicateFn, rootNode, shallow) {\n    var walker = new TreeWalker(node, rootNode);\n    if (isBackwards(direction)) {\n      if (isContentEditableFalse$6(node) || isCaretContainerBlock$1(node)) {\n        node = skipCaretContainers(walker.prev, true);\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n      while (node = skipCaretContainers(walker.prev, shallow)) {\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n    }\n    if (isForwards(direction)) {\n      if (isContentEditableFalse$6(node) || isCaretContainerBlock$1(node)) {\n        node = skipCaretContainers(walker.next, true);\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n      while (node = skipCaretContainers(walker.next, shallow)) {\n        if (predicateFn(node)) {\n          return node;\n        }\n      }\n    }\n    return null;\n  };\n  var getParentBlock = function (node, rootNode) {\n    while (node && node !== rootNode) {\n      if (isBlockLike(node)) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n  var isInSameBlock = function (caretPosition1, caretPosition2, rootNode) {\n    return getParentBlock(caretPosition1.container(), rootNode) === getParentBlock(caretPosition2.container(), rootNode);\n  };\n  var getChildNodeAtRelativeOffset = function (relativeOffset, caretPosition) {\n    var container, offset;\n    if (!caretPosition) {\n      return null;\n    }\n    container = caretPosition.container();\n    offset = caretPosition.offset();\n    if (!isElement$6(container)) {\n      return null;\n    }\n    return container.childNodes[offset + relativeOffset];\n  };\n  var beforeAfter = function (before, node) {\n    var range = node.ownerDocument.createRange();\n    if (before) {\n      range.setStartBefore(node);\n      range.setEndBefore(node);\n    } else {\n      range.setStartAfter(node);\n      range.setEndAfter(node);\n    }\n    return range;\n  };\n  var isNodesInSameBlock = function (root, node1, node2) {\n    return getParentBlock(node1, root) === getParentBlock(node2, root);\n  };\n  var lean = function (left, root, node) {\n    var sibling, siblingName;\n    if (left) {\n      siblingName = 'previousSibling';\n    } else {\n      siblingName = 'nextSibling';\n    }\n    while (node && node !== root) {\n      sibling = node[siblingName];\n      if (isCaretContainer$2(sibling)) {\n        sibling = sibling[siblingName];\n      }\n      if (isContentEditableFalse$6(sibling)) {\n        if (isNodesInSameBlock(root, sibling, node)) {\n          return sibling;\n        }\n        break;\n      }\n      if (isCaretCandidate$3(sibling)) {\n        break;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n  var before$2 = curry$2(beforeAfter, true);\n  var after$2 = curry$2(beforeAfter, false);\n  var normalizeRange = function (direction, root, range) {\n    var node, container, offset, location;\n    var leanLeft = curry$2(lean, true, root);\n    var leanRight = curry$2(lean, false, root);\n    container = range.startContainer;\n    offset = range.startOffset;\n    if (isCaretContainerBlock(container)) {\n      if (!isElement$6(container)) {\n        container = container.parentNode;\n      }\n      location = container.getAttribute('data-mce-caret');\n      if (location === 'before') {\n        node = container.nextSibling;\n        if (isFakeCaretTarget(node)) {\n          return before$2(node);\n        }\n      }\n      if (location === 'after') {\n        node = container.previousSibling;\n        if (isFakeCaretTarget(node)) {\n          return after$2(node);\n        }\n      }\n    }\n    if (!range.collapsed) {\n      return range;\n    }\n    if ($_fy28ei1rjnlpax2o.isText(container)) {\n      if (isCaretContainer$2(container)) {\n        if (direction === 1) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n        }\n        if (direction === -1) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n        }\n        return range;\n      }\n      if (endsWithCaretContainer(container) && offset >= container.data.length - 1) {\n        if (direction === 1) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n        }\n        return range;\n      }\n      if (startsWithCaretContainer(container) && offset <= 1) {\n        if (direction === -1) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n        }\n        return range;\n      }\n      if (offset === container.data.length) {\n        node = leanRight(container);\n        if (node) {\n          return before$2(node);\n        }\n        return range;\n      }\n      if (offset === 0) {\n        node = leanLeft(container);\n        if (node) {\n          return after$2(node);\n        }\n        return range;\n      }\n    }\n    return range;\n  };\n  var isNextToContentEditableFalse = function (relativeOffset, caretPosition) {\n    var node = getChildNodeAtRelativeOffset(relativeOffset, caretPosition);\n    return isContentEditableFalse$6(node) && !$_fy28ei1rjnlpax2o.isBogusAll(node);\n  };\n  var isNextToTable = function (relativeOffset, caretPosition) {\n    return $_fy28ei1rjnlpax2o.isTable(getChildNodeAtRelativeOffset(relativeOffset, caretPosition));\n  };\n  var getRelativeCefElm = function (forward, caretPosition) {\n    return Option.from(getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition)).filter(isContentEditableFalse$6);\n  };\n  var getNormalizedRangeEndPoint = function (direction, root, range) {\n    var normalizedRange = normalizeRange(direction, root, range);\n    if (direction === -1) {\n      return CaretPosition.fromRangeStart(normalizedRange);\n    }\n    return CaretPosition.fromRangeEnd(normalizedRange);\n  };\n  var isBeforeContentEditableFalse = curry$2(isNextToContentEditableFalse, 0);\n  var isAfterContentEditableFalse = curry$2(isNextToContentEditableFalse, -1);\n  var isBeforeTable = curry$2(isNextToTable, 0);\n  var isAfterTable = curry$2(isNextToTable, -1);\n\n  var walkToPositionIn = function (forward, root, start) {\n    var position = forward ? CaretPosition$1.before(start) : CaretPosition$1.after(start);\n    return fromPosition(forward, root, position);\n  };\n  var afterElement = function (node) {\n    return $_fy28ei1rjnlpax2o.isBr(node) ? CaretPosition$1.before(node) : CaretPosition$1.after(node);\n  };\n  var isBeforeOrStart = function (position) {\n    if (CaretPosition$1.isTextPosition(position)) {\n      return position.offset() === 0;\n    } else {\n      return isCaretCandidate(position.getNode());\n    }\n  };\n  var isAfterOrEnd = function (position) {\n    if (CaretPosition$1.isTextPosition(position)) {\n      var container = position.container();\n      return position.offset() === container.data.length;\n    } else {\n      return isCaretCandidate(position.getNode(true));\n    }\n  };\n  var isBeforeAfterSameElement = function (from, to) {\n    return !CaretPosition$1.isTextPosition(from) && !CaretPosition$1.isTextPosition(to) && from.getNode() === to.getNode(true);\n  };\n  var isAtBr = function (position) {\n    return !CaretPosition$1.isTextPosition(position) && $_fy28ei1rjnlpax2o.isBr(position.getNode());\n  };\n  var shouldSkipPosition = function (forward, from, to) {\n    if (forward) {\n      return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n    } else {\n      return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n    }\n  };\n  var fromPosition = function (forward, root, pos) {\n    var walker = CaretWalker(root);\n    return Option.from(forward ? walker.next(pos) : walker.prev(pos));\n  };\n  var navigate = function (forward, root, from) {\n    return fromPosition(forward, root, from).bind(function (to) {\n      if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n        return fromPosition(forward, root, to);\n      } else {\n        return Option.some(to);\n      }\n    });\n  };\n  var positionIn = function (forward, element) {\n    var startNode = forward ? element.firstChild : element.lastChild;\n    if ($_fy28ei1rjnlpax2o.isText(startNode)) {\n      return Option.some(CaretPosition$1(startNode, forward ? 0 : startNode.data.length));\n    } else if (startNode) {\n      if (isCaretCandidate(startNode)) {\n        return Option.some(forward ? CaretPosition$1.before(startNode) : afterElement(startNode));\n      } else {\n        return walkToPositionIn(forward, element, startNode);\n      }\n    } else {\n      return Option.none();\n    }\n  };\n  var $_32xcvk30jnlpaxbn = {\n    fromPosition: fromPosition,\n    nextPosition: curry(fromPosition, true),\n    prevPosition: curry(fromPosition, false),\n    navigate: navigate,\n    positionIn: positionIn,\n    firstPositionIn: curry(positionIn, true),\n    lastPositionIn: curry(positionIn, false)\n  };\n\n  var isStringPathBookmark = function (bookmark) {\n    return typeof bookmark.start === 'string';\n  };\n  var isRangeBookmark = function (bookmark) {\n    return bookmark.hasOwnProperty('rng');\n  };\n  var isIdBookmark = function (bookmark) {\n    return bookmark.hasOwnProperty('id');\n  };\n  var isIndexBookmark = function (bookmark) {\n    return bookmark.hasOwnProperty('name');\n  };\n  var isPathBookmark = function (bookmark) {\n    return $_1q1txeljnlpawsa.isArray(bookmark.start);\n  };\n\n  var addBogus = function (dom, node) {\n    if (dom.isBlock(node) && !node.innerHTML && !$_cseqobajnlpawll.ie) {\n      node.innerHTML = '<br data-mce-bogus=\"1\" />';\n    }\n    return node;\n  };\n  var resolveCaretPositionBookmark = function (dom, bookmark) {\n    var rng, pos;\n    rng = dom.createRng();\n    pos = resolve$2(dom.getRoot(), bookmark.start);\n    rng.setStart(pos.container(), pos.offset());\n    pos = resolve$2(dom.getRoot(), bookmark.end);\n    rng.setEnd(pos.container(), pos.offset());\n    return rng;\n  };\n  var insertZwsp = function (node, rng) {\n    var textNode = node.ownerDocument.createTextNode($_90hfb72rjnlpaxae.ZWSP);\n    node.appendChild(textNode);\n    rng.setStart(textNode, 0);\n    rng.setEnd(textNode, 0);\n  };\n  var isEmpty = function (node) {\n    return node.hasChildNodes() === false;\n  };\n  var tryFindRangePosition = function (node, rng) {\n    return $_32xcvk30jnlpaxbn.lastPositionIn(node).fold(function () {\n      return false;\n    }, function (pos) {\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      return true;\n    });\n  };\n  var padEmptyCaretContainer = function (root, node, rng) {\n    if (isEmpty(node) && getParentCaretContainer(root, node)) {\n      insertZwsp(node, rng);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var setEndPoint = function (dom, start, bookmark, rng) {\n    var point = bookmark[start ? 'start' : 'end'];\n    var i, node, offset, children;\n    var root = dom.getRoot();\n    if (point) {\n      offset = point[0];\n      for (node = root, i = point.length - 1; i >= 1; i--) {\n        children = node.childNodes;\n        if (padEmptyCaretContainer(root, node, rng)) {\n          return true;\n        }\n        if (point[i] > children.length - 1) {\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          return tryFindRangePosition(node, rng);\n        }\n        node = children[point[i]];\n      }\n      if (node.nodeType === 3) {\n        offset = Math.min(point[0], node.nodeValue.length);\n      }\n      if (node.nodeType === 1) {\n        offset = Math.min(point[0], node.childNodes.length);\n      }\n      if (start) {\n        rng.setStart(node, offset);\n      } else {\n        rng.setEnd(node, offset);\n      }\n    }\n    return true;\n  };\n  var isValidTextNode = function (node) {\n    return $_fy28ei1rjnlpax2o.isText(node) && node.data.length > 0;\n  };\n  var restoreEndPoint = function (dom, suffix, bookmark) {\n    var marker = dom.get(bookmark.id + '_' + suffix), node, idx, next, prev;\n    var keep = bookmark.keep;\n    var container, offset;\n    if (marker) {\n      node = marker.parentNode;\n      if (suffix === 'start') {\n        if (!keep) {\n          idx = dom.nodeIndex(marker);\n        } else {\n          if (marker.hasChildNodes()) {\n            node = marker.firstChild;\n            idx = 1;\n          } else if (isValidTextNode(marker.nextSibling)) {\n            node = marker.nextSibling;\n            idx = 0;\n          } else if (isValidTextNode(marker.previousSibling)) {\n            node = marker.previousSibling;\n            idx = marker.previousSibling.data.length;\n          } else {\n            node = marker.parentNode;\n            idx = dom.nodeIndex(marker) + 1;\n          }\n        }\n        container = node;\n        offset = idx;\n      } else {\n        if (!keep) {\n          idx = dom.nodeIndex(marker);\n        } else {\n          if (marker.hasChildNodes()) {\n            node = marker.firstChild;\n            idx = 1;\n          } else if (isValidTextNode(marker.previousSibling)) {\n            node = marker.previousSibling;\n            idx = marker.previousSibling.data.length;\n          } else {\n            node = marker.parentNode;\n            idx = dom.nodeIndex(marker);\n          }\n        }\n        container = node;\n        offset = idx;\n      }\n      if (!keep) {\n        prev = marker.previousSibling;\n        next = marker.nextSibling;\n        $_1q1txeljnlpawsa.each($_1q1txeljnlpawsa.grep(marker.childNodes), function (node) {\n          if ($_fy28ei1rjnlpax2o.isText(node)) {\n            node.nodeValue = node.nodeValue.replace(/\\uFEFF/g, '');\n          }\n        });\n        while (marker = dom.get(bookmark.id + '_' + suffix)) {\n          dom.remove(marker, true);\n        }\n        if (prev && next && prev.nodeType === next.nodeType && $_fy28ei1rjnlpax2o.isText(prev) && !$_cseqobajnlpawll.opera) {\n          idx = prev.nodeValue.length;\n          prev.appendData(next.nodeValue);\n          dom.remove(next);\n          if (suffix === 'start') {\n            container = prev;\n            offset = idx;\n          } else {\n            container = prev;\n            offset = idx;\n          }\n        }\n      }\n      return Option.some(CaretPosition$1(container, offset));\n    } else {\n      return Option.none();\n    }\n  };\n  var alt = function (o1, o2) {\n    return o1.isSome() ? o1 : o2;\n  };\n  var resolvePaths = function (dom, bookmark) {\n    var rng = dom.createRng();\n    if (setEndPoint(dom, true, bookmark, rng) && setEndPoint(dom, false, bookmark, rng)) {\n      return Option.some(rng);\n    } else {\n      return Option.none();\n    }\n  };\n  var resolveId = function (dom, bookmark) {\n    var startPos = restoreEndPoint(dom, 'start', bookmark);\n    var endPos = restoreEndPoint(dom, 'end', bookmark);\n    return liftN([\n      startPos,\n      alt(endPos, startPos)\n    ], function (spos, epos) {\n      var rng = dom.createRng();\n      rng.setStart(addBogus(dom, spos.container()), spos.offset());\n      rng.setEnd(addBogus(dom, epos.container()), epos.offset());\n      return rng;\n    });\n  };\n  var resolveIndex$1 = function (dom, bookmark) {\n    return Option.from(dom.select(bookmark.name)[bookmark.index]).map(function (elm) {\n      var rng = dom.createRng();\n      rng.selectNode(elm);\n      return rng;\n    });\n  };\n  var resolve$3 = function (selection, bookmark) {\n    var dom = selection.dom;\n    if (bookmark) {\n      if (isPathBookmark(bookmark)) {\n        return resolvePaths(dom, bookmark);\n      } else if (isStringPathBookmark(bookmark)) {\n        return Option.some(resolveCaretPositionBookmark(dom, bookmark));\n      } else if (isIdBookmark(bookmark)) {\n        return resolveId(dom, bookmark);\n      } else if (isIndexBookmark(bookmark)) {\n        return resolveIndex$1(dom, bookmark);\n      } else if (isRangeBookmark(bookmark)) {\n        return Option.some(bookmark.rng);\n      }\n    }\n    return Option.none();\n  };\n  var $_6rgudt2yjnlpaxb4 = { resolve: resolve$3 };\n\n  var getBookmark$1 = function (selection, type, normalized) {\n    return $_5l0mu32ljnlpax8x.getBookmark(selection, type, normalized);\n  };\n  var moveToBookmark = function (selection, bookmark) {\n    $_6rgudt2yjnlpaxb4.resolve(selection, bookmark).each(function (rng) {\n      selection.setRng(rng);\n    });\n  };\n  var isBookmarkNode$1 = function (node) {\n    return $_fy28ei1rjnlpax2o.isElement(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n  };\n  var $_43l8qj2xjnlpaxb1 = {\n    getBookmark: getBookmark$1,\n    moveToBookmark: moveToBookmark,\n    isBookmarkNode: isBookmarkNode$1\n  };\n\n  var isInlineBlock = function (node) {\n    return node && /^(IMG)$/.test(node.nodeName);\n  };\n  var moveStart = function (dom, selection, rng) {\n    var offset = rng.startOffset;\n    var container = rng.startContainer, walker, node, nodes;\n    if (rng.startContainer === rng.endContainer) {\n      if (isInlineBlock(rng.startContainer.childNodes[rng.startOffset])) {\n        return;\n      }\n    }\n    if (container.nodeType === 1) {\n      nodes = container.childNodes;\n      if (offset < nodes.length) {\n        container = nodes[offset];\n        walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n      } else {\n        container = nodes[nodes.length - 1];\n        walker = new TreeWalker(container, dom.getParent(container, dom.isBlock));\n        walker.next(true);\n      }\n      for (node = walker.current(); node; node = walker.next()) {\n        if (node.nodeType === 3 && !isWhiteSpaceNode(node)) {\n          rng.setStart(node, 0);\n          selection.setRng(rng);\n          return;\n        }\n      }\n    }\n  };\n  var getNonWhiteSpaceSibling = function (node, next, inc) {\n    if (node) {\n      next = next ? 'nextSibling' : 'previousSibling';\n      for (node = inc ? node : node[next]; node; node = node[next]) {\n        if (node.nodeType === 1 || !isWhiteSpaceNode(node)) {\n          return node;\n        }\n      }\n    }\n  };\n  var isTextBlock$1 = function (editor, name) {\n    if (name.nodeType) {\n      name = name.nodeName;\n    }\n    return !!editor.schema.getTextBlockElements()[name.toLowerCase()];\n  };\n  var isValid = function (ed, parent, child) {\n    return ed.schema.isValidChild(parent, child);\n  };\n  var isWhiteSpaceNode = function (node) {\n    return node && node.nodeType === 3 && /^([\\t \\r\\n]+|)$/.test(node.nodeValue);\n  };\n  var replaceVars = function (value, vars) {\n    if (typeof value !== 'string') {\n      value = value(vars);\n    } else if (vars) {\n      value = value.replace(/%(\\w+)/g, function (str, name) {\n        return vars[name] || str;\n      });\n    }\n    return value;\n  };\n  var isEq = function (str1, str2) {\n    str1 = str1 || '';\n    str2 = str2 || '';\n    str1 = '' + (str1.nodeName || str1);\n    str2 = '' + (str2.nodeName || str2);\n    return str1.toLowerCase() === str2.toLowerCase();\n  };\n  var normalizeStyleValue = function (dom, value, name) {\n    if (name === 'color' || name === 'backgroundColor') {\n      value = dom.toHex(value);\n    }\n    if (name === 'fontWeight' && value === 700) {\n      value = 'bold';\n    }\n    if (name === 'fontFamily') {\n      value = value.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n    }\n    return '' + value;\n  };\n  var getStyle = function (dom, node, name) {\n    return normalizeStyleValue(dom, dom.getStyle(node, name), name);\n  };\n  var getTextDecoration = function (dom, node) {\n    var decoration;\n    dom.getParent(node, function (n) {\n      decoration = dom.getStyle(n, 'text-decoration');\n      return decoration && decoration !== 'none';\n    });\n    return decoration;\n  };\n  var getParents$1 = function (dom, node, selector) {\n    return dom.getParents(node, selector, dom.getRoot());\n  };\n  var $_dlfh233cjnlpaxes = {\n    isInlineBlock: isInlineBlock,\n    moveStart: moveStart,\n    getNonWhiteSpaceSibling: getNonWhiteSpaceSibling,\n    isTextBlock: isTextBlock$1,\n    isValid: isValid,\n    isWhiteSpaceNode: isWhiteSpaceNode,\n    replaceVars: replaceVars,\n    isEq: isEq,\n    normalizeStyleValue: normalizeStyleValue,\n    getStyle: getStyle,\n    getTextDecoration: getTextDecoration,\n    getParents: getParents$1\n  };\n\n  var isBookmarkNode$2 = $_43l8qj2xjnlpaxb1.isBookmarkNode;\n  var getParents$2 = $_dlfh233cjnlpaxes.getParents;\n  var isWhiteSpaceNode$1 = $_dlfh233cjnlpaxes.isWhiteSpaceNode;\n  var isTextBlock$2 = $_dlfh233cjnlpaxes.isTextBlock;\n  var findLeaf = function (node, offset) {\n    if (typeof offset === 'undefined') {\n      offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n    }\n    while (node && node.hasChildNodes()) {\n      node = node.childNodes[offset];\n      if (node) {\n        offset = node.nodeType === 3 ? node.length : node.childNodes.length;\n      }\n    }\n    return {\n      node: node,\n      offset: offset\n    };\n  };\n  var excludeTrailingWhitespace = function (endContainer, endOffset) {\n    var leaf = findLeaf(endContainer, endOffset);\n    if (leaf.node) {\n      while (leaf.node && leaf.offset === 0 && leaf.node.previousSibling) {\n        leaf = findLeaf(leaf.node.previousSibling);\n      }\n      if (leaf.node && leaf.offset > 0 && leaf.node.nodeType === 3 && leaf.node.nodeValue.charAt(leaf.offset - 1) === ' ') {\n        if (leaf.offset > 1) {\n          endContainer = leaf.node;\n          endContainer.splitText(leaf.offset - 1);\n        }\n      }\n    }\n    return endContainer;\n  };\n  var isBogusBr = function (node) {\n    return node.nodeName === 'BR' && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n  };\n  var findParentContentEditable = function (dom, node) {\n    var parent = node;\n    while (parent) {\n      if (parent.nodeType === 1 && dom.getContentEditable(parent)) {\n        return dom.getContentEditable(parent) === 'false' ? parent : node;\n      }\n      parent = parent.parentNode;\n    }\n    return node;\n  };\n  var findSpace = function (start, remove, node, offset) {\n    var pos, pos2;\n    var str = node.nodeValue;\n    if (typeof offset === 'undefined') {\n      offset = start ? str.length : 0;\n    }\n    if (start) {\n      pos = str.lastIndexOf(' ', offset);\n      pos2 = str.lastIndexOf('\\xA0', offset);\n      pos = pos > pos2 ? pos : pos2;\n      if (pos !== -1 && !remove && (pos < offset || !start) && pos <= str.length) {\n        pos++;\n      }\n    } else {\n      pos = str.indexOf(' ', offset);\n      pos2 = str.indexOf('\\xA0', offset);\n      pos = pos !== -1 && (pos2 === -1 || pos < pos2) ? pos : pos2;\n    }\n    return pos;\n  };\n  var findWordEndPoint = function (dom, body, container, offset, start, remove) {\n    var walker, node, pos, lastTextNode;\n    if (container.nodeType === 3) {\n      pos = findSpace(start, remove, container, offset);\n      if (pos !== -1) {\n        return {\n          container: container,\n          offset: pos\n        };\n      }\n      lastTextNode = container;\n    }\n    walker = new TreeWalker(container, dom.getParent(container, dom.isBlock) || body);\n    while (node = walker[start ? 'prev' : 'next']()) {\n      if (node.nodeType === 3 && !isBookmarkNode$2(node.parentNode)) {\n        lastTextNode = node;\n        pos = findSpace(start, remove, node);\n        if (pos !== -1) {\n          return {\n            container: node,\n            offset: pos\n          };\n        }\n      } else if (dom.isBlock(node) || $_dlfh233cjnlpaxes.isEq(node, 'BR')) {\n        break;\n      }\n    }\n    if (lastTextNode) {\n      if (start) {\n        offset = 0;\n      } else {\n        offset = lastTextNode.length;\n      }\n      return {\n        container: lastTextNode,\n        offset: offset\n      };\n    }\n  };\n  var findSelectorEndPoint = function (dom, format, rng, container, siblingName) {\n    var parents, i, y, curFormat;\n    if (container.nodeType === 3 && container.nodeValue.length === 0 && container[siblingName]) {\n      container = container[siblingName];\n    }\n    parents = getParents$2(dom, container);\n    for (i = 0; i < parents.length; i++) {\n      for (y = 0; y < format.length; y++) {\n        curFormat = format[y];\n        if ('collapsed' in curFormat && curFormat.collapsed !== rng.collapsed) {\n          continue;\n        }\n        if (dom.is(parents[i], curFormat.selector)) {\n          return parents[i];\n        }\n      }\n    }\n    return container;\n  };\n  var findBlockEndPoint = function (editor, format, container, siblingName) {\n    var node;\n    var dom = editor.dom;\n    var root = dom.getRoot();\n    if (!format[0].wrapper) {\n      node = dom.getParent(container, format[0].block, root);\n    }\n    if (!node) {\n      var scopeRoot = dom.getParent(container, 'LI,TD,TH');\n      node = dom.getParent(container.nodeType === 3 ? container.parentNode : container, function (node) {\n        return node !== root && isTextBlock$2(editor, node);\n      }, scopeRoot);\n    }\n    if (node && format[0].wrapper) {\n      node = getParents$2(dom, node, 'ul,ol').reverse()[0] || node;\n    }\n    if (!node) {\n      node = container;\n      while (node[siblingName] && !dom.isBlock(node[siblingName])) {\n        node = node[siblingName];\n        if ($_dlfh233cjnlpaxes.isEq(node, 'br')) {\n          break;\n        }\n      }\n    }\n    return node || container;\n  };\n  var findParentContainer = function (dom, format, startContainer, startOffset, endContainer, endOffset, start) {\n    var container, parent, sibling, siblingName, root;\n    container = parent = start ? startContainer : endContainer;\n    siblingName = start ? 'previousSibling' : 'nextSibling';\n    root = dom.getRoot();\n    if (container.nodeType === 3 && !isWhiteSpaceNode$1(container)) {\n      if (start ? startOffset > 0 : endOffset < container.nodeValue.length) {\n        return container;\n      }\n    }\n    while (true) {\n      if (!format[0].block_expand && dom.isBlock(parent)) {\n        return parent;\n      }\n      for (sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n        if (!isBookmarkNode$2(sibling) && !isWhiteSpaceNode$1(sibling) && !isBogusBr(sibling)) {\n          return parent;\n        }\n      }\n      if (parent === root || parent.parentNode === root) {\n        container = parent;\n        break;\n      }\n      parent = parent.parentNode;\n    }\n    return container;\n  };\n  var expandRng = function (editor, rng, format, remove) {\n    var endPoint, startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n    var dom = editor.dom;\n    if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n      startContainer = getNode(startContainer, startOffset);\n      if (startContainer.nodeType === 3) {\n        startOffset = 0;\n      }\n    }\n    if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n      endContainer = getNode(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n      if (endContainer.nodeType === 3) {\n        endOffset = endContainer.nodeValue.length;\n      }\n    }\n    startContainer = findParentContentEditable(dom, startContainer);\n    endContainer = findParentContentEditable(dom, endContainer);\n    if (isBookmarkNode$2(startContainer.parentNode) || isBookmarkNode$2(startContainer)) {\n      startContainer = isBookmarkNode$2(startContainer) ? startContainer : startContainer.parentNode;\n      if (rng.collapsed) {\n        startContainer = startContainer.previousSibling || startContainer;\n      } else {\n        startContainer = startContainer.nextSibling || startContainer;\n      }\n      if (startContainer.nodeType === 3) {\n        startOffset = rng.collapsed ? startContainer.length : 0;\n      }\n    }\n    if (isBookmarkNode$2(endContainer.parentNode) || isBookmarkNode$2(endContainer)) {\n      endContainer = isBookmarkNode$2(endContainer) ? endContainer : endContainer.parentNode;\n      if (rng.collapsed) {\n        endContainer = endContainer.nextSibling || endContainer;\n      } else {\n        endContainer = endContainer.previousSibling || endContainer;\n      }\n      if (endContainer.nodeType === 3) {\n        endOffset = rng.collapsed ? 0 : endContainer.length;\n      }\n    }\n    if (rng.collapsed) {\n      endPoint = findWordEndPoint(dom, editor.getBody(), startContainer, startOffset, true, remove);\n      if (endPoint) {\n        startContainer = endPoint.container;\n        startOffset = endPoint.offset;\n      }\n      endPoint = findWordEndPoint(dom, editor.getBody(), endContainer, endOffset, false, remove);\n      if (endPoint) {\n        endContainer = endPoint.container;\n        endOffset = endPoint.offset;\n      }\n    }\n    if (format[0].inline) {\n      endContainer = remove ? endContainer : excludeTrailingWhitespace(endContainer, endOffset);\n    }\n    if (format[0].inline || format[0].block_expand) {\n      if (!format[0].inline || (startContainer.nodeType !== 3 || startOffset === 0)) {\n        startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n      }\n      if (!format[0].inline || (endContainer.nodeType !== 3 || endOffset === endContainer.nodeValue.length)) {\n        endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n      }\n    }\n    if (format[0].selector && format[0].expand !== false && !format[0].inline) {\n      startContainer = findSelectorEndPoint(dom, format, rng, startContainer, 'previousSibling');\n      endContainer = findSelectorEndPoint(dom, format, rng, endContainer, 'nextSibling');\n    }\n    if (format[0].block || format[0].selector) {\n      startContainer = findBlockEndPoint(editor, format, startContainer, 'previousSibling');\n      endContainer = findBlockEndPoint(editor, format, endContainer, 'nextSibling');\n      if (format[0].block) {\n        if (!dom.isBlock(startContainer)) {\n          startContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, true);\n        }\n        if (!dom.isBlock(endContainer)) {\n          endContainer = findParentContainer(dom, format, startContainer, startOffset, endContainer, endOffset, false);\n        }\n      }\n    }\n    if (startContainer.nodeType === 1) {\n      startOffset = dom.nodeIndex(startContainer);\n      startContainer = startContainer.parentNode;\n    }\n    if (endContainer.nodeType === 1) {\n      endOffset = dom.nodeIndex(endContainer) + 1;\n      endContainer = endContainer.parentNode;\n    }\n    return {\n      startContainer: startContainer,\n      startOffset: startOffset,\n      endContainer: endContainer,\n      endOffset: endOffset\n    };\n  };\n  var $_3cscnj2wjnlpaxau = { expandRng: expandRng };\n\n  var each$8 = $_1q1txeljnlpawsa.each;\n  var getEndChild = function (container, index) {\n    var childNodes = container.childNodes;\n    index--;\n    if (index > childNodes.length - 1) {\n      index = childNodes.length - 1;\n    } else if (index < 0) {\n      index = 0;\n    }\n    return childNodes[index] || container;\n  };\n  var walk$2 = function (dom, rng, callback) {\n    var startContainer = rng.startContainer;\n    var startOffset = rng.startOffset;\n    var endContainer = rng.endContainer;\n    var endOffset = rng.endOffset;\n    var ancestor;\n    var startPoint;\n    var endPoint;\n    var node;\n    var parent;\n    var siblings;\n    var nodes;\n    nodes = dom.select('td[data-mce-selected],th[data-mce-selected]');\n    if (nodes.length > 0) {\n      each$8(nodes, function (node) {\n        callback([node]);\n      });\n      return;\n    }\n    var exclude = function (nodes) {\n      var node;\n      node = nodes[0];\n      if (node.nodeType === 3 && node === startContainer && startOffset >= node.nodeValue.length) {\n        nodes.splice(0, 1);\n      }\n      node = nodes[nodes.length - 1];\n      if (endOffset === 0 && nodes.length > 0 && node === endContainer && node.nodeType === 3) {\n        nodes.splice(nodes.length - 1, 1);\n      }\n      return nodes;\n    };\n    var collectSiblings = function (node, name, endNode) {\n      var siblings = [];\n      for (; node && node !== endNode; node = node[name]) {\n        siblings.push(node);\n      }\n      return siblings;\n    };\n    var findEndPoint = function (node, root) {\n      do {\n        if (node.parentNode === root) {\n          return node;\n        }\n        node = node.parentNode;\n      } while (node);\n    };\n    var walkBoundary = function (startNode, endNode, next) {\n      var siblingName = next ? 'nextSibling' : 'previousSibling';\n      for (node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\n        parent = node.parentNode;\n        siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n        if (siblings.length) {\n          if (!next) {\n            siblings.reverse();\n          }\n          callback(exclude(siblings));\n        }\n      }\n    };\n    if (startContainer.nodeType === 1 && startContainer.hasChildNodes()) {\n      startContainer = startContainer.childNodes[startOffset];\n    }\n    if (endContainer.nodeType === 1 && endContainer.hasChildNodes()) {\n      endContainer = getEndChild(endContainer, endOffset);\n    }\n    if (startContainer === endContainer) {\n      return callback(exclude([startContainer]));\n    }\n    ancestor = dom.findCommonAncestor(startContainer, endContainer);\n    for (node = startContainer; node; node = node.parentNode) {\n      if (node === endContainer) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n      if (node === ancestor) {\n        break;\n      }\n    }\n    for (node = endContainer; node; node = node.parentNode) {\n      if (node === startContainer) {\n        return walkBoundary(endContainer, ancestor);\n      }\n      if (node === ancestor) {\n        break;\n      }\n    }\n    startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n    endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n    walkBoundary(startContainer, startPoint, true);\n    siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n    if (siblings.length) {\n      callback(exclude(siblings));\n    }\n    walkBoundary(endContainer, endPoint);\n  };\n  var $_6wozuu3djnlpaxew = { walk: walk$2 };\n\n  var zeroWidth = function () {\n    return '\\uFEFF';\n  };\n\n  function NodeValue (is, name) {\n    var get = function (element) {\n      if (!is(element))\n        throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n      return getOption(element).getOr('');\n    };\n    var getOptionIE10 = function (element) {\n      try {\n        return getOptionSafe(element);\n      } catch (e) {\n        return Option.none();\n      }\n    };\n    var getOptionSafe = function (element) {\n      return is(element) ? Option.from(element.dom().nodeValue) : Option.none();\n    };\n    var browser = $_766rx4ojnlpawtd.detect().browser;\n    var getOption = browser.isIE() && browser.version.major === 10 ? getOptionIE10 : getOptionSafe;\n    var set = function (element, value) {\n      if (!is(element))\n        throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n      element.dom().nodeValue = value;\n    };\n    return {\n      get: get,\n      getOption: getOption,\n      set: set\n    };\n  }\n\n  var api = NodeValue($_7u5fzs11jnlpawv6.isText, 'text');\n  var get$6 = function (element) {\n    return api.get(element);\n  };\n  var getOption = function (element) {\n    return api.getOption(element);\n  };\n  var set$3 = function (element, value) {\n    api.set(element, value);\n  };\n  var $_dzrxgg3gjnlpaxf6 = {\n    get: get$6,\n    getOption: getOption,\n    set: set$3\n  };\n\n  var isZeroWidth = function (elem) {\n    return $_7u5fzs11jnlpawv6.isText(elem) && $_dzrxgg3gjnlpaxf6.get(elem) === zeroWidth();\n  };\n  var context = function (editor, elem, wrapName, nodeName) {\n    return $_dr4ybh18jnlpawzt.parent(elem).fold(function () {\n      return 'skipping';\n    }, function (parent) {\n      if (nodeName === 'br' || isZeroWidth(elem)) {\n        return 'valid';\n      } else if (isAnnotation(elem)) {\n        return 'existing';\n      } else if (isCaretNode(elem)) {\n        return 'caret';\n      } else if (!$_dlfh233cjnlpaxes.isValid(editor, wrapName, nodeName) || !$_dlfh233cjnlpaxes.isValid(editor, $_7u5fzs11jnlpawv6.name(parent), wrapName)) {\n        return 'invalid-child';\n      } else {\n        return 'valid';\n      }\n    });\n  };\n\n  var __rest = undefined && undefined.__rest || function (s, e) {\n    var t = {};\n    for (var p in s)\n      if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === 'function')\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++)\n        if (e.indexOf(p[i]) < 0)\n          t[p[i]] = s[p[i]];\n    return t;\n  };\n  var shouldApplyToTrailingSpaces = function (rng) {\n    return rng.startContainer.nodeType === 3 && rng.startContainer.nodeValue.length >= rng.startOffset && rng.startContainer.nodeValue[rng.startOffset] === '\\xA0';\n  };\n  var applyWordGrab = function (editor, rng) {\n    var r = $_3cscnj2wjnlpaxau.expandRng(editor, rng, [{ inline: true }], shouldApplyToTrailingSpaces(rng));\n    rng.setStart(r.startContainer, r.startOffset);\n    rng.setEnd(r.endContainer, r.endOffset);\n    editor.selection.setRng(rng);\n  };\n  var makeAnnotation = function (eDoc, _a, annotationName, decorate) {\n    var _b = _a.uid, uid = _b === void 0 ? generate('mce-annotation') : _b, data = __rest(_a, ['uid']);\n    var master = Element$$1.fromTag('span', eDoc);\n    $_fes8i223jnlpax5z.add(master, annotation());\n    $_521j8z15jnlpawz7.set(master, '' + dataAnnotationId(), uid);\n    $_521j8z15jnlpawz7.set(master, '' + dataAnnotation(), annotationName);\n    var _c = decorate(uid, data), _d = _c.attributes, attributes = _d === void 0 ? {} : _d, _e = _c.classes, classes = _e === void 0 ? [] : _e;\n    $_521j8z15jnlpawz7.setAll(master, attributes);\n    $_6bet4b2hjnlpax8c.add(master, classes);\n    return master;\n  };\n  var annotate = function (editor, rng, annotationName, decorate, data) {\n    var newWrappers = [];\n    var master = makeAnnotation(editor.getDoc(), data, annotationName, decorate);\n    var wrapper = Cell(Option.none());\n    var finishWrapper = function () {\n      wrapper.set(Option.none());\n    };\n    var getOrOpenWrapper = function () {\n      return wrapper.get().getOrThunk(function () {\n        var nu = $_5sdpl92ijnlpax8h.shallow(master);\n        newWrappers.push(nu);\n        wrapper.set(Option.some(nu));\n        return nu;\n      });\n    };\n    var processElements = function (elems) {\n      each(elems, processElement);\n    };\n    var processElement = function (elem) {\n      var ctx = context(editor, elem, 'span', $_7u5fzs11jnlpawv6.name(elem));\n      switch (ctx) {\n      case 'invalid-child': {\n          finishWrapper();\n          var children = $_dr4ybh18jnlpawzt.children(elem);\n          processElements(children);\n          finishWrapper();\n          break;\n        }\n      case 'valid': {\n          var w = getOrOpenWrapper();\n          $_ag89ax1yjnlpax4x.wrap(elem, w);\n          break;\n        }\n      case 'skipping':\n      case 'existing':\n      case 'caret': \n      }\n    };\n    var processNodes = function (nodes) {\n      var elems = map(nodes, Element$$1.fromDom);\n      processElements(elems);\n    };\n    $_6wozuu3djnlpaxew.walk(editor.dom, rng, function (nodes) {\n      finishWrapper();\n      processNodes(nodes);\n    });\n    return newWrappers;\n  };\n  var annotateWithBookmark = function (editor, name, settings, data) {\n    editor.undoManager.transact(function () {\n      var initialRng = editor.selection.getRng();\n      if (initialRng.collapsed) {\n        applyWordGrab(editor, initialRng);\n      }\n      if (editor.selection.getRng().collapsed) {\n        var wrapper = makeAnnotation(editor.getDoc(), data, name, settings.decorate);\n        $_am4twv2jjnlpax8k.set(wrapper, '\\xA0');\n        editor.selection.getRng().insertNode(wrapper.dom());\n        editor.selection.select(wrapper.dom());\n      } else {\n        var bookmark = $_5l0mu32ljnlpax8x.getPersistentBookmark(editor.selection, false);\n        var rng = editor.selection.getRng();\n        annotate(editor, rng, name, settings.decorate, data);\n        editor.selection.moveToBookmark(bookmark);\n      }\n    });\n  };\n\n  function Annotator (editor) {\n    var registry = create$1();\n    setup$1(editor, registry);\n    var changes = setup(editor, registry);\n    return {\n      register: function (name, settings) {\n        registry.register(name, settings);\n      },\n      annotate: function (name, data) {\n        registry.lookup(name).each(function (settings) {\n          annotateWithBookmark(editor, name, settings, data);\n        });\n      },\n      annotationChanged: function (name, callback) {\n        changes.addListener(name, callback);\n      },\n      remove: function (name) {\n        identify(editor, Option.some(name)).each(function (_a) {\n          var elements = _a.elements;\n          each(elements, $_azq8zm1wjnlpax4n.unwrap);\n        });\n      },\n      getAll: function (name) {\n        var directory = findAll(editor, name);\n        return map$2(directory, function (elems) {\n          return map(elems, function (elem) {\n            return elem.dom();\n          });\n        });\n      }\n    };\n  }\n\n  var hasOnlyOneChild = function (node) {\n    return node.firstChild && node.firstChild === node.lastChild;\n  };\n  var isPaddingNode = function (node) {\n    return node.name === 'br' || node.value === '\\xA0';\n  };\n  var isPaddedEmptyBlock = function (schema, node) {\n    var blockElements = schema.getBlockElements();\n    return blockElements[node.name] && hasOnlyOneChild(node) && isPaddingNode(node.firstChild);\n  };\n  var isEmptyFragmentElement = function (schema, node) {\n    var nonEmptyElements = schema.getNonEmptyElements();\n    return node && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n  };\n  var isListFragment = function (schema, fragment) {\n    var firstChild = fragment.firstChild;\n    var lastChild = fragment.lastChild;\n    if (firstChild && firstChild.name === 'meta') {\n      firstChild = firstChild.next;\n    }\n    if (lastChild && lastChild.attr('id') === 'mce_marker') {\n      lastChild = lastChild.prev;\n    }\n    if (isEmptyFragmentElement(schema, lastChild)) {\n      lastChild = lastChild.prev;\n    }\n    if (!firstChild || firstChild !== lastChild) {\n      return false;\n    }\n    return firstChild.name === 'ul' || firstChild.name === 'ol';\n  };\n  var cleanupDomFragment = function (domFragment) {\n    var firstChild = domFragment.firstChild;\n    var lastChild = domFragment.lastChild;\n    if (firstChild && firstChild.nodeName === 'META') {\n      firstChild.parentNode.removeChild(firstChild);\n    }\n    if (lastChild && lastChild.id === 'mce_marker') {\n      lastChild.parentNode.removeChild(lastChild);\n    }\n    return domFragment;\n  };\n  var toDomFragment = function (dom, serializer, fragment) {\n    var html = serializer.serialize(fragment);\n    var domFragment = dom.createFragment(html);\n    return cleanupDomFragment(domFragment);\n  };\n  var listItems$1 = function (elm) {\n    return $_1q1txeljnlpawsa.grep(elm.childNodes, function (child) {\n      return child.nodeName === 'LI';\n    });\n  };\n  var isPadding = function (node) {\n    return node.data === '\\xA0' || $_fy28ei1rjnlpax2o.isBr(node);\n  };\n  var isListItemPadded = function (node) {\n    return node && node.firstChild && node.firstChild === node.lastChild && isPadding(node.firstChild);\n  };\n  var isEmptyOrPadded = function (elm) {\n    return !elm.firstChild || isListItemPadded(elm);\n  };\n  var trimListItems = function (elms) {\n    return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n  };\n  var getParentLi = function (dom, node) {\n    var parentBlock = dom.getParent(node, dom.isBlock);\n    return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n  };\n  var isParentBlockLi = function (dom, node) {\n    return !!getParentLi(dom, node);\n  };\n  var getSplit = function (parentNode, rng) {\n    var beforeRng = rng.cloneRange();\n    var afterRng = rng.cloneRange();\n    beforeRng.setStartBefore(parentNode);\n    afterRng.setEndAfter(parentNode);\n    return [\n      beforeRng.cloneContents(),\n      afterRng.cloneContents()\n    ];\n  };\n  var findFirstIn = function (node, rootNode) {\n    var caretPos = CaretPosition$1.before(node);\n    var caretWalker = CaretWalker(rootNode);\n    var newCaretPos = caretWalker.next(caretPos);\n    return newCaretPos ? newCaretPos.toRange() : null;\n  };\n  var findLastOf = function (node, rootNode) {\n    var caretPos = CaretPosition$1.after(node);\n    var caretWalker = CaretWalker(rootNode);\n    var newCaretPos = caretWalker.prev(caretPos);\n    return newCaretPos ? newCaretPos.toRange() : null;\n  };\n  var insertMiddle = function (target, elms, rootNode, rng) {\n    var parts = getSplit(target, rng);\n    var parentElm = target.parentNode;\n    parentElm.insertBefore(parts[0], target);\n    $_1q1txeljnlpawsa.each(elms, function (li) {\n      parentElm.insertBefore(li, target);\n    });\n    parentElm.insertBefore(parts[1], target);\n    parentElm.removeChild(target);\n    return findLastOf(elms[elms.length - 1], rootNode);\n  };\n  var insertBefore = function (target, elms, rootNode) {\n    var parentElm = target.parentNode;\n    $_1q1txeljnlpawsa.each(elms, function (elm) {\n      parentElm.insertBefore(elm, target);\n    });\n    return findFirstIn(target, rootNode);\n  };\n  var insertAfter = function (target, elms, rootNode, dom) {\n    dom.insertAfter(elms.reverse(), target);\n    return findLastOf(elms[0], rootNode);\n  };\n  var insertAtCaret = function (serializer, dom, rng, fragment) {\n    var domFragment = toDomFragment(dom, serializer, fragment);\n    var liTarget = getParentLi(dom, rng.startContainer);\n    var liElms = trimListItems(listItems$1(domFragment.firstChild));\n    var BEGINNING = 1, END = 2;\n    var rootNode = dom.getRoot();\n    var isAt = function (location) {\n      var caretPos = CaretPosition$1.fromRangeStart(rng);\n      var caretWalker = CaretWalker(dom.getRoot());\n      var newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n      return newPos ? getParentLi(dom, newPos.getNode()) !== liTarget : true;\n    };\n    if (isAt(BEGINNING)) {\n      return insertBefore(liTarget, liElms, rootNode);\n    } else if (isAt(END)) {\n      return insertAfter(liTarget, liElms, rootNode, dom);\n    }\n    return insertMiddle(liTarget, liElms, rootNode, rng);\n  };\n  var $_64vm3ljnlpaxgp = {\n    isListFragment: isListFragment,\n    insertAtCaret: insertAtCaret,\n    isParentBlockLi: isParentBlockLi,\n    trimListItems: trimListItems,\n    listItems: listItems$1\n  };\n\n  var each$9 = $_1q1txeljnlpawsa.each;\n  var ElementUtils = function (dom) {\n    this.compare = function (node1, node2) {\n      if (node1.nodeName !== node2.nodeName) {\n        return false;\n      }\n      var getAttribs = function (node) {\n        var attribs = {};\n        each$9(dom.getAttribs(node), function (attr) {\n          var name = attr.nodeName.toLowerCase();\n          if (name.indexOf('_') !== 0 && name !== 'style' && name.indexOf('data-') !== 0) {\n            attribs[name] = dom.getAttrib(node, name);\n          }\n        });\n        return attribs;\n      };\n      var compareObjects = function (obj1, obj2) {\n        var value, name;\n        for (name in obj1) {\n          if (obj1.hasOwnProperty(name)) {\n            value = obj2[name];\n            if (typeof value === 'undefined') {\n              return false;\n            }\n            if (obj1[name] !== value) {\n              return false;\n            }\n            delete obj2[name];\n          }\n        }\n        for (name in obj2) {\n          if (obj2.hasOwnProperty(name)) {\n            return false;\n          }\n        }\n        return true;\n      };\n      if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n        return false;\n      }\n      if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n        return false;\n      }\n      return !$_43l8qj2xjnlpaxb1.isBookmarkNode(node1) && !$_43l8qj2xjnlpaxb1.isBookmarkNode(node2);\n    };\n  };\n\n  var getLastChildren = function (elm) {\n    var children = [];\n    var rawNode = elm.dom();\n    while (rawNode) {\n      children.push(Element$$1.fromDom(rawNode));\n      rawNode = rawNode.lastChild;\n    }\n    return children;\n  };\n  var removeTrailingBr = function (elm) {\n    var allBrs = $_cmitir27jnlpax6e.descendants(elm, 'br');\n    var brs = filter(getLastChildren(elm).slice(-1), isBr);\n    if (allBrs.length === brs.length) {\n      each(brs, $_azq8zm1wjnlpax4n.remove);\n    }\n  };\n  var fillWithPaddingBr = function (elm) {\n    $_azq8zm1wjnlpax4n.empty(elm);\n    $_ag89ax1yjnlpax4x.append(elm, Element$$1.fromHtml('<br data-mce-bogus=\"1\">'));\n  };\n  var isPaddingContents = function (elm) {\n    return $_7u5fzs11jnlpawv6.isText(elm) ? $_dzrxgg3gjnlpaxf6.get(elm) === '\\xA0' : isBr(elm);\n  };\n  var isPaddedElement = function (elm) {\n    return filter($_dr4ybh18jnlpawzt.children(elm), isPaddingContents).length === 1;\n  };\n  var trimBlockTrailingBr = function (elm) {\n    $_dr4ybh18jnlpawzt.lastChild(elm).each(function (lastChild) {\n      $_dr4ybh18jnlpawzt.prevSibling(lastChild).each(function (lastChildPrevSibling) {\n        if (isBlock(elm) && isBr(lastChild) && isBlock(lastChildPrevSibling)) {\n          $_azq8zm1wjnlpax4n.remove(lastChild);\n        }\n      });\n    });\n  };\n  var $_azhpc63njnlpaxgw = {\n    removeTrailingBr: removeTrailingBr,\n    fillWithPaddingBr: fillWithPaddingBr,\n    isPaddedElement: isPaddedElement,\n    trimBlockTrailingBr: trimBlockTrailingBr\n  };\n\n  var makeMap$3 = $_1q1txeljnlpawsa.makeMap;\n  function Writer (settings) {\n    var html = [];\n    var indent, indentBefore, indentAfter, encode, htmlOutput;\n    settings = settings || {};\n    indent = settings.indent;\n    indentBefore = makeMap$3(settings.indent_before || '');\n    indentAfter = makeMap$3(settings.indent_after || '');\n    encode = $_bea7j51sjnlpax2u.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n    htmlOutput = settings.element_format === 'html';\n    return {\n      start: function (name, attrs, empty) {\n        var i, l, attr, value;\n        if (indent && indentBefore[name] && html.length > 0) {\n          value = html[html.length - 1];\n          if (value.length > 0 && value !== '\\n') {\n            html.push('\\n');\n          }\n        }\n        html.push('<', name);\n        if (attrs) {\n          for (i = 0, l = attrs.length; i < l; i++) {\n            attr = attrs[i];\n            html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n          }\n        }\n        if (!empty || htmlOutput) {\n          html[html.length] = '>';\n        } else {\n          html[html.length] = ' />';\n        }\n        if (empty && indent && indentAfter[name] && html.length > 0) {\n          value = html[html.length - 1];\n          if (value.length > 0 && value !== '\\n') {\n            html.push('\\n');\n          }\n        }\n      },\n      end: function (name) {\n        var value;\n        html.push('</', name, '>');\n        if (indent && indentAfter[name] && html.length > 0) {\n          value = html[html.length - 1];\n          if (value.length > 0 && value !== '\\n') {\n            html.push('\\n');\n          }\n        }\n      },\n      text: function (text, raw) {\n        if (text.length > 0) {\n          html[html.length] = raw ? text : encode(text);\n        }\n      },\n      cdata: function (text) {\n        html.push('<![CDATA[', text, ']]>');\n      },\n      comment: function (text) {\n        html.push('<!--', text, '-->');\n      },\n      pi: function (name, text) {\n        if (text) {\n          html.push('<?', name, ' ', encode(text), '?>');\n        } else {\n          html.push('<?', name, '?>');\n        }\n        if (indent) {\n          html.push('\\n');\n        }\n      },\n      doctype: function (text) {\n        html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n      },\n      reset: function () {\n        html.length = 0;\n      },\n      getContent: function () {\n        return html.join('').replace(/\\n$/, '');\n      }\n    };\n  }\n\n  function HtmlSerializer (settings, schema) {\n    if (schema === void 0) {\n      schema = Schema();\n    }\n    var writer = Writer(settings);\n    settings = settings || {};\n    settings.validate = 'validate' in settings ? settings.validate : true;\n    var serialize = function (node) {\n      var handlers, validate;\n      validate = settings.validate;\n      handlers = {\n        3: function (node) {\n          writer.text(node.value, node.raw);\n        },\n        8: function (node) {\n          writer.comment(node.value);\n        },\n        7: function (node) {\n          writer.pi(node.name, node.value);\n        },\n        10: function (node) {\n          writer.doctype(node.value);\n        },\n        4: function (node) {\n          writer.cdata(node.value);\n        },\n        11: function (node) {\n          if (node = node.firstChild) {\n            do {\n              walk(node);\n            } while (node = node.next);\n          }\n        }\n      };\n      writer.reset();\n      var walk = function (node) {\n        var handler = handlers[node.type];\n        var name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\n        if (!handler) {\n          name = node.name;\n          isEmpty = node.shortEnded;\n          attrs = node.attributes;\n          if (validate && attrs && attrs.length > 1) {\n            sortedAttrs = [];\n            sortedAttrs.map = {};\n            elementRule = schema.getElementRule(node.name);\n            if (elementRule) {\n              for (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                attrName = elementRule.attributesOrder[i];\n                if (attrName in attrs.map) {\n                  attrValue = attrs.map[attrName];\n                  sortedAttrs.map[attrName] = attrValue;\n                  sortedAttrs.push({\n                    name: attrName,\n                    value: attrValue\n                  });\n                }\n              }\n              for (i = 0, l = attrs.length; i < l; i++) {\n                attrName = attrs[i].name;\n                if (!(attrName in sortedAttrs.map)) {\n                  attrValue = attrs.map[attrName];\n                  sortedAttrs.map[attrName] = attrValue;\n                  sortedAttrs.push({\n                    name: attrName,\n                    value: attrValue\n                  });\n                }\n              }\n              attrs = sortedAttrs;\n            }\n          }\n          writer.start(node.name, attrs, isEmpty);\n          if (!isEmpty) {\n            if (node = node.firstChild) {\n              do {\n                walk(node);\n              } while (node = node.next);\n            }\n            writer.end(name);\n          }\n        } else {\n          handler(node);\n        }\n      };\n      if (node.type === 1 && !settings.inner) {\n        walk(node);\n      } else {\n        handlers[11](node);\n      }\n      return writer.getContent();\n    };\n    return { serialize: serialize };\n  }\n\n  var createRange$1 = function (sc, so, ec, eo) {\n    var rng = document.createRange();\n    rng.setStart(sc, so);\n    rng.setEnd(ec, eo);\n    return rng;\n  };\n  var normalizeBlockSelectionRange = function (rng) {\n    var startPos = CaretPosition$1.fromRangeStart(rng);\n    var endPos = CaretPosition$1.fromRangeEnd(rng);\n    var rootNode = rng.commonAncestorContainer;\n    return $_32xcvk30jnlpaxbn.fromPosition(false, rootNode, endPos).map(function (newEndPos) {\n      if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n        return createRange$1(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n      } else {\n        return rng;\n      }\n    }).getOr(rng);\n  };\n  var normalize = function (rng) {\n    return rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n  };\n  var $_4fmn0j3qjnlpaxhi = { normalize: normalize };\n\n  var isAfterNbsp = function (container, offset) {\n    return $_fy28ei1rjnlpax2o.isText(container) && container.nodeValue[offset - 1] === '\\xA0';\n  };\n  var trimOrPadLeftRight = function (rng, html) {\n    var container, offset;\n    container = rng.startContainer;\n    offset = rng.startOffset;\n    var hasSiblingText = function (siblingName) {\n      return container[siblingName] && container[siblingName].nodeType === 3;\n    };\n    if (container.nodeType === 3) {\n      if (offset > 0) {\n        html = html.replace(/^&nbsp;/, ' ');\n      } else if (!hasSiblingText('previousSibling')) {\n        html = html.replace(/^ /, '&nbsp;');\n      }\n      if (offset < container.length) {\n        html = html.replace(/&nbsp;(<br>|)$/, ' ');\n      } else if (!hasSiblingText('nextSibling')) {\n        html = html.replace(/(&nbsp;| )(<br>|)$/, '&nbsp;');\n      }\n    }\n    return html;\n  };\n  var trimNbspAfterDeleteAndPadValue = function (rng, value) {\n    var container, offset;\n    container = rng.startContainer;\n    offset = rng.startOffset;\n    if (container.nodeType === 3 && rng.collapsed) {\n      if (container.data[offset] === '\\xA0') {\n        container.deleteData(offset, 1);\n        if (!/[\\u00a0| ]$/.test(value)) {\n          value += ' ';\n        }\n      } else if (container.data[offset - 1] === '\\xA0') {\n        container.deleteData(offset - 1, 1);\n        if (!/[\\u00a0| ]$/.test(value)) {\n          value = ' ' + value;\n        }\n      }\n    }\n    return value;\n  };\n\n  var isTableCell$2 = $_fy28ei1rjnlpax2o.matchNodeNames('td th');\n  var selectionSetContent = function (editor, content) {\n    var rng = editor.selection.getRng();\n    var container = rng.startContainer;\n    var offset = rng.startOffset;\n    if (rng.collapsed && isAfterNbsp(container, offset) && $_fy28ei1rjnlpax2o.isText(container)) {\n      container.insertData(offset - 1, ' ');\n      container.deleteData(offset, 1);\n      rng.setStart(container, offset);\n      rng.setEnd(container, offset);\n      editor.selection.setRng(rng);\n    }\n    editor.selection.setContent(content);\n  };\n  var validInsertion = function (editor, value, parentNode) {\n    if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n      parentNode.parentNode.insertBefore(editor.dom.createFragment(value), parentNode);\n    } else {\n      var node = parentNode.firstChild;\n      var node2 = parentNode.lastChild;\n      if (!node || node === node2 && node.nodeName === 'BR') {\n        editor.dom.setHTML(parentNode, value);\n      } else {\n        selectionSetContent(editor, value);\n      }\n    }\n  };\n  var trimBrsFromTableCell = function (dom, elm) {\n    Option.from(dom.getParent(elm, 'td,th')).map(Element$$1.fromDom).each($_azhpc63njnlpaxgw.trimBlockTrailingBr);\n  };\n  var reduceInlineTextElements = function (editor, merge) {\n    var textInlineElements = editor.schema.getTextInlineElements();\n    var dom = editor.dom;\n    if (merge) {\n      var root_1 = editor.getBody(), elementUtils_1 = new ElementUtils(dom);\n      $_1q1txeljnlpawsa.each(dom.select('*[data-mce-fragment]'), function (node) {\n        for (var testNode = node.parentNode; testNode && testNode !== root_1; testNode = testNode.parentNode) {\n          if (textInlineElements[node.nodeName.toLowerCase()] && elementUtils_1.compare(testNode, node)) {\n            dom.remove(node, true);\n          }\n        }\n      });\n    }\n  };\n  var markFragmentElements = function (fragment) {\n    var node = fragment;\n    while (node = node.walk()) {\n      if (node.type === 1) {\n        node.attr('data-mce-fragment', '1');\n      }\n    }\n  };\n  var umarkFragmentElements = function (elm) {\n    $_1q1txeljnlpawsa.each(elm.getElementsByTagName('*'), function (elm) {\n      elm.removeAttribute('data-mce-fragment');\n    });\n  };\n  var isPartOfFragment = function (node) {\n    return !!node.getAttribute('data-mce-fragment');\n  };\n  var canHaveChildren = function (editor, node) {\n    return node && !editor.schema.getShortEndedElements()[node.nodeName];\n  };\n  var moveSelectionToMarker = function (editor, marker) {\n    var parentEditableFalseElm, parentBlock, nextRng;\n    var dom = editor.dom, selection = editor.selection;\n    var node, node2;\n    var getContentEditableFalseParent = function (node) {\n      var root = editor.getBody();\n      for (; node && node !== root; node = node.parentNode) {\n        if (editor.dom.getContentEditable(node) === 'false') {\n          return node;\n        }\n      }\n      return null;\n    };\n    if (!marker) {\n      return;\n    }\n    editor.selection.scrollIntoView(marker);\n    parentEditableFalseElm = getContentEditableFalseParent(marker);\n    if (parentEditableFalseElm) {\n      dom.remove(marker);\n      selection.select(parentEditableFalseElm);\n      return;\n    }\n    var rng = dom.createRng();\n    node = marker.previousSibling;\n    if (node && node.nodeType === 3) {\n      rng.setStart(node, node.nodeValue.length);\n      if (!$_cseqobajnlpawll.ie) {\n        node2 = marker.nextSibling;\n        if (node2 && node2.nodeType === 3) {\n          node.appendData(node2.data);\n          node2.parentNode.removeChild(node2);\n        }\n      }\n    } else {\n      rng.setStartBefore(marker);\n      rng.setEndBefore(marker);\n    }\n    var findNextCaretRng = function (rng) {\n      var caretPos = CaretPosition$1.fromRangeStart(rng);\n      var caretWalker = CaretWalker(editor.getBody());\n      caretPos = caretWalker.next(caretPos);\n      if (caretPos) {\n        return caretPos.toRange();\n      }\n    };\n    parentBlock = dom.getParent(marker, dom.isBlock);\n    dom.remove(marker);\n    if (parentBlock && dom.isEmpty(parentBlock)) {\n      editor.$(parentBlock).empty();\n      rng.setStart(parentBlock, 0);\n      rng.setEnd(parentBlock, 0);\n      if (!isTableCell$2(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n        rng = nextRng;\n        dom.remove(parentBlock);\n      } else {\n        dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n      }\n    }\n    selection.setRng(rng);\n  };\n  var insertHtmlAtCaret = function (editor, value, details) {\n    var parser, serializer, parentNode, rootNode, fragment, args;\n    var marker, rng, node, bookmarkHtml, merge;\n    var selection = editor.selection, dom = editor.dom;\n    if (/^ | $/.test(value)) {\n      value = trimOrPadLeftRight(selection.getRng(), value);\n    }\n    parser = editor.parser;\n    merge = details.merge;\n    serializer = HtmlSerializer({ validate: editor.settings.validate }, editor.schema);\n    bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;&#x200B;</span>';\n    args = {\n      content: value,\n      format: 'html',\n      selection: true,\n      paste: details.paste\n    };\n    args = editor.fire('BeforeSetContent', args);\n    if (args.isDefaultPrevented()) {\n      editor.fire('SetContent', {\n        content: args.content,\n        format: 'html',\n        selection: true,\n        paste: details.paste\n      });\n      return;\n    }\n    value = args.content;\n    if (value.indexOf('{$caret}') === -1) {\n      value += '{$caret}';\n    }\n    value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n    rng = selection.getRng();\n    var caretElement = rng.startContainer || (rng.parentElement ? rng.parentElement() : null);\n    var body = editor.getBody();\n    if (caretElement === body && selection.isCollapsed()) {\n      if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n        rng = dom.createRng();\n        rng.setStart(body.firstChild, 0);\n        rng.setEnd(body.firstChild, 0);\n        selection.setRng(rng);\n      }\n    }\n    if (!selection.isCollapsed()) {\n      editor.selection.setRng($_4fmn0j3qjnlpaxhi.normalize(editor.selection.getRng()));\n      editor.getDoc().execCommand('Delete', false, null);\n      value = trimNbspAfterDeleteAndPadValue(editor.selection.getRng(), value);\n    }\n    parentNode = selection.getNode();\n    var parserArgs = {\n      context: parentNode.nodeName.toLowerCase(),\n      data: details.data,\n      insert: true\n    };\n    fragment = parser.parse(value, parserArgs);\n    if (details.paste === true && $_64vm3ljnlpaxgp.isListFragment(editor.schema, fragment) && $_64vm3ljnlpaxgp.isParentBlockLi(dom, parentNode)) {\n      rng = $_64vm3ljnlpaxgp.insertAtCaret(serializer, dom, editor.selection.getRng(), fragment);\n      editor.selection.setRng(rng);\n      editor.fire('SetContent', args);\n      return;\n    }\n    markFragmentElements(fragment);\n    node = fragment.lastChild;\n    if (node.attr('id') === 'mce_marker') {\n      marker = node;\n      for (node = node.prev; node; node = node.walk(true)) {\n        if (node.type === 3 || !dom.isBlock(node.name)) {\n          if (editor.schema.isValidChild(node.parent.name, 'span')) {\n            node.parent.insert(marker, node, node.name === 'br');\n          }\n          break;\n        }\n      }\n    }\n    editor._selectionOverrides.showBlockCaretContainer(parentNode);\n    if (!parserArgs.invalid) {\n      value = serializer.serialize(fragment);\n      validInsertion(editor, value, parentNode);\n    } else {\n      selectionSetContent(editor, bookmarkHtml);\n      parentNode = selection.getNode();\n      rootNode = editor.getBody();\n      if (parentNode.nodeType === 9) {\n        parentNode = node = rootNode;\n      } else {\n        node = parentNode;\n      }\n      while (node !== rootNode) {\n        parentNode = node;\n        node = node.parentNode;\n      }\n      value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n      value = serializer.serialize(parser.parse(value.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i, function () {\n        return serializer.serialize(fragment);\n      })));\n      if (parentNode === rootNode) {\n        dom.setHTML(rootNode, value);\n      } else {\n        dom.setOuterHTML(parentNode, value);\n      }\n    }\n    reduceInlineTextElements(editor, merge);\n    moveSelectionToMarker(editor, dom.get('mce_marker'));\n    umarkFragmentElements(editor.getBody());\n    trimBrsFromTableCell(editor.dom, editor.selection.getStart());\n    editor.fire('SetContent', args);\n    editor.addVisual();\n  };\n  var processValue = function (value) {\n    var details;\n    if (typeof value !== 'string') {\n      details = $_1q1txeljnlpawsa.extend({\n        paste: value.paste,\n        data: { paste: value.paste }\n      }, value);\n      return {\n        content: value.content,\n        details: details\n      };\n    }\n    return {\n      content: value,\n      details: {}\n    };\n  };\n  var insertAtCaret$1 = function (editor, value) {\n    var result = processValue(value);\n    insertHtmlAtCaret(editor, result.content, result.details);\n  };\n  var $_f55bk53kjnlpaxge = { insertAtCaret: insertAtCaret$1 };\n\n  var sectionResult = Immutable('sections', 'settings');\n  var detection = $_766rx4ojnlpawtd.detect();\n  var isTouch = detection.deviceType.isTouch();\n  var mobilePlugins = [\n    'lists',\n    'autolink',\n    'autosave'\n  ];\n  var defaultMobileSettings = { theme: 'mobile' };\n  var normalizePlugins = function (plugins) {\n    var pluginNames = isArray(plugins) ? plugins.join(' ') : plugins;\n    var trimmedPlugins = map(isString(pluginNames) ? pluginNames.split(' ') : [], trim$2);\n    return filter(trimmedPlugins, function (item) {\n      return item.length > 0;\n    });\n  };\n  var filterMobilePlugins = function (plugins) {\n    return filter(plugins, curry(contains, mobilePlugins));\n  };\n  var extractSections = function (keys$$1, settings) {\n    var result = bifilter(settings, function (value, key) {\n      return contains(keys$$1, key);\n    });\n    return sectionResult(result.t, result.f);\n  };\n  var getSection = function (sectionResult, name, defaults) {\n    var sections = sectionResult.sections();\n    var sectionSettings = sections.hasOwnProperty(name) ? sections[name] : {};\n    return $_1q1txeljnlpawsa.extend({}, defaults, sectionSettings);\n  };\n  var hasSection = function (sectionResult, name) {\n    return sectionResult.sections().hasOwnProperty(name);\n  };\n  var getDefaultSettings = function (id, documentBaseUrl, editor) {\n    return {\n      id: id,\n      theme: 'modern',\n      delta_width: 0,\n      delta_height: 0,\n      popup_css: '',\n      plugins: '',\n      document_base_url: documentBaseUrl,\n      add_form_submit_trigger: true,\n      submit_patch: true,\n      add_unload_trigger: true,\n      convert_urls: true,\n      relative_urls: true,\n      remove_script_host: true,\n      object_resizing: true,\n      doctype: '<!DOCTYPE html>',\n      visual: true,\n      font_size_style_values: 'xx-small,x-small,small,medium,large,x-large,xx-large',\n      font_size_legacy_values: 'xx-small,small,medium,large,x-large,xx-large,300%',\n      forced_root_block: 'p',\n      hidden_input: true,\n      render_ui: true,\n      indentation: '30px',\n      inline_styles: true,\n      convert_fonts_to_spans: true,\n      indent: 'simple',\n      indent_before: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n      indent_after: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist',\n      entity_encoding: 'named',\n      url_converter: editor.convertURL,\n      url_converter_scope: editor,\n      ie7_compat: true\n    };\n  };\n  var getExternalPlugins = function (overrideSettings, settings) {\n    var userDefinedExternalPlugins = settings.external_plugins ? settings.external_plugins : {};\n    if (overrideSettings && overrideSettings.external_plugins) {\n      return $_1q1txeljnlpawsa.extend({}, overrideSettings.external_plugins, userDefinedExternalPlugins);\n    } else {\n      return userDefinedExternalPlugins;\n    }\n  };\n  var combinePlugins = function (forcedPlugins, plugins) {\n    return [].concat(normalizePlugins(forcedPlugins)).concat(normalizePlugins(plugins));\n  };\n  var processPlugins = function (isTouchDevice, sectionResult, defaultOverrideSettings, settings) {\n    var forcedPlugins = normalizePlugins(defaultOverrideSettings.forced_plugins);\n    var plugins = normalizePlugins(settings.plugins);\n    var platformPlugins = isTouchDevice && hasSection(sectionResult, 'mobile') ? filterMobilePlugins(plugins) : plugins;\n    var combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n    return $_1q1txeljnlpawsa.extend(settings, { plugins: combinedPlugins.join(' ') });\n  };\n  var isOnMobile = function (isTouchDevice, sectionResult) {\n    var isInline = sectionResult.settings().inline;\n    return isTouchDevice && hasSection(sectionResult, 'mobile') && !isInline;\n  };\n  var combineSettings = function (isTouchDevice, defaultSettings, defaultOverrideSettings, settings) {\n    var sectionResult = extractSections(['mobile'], settings);\n    var extendedSettings = $_1q1txeljnlpawsa.extend(defaultSettings, defaultOverrideSettings, sectionResult.settings(), isOnMobile(isTouchDevice, sectionResult) ? getSection(sectionResult, 'mobile', defaultMobileSettings) : {}, {\n      validate: true,\n      content_editable: sectionResult.settings().inline,\n      external_plugins: getExternalPlugins(defaultOverrideSettings, sectionResult.settings())\n    });\n    return processPlugins(isTouchDevice, sectionResult, defaultOverrideSettings, extendedSettings);\n  };\n  var getEditorSettings = function (editor, id, documentBaseUrl, defaultOverrideSettings, settings) {\n    var defaultSettings = getDefaultSettings(id, documentBaseUrl, editor);\n    return combineSettings(isTouch, defaultSettings, defaultOverrideSettings, settings);\n  };\n  var getFiltered = function (predicate, editor, name) {\n    return Option.from(editor.settings[name]).filter(predicate);\n  };\n  var getString = curry(getFiltered, isString);\n  var getParamObject = function (value) {\n    var output = {};\n    if (typeof value === 'string') {\n      each(value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(','), function (val) {\n        var arr = val.split('=');\n        if (arr.length > 1) {\n          output[$_1q1txeljnlpawsa.trim(arr[0])] = $_1q1txeljnlpawsa.trim(arr[1]);\n        } else {\n          output[$_1q1txeljnlpawsa.trim(arr[0])] = $_1q1txeljnlpawsa.trim(arr);\n        }\n      });\n    } else {\n      output = value;\n    }\n    return output;\n  };\n  var isArrayOf = function (p) {\n    return function (a) {\n      return isArray(a) && forall(a, p);\n    };\n  };\n  var getParam = function (editor, name, defaultVal, type) {\n    var value = name in editor.settings ? editor.settings[name] : defaultVal;\n    if (type === 'hash') {\n      return getParamObject(value);\n    } else if (type === 'string') {\n      return getFiltered(isString, editor, name).getOr(defaultVal);\n    } else if (type === 'number') {\n      return getFiltered(isNumber, editor, name).getOr(defaultVal);\n    } else if (type === 'boolean') {\n      return getFiltered(isBoolean, editor, name).getOr(defaultVal);\n    } else if (type === 'object') {\n      return getFiltered(isObject, editor, name).getOr(defaultVal);\n    } else if (type === 'array') {\n      return getFiltered(isArray, editor, name).getOr(defaultVal);\n    } else if (type === 'string[]') {\n      return getFiltered(isArrayOf(isString), editor, name).getOr(defaultVal);\n    } else if (type === 'function') {\n      return getFiltered(isFunction, editor, name).getOr(defaultVal);\n    } else {\n      return value;\n    }\n  };\n\n  var strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n  var hasStrongRtl = function (text) {\n    return strongRtl.test(text);\n  };\n\n  var isInlineTarget = function (editor, elm) {\n    var selector = getString(editor, 'inline_boundaries_selector').getOr('a[href],code');\n    return $_d8v5lf1gjnlpax0y.is(Element$$1.fromDom(elm), selector);\n  };\n  var isRtl = function (element) {\n    return DOMUtils$1.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl(element.textContent);\n  };\n  var findInlineParents = function (isInlineTarget, rootNode, pos) {\n    return filter(DOMUtils$1.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n  };\n  var findRootInline = function (isInlineTarget, rootNode, pos) {\n    var parents = findInlineParents(isInlineTarget, rootNode, pos);\n    return Option.from(parents[parents.length - 1]);\n  };\n  var hasSameParentBlock = function (rootNode, node1, node2) {\n    var block1 = getParentBlock(node1, rootNode);\n    var block2 = getParentBlock(node2, rootNode);\n    return block1 && block1 === block2;\n  };\n  var isAtZwsp = function (pos) {\n    return isBeforeInline(pos) || isAfterInline(pos);\n  };\n  var normalizePosition = function (forward, pos) {\n    var container = pos.container(), offset = pos.offset();\n    if (forward) {\n      if (isCaretContainerInline(container)) {\n        if ($_fy28ei1rjnlpax2o.isText(container.nextSibling)) {\n          return CaretPosition$1(container.nextSibling, 0);\n        } else {\n          return CaretPosition$1.after(container);\n        }\n      } else {\n        return isBeforeInline(pos) ? CaretPosition$1(container, offset + 1) : pos;\n      }\n    } else {\n      if (isCaretContainerInline(container)) {\n        if ($_fy28ei1rjnlpax2o.isText(container.previousSibling)) {\n          return CaretPosition$1(container.previousSibling, container.previousSibling.data.length);\n        } else {\n          return CaretPosition$1.before(container);\n        }\n      } else {\n        return isAfterInline(pos) ? CaretPosition$1(container, offset - 1) : pos;\n      }\n    }\n  };\n  var normalizeForwards = curry(normalizePosition, true);\n  var normalizeBackwards = curry(normalizePosition, false);\n  var $_955v2u3wjnlpaxit = {\n    isInlineTarget: isInlineTarget,\n    findRootInline: findRootInline,\n    isRtl: isRtl,\n    isAtZwsp: isAtZwsp,\n    normalizePosition: normalizePosition,\n    normalizeForwards: normalizeForwards,\n    normalizeBackwards: normalizeBackwards,\n    hasSameParentBlock: hasSameParentBlock\n  };\n\n  var isBeforeRoot = function (rootNode) {\n    return function (elm) {\n      return $_5h7cor1ejnlpax0k.eq(rootNode, Element$$1.fromDom(elm.dom().parentNode));\n    };\n  };\n  var getParentBlock$1 = function (rootNode, elm) {\n    return $_5h7cor1ejnlpax0k.contains(rootNode, elm) ? $_cs5qmd2ajnlpax6v.closest(elm, function (element) {\n      return isTextBlock(element) || isListItem(element);\n    }, isBeforeRoot(rootNode)) : Option.none();\n  };\n  var placeCaretInEmptyBody = function (editor) {\n    var body = editor.getBody();\n    var node = body.firstChild && editor.dom.isBlock(body.firstChild) ? body.firstChild : body;\n    editor.selection.setCursorLocation(node, 0);\n  };\n  var paddEmptyBody = function (editor) {\n    if (editor.dom.isEmpty(editor.getBody())) {\n      editor.setContent('');\n      placeCaretInEmptyBody(editor);\n    }\n  };\n  var willDeleteLastPositionInElement = function (forward, fromPos, elm) {\n    return liftN([\n      $_32xcvk30jnlpaxbn.firstPositionIn(elm),\n      $_32xcvk30jnlpaxbn.lastPositionIn(elm)\n    ], function (firstPos, lastPos) {\n      var normalizedFirstPos = $_955v2u3wjnlpaxit.normalizePosition(true, firstPos);\n      var normalizedLastPos = $_955v2u3wjnlpaxit.normalizePosition(false, lastPos);\n      var normalizedFromPos = $_955v2u3wjnlpaxit.normalizePosition(false, fromPos);\n      if (forward) {\n        return $_32xcvk30jnlpaxbn.nextPosition(elm, normalizedFromPos).map(function (nextPos) {\n          return nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos);\n        }).getOr(false);\n      } else {\n        return $_32xcvk30jnlpaxbn.prevPosition(elm, normalizedFromPos).map(function (prevPos) {\n          return prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos);\n        }).getOr(false);\n      }\n    }).getOr(true);\n  };\n  var $_dfzzw73vjnlpaxik = {\n    getParentBlock: getParentBlock$1,\n    paddEmptyBody: paddEmptyBody,\n    willDeleteLastPositionInElement: willDeleteLastPositionInElement\n  };\n\n  var any = function (selector) {\n    return $_2kbu29jnlpax6t.first(selector).isSome();\n  };\n  var ancestor$2 = function (scope, selector, isRoot) {\n    return $_2kbu29jnlpax6t.ancestor(scope, selector, isRoot).isSome();\n  };\n  var sibling$3 = function (scope, selector) {\n    return $_2kbu29jnlpax6t.sibling(scope, selector).isSome();\n  };\n  var child$3 = function (scope, selector) {\n    return $_2kbu29jnlpax6t.child(scope, selector).isSome();\n  };\n  var descendant$2 = function (scope, selector) {\n    return $_2kbu29jnlpax6t.descendant(scope, selector).isSome();\n  };\n  var closest$2 = function (scope, selector, isRoot) {\n    return $_2kbu29jnlpax6t.closest(scope, selector, isRoot).isSome();\n  };\n  var $_1kxnjb40jnlpaxjq = {\n    any: any,\n    ancestor: ancestor$2,\n    sibling: sibling$3,\n    child: child$3,\n    descendant: descendant$2,\n    closest: closest$2\n  };\n\n  var hasWhitespacePreserveParent = function (rootNode, node) {\n    var rootElement = Element$$1.fromDom(rootNode);\n    var startNode = Element$$1.fromDom(node);\n    return $_1kxnjb40jnlpaxjq.ancestor(startNode, 'pre,code', curry($_5h7cor1ejnlpax0k.eq, rootElement));\n  };\n  var isWhitespace = function (rootNode, node) {\n    return $_fy28ei1rjnlpax2o.isText(node) && /^[ \\t\\r\\n]*$/.test(node.data) && hasWhitespacePreserveParent(rootNode, node) === false;\n  };\n  var isNamedAnchor = function (node) {\n    return $_fy28ei1rjnlpax2o.isElement(node) && node.nodeName === 'A' && node.hasAttribute('name');\n  };\n  var isContent = function (rootNode, node) {\n    return isCaretCandidate(node) && isWhitespace(rootNode, node) === false || isNamedAnchor(node) || isBookmark(node);\n  };\n  var isBookmark = $_fy28ei1rjnlpax2o.hasAttribute('data-mce-bookmark');\n  var isBogus$2 = $_fy28ei1rjnlpax2o.hasAttribute('data-mce-bogus');\n  var isBogusAll$1 = $_fy28ei1rjnlpax2o.hasAttributeValue('data-mce-bogus', 'all');\n  var isEmptyNode = function (targetNode) {\n    var walker, node, brCount = 0;\n    if (isContent(targetNode, targetNode)) {\n      return false;\n    } else {\n      node = targetNode.firstChild;\n      if (!node) {\n        return true;\n      }\n      walker = new TreeWalker(node, targetNode);\n      do {\n        if (isBogusAll$1(node)) {\n          node = walker.next(true);\n          continue;\n        }\n        if (isBogus$2(node)) {\n          node = walker.next();\n          continue;\n        }\n        if ($_fy28ei1rjnlpax2o.isBr(node)) {\n          brCount++;\n          node = walker.next();\n          continue;\n        }\n        if (isContent(targetNode, node)) {\n          return false;\n        }\n        node = walker.next();\n      } while (node);\n      return brCount <= 1;\n    }\n  };\n  var isEmpty$1 = function (elm) {\n    return isEmptyNode(elm.dom());\n  };\n  var $_czpaaj3zjnlpaxjj = { isEmpty: isEmpty$1 };\n\n  var BlockPosition = Immutable('block', 'position');\n  var BlockBoundary = Immutable('from', 'to');\n  var getBlockPosition = function (rootNode, pos) {\n    var rootElm = Element$$1.fromDom(rootNode);\n    var containerElm = Element$$1.fromDom(pos.container());\n    return $_dfzzw73vjnlpaxik.getParentBlock(rootElm, containerElm).map(function (block) {\n      return BlockPosition(block, pos);\n    });\n  };\n  var isDifferentBlocks = function (blockBoundary) {\n    return $_5h7cor1ejnlpax0k.eq(blockBoundary.from().block(), blockBoundary.to().block()) === false;\n  };\n  var hasSameParent = function (blockBoundary) {\n    return $_dr4ybh18jnlpawzt.parent(blockBoundary.from().block()).bind(function (parent1) {\n      return $_dr4ybh18jnlpawzt.parent(blockBoundary.to().block()).filter(function (parent2) {\n        return $_5h7cor1ejnlpax0k.eq(parent1, parent2);\n      });\n    }).isSome();\n  };\n  var isEditable = function (blockBoundary) {\n    return $_fy28ei1rjnlpax2o.isContentEditableFalse(blockBoundary.from().block()) === false && $_fy28ei1rjnlpax2o.isContentEditableFalse(blockBoundary.to().block()) === false;\n  };\n  var skipLastBr = function (rootNode, forward, blockPosition) {\n    if ($_fy28ei1rjnlpax2o.isBr(blockPosition.position().getNode()) && $_czpaaj3zjnlpaxjj.isEmpty(blockPosition.block()) === false) {\n      return $_32xcvk30jnlpaxbn.positionIn(false, blockPosition.block().dom()).bind(function (lastPositionInBlock) {\n        if (lastPositionInBlock.isEqual(blockPosition.position())) {\n          return $_32xcvk30jnlpaxbn.fromPosition(forward, rootNode, lastPositionInBlock).bind(function (to) {\n            return getBlockPosition(rootNode, to);\n          });\n        } else {\n          return Option.some(blockPosition);\n        }\n      }).getOr(blockPosition);\n    } else {\n      return blockPosition;\n    }\n  };\n  var readFromRange = function (rootNode, forward, rng) {\n    var fromBlockPos = getBlockPosition(rootNode, CaretPosition$1.fromRangeStart(rng));\n    var toBlockPos = fromBlockPos.bind(function (blockPos) {\n      return $_32xcvk30jnlpaxbn.fromPosition(forward, rootNode, blockPos.position()).bind(function (to) {\n        return getBlockPosition(rootNode, to).map(function (blockPos) {\n          return skipLastBr(rootNode, forward, blockPos);\n        });\n      });\n    });\n    return liftN([\n      fromBlockPos,\n      toBlockPos\n    ], BlockBoundary).filter(function (blockBoundary) {\n      return isDifferentBlocks(blockBoundary) && hasSameParent(blockBoundary) && isEditable(blockBoundary);\n    });\n  };\n  var read$1 = function (rootNode, forward, rng) {\n    return rng.collapsed ? readFromRange(rootNode, forward, rng) : Option.none();\n  };\n  var $_5nfp373ujnlpaxi8 = { read: read$1 };\n\n  var dropLast = function (xs) {\n    return xs.slice(0, -1);\n  };\n  var parentsUntil$1 = function (startNode, rootElm, predicate) {\n    if ($_5h7cor1ejnlpax0k.contains(rootElm, startNode)) {\n      return dropLast($_dr4ybh18jnlpawzt.parents(startNode, function (elm) {\n        return predicate(elm) || $_5h7cor1ejnlpax0k.eq(elm, rootElm);\n      }));\n    } else {\n      return [];\n    }\n  };\n  var parents$1 = function (startNode, rootElm) {\n    return parentsUntil$1(startNode, rootElm, constant(false));\n  };\n  var parentsAndSelf = function (startNode, rootElm) {\n    return [startNode].concat(parents$1(startNode, rootElm));\n  };\n  var $_4b88sj42jnlpaxkd = {\n    parentsUntil: parentsUntil$1,\n    parents: parents$1,\n    parentsAndSelf: parentsAndSelf\n  };\n\n  var getChildrenUntilBlockBoundary = function (block) {\n    var children = $_dr4ybh18jnlpawzt.children(block);\n    return findIndex(children, isBlock).fold(function () {\n      return children;\n    }, function (index) {\n      return children.slice(0, index);\n    });\n  };\n  var extractChildren = function (block) {\n    var children = getChildrenUntilBlockBoundary(block);\n    each(children, $_azq8zm1wjnlpax4n.remove);\n    return children;\n  };\n  var removeEmptyRoot = function (rootNode, block) {\n    var parents = $_4b88sj42jnlpaxkd.parentsAndSelf(block, rootNode);\n    return find(parents.reverse(), $_czpaaj3zjnlpaxjj.isEmpty).each($_azq8zm1wjnlpax4n.remove);\n  };\n  var isEmptyBefore = function (el) {\n    return filter($_dr4ybh18jnlpawzt.prevSiblings(el), function (el) {\n      return !$_czpaaj3zjnlpaxjj.isEmpty(el);\n    }).length === 0;\n  };\n  var nestedBlockMerge = function (rootNode, fromBlock, toBlock, insertionPoint) {\n    if ($_czpaaj3zjnlpaxjj.isEmpty(toBlock)) {\n      $_azhpc63njnlpaxgw.fillWithPaddingBr(toBlock);\n      return $_32xcvk30jnlpaxbn.firstPositionIn(toBlock.dom());\n    }\n    if (isEmptyBefore(insertionPoint) && $_czpaaj3zjnlpaxjj.isEmpty(fromBlock)) {\n      $_ag89ax1yjnlpax4x.before(insertionPoint, Element$$1.fromTag('br'));\n    }\n    var position = $_32xcvk30jnlpaxbn.prevPosition(toBlock.dom(), CaretPosition$1.before(insertionPoint.dom()));\n    each(extractChildren(fromBlock), function (child) {\n      $_ag89ax1yjnlpax4x.before(insertionPoint, child);\n    });\n    removeEmptyRoot(rootNode, fromBlock);\n    return position;\n  };\n  var sidelongBlockMerge = function (rootNode, fromBlock, toBlock) {\n    if ($_czpaaj3zjnlpaxjj.isEmpty(toBlock)) {\n      $_azq8zm1wjnlpax4n.remove(toBlock);\n      if ($_czpaaj3zjnlpaxjj.isEmpty(fromBlock)) {\n        $_azhpc63njnlpaxgw.fillWithPaddingBr(fromBlock);\n      }\n      return $_32xcvk30jnlpaxbn.firstPositionIn(fromBlock.dom());\n    }\n    var position = $_32xcvk30jnlpaxbn.lastPositionIn(toBlock.dom());\n    each(extractChildren(fromBlock), function (child) {\n      $_ag89ax1yjnlpax4x.append(toBlock, child);\n    });\n    removeEmptyRoot(rootNode, fromBlock);\n    return position;\n  };\n  var findInsertionPoint = function (toBlock, block) {\n    var parentsAndSelf = $_4b88sj42jnlpaxkd.parentsAndSelf(block, toBlock);\n    return Option.from(parentsAndSelf[parentsAndSelf.length - 1]);\n  };\n  var getInsertionPoint = function (fromBlock, toBlock) {\n    return $_5h7cor1ejnlpax0k.contains(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Option.none();\n  };\n  var trimBr = function (first, block) {\n    $_32xcvk30jnlpaxbn.positionIn(first, block.dom()).map(function (position) {\n      return position.getNode();\n    }).map(Element$$1.fromDom).filter(isBr).each($_azq8zm1wjnlpax4n.remove);\n  };\n  var mergeBlockInto = function (rootNode, fromBlock, toBlock) {\n    trimBr(true, fromBlock);\n    trimBr(false, toBlock);\n    return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n  };\n  var mergeBlocks = function (rootNode, forward, block1, block2) {\n    return forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n  };\n  var $_dkwg7o41jnlpaxk0 = { mergeBlocks: mergeBlocks };\n\n  var backspaceDelete = function (editor, forward) {\n    var position;\n    var rootNode = Element$$1.fromDom(editor.getBody());\n    position = $_5nfp373ujnlpaxi8.read(rootNode.dom(), forward, editor.selection.getRng()).bind(function (blockBoundary) {\n      return $_dkwg7o41jnlpaxk0.mergeBlocks(rootNode, forward, blockBoundary.from().block(), blockBoundary.to().block());\n    });\n    position.each(function (pos) {\n      editor.selection.setRng(pos.toRange());\n    });\n    return position.isSome();\n  };\n  var $_3n8adg3tjnlpaxi5 = { backspaceDelete: backspaceDelete };\n\n  var deleteRangeMergeBlocks = function (rootNode, selection) {\n    var rng = selection.getRng();\n    return liftN([\n      $_dfzzw73vjnlpaxik.getParentBlock(rootNode, Element$$1.fromDom(rng.startContainer)),\n      $_dfzzw73vjnlpaxik.getParentBlock(rootNode, Element$$1.fromDom(rng.endContainer))\n    ], function (block1, block2) {\n      if ($_5h7cor1ejnlpax0k.eq(block1, block2) === false) {\n        rng.deleteContents();\n        $_dkwg7o41jnlpaxk0.mergeBlocks(rootNode, true, block1, block2).each(function (pos) {\n          selection.setRng(pos.toRange());\n        });\n        return true;\n      } else {\n        return false;\n      }\n    }).getOr(false);\n  };\n  var isRawNodeInTable = function (root, rawNode) {\n    var node = Element$$1.fromDom(rawNode);\n    var isRoot = curry($_5h7cor1ejnlpax0k.eq, root);\n    return $_cs5qmd2ajnlpax6v.ancestor(node, isTableCell, isRoot).isSome();\n  };\n  var isSelectionInTable = function (root, rng) {\n    return isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n  };\n  var isEverythingSelected = function (root, rng) {\n    var noPrevious = $_32xcvk30jnlpaxbn.prevPosition(root.dom(), CaretPosition$1.fromRangeStart(rng)).isNone();\n    var noNext = $_32xcvk30jnlpaxbn.nextPosition(root.dom(), CaretPosition$1.fromRangeEnd(rng)).isNone();\n    return !isSelectionInTable(root, rng) && noPrevious && noNext;\n  };\n  var emptyEditor = function (editor) {\n    editor.setContent('');\n    editor.selection.setCursorLocation();\n    return true;\n  };\n  var deleteRange = function (editor) {\n    var rootNode = Element$$1.fromDom(editor.getBody());\n    var rng = editor.selection.getRng();\n    return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n  };\n  var backspaceDelete$1 = function (editor, forward) {\n    return editor.selection.isCollapsed() ? false : deleteRange(editor);\n  };\n  var $_f5evyu43jnlpaxki = { backspaceDelete: backspaceDelete$1 };\n\n  var generate$1 = function (cases) {\n    if (!isArray(cases)) {\n      throw new Error('cases must be an array');\n    }\n    if (cases.length === 0) {\n      throw new Error('there must be at least one case');\n    }\n    var constructors = [];\n    var adt = {};\n    each(cases, function (acase, count) {\n      var keys$$1 = keys(acase);\n      if (keys$$1.length !== 1) {\n        throw new Error('one and only one name per case');\n      }\n      var key = keys$$1[0];\n      var value = acase[key];\n      if (adt[key] !== undefined) {\n        throw new Error('duplicate key detected:' + key);\n      } else if (key === 'cata') {\n        throw new Error('cannot have a case named cata (sorry)');\n      } else if (!isArray(value)) {\n        throw new Error('case arguments must be an array');\n      }\n      constructors.push(key);\n      adt[key] = function () {\n        var argLength = arguments.length;\n        if (argLength !== value.length) {\n          throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n        }\n        var args = new Array(argLength);\n        for (var i = 0; i < args.length; i++)\n          args[i] = arguments[i];\n        var match = function (branches) {\n          var branchKeys = keys(branches);\n          if (constructors.length !== branchKeys.length) {\n            throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n          }\n          var allReqd = forall(constructors, function (reqKey) {\n            return contains(branchKeys, reqKey);\n          });\n          if (!allReqd)\n            throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n          return branches[key].apply(null, args);\n        };\n        return {\n          fold: function () {\n            if (arguments.length !== cases.length) {\n              throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + arguments.length);\n            }\n            var target = arguments[count];\n            return target.apply(null, args);\n          },\n          match: match,\n          log: function (label) {\n            console.log(label, {\n              constructors: constructors,\n              constructor: key,\n              params: args\n            });\n          }\n        };\n      };\n    });\n    return adt;\n  };\n  var Adt = { generate: generate$1 };\n\n  var isCompoundElement = function (node) {\n    return isTableCell(Element$$1.fromDom(node)) || isListItem(Element$$1.fromDom(node));\n  };\n  var DeleteAction = Adt.generate([\n    { remove: ['element'] },\n    { moveToElement: ['element'] },\n    { moveToPosition: ['position'] }\n  ]);\n  var isAtContentEditableBlockCaret = function (forward, from) {\n    var elm = from.getNode(forward === false);\n    var caretLocation = forward ? 'after' : 'before';\n    return $_fy28ei1rjnlpax2o.isElement(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n  };\n  var isDeleteFromCefDifferentBlocks = function (root, forward, from, to) {\n    var inSameBlock = function (elm) {\n      return isInline(Element$$1.fromDom(elm)) && !isInSameBlock(from, to, root);\n    };\n    return getRelativeCefElm(!forward, from).fold(function () {\n      return getRelativeCefElm(forward, to).fold(constant(false), inSameBlock);\n    }, inSameBlock);\n  };\n  var deleteEmptyBlockOrMoveToCef = function (root, forward, from, to) {\n    var toCefElm = to.getNode(forward === false);\n    return $_dfzzw73vjnlpaxik.getParentBlock(Element$$1.fromDom(root), Element$$1.fromDom(from.getNode())).map(function (blockElm) {\n      return $_czpaaj3zjnlpaxjj.isEmpty(blockElm) ? DeleteAction.remove(blockElm.dom()) : DeleteAction.moveToElement(toCefElm);\n    }).orThunk(function () {\n      return Option.some(DeleteAction.moveToElement(toCefElm));\n    });\n  };\n  var findCefPosition = function (root, forward, from) {\n    return $_32xcvk30jnlpaxbn.fromPosition(forward, root, from).bind(function (to) {\n      if (isCompoundElement(to.getNode())) {\n        return Option.none();\n      } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n        return Option.none();\n      } else if (forward && $_fy28ei1rjnlpax2o.isContentEditableFalse(to.getNode())) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward === false && $_fy28ei1rjnlpax2o.isContentEditableFalse(to.getNode(true))) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward && isAfterContentEditableFalse(from)) {\n        return Option.some(DeleteAction.moveToPosition(to));\n      } else if (forward === false && isBeforeContentEditableFalse(from)) {\n        return Option.some(DeleteAction.moveToPosition(to));\n      } else {\n        return Option.none();\n      }\n    });\n  };\n  var getContentEditableBlockAction = function (forward, elm) {\n    if (forward && $_fy28ei1rjnlpax2o.isContentEditableFalse(elm.nextSibling)) {\n      return Option.some(DeleteAction.moveToElement(elm.nextSibling));\n    } else if (forward === false && $_fy28ei1rjnlpax2o.isContentEditableFalse(elm.previousSibling)) {\n      return Option.some(DeleteAction.moveToElement(elm.previousSibling));\n    } else {\n      return Option.none();\n    }\n  };\n  var skipMoveToActionFromInlineCefToContent = function (root, from, deleteAction) {\n    return deleteAction.fold(function (elm) {\n      return Option.some(DeleteAction.remove(elm));\n    }, function (elm) {\n      return Option.some(DeleteAction.moveToElement(elm));\n    }, function (to) {\n      if (isInSameBlock(from, to, root)) {\n        return Option.none();\n      } else {\n        return Option.some(DeleteAction.moveToPosition(to));\n      }\n    });\n  };\n  var getContentEditableAction = function (root, forward, from) {\n    if (isAtContentEditableBlockCaret(forward, from)) {\n      return getContentEditableBlockAction(forward, from.getNode(forward === false)).fold(function () {\n        return findCefPosition(root, forward, from);\n      }, Option.some);\n    } else {\n      return findCefPosition(root, forward, from).bind(function (deleteAction) {\n        return skipMoveToActionFromInlineCefToContent(root, from, deleteAction);\n      });\n    }\n  };\n  var read$2 = function (root, forward, rng) {\n    var normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n    var from = CaretPosition$1.fromRangeStart(normalizedRange);\n    if (forward === false && isAfterContentEditableFalse(from)) {\n      return Option.some(DeleteAction.remove(from.getNode(true)));\n    } else if (forward && isBeforeContentEditableFalse(from)) {\n      return Option.some(DeleteAction.remove(from.getNode()));\n    } else {\n      return getContentEditableAction(root, forward, from);\n    }\n  };\n\n  var needsReposition = function (pos, elm) {\n    var container = pos.container();\n    var offset = pos.offset();\n    return CaretPosition$1.isTextPosition(pos) === false && container === elm.parentNode && offset > CaretPosition$1.before(elm).offset();\n  };\n  var reposition = function (elm, pos) {\n    return needsReposition(pos, elm) ? CaretPosition$1(pos.container(), pos.offset() - 1) : pos;\n  };\n  var beforeOrStartOf = function (node) {\n    return $_fy28ei1rjnlpax2o.isText(node) ? CaretPosition$1(node, 0) : CaretPosition$1.before(node);\n  };\n  var afterOrEndOf = function (node) {\n    return $_fy28ei1rjnlpax2o.isText(node) ? CaretPosition$1(node, node.data.length) : CaretPosition$1.after(node);\n  };\n  var getPreviousSiblingCaretPosition = function (elm) {\n    if (isCaretCandidate(elm.previousSibling)) {\n      return Option.some(afterOrEndOf(elm.previousSibling));\n    } else {\n      return elm.previousSibling ? $_32xcvk30jnlpaxbn.lastPositionIn(elm.previousSibling) : Option.none();\n    }\n  };\n  var getNextSiblingCaretPosition = function (elm) {\n    if (isCaretCandidate(elm.nextSibling)) {\n      return Option.some(beforeOrStartOf(elm.nextSibling));\n    } else {\n      return elm.nextSibling ? $_32xcvk30jnlpaxbn.firstPositionIn(elm.nextSibling) : Option.none();\n    }\n  };\n  var findCaretPositionBackwardsFromElm = function (rootElement, elm) {\n    var startPosition = CaretPosition$1.before(elm.previousSibling ? elm.previousSibling : elm.parentNode);\n    return $_32xcvk30jnlpaxbn.prevPosition(rootElement, startPosition).fold(function () {\n      return $_32xcvk30jnlpaxbn.nextPosition(rootElement, CaretPosition$1.after(elm));\n    }, Option.some);\n  };\n  var findCaretPositionForwardsFromElm = function (rootElement, elm) {\n    return $_32xcvk30jnlpaxbn.nextPosition(rootElement, CaretPosition$1.after(elm)).fold(function () {\n      return $_32xcvk30jnlpaxbn.prevPosition(rootElement, CaretPosition$1.before(elm));\n    }, Option.some);\n  };\n  var findCaretPositionBackwards = function (rootElement, elm) {\n    return getPreviousSiblingCaretPosition(elm).orThunk(function () {\n      return getNextSiblingCaretPosition(elm);\n    }).orThunk(function () {\n      return findCaretPositionBackwardsFromElm(rootElement, elm);\n    });\n  };\n  var findCaretPositionForward = function (rootElement, elm) {\n    return getNextSiblingCaretPosition(elm).orThunk(function () {\n      return getPreviousSiblingCaretPosition(elm);\n    }).orThunk(function () {\n      return findCaretPositionForwardsFromElm(rootElement, elm);\n    });\n  };\n  var findCaretPosition$1 = function (forward, rootElement, elm) {\n    return forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n  };\n  var findCaretPosOutsideElmAfterDelete = function (forward, rootElement, elm) {\n    return findCaretPosition$1(forward, rootElement, elm).map(curry(reposition, elm));\n  };\n  var setSelection = function (editor, forward, pos) {\n    pos.fold(function () {\n      editor.focus();\n    }, function (pos) {\n      editor.selection.setRng(pos.toRange(), forward);\n    });\n  };\n  var eqRawNode = function (rawNode) {\n    return function (elm) {\n      return elm.dom() === rawNode;\n    };\n  };\n  var isBlock$2 = function (editor, elm) {\n    return elm && editor.schema.getBlockElements().hasOwnProperty($_7u5fzs11jnlpawv6.name(elm));\n  };\n  var paddEmptyBlock = function (elm) {\n    if ($_czpaaj3zjnlpaxjj.isEmpty(elm)) {\n      var br = Element$$1.fromHtml('<br data-mce-bogus=\"1\">');\n      $_azq8zm1wjnlpax4n.empty(elm);\n      $_ag89ax1yjnlpax4x.append(elm, br);\n      return Option.some(CaretPosition$1.before(br.dom()));\n    } else {\n      return Option.none();\n    }\n  };\n  var deleteNormalized = function (elm, afterDeletePosOpt) {\n    return liftN([\n      $_dr4ybh18jnlpawzt.prevSibling(elm),\n      $_dr4ybh18jnlpawzt.nextSibling(elm),\n      afterDeletePosOpt\n    ], function (prev, next, afterDeletePos) {\n      var offset;\n      var prevNode = prev.dom();\n      var nextNode = next.dom();\n      if ($_fy28ei1rjnlpax2o.isText(prevNode) && $_fy28ei1rjnlpax2o.isText(nextNode)) {\n        offset = prevNode.data.length;\n        prevNode.appendData(nextNode.data);\n        $_azq8zm1wjnlpax4n.remove(next);\n        $_azq8zm1wjnlpax4n.remove(elm);\n        if (afterDeletePos.container() === nextNode) {\n          return CaretPosition$1(prevNode, offset);\n        } else {\n          return afterDeletePos;\n        }\n      } else {\n        $_azq8zm1wjnlpax4n.remove(elm);\n        return afterDeletePos;\n      }\n    }).orThunk(function () {\n      $_azq8zm1wjnlpax4n.remove(elm);\n      return afterDeletePosOpt;\n    });\n  };\n  var deleteElement = function (editor, forward, elm) {\n    var afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom());\n    var parentBlock = $_cs5qmd2ajnlpax6v.ancestor(elm, curry(isBlock$2, editor), eqRawNode(editor.getBody()));\n    var normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos);\n    if (editor.dom.isEmpty(editor.getBody())) {\n      editor.setContent('');\n      editor.selection.setCursorLocation();\n    } else {\n      parentBlock.bind(paddEmptyBlock).fold(function () {\n        setSelection(editor, forward, normalizedAfterDeletePos);\n      }, function (paddPos) {\n        setSelection(editor, forward, Option.some(paddPos));\n      });\n    }\n  };\n  var $_ezizyx47jnlpaxle = { deleteElement: deleteElement };\n\n  var deleteElement$1 = function (editor, forward) {\n    return function (element) {\n      editor._selectionOverrides.hideFakeCaret();\n      $_ezizyx47jnlpaxle.deleteElement(editor, forward, Element$$1.fromDom(element));\n      return true;\n    };\n  };\n  var moveToElement = function (editor, forward) {\n    return function (element) {\n      var pos = forward ? CaretPosition$1.before(element) : CaretPosition$1.after(element);\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n  };\n  var moveToPosition = function (editor) {\n    return function (pos) {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n  };\n  var backspaceDeleteCaret = function (editor, forward) {\n    var result = read$2(editor.getBody(), forward, editor.selection.getRng()).map(function (deleteAction) {\n      return deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor));\n    });\n    return result.getOr(false);\n  };\n  var deleteOffscreenSelection = function (rootElement) {\n    each($_cmitir27jnlpax6e.descendants(rootElement, '.mce-offscreen-selection'), $_azq8zm1wjnlpax4n.remove);\n  };\n  var backspaceDeleteRange = function (editor, forward) {\n    var selectedElement = editor.selection.getNode();\n    if ($_fy28ei1rjnlpax2o.isContentEditableFalse(selectedElement)) {\n      deleteOffscreenSelection(Element$$1.fromDom(editor.getBody()));\n      $_ezizyx47jnlpaxle.deleteElement(editor, forward, Element$$1.fromDom(editor.selection.getNode()));\n      $_dfzzw73vjnlpaxik.paddEmptyBody(editor);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var getContentEditableRoot = function (root, node) {\n    while (node && node !== root) {\n      if ($_fy28ei1rjnlpax2o.isContentEditableTrue(node) || $_fy28ei1rjnlpax2o.isContentEditableFalse(node)) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n  var paddEmptyElement = function (editor) {\n    var br;\n    var ceRoot = getContentEditableRoot(editor.getBody(), editor.selection.getNode());\n    if ($_fy28ei1rjnlpax2o.isContentEditableTrue(ceRoot) && editor.dom.isBlock(ceRoot) && editor.dom.isEmpty(ceRoot)) {\n      br = editor.dom.create('br', { 'data-mce-bogus': '1' });\n      editor.dom.setHTML(ceRoot, '');\n      ceRoot.appendChild(br);\n      editor.selection.setRng(CaretPosition$1.before(br).toRange());\n    }\n    return true;\n  };\n  var backspaceDelete$2 = function (editor, forward) {\n    if (editor.selection.isCollapsed()) {\n      return backspaceDeleteCaret(editor, forward);\n    } else {\n      return backspaceDeleteRange(editor, forward);\n    }\n  };\n  var $_jcgv344jnlpaxks = {\n    backspaceDelete: backspaceDelete$2,\n    paddEmptyElement: paddEmptyElement\n  };\n\n  var isText$8 = $_fy28ei1rjnlpax2o.isText;\n  var startsWithCaretContainer$1 = function (node) {\n    return isText$8(node) && node.data[0] === $_90hfb72rjnlpaxae.ZWSP;\n  };\n  var endsWithCaretContainer$1 = function (node) {\n    return isText$8(node) && node.data[node.data.length - 1] === $_90hfb72rjnlpaxae.ZWSP;\n  };\n  var createZwsp = function (node) {\n    return node.ownerDocument.createTextNode($_90hfb72rjnlpaxae.ZWSP);\n  };\n  var insertBefore$1 = function (node) {\n    if (isText$8(node.previousSibling)) {\n      if (endsWithCaretContainer$1(node.previousSibling)) {\n        return node.previousSibling;\n      } else {\n        node.previousSibling.appendData($_90hfb72rjnlpaxae.ZWSP);\n        return node.previousSibling;\n      }\n    } else if (isText$8(node)) {\n      if (startsWithCaretContainer$1(node)) {\n        return node;\n      } else {\n        node.insertData(0, $_90hfb72rjnlpaxae.ZWSP);\n        return node;\n      }\n    } else {\n      var newNode = createZwsp(node);\n      node.parentNode.insertBefore(newNode, node);\n      return newNode;\n    }\n  };\n  var insertAfter$1 = function (node) {\n    if (isText$8(node.nextSibling)) {\n      if (startsWithCaretContainer$1(node.nextSibling)) {\n        return node.nextSibling;\n      } else {\n        node.nextSibling.insertData(0, $_90hfb72rjnlpaxae.ZWSP);\n        return node.nextSibling;\n      }\n    } else if (isText$8(node)) {\n      if (endsWithCaretContainer$1(node)) {\n        return node;\n      } else {\n        node.appendData($_90hfb72rjnlpaxae.ZWSP);\n        return node;\n      }\n    } else {\n      var newNode = createZwsp(node);\n      if (node.nextSibling) {\n        node.parentNode.insertBefore(newNode, node.nextSibling);\n      } else {\n        node.parentNode.appendChild(newNode);\n      }\n      return newNode;\n    }\n  };\n  var insertInline$1 = function (before, node) {\n    return before ? insertBefore$1(node) : insertAfter$1(node);\n  };\n  var insertInlineBefore = curry(insertInline$1, true);\n  var insertInlineAfter = curry(insertInline$1, false);\n\n  var insertInlinePos = function (pos, before) {\n    if ($_fy28ei1rjnlpax2o.isText(pos.container())) {\n      return insertInline$1(before, pos.container());\n    } else {\n      return insertInline$1(before, pos.getNode());\n    }\n  };\n  var isPosCaretContainer = function (pos, caret) {\n    var caretNode = caret.get();\n    return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n  };\n  var renderCaret = function (caret, location) {\n    return location.fold(function (element) {\n      $_ctzulb33jnlpaxck.remove(caret.get());\n      var text = insertInlineBefore(element);\n      caret.set(text);\n      return Option.some(CaretPosition$1(text, text.length - 1));\n    }, function (element) {\n      return $_32xcvk30jnlpaxbn.firstPositionIn(element).map(function (pos) {\n        if (!isPosCaretContainer(pos, caret)) {\n          $_ctzulb33jnlpaxck.remove(caret.get());\n          var text = insertInlinePos(pos, true);\n          caret.set(text);\n          return CaretPosition$1(text, 1);\n        } else {\n          return CaretPosition$1(caret.get(), 1);\n        }\n      });\n    }, function (element) {\n      return $_32xcvk30jnlpaxbn.lastPositionIn(element).map(function (pos) {\n        if (!isPosCaretContainer(pos, caret)) {\n          $_ctzulb33jnlpaxck.remove(caret.get());\n          var text = insertInlinePos(pos, false);\n          caret.set(text);\n          return CaretPosition$1(text, text.length - 1);\n        } else {\n          return CaretPosition$1(caret.get(), caret.get().length - 1);\n        }\n      });\n    }, function (element) {\n      $_ctzulb33jnlpaxck.remove(caret.get());\n      var text = insertInlineAfter(element);\n      caret.set(text);\n      return Option.some(CaretPosition$1(text, 1));\n    });\n  };\n  var $_7h17zm49jnlpaxma = { renderCaret: renderCaret };\n\n  var evaluateUntil = function (fns, args) {\n    for (var i = 0; i < fns.length; i++) {\n      var result = fns[i].apply(null, args);\n      if (result.isSome()) {\n        return result;\n      }\n    }\n    return Option.none();\n  };\n  var $_3eehvl4cjnlpaxms = { evaluateUntil: evaluateUntil };\n\n  var Location = Adt.generate([\n    { before: ['element'] },\n    { start: ['element'] },\n    { end: ['element'] },\n    { after: ['element'] }\n  ]);\n  var rescope = function (rootNode, node) {\n    var parentBlock = getParentBlock(node, rootNode);\n    return parentBlock ? parentBlock : rootNode;\n  };\n  var before$3 = function (isInlineTarget, rootNode, pos) {\n    var nPos = $_955v2u3wjnlpaxit.normalizeForwards(pos);\n    var scope = rescope(rootNode, nPos.container());\n    return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n      return $_32xcvk30jnlpaxbn.nextPosition(scope, nPos).bind(curry($_955v2u3wjnlpaxit.findRootInline, isInlineTarget, scope)).map(function (inline) {\n        return Location.before(inline);\n      });\n    }, Option.none);\n  };\n  var isNotInsideFormatCaretContainer = function (rootNode, elm) {\n    return getParentCaretContainer(rootNode, elm) === null;\n  };\n  var findInsideRootInline = function (isInlineTarget, rootNode, pos) {\n    return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n  };\n  var start = function (isInlineTarget, rootNode, pos) {\n    var nPos = $_955v2u3wjnlpaxit.normalizeBackwards(pos);\n    return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n      var prevPos = $_32xcvk30jnlpaxbn.prevPosition(inline, nPos);\n      return prevPos.isNone() ? Option.some(Location.start(inline)) : Option.none();\n    });\n  };\n  var end = function (isInlineTarget, rootNode, pos) {\n    var nPos = $_955v2u3wjnlpaxit.normalizeForwards(pos);\n    return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(function (inline) {\n      var nextPos = $_32xcvk30jnlpaxbn.nextPosition(inline, nPos);\n      return nextPos.isNone() ? Option.some(Location.end(inline)) : Option.none();\n    });\n  };\n  var after$3 = function (isInlineTarget, rootNode, pos) {\n    var nPos = $_955v2u3wjnlpaxit.normalizeBackwards(pos);\n    var scope = rescope(rootNode, nPos.container());\n    return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget, scope, nPos).fold(function () {\n      return $_32xcvk30jnlpaxbn.prevPosition(scope, nPos).bind(curry($_955v2u3wjnlpaxit.findRootInline, isInlineTarget, scope)).map(function (inline) {\n        return Location.after(inline);\n      });\n    }, Option.none);\n  };\n  var isValidLocation = function (location) {\n    return $_955v2u3wjnlpaxit.isRtl(getElement(location)) === false;\n  };\n  var readLocation = function (isInlineTarget, rootNode, pos) {\n    var location = $_3eehvl4cjnlpaxms.evaluateUntil([\n      before$3,\n      start,\n      end,\n      after$3\n    ], [\n      isInlineTarget,\n      rootNode,\n      pos\n    ]);\n    return location.filter(isValidLocation);\n  };\n  var getElement = function (location) {\n    return location.fold(identity, identity, identity, identity);\n  };\n  var getName = function (location) {\n    return location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n  };\n  var outside = function (location) {\n    return location.fold(Location.before, Location.before, Location.after, Location.after);\n  };\n  var inside = function (location) {\n    return location.fold(Location.start, Location.start, Location.end, Location.end);\n  };\n  var isEq$1 = function (location1, location2) {\n    return getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n  };\n  var betweenInlines = function (forward, isInlineTarget, rootNode, from, to, location) {\n    return liftN([\n      $_955v2u3wjnlpaxit.findRootInline(isInlineTarget, rootNode, from),\n      $_955v2u3wjnlpaxit.findRootInline(isInlineTarget, rootNode, to)\n    ], function (fromInline, toInline) {\n      if (fromInline !== toInline && $_955v2u3wjnlpaxit.hasSameParentBlock(rootNode, fromInline, toInline)) {\n        return Location.after(forward ? fromInline : toInline);\n      } else {\n        return location;\n      }\n    }).getOr(location);\n  };\n  var skipNoMovement = function (fromLocation, toLocation) {\n    return fromLocation.fold(constant(true), function (fromLocation) {\n      return !isEq$1(fromLocation, toLocation);\n    });\n  };\n  var findLocationTraverse = function (forward, isInlineTarget, rootNode, fromLocation, pos) {\n    var from = $_955v2u3wjnlpaxit.normalizePosition(forward, pos);\n    var to = $_32xcvk30jnlpaxbn.fromPosition(forward, rootNode, from).map(curry($_955v2u3wjnlpaxit.normalizePosition, forward));\n    var location = to.fold(function () {\n      return fromLocation.map(outside);\n    }, function (to) {\n      return readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation));\n    });\n    return location.filter(isValidLocation);\n  };\n  var findLocationSimple = function (forward, location) {\n    if (forward) {\n      return location.fold(compose(Option.some, Location.start), Option.none, compose(Option.some, Location.after), Option.none);\n    } else {\n      return location.fold(Option.none, compose(Option.some, Location.before), Option.none, compose(Option.some, Location.end));\n    }\n  };\n  var findLocation = function (forward, isInlineTarget, rootNode, pos) {\n    var from = $_955v2u3wjnlpaxit.normalizePosition(forward, pos);\n    var fromLocation = readLocation(isInlineTarget, rootNode, from);\n    return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(function () {\n      return findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos);\n    });\n  };\n  var $_1wxx4j4bjnlpaxmj = {\n    readLocation: readLocation,\n    findLocation: findLocation,\n    prevLocation: curry(findLocation, false),\n    nextLocation: curry(findLocation, true),\n    getElement: getElement,\n    outside: outside,\n    inside: inside\n  };\n\n  var hasSelectionModifyApi = function (editor) {\n    return isFunction(editor.selection.getSel().modify);\n  };\n  var moveRel = function (forward, selection, pos) {\n    var delta = forward ? 1 : -1;\n    selection.setRng(CaretPosition$1(pos.container(), pos.offset() + delta).toRange());\n    selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n    return true;\n  };\n  var moveByWord = function (forward, editor) {\n    var rng = editor.selection.getRng();\n    var pos = forward ? CaretPosition$1.fromRangeEnd(rng) : CaretPosition$1.fromRangeStart(rng);\n    if (!hasSelectionModifyApi(editor)) {\n      return false;\n    } else if (forward && isBeforeInline(pos)) {\n      return moveRel(true, editor.selection, pos);\n    } else if (!forward && isAfterInline(pos)) {\n      return moveRel(false, editor.selection, pos);\n    } else {\n      return false;\n    }\n  };\n  var $_8umecq4ejnlpaxn3 = {\n    hasSelectionModifyApi: hasSelectionModifyApi,\n    moveByWord: moveByWord\n  };\n\n  var setCaretPosition = function (editor, pos) {\n    var rng = editor.dom.createRng();\n    rng.setStart(pos.container(), pos.offset());\n    rng.setEnd(pos.container(), pos.offset());\n    editor.selection.setRng(rng);\n  };\n  var isFeatureEnabled = function (editor) {\n    return editor.settings.inline_boundaries !== false;\n  };\n  var setSelected = function (state, elm) {\n    if (state) {\n      elm.setAttribute('data-mce-selected', 'inline-boundary');\n    } else {\n      elm.removeAttribute('data-mce-selected');\n    }\n  };\n  var renderCaretLocation = function (editor, caret, location) {\n    return $_7h17zm49jnlpaxma.renderCaret(caret, location).map(function (pos) {\n      setCaretPosition(editor, pos);\n      return location;\n    });\n  };\n  var findLocation$1 = function (editor, caret, forward) {\n    var rootNode = editor.getBody();\n    var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    var isInlineTarget = curry($_955v2u3wjnlpaxit.isInlineTarget, editor);\n    var location = $_1wxx4j4bjnlpaxmj.findLocation(forward, isInlineTarget, rootNode, from);\n    return location.bind(function (location) {\n      return renderCaretLocation(editor, caret, location);\n    });\n  };\n  var toggleInlines = function (isInlineTarget, dom, elms) {\n    var selectedInlines = filter(dom.select('*[data-mce-selected=\"inline-boundary\"]'), isInlineTarget);\n    var targetInlines = filter(elms, isInlineTarget);\n    each(difference(selectedInlines, targetInlines), curry(setSelected, false));\n    each(difference(targetInlines, selectedInlines), curry(setSelected, true));\n  };\n  var safeRemoveCaretContainer = function (editor, caret) {\n    if (editor.selection.isCollapsed() && editor.composing !== true && caret.get()) {\n      var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      if (CaretPosition$1.isTextPosition(pos) && $_955v2u3wjnlpaxit.isAtZwsp(pos) === false) {\n        setCaretPosition(editor, $_ctzulb33jnlpaxck.removeAndReposition(caret.get(), pos));\n        caret.set(null);\n      }\n    }\n  };\n  var renderInsideInlineCaret = function (isInlineTarget, editor, caret, elms) {\n    if (editor.selection.isCollapsed()) {\n      var inlines = filter(elms, isInlineTarget);\n      each(inlines, function (inline) {\n        var pos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n        $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget, editor.getBody(), pos).bind(function (location) {\n          return renderCaretLocation(editor, caret, location);\n        });\n      });\n    }\n  };\n  var move = function (editor, caret, forward) {\n    return function () {\n      return isFeatureEnabled(editor) ? findLocation$1(editor, caret, forward).isSome() : false;\n    };\n  };\n  var moveWord = function (forward, editor, caret) {\n    return function () {\n      return isFeatureEnabled(editor) ? $_8umecq4ejnlpaxn3.moveByWord(forward, editor) : false;\n    };\n  };\n  var setupSelectedState = function (editor) {\n    var caret = Cell(null);\n    var isInlineTarget = curry($_955v2u3wjnlpaxit.isInlineTarget, editor);\n    editor.on('NodeChange', function (e) {\n      if (isFeatureEnabled(editor)) {\n        toggleInlines(isInlineTarget, editor.dom, e.parents);\n        safeRemoveCaretContainer(editor, caret);\n        renderInsideInlineCaret(isInlineTarget, editor, caret, e.parents);\n      }\n    });\n    return caret;\n  };\n  var moveNextWord = curry(moveWord, true);\n  var movePrevWord = curry(moveWord, false);\n  var $_1971nm4djnlpaxmv = {\n    move: move,\n    moveNextWord: moveNextWord,\n    movePrevWord: movePrevWord,\n    setupSelectedState: setupSelectedState,\n    setCaretPosition: setCaretPosition\n  };\n\n  var isFeatureEnabled$1 = function (editor) {\n    return editor.settings.inline_boundaries !== false;\n  };\n  var rangeFromPositions = function (from, to) {\n    var range = document.createRange();\n    range.setStart(from.container(), from.offset());\n    range.setEnd(to.container(), to.offset());\n    return range;\n  };\n  var hasOnlyTwoOrLessPositionsLeft = function (elm) {\n    return liftN([\n      $_32xcvk30jnlpaxbn.firstPositionIn(elm),\n      $_32xcvk30jnlpaxbn.lastPositionIn(elm)\n    ], function (firstPos, lastPos) {\n      var normalizedFirstPos = $_955v2u3wjnlpaxit.normalizePosition(true, firstPos);\n      var normalizedLastPos = $_955v2u3wjnlpaxit.normalizePosition(false, lastPos);\n      return $_32xcvk30jnlpaxbn.nextPosition(elm, normalizedFirstPos).map(function (pos) {\n        return pos.isEqual(normalizedLastPos);\n      }).getOr(true);\n    }).getOr(true);\n  };\n  var setCaretLocation = function (editor, caret) {\n    return function (location$$1) {\n      return $_7h17zm49jnlpaxma.renderCaret(caret, location$$1).map(function (pos) {\n        $_1971nm4djnlpaxmv.setCaretPosition(editor, pos);\n        return true;\n      }).getOr(false);\n    };\n  };\n  var deleteFromTo = function (editor, caret, from, to) {\n    var rootNode = editor.getBody();\n    var isInlineTarget = curry($_955v2u3wjnlpaxit.isInlineTarget, editor);\n    editor.undoManager.ignore(function () {\n      editor.selection.setRng(rangeFromPositions(from, to));\n      editor.execCommand('Delete');\n      $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget, rootNode, CaretPosition$1.fromRangeStart(editor.selection.getRng())).map($_1wxx4j4bjnlpaxmj.inside).map(setCaretLocation(editor, caret));\n    });\n    editor.nodeChanged();\n  };\n  var rescope$1 = function (rootNode, node) {\n    var parentBlock = getParentBlock(node, rootNode);\n    return parentBlock ? parentBlock : rootNode;\n  };\n  var backspaceDeleteCollapsed = function (editor, caret, forward, from) {\n    var rootNode = rescope$1(editor.getBody(), from.container());\n    var isInlineTarget = curry($_955v2u3wjnlpaxit.isInlineTarget, editor);\n    var fromLocation = $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget, rootNode, from);\n    return fromLocation.bind(function (location$$1) {\n      if (forward) {\n        return location$$1.fold(constant(Option.some($_1wxx4j4bjnlpaxmj.inside(location$$1))), Option.none, constant(Option.some($_1wxx4j4bjnlpaxmj.outside(location$$1))), Option.none);\n      } else {\n        return location$$1.fold(Option.none, constant(Option.some($_1wxx4j4bjnlpaxmj.outside(location$$1))), Option.none, constant(Option.some($_1wxx4j4bjnlpaxmj.inside(location$$1))));\n      }\n    }).map(setCaretLocation(editor, caret)).getOrThunk(function () {\n      var toPosition = $_32xcvk30jnlpaxbn.navigate(forward, rootNode, from);\n      var toLocation = toPosition.bind(function (pos) {\n        return $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget, rootNode, pos);\n      });\n      if (fromLocation.isSome() && toLocation.isSome()) {\n        return $_955v2u3wjnlpaxit.findRootInline(isInlineTarget, rootNode, from).map(function (elm) {\n          if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n            $_ezizyx47jnlpaxle.deleteElement(editor, forward, Element$$1.fromDom(elm));\n            return true;\n          } else {\n            return false;\n          }\n        }).getOr(false);\n      } else {\n        return toLocation.bind(function (_) {\n          return toPosition.map(function (to) {\n            if (forward) {\n              deleteFromTo(editor, caret, from, to);\n            } else {\n              deleteFromTo(editor, caret, to, from);\n            }\n            return true;\n          });\n        }).getOr(false);\n      }\n    });\n  };\n  var backspaceDelete$3 = function (editor, caret, forward) {\n    if (editor.selection.isCollapsed() && isFeatureEnabled$1(editor)) {\n      var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      return backspaceDeleteCollapsed(editor, caret, forward, from);\n    }\n    return false;\n  };\n  var $_5d7kmb48jnlpaxm1 = { backspaceDelete: backspaceDelete$3 };\n\n  var tableCellRng = Immutable('start', 'end');\n  var tableSelection = Immutable('rng', 'table', 'cells');\n  var deleteAction = Adt.generate([\n    { removeTable: ['element'] },\n    { emptyCells: ['cells'] }\n  ]);\n  var isRootFromElement = function (root) {\n    return curry($_5h7cor1ejnlpax0k.eq, root);\n  };\n  var getClosestCell$1 = function (container, isRoot) {\n    return $_2kbu29jnlpax6t.closest(Element$$1.fromDom(container), 'td,th', isRoot);\n  };\n  var getClosestTable = function (cell, isRoot) {\n    return $_2kbu29jnlpax6t.ancestor(cell, 'table', isRoot);\n  };\n  var isExpandedCellRng = function (cellRng) {\n    return $_5h7cor1ejnlpax0k.eq(cellRng.start(), cellRng.end()) === false;\n  };\n  var getTableFromCellRng = function (cellRng, isRoot) {\n    return getClosestTable(cellRng.start(), isRoot).bind(function (startParentTable) {\n      return getClosestTable(cellRng.end(), isRoot).bind(function (endParentTable) {\n        return $_5h7cor1ejnlpax0k.eq(startParentTable, endParentTable) ? Option.some(startParentTable) : Option.none();\n      });\n    });\n  };\n  var getTableCells = function (table) {\n    return $_cmitir27jnlpax6e.descendants(table, 'td,th');\n  };\n  var getCellRangeFromStartTable = function (cellRng, isRoot) {\n    return getClosestTable(cellRng.start(), isRoot).bind(function (table) {\n      return last(getTableCells(table)).map(function (endCell) {\n        return tableCellRng(cellRng.start(), endCell);\n      });\n    });\n  };\n  var partialSelection = function (isRoot, rng) {\n    var startCell = getClosestCell$1(rng.startContainer, isRoot);\n    var endCell = getClosestCell$1(rng.endContainer, isRoot);\n    return rng.collapsed ? Option.none() : liftN([\n      startCell,\n      endCell\n    ], tableCellRng).fold(function () {\n      return startCell.fold(function () {\n        return endCell.bind(function (endCell) {\n          return getClosestTable(endCell, isRoot).bind(function (table) {\n            return head(getTableCells(table)).map(function (startCell) {\n              return tableCellRng(startCell, endCell);\n            });\n          });\n        });\n      }, function (startCell) {\n        return getClosestTable(startCell, isRoot).bind(function (table) {\n          return last(getTableCells(table)).map(function (endCell) {\n            return tableCellRng(startCell, endCell);\n          });\n        });\n      });\n    }, function (cellRng) {\n      return isWithinSameTable(isRoot, cellRng) ? Option.none() : getCellRangeFromStartTable(cellRng, isRoot);\n    });\n  };\n  var isWithinSameTable = function (isRoot, cellRng) {\n    return getTableFromCellRng(cellRng, isRoot).isSome();\n  };\n  var getCellRng = function (rng, isRoot) {\n    var startCell = getClosestCell$1(rng.startContainer, isRoot);\n    var endCell = getClosestCell$1(rng.endContainer, isRoot);\n    return liftN([\n      startCell,\n      endCell\n    ], tableCellRng).filter(isExpandedCellRng).filter(function (cellRng) {\n      return isWithinSameTable(isRoot, cellRng);\n    }).orThunk(function () {\n      return partialSelection(isRoot, rng);\n    });\n  };\n  var getTableSelectionFromCellRng = function (cellRng, isRoot) {\n    return getTableFromCellRng(cellRng, isRoot).map(function (table) {\n      return tableSelection(cellRng, table, getTableCells(table));\n    });\n  };\n  var getTableSelectionFromRng = function (root, rng) {\n    var isRoot = isRootFromElement(root);\n    return getCellRng(rng, isRoot).bind(function (cellRng) {\n      return getTableSelectionFromCellRng(cellRng, isRoot);\n    });\n  };\n  var getCellIndex = function (cells, cell) {\n    return findIndex(cells, function (x) {\n      return $_5h7cor1ejnlpax0k.eq(x, cell);\n    });\n  };\n  var getSelectedCells = function (tableSelection) {\n    return liftN([\n      getCellIndex(tableSelection.cells(), tableSelection.rng().start()),\n      getCellIndex(tableSelection.cells(), tableSelection.rng().end())\n    ], function (startIndex, endIndex) {\n      return tableSelection.cells().slice(startIndex, endIndex + 1);\n    });\n  };\n  var getAction = function (tableSelection) {\n    return getSelectedCells(tableSelection).map(function (selected) {\n      var cells = tableSelection.cells();\n      return selected.length === cells.length ? deleteAction.removeTable(tableSelection.table()) : deleteAction.emptyCells(selected);\n    });\n  };\n  var getActionFromCells = function (cells) {\n    return deleteAction.emptyCells(cells);\n  };\n  var getActionFromRange = function (root, rng) {\n    return getTableSelectionFromRng(root, rng).bind(getAction);\n  };\n  var $_baassw4gjnlpaxnk = {\n    getActionFromRange: getActionFromRange,\n    getActionFromCells: getActionFromCells\n  };\n\n  var getRanges = function (selection) {\n    var ranges = [];\n    if (selection) {\n      for (var i = 0; i < selection.rangeCount; i++) {\n        ranges.push(selection.getRangeAt(i));\n      }\n    }\n    return ranges;\n  };\n  var getSelectedNodes = function (ranges) {\n    return bind(ranges, function (range$$1) {\n      var node = getSelectedNode(range$$1);\n      return node ? [Element$$1.fromDom(node)] : [];\n    });\n  };\n  var hasMultipleRanges = function (selection) {\n    return getRanges(selection).length > 1;\n  };\n  var $_533sn84ijnlpaxoe = {\n    getRanges: getRanges,\n    getSelectedNodes: getSelectedNodes,\n    hasMultipleRanges: hasMultipleRanges\n  };\n\n  var getCellsFromRanges = function (ranges) {\n    return filter($_533sn84ijnlpaxoe.getSelectedNodes(ranges), isTableCell);\n  };\n  var getCellsFromElement = function (elm) {\n    var selectedCells = $_cmitir27jnlpax6e.descendants(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    return selectedCells;\n  };\n  var getCellsFromElementOrRanges = function (ranges, element) {\n    var selectedCells = getCellsFromElement(element);\n    var rangeCells = getCellsFromRanges(ranges);\n    return selectedCells.length > 0 ? selectedCells : rangeCells;\n  };\n  var getCellsFromEditor = function (editor) {\n    return getCellsFromElementOrRanges($_533sn84ijnlpaxoe.getRanges(editor.selection.getSel()), Element$$1.fromDom(editor.getBody()));\n  };\n  var $_1yq8wz4hjnlpaxo7 = {\n    getCellsFromRanges: getCellsFromRanges,\n    getCellsFromElement: getCellsFromElement,\n    getCellsFromElementOrRanges: getCellsFromElementOrRanges,\n    getCellsFromEditor: getCellsFromEditor\n  };\n\n  var emptyCells = function (editor, cells) {\n    each(cells, $_azhpc63njnlpaxgw.fillWithPaddingBr);\n    editor.selection.setCursorLocation(cells[0].dom(), 0);\n    return true;\n  };\n  var deleteTableElement = function (editor, table) {\n    $_ezizyx47jnlpaxle.deleteElement(editor, false, table);\n    return true;\n  };\n  var deleteCellRange = function (editor, rootElm, rng) {\n    return $_baassw4gjnlpaxnk.getActionFromRange(rootElm, rng).map(function (action) {\n      return action.fold(curry(deleteTableElement, editor), curry(emptyCells, editor));\n    });\n  };\n  var deleteCaptionRange = function (editor, caption) {\n    return emptyElement(editor, caption);\n  };\n  var deleteTableRange = function (editor, rootElm, rng, startElm) {\n    return getParentCaption(rootElm, startElm).fold(function () {\n      return deleteCellRange(editor, rootElm, rng);\n    }, function (caption) {\n      return deleteCaptionRange(editor, caption);\n    }).getOr(false);\n  };\n  var deleteRange$1 = function (editor, startElm) {\n    var rootNode = Element$$1.fromDom(editor.getBody());\n    var rng = editor.selection.getRng();\n    var selectedCells = $_1yq8wz4hjnlpaxo7.getCellsFromEditor(editor);\n    return selectedCells.length !== 0 ? emptyCells(editor, selectedCells) : deleteTableRange(editor, rootNode, rng, startElm);\n  };\n  var getParentCell = function (rootElm, elm) {\n    return find($_4b88sj42jnlpaxkd.parentsAndSelf(elm, rootElm), isTableCell);\n  };\n  var getParentCaption = function (rootElm, elm) {\n    return find($_4b88sj42jnlpaxkd.parentsAndSelf(elm, rootElm), function (elm) {\n      return $_7u5fzs11jnlpawv6.name(elm) === 'caption';\n    });\n  };\n  var deleteBetweenCells = function (editor, rootElm, forward, fromCell, from) {\n    return $_32xcvk30jnlpaxbn.navigate(forward, editor.getBody(), from).bind(function (to) {\n      return getParentCell(rootElm, Element$$1.fromDom(to.getNode())).map(function (toCell) {\n        return $_5h7cor1ejnlpax0k.eq(toCell, fromCell) === false;\n      });\n    });\n  };\n  var emptyElement = function (editor, elm) {\n    $_azhpc63njnlpaxgw.fillWithPaddingBr(elm);\n    editor.selection.setCursorLocation(elm.dom(), 0);\n    return Option.some(true);\n  };\n  var isDeleteOfLastCharPos = function (fromCaption, forward, from, to) {\n    return $_32xcvk30jnlpaxbn.firstPositionIn(fromCaption.dom()).bind(function (first) {\n      return $_32xcvk30jnlpaxbn.lastPositionIn(fromCaption.dom()).map(function (last$$1) {\n        return forward ? from.isEqual(first) && to.isEqual(last$$1) : from.isEqual(last$$1) && to.isEqual(first);\n      });\n    }).getOr(true);\n  };\n  var emptyCaretCaption = function (editor, elm) {\n    return emptyElement(editor, elm);\n  };\n  var validateCaretCaption = function (rootElm, fromCaption, to) {\n    return getParentCaption(rootElm, Element$$1.fromDom(to.getNode())).map(function (toCaption) {\n      return $_5h7cor1ejnlpax0k.eq(toCaption, fromCaption) === false;\n    });\n  };\n  var deleteCaretInsideCaption = function (editor, rootElm, forward, fromCaption, from) {\n    return $_32xcvk30jnlpaxbn.navigate(forward, editor.getBody(), from).bind(function (to) {\n      return isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to);\n    }).or(Option.some(true));\n  };\n  var deleteCaretCells = function (editor, forward, rootElm, startElm) {\n    var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return getParentCell(rootElm, startElm).bind(function (fromCell) {\n      return $_czpaaj3zjnlpaxjj.isEmpty(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from);\n    });\n  };\n  var deleteCaretCaption = function (editor, forward, rootElm, fromCaption) {\n    var from = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return $_czpaaj3zjnlpaxjj.isEmpty(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n  };\n  var deleteCaret = function (editor, forward, startElm) {\n    var rootElm = Element$$1.fromDom(editor.getBody());\n    return getParentCaption(rootElm, startElm).fold(function () {\n      return deleteCaretCells(editor, forward, rootElm, startElm);\n    }, function (fromCaption) {\n      return deleteCaretCaption(editor, forward, rootElm, fromCaption);\n    }).getOr(false);\n  };\n  var backspaceDelete$4 = function (editor, forward) {\n    var startElm = Element$$1.fromDom(editor.selection.getStart(true));\n    var cells = $_1yq8wz4hjnlpaxo7.getCellsFromEditor(editor);\n    return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret(editor, forward, startElm) : deleteRange$1(editor, startElm);\n  };\n  var $_3apnm14fjnlpaxn8 = { backspaceDelete: backspaceDelete$4 };\n\n  var nativeCommand = function (editor, command) {\n    editor.getDoc().execCommand(command, false, null);\n  };\n  var deleteCommand = function (editor) {\n    if ($_jcgv344jnlpaxks.backspaceDelete(editor, false)) {\n      return;\n    } else if ($_5d7kmb48jnlpaxm1.backspaceDelete(editor, false)) {\n      return;\n    } else if ($_3n8adg3tjnlpaxi5.backspaceDelete(editor, false)) {\n      return;\n    } else if ($_3apnm14fjnlpaxn8.backspaceDelete(editor)) {\n      return;\n    } else if ($_f5evyu43jnlpaxki.backspaceDelete(editor, false)) {\n      return;\n    } else {\n      nativeCommand(editor, 'Delete');\n      $_dfzzw73vjnlpaxik.paddEmptyBody(editor);\n    }\n  };\n  var forwardDeleteCommand = function (editor) {\n    if ($_jcgv344jnlpaxks.backspaceDelete(editor, true)) {\n      return;\n    } else if ($_5d7kmb48jnlpaxm1.backspaceDelete(editor, true)) {\n      return;\n    } else if ($_3n8adg3tjnlpaxi5.backspaceDelete(editor, true)) {\n      return;\n    } else if ($_3apnm14fjnlpaxn8.backspaceDelete(editor)) {\n      return;\n    } else if ($_f5evyu43jnlpaxki.backspaceDelete(editor, true)) {\n      return;\n    } else {\n      nativeCommand(editor, 'ForwardDelete');\n    }\n  };\n  var $_7ms0593sjnlpaxht = {\n    deleteCommand: deleteCommand,\n    forwardDeleteCommand: forwardDeleteCommand\n  };\n\n  var getSpecifiedFontProp = function (propName, rootElm, elm) {\n    var getProperty = function (elm) {\n      return $_asiuhf13jnlpawvc.getRaw(elm, propName);\n    };\n    var isRoot = function (elm) {\n      return $_5h7cor1ejnlpax0k.eq(Element$$1.fromDom(rootElm), elm);\n    };\n    return $_cs5qmd2ajnlpax6v.closest(Element$$1.fromDom(elm), function (elm) {\n      return getProperty(elm).isSome();\n    }, isRoot).bind(getProperty);\n  };\n  var round$1 = function (number, precision) {\n    var factor = Math.pow(10, precision);\n    return Math.round(number * factor) / factor;\n  };\n  var toPt = function (fontSize, precision) {\n    if (/[0-9.]+px$/.test(fontSize)) {\n      return round$1(parseInt(fontSize, 10) * 72 / 96, precision || 0) + 'pt';\n    }\n    return fontSize;\n  };\n  var normalizeFontFamily = function (fontFamily) {\n    return fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n  };\n  var getComputedFontProp = function (propName, elm) {\n    return Option.from(DOMUtils$1.DOM.getStyle(elm, propName, true));\n  };\n  var getFontProp = function (propName) {\n    return function (rootElm, elm) {\n      return Option.from(elm).map(Element$$1.fromDom).filter($_7u5fzs11jnlpawv6.isElement).bind(function (element) {\n        return getSpecifiedFontProp(propName, rootElm, element.dom()).or(getComputedFontProp(propName, element.dom()));\n      }).getOr('');\n    };\n  };\n  var $_ar9b8r4kjnlpaxov = {\n    getFontSize: getFontProp('font-size'),\n    getFontFamily: compose(normalizeFontFamily, getFontProp('font-family')),\n    toPt: toPt\n  };\n\n  var findFirstCaretElement = function (editor) {\n    return $_32xcvk30jnlpaxbn.firstPositionIn(editor.getBody()).map(function (caret) {\n      var container = caret.container();\n      return $_fy28ei1rjnlpax2o.isText(container) ? container.parentNode : container;\n    });\n  };\n  var isRangeAtStartOfNode = function (rng, root) {\n    return rng.startContainer === root && rng.startOffset === 0;\n  };\n  var getCaretElement = function (editor) {\n    return Option.from(editor.selection.getRng()).bind(function (rng) {\n      var root = editor.getBody();\n      return isRangeAtStartOfNode(rng, root) ? Option.none() : Option.from(editor.selection.getStart(true));\n    });\n  };\n  var fromFontSizeNumber = function (editor, value) {\n    if (/^[0-9\\.]+$/.test(value)) {\n      var fontSizeNumber = parseInt(value, 10);\n      if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n        var fontSizes = $_c6e09z3ajnlpaxek.getFontStyleValues(editor);\n        var fontClasses = $_c6e09z3ajnlpaxek.getFontSizeClasses(editor);\n        if (fontClasses) {\n          return fontClasses[fontSizeNumber - 1] || value;\n        } else {\n          return fontSizes[fontSizeNumber - 1] || value;\n        }\n      } else {\n        return value;\n      }\n    } else {\n      return value;\n    }\n  };\n  var fontNameAction = function (editor, value) {\n    editor.formatter.toggle('fontname', { value: fromFontSizeNumber(editor, value) });\n    editor.nodeChanged();\n  };\n  var fontNameQuery = function (editor) {\n    return getCaretElement(editor).fold(function () {\n      return findFirstCaretElement(editor).map(function (caretElement) {\n        return $_ar9b8r4kjnlpaxov.getFontFamily(editor.getBody(), caretElement);\n      }).getOr('');\n    }, function (caretElement) {\n      return $_ar9b8r4kjnlpaxov.getFontFamily(editor.getBody(), caretElement);\n    });\n  };\n  var fontSizeAction = function (editor, value) {\n    editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n    editor.nodeChanged();\n  };\n  var fontSizeQuery = function (editor) {\n    return getCaretElement(editor).fold(function () {\n      return findFirstCaretElement(editor).map(function (caretElement) {\n        return $_ar9b8r4kjnlpaxov.getFontSize(editor.getBody(), caretElement);\n      }).getOr('');\n    }, function (caretElement) {\n      return $_ar9b8r4kjnlpaxov.getFontSize(editor.getBody(), caretElement);\n    });\n  };\n\n  var isEq$2 = function (rng1, rng2) {\n    return rng1 && rng2 && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n  };\n  var $_3s8g9y4njnlpaxqj = { isEq: isEq$2 };\n\n  var findParent = function (node, rootNode, predicate) {\n    while (node && node !== rootNode) {\n      if (predicate(node)) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n  var hasParent = function (node, rootNode, predicate) {\n    return findParent(node, rootNode, predicate) !== null;\n  };\n  var hasParentWithName = function (node, rootNode, name) {\n    return hasParent(node, rootNode, function (node) {\n      return node.nodeName === name;\n    });\n  };\n  var isTable$2 = function (node) {\n    return node && node.nodeName === 'TABLE';\n  };\n  var isTableCell$3 = function (node) {\n    return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n  };\n  var isCeFalseCaretContainer = function (node, rootNode) {\n    return isCaretContainer(node) && hasParent(node, rootNode, isCaretNode) === false;\n  };\n  var hasBrBeforeAfter = function (dom, node, left) {\n    var walker = new TreeWalker(node, dom.getParent(node.parentNode, dom.isBlock) || dom.getRoot());\n    while (node = walker[left ? 'prev' : 'next']()) {\n      if ($_fy28ei1rjnlpax2o.isBr(node)) {\n        return true;\n      }\n    }\n  };\n  var isPrevNode = function (node, name) {\n    return node.previousSibling && node.previousSibling.nodeName === name;\n  };\n  var hasContentEditableFalseParent = function (body, node) {\n    while (node && node !== body) {\n      if ($_fy28ei1rjnlpax2o.isContentEditableFalse(node)) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n    return false;\n  };\n  var findTextNodeRelative = function (dom, isAfterNode, collapsed, left, startNode) {\n    var walker, lastInlineElement, parentBlockContainer;\n    var body = dom.getRoot();\n    var node;\n    var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n    parentBlockContainer = dom.getParent(startNode.parentNode, dom.isBlock) || body;\n    if (left && $_fy28ei1rjnlpax2o.isBr(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n      return Option.some(CaretPosition(startNode.parentNode, dom.nodeIndex(startNode)));\n    }\n    walker = new TreeWalker(startNode, parentBlockContainer);\n    while (node = walker[left ? 'prev' : 'next']()) {\n      if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n        return Option.none();\n      }\n      if ($_fy28ei1rjnlpax2o.isText(node) && node.nodeValue.length > 0) {\n        if (hasParentWithName(node, body, 'A') === false) {\n          return Option.some(CaretPosition(node, left ? node.nodeValue.length : 0));\n        }\n        return Option.none();\n      }\n      if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n        return Option.none();\n      }\n      lastInlineElement = node;\n    }\n    if (collapsed && lastInlineElement) {\n      return Option.some(CaretPosition(lastInlineElement, 0));\n    }\n    return Option.none();\n  };\n  var normalizeEndPoint = function (dom, collapsed, start, rng) {\n    var container, offset, walker;\n    var body = dom.getRoot();\n    var node, nonEmptyElementsMap;\n    var directionLeft, isAfterNode, normalized = false;\n    container = rng[(start ? 'start' : 'end') + 'Container'];\n    offset = rng[(start ? 'start' : 'end') + 'Offset'];\n    isAfterNode = $_fy28ei1rjnlpax2o.isElement(container) && offset === container.childNodes.length;\n    nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n    directionLeft = start;\n    if (isCaretContainer(container)) {\n      return Option.none();\n    }\n    if ($_fy28ei1rjnlpax2o.isElement(container) && offset > container.childNodes.length - 1) {\n      directionLeft = false;\n    }\n    if ($_fy28ei1rjnlpax2o.isDocument(container)) {\n      container = body;\n      offset = 0;\n    }\n    if (container === body) {\n      if (directionLeft) {\n        node = container.childNodes[offset > 0 ? offset - 1 : 0];\n        if (node) {\n          if (isCaretContainer(node)) {\n            return Option.none();\n          }\n          if (nonEmptyElementsMap[node.nodeName] || isTable$2(node)) {\n            return Option.none();\n          }\n        }\n      }\n      if (container.hasChildNodes()) {\n        offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n        container = container.childNodes[offset];\n        offset = $_fy28ei1rjnlpax2o.isText(container) && isAfterNode ? container.data.length : 0;\n        if (!collapsed && container === body.lastChild && isTable$2(container)) {\n          return Option.none();\n        }\n        if (hasContentEditableFalseParent(body, container) || isCaretContainer(container)) {\n          return Option.none();\n        }\n        if (container.hasChildNodes() && isTable$2(container) === false) {\n          node = container;\n          walker = new TreeWalker(container, body);\n          do {\n            if ($_fy28ei1rjnlpax2o.isContentEditableFalse(node) || isCaretContainer(node)) {\n              normalized = false;\n              break;\n            }\n            if ($_fy28ei1rjnlpax2o.isText(node) && node.nodeValue.length > 0) {\n              offset = directionLeft ? 0 : node.nodeValue.length;\n              container = node;\n              normalized = true;\n              break;\n            }\n            if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCell$3(node)) {\n              offset = dom.nodeIndex(node);\n              container = node.parentNode;\n              if (!directionLeft) {\n                offset++;\n              }\n              normalized = true;\n              break;\n            }\n          } while (node = directionLeft ? walker.next() : walker.prev());\n        }\n      }\n    }\n    if (collapsed) {\n      if ($_fy28ei1rjnlpax2o.isText(container) && offset === 0) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(function (pos) {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      if ($_fy28ei1rjnlpax2o.isElement(container)) {\n        node = container.childNodes[offset];\n        if (!node) {\n          node = container.childNodes[offset - 1];\n        }\n        if (node && $_fy28ei1rjnlpax2o.isBr(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(function (pos) {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n      }\n    }\n    if (directionLeft && !collapsed && $_fy28ei1rjnlpax2o.isText(container) && offset === container.nodeValue.length) {\n      findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(function (pos) {\n        container = pos.container();\n        offset = pos.offset();\n        normalized = true;\n      });\n    }\n    return normalized ? Option.some(CaretPosition(container, offset)) : Option.none();\n  };\n  var normalize$1 = function (dom, rng) {\n    var collapsed = rng.collapsed, normRng = rng.cloneRange();\n    var startPos = CaretPosition.fromRangeStart(rng);\n    normalizeEndPoint(dom, collapsed, true, normRng).each(function (pos) {\n      if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n        normRng.setStart(pos.container(), pos.offset());\n      }\n    });\n    if (!collapsed) {\n      normalizeEndPoint(dom, collapsed, false, normRng).each(function (pos) {\n        normRng.setEnd(pos.container(), pos.offset());\n      });\n    }\n    if (collapsed) {\n      normRng.collapse(true);\n    }\n    return $_3s8g9y4njnlpaxqj.isEq(rng, normRng) ? Option.none() : Option.some(normRng);\n  };\n  var $_afh56j4mjnlpaxpx = { normalize: normalize$1 };\n\n  var hasRightSideContent = function (schema, container, parentBlock) {\n    var walker = new TreeWalker(container, parentBlock);\n    var node;\n    var nonEmptyElementsMap = schema.getNonEmptyElements();\n    while (node = walker.next()) {\n      if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || node.length > 0) {\n        return true;\n      }\n    }\n  };\n  var scrollToBr = function (dom, selection, brElm) {\n    var marker = dom.create('span', {}, '&nbsp;');\n    brElm.parentNode.insertBefore(marker, brElm);\n    selection.scrollIntoView(marker);\n    dom.remove(marker);\n  };\n  var moveSelectionToBr = function (dom, selection, brElm, extraBr) {\n    var rng = dom.createRng();\n    if (!extraBr) {\n      rng.setStartAfter(brElm);\n      rng.setEndAfter(brElm);\n    } else {\n      rng.setStartBefore(brElm);\n      rng.setEndBefore(brElm);\n    }\n    selection.setRng(rng);\n  };\n  var insertBrAtCaret = function (editor, evt) {\n    var selection = editor.selection, dom = editor.dom;\n    var brElm, extraBr;\n    var rng = selection.getRng();\n    $_afh56j4mjnlpaxpx.normalize(dom, rng).each(function (normRng) {\n      rng.setStart(normRng.startContainer, normRng.startOffset);\n      rng.setEnd(normRng.endContainer, normRng.endOffset);\n    });\n    var offset = rng.startOffset;\n    var container = rng.startContainer;\n    if (container.nodeType === 1 && container.hasChildNodes()) {\n      var isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n      container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      if (isAfterLastNodeInContainer && container.nodeType === 3) {\n        offset = container.nodeValue.length;\n      } else {\n        offset = 0;\n      }\n    }\n    var parentBlock = dom.getParent(container, dom.isBlock);\n    var containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n    var containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n    var isControlKey = evt && evt.ctrlKey;\n    if (containerBlockName === 'LI' && !isControlKey) {\n      parentBlock = containerBlock;\n    }\n    if (container && container.nodeType === 3 && offset >= container.nodeValue.length) {\n      if (!hasRightSideContent(editor.schema, container, parentBlock)) {\n        brElm = dom.create('br');\n        rng.insertNode(brElm);\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n        extraBr = true;\n      }\n    }\n    brElm = dom.create('br');\n    rng.insertNode(brElm);\n    scrollToBr(dom, selection, brElm);\n    moveSelectionToBr(dom, selection, brElm, extraBr);\n    editor.undoManager.add();\n  };\n  var insertBrBefore = function (editor, inline) {\n    var br = Element$$1.fromTag('br');\n    $_ag89ax1yjnlpax4x.before(Element$$1.fromDom(inline), br);\n    editor.undoManager.add();\n  };\n  var insertBrAfter = function (editor, inline) {\n    if (!hasBrAfter(editor.getBody(), inline)) {\n      $_ag89ax1yjnlpax4x.after(Element$$1.fromDom(inline), Element$$1.fromTag('br'));\n    }\n    var br = Element$$1.fromTag('br');\n    $_ag89ax1yjnlpax4x.after(Element$$1.fromDom(inline), br);\n    scrollToBr(editor.dom, editor.selection, br.dom());\n    moveSelectionToBr(editor.dom, editor.selection, br.dom(), false);\n    editor.undoManager.add();\n  };\n  var isBeforeBr = function (pos) {\n    return $_fy28ei1rjnlpax2o.isBr(pos.getNode());\n  };\n  var hasBrAfter = function (rootNode, startNode) {\n    if (isBeforeBr(CaretPosition$1.after(startNode))) {\n      return true;\n    } else {\n      return $_32xcvk30jnlpaxbn.nextPosition(rootNode, CaretPosition$1.after(startNode)).map(function (pos) {\n        return $_fy28ei1rjnlpax2o.isBr(pos.getNode());\n      }).getOr(false);\n    }\n  };\n  var isAnchorLink = function (elm) {\n    return elm && elm.nodeName === 'A' && 'href' in elm;\n  };\n  var isInsideAnchor = function (location) {\n    return location.fold(constant(false), isAnchorLink, isAnchorLink, constant(false));\n  };\n  var readInlineAnchorLocation = function (editor) {\n    var isInlineTarget = curry($_955v2u3wjnlpaxit.isInlineTarget, editor);\n    var position = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    return $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget, editor.getBody(), position).filter(isInsideAnchor);\n  };\n  var insertBrOutsideAnchor = function (editor, location) {\n    location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n  };\n  var insert = function (editor, evt) {\n    var anchorLocation = readInlineAnchorLocation(editor);\n    if (anchorLocation.isSome()) {\n      anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n    } else {\n      insertBrAtCaret(editor, evt);\n    }\n  };\n  var $_ejrlhl4ljnlpaxpg = { insert: insert };\n\n  var adt = Adt.generate([\n    { 'before': ['element'] },\n    {\n      'on': [\n        'element',\n        'offset'\n      ]\n    },\n    { after: ['element'] }\n  ]);\n  var cata = function (subject, onBefore, onOn, onAfter) {\n    return subject.fold(onBefore, onOn, onAfter);\n  };\n  var getStart = function (situ) {\n    return situ.fold(identity, identity, identity);\n  };\n  var $_64es4o4qjnlpaxri = {\n    before: adt.before,\n    on: adt.on,\n    after: adt.after,\n    cata: cata,\n    getStart: getStart\n  };\n\n  var type$1 = Adt.generate([\n    { domRange: ['rng'] },\n    {\n      relative: [\n        'startSitu',\n        'finishSitu'\n      ]\n    },\n    {\n      exact: [\n        'start',\n        'soffset',\n        'finish',\n        'foffset'\n      ]\n    }\n  ]);\n  var range$1 = Immutable('start', 'soffset', 'finish', 'foffset');\n  var exactFromRange = function (simRange) {\n    return type$1.exact(simRange.start(), simRange.soffset(), simRange.finish(), simRange.foffset());\n  };\n  var getStart$1 = function (selection) {\n    return selection.match({\n      domRange: function (rng) {\n        return Element$$1.fromDom(rng.startContainer);\n      },\n      relative: function (startSitu, finishSitu) {\n        return $_64es4o4qjnlpaxri.getStart(startSitu);\n      },\n      exact: function (start, soffset, finish, foffset) {\n        return start;\n      }\n    });\n  };\n  var getWin = function (selection) {\n    var start = getStart$1(selection);\n    return $_dr4ybh18jnlpawzt.defaultView(start);\n  };\n  var $_f9vlzb4pjnlpaxrd = {\n    domRange: type$1.domRange,\n    relative: type$1.relative,\n    exact: type$1.exact,\n    exactFromRange: exactFromRange,\n    range: range$1,\n    getWin: getWin\n  };\n\n  var browser$3 = $_766rx4ojnlpawtd.detect().browser;\n  var clamp = function (offset, element) {\n    var max = $_7u5fzs11jnlpawv6.isText(element) ? $_dzrxgg3gjnlpaxf6.get(element).length : $_dr4ybh18jnlpawzt.children(element).length + 1;\n    if (offset > max) {\n      return max;\n    } else if (offset < 0) {\n      return 0;\n    }\n    return offset;\n  };\n  var normalizeRng = function (rng) {\n    return $_f9vlzb4pjnlpaxrd.range(rng.start(), clamp(rng.soffset(), rng.start()), rng.finish(), clamp(rng.foffset(), rng.finish()));\n  };\n  var isOrContains = function (root, elm) {\n    return $_5h7cor1ejnlpax0k.contains(root, elm) || $_5h7cor1ejnlpax0k.eq(root, elm);\n  };\n  var isRngInRoot = function (root) {\n    return function (rng) {\n      return isOrContains(root, rng.start()) && isOrContains(root, rng.finish());\n    };\n  };\n  var shouldStore = function (editor) {\n    return editor.inline === true || browser$3.isIE();\n  };\n  var nativeRangeToSelectionRange = function (r) {\n    return $_f9vlzb4pjnlpaxrd.range(Element$$1.fromDom(r.startContainer), r.startOffset, Element$$1.fromDom(r.endContainer), r.endOffset);\n  };\n  var readRange = function (win) {\n    var selection = win.getSelection();\n    var rng = !selection || selection.rangeCount === 0 ? Option.none() : Option.from(selection.getRangeAt(0));\n    return rng.map(nativeRangeToSelectionRange);\n  };\n  var getBookmark$2 = function (root) {\n    var win = $_dr4ybh18jnlpawzt.defaultView(root);\n    return readRange(win.dom()).filter(isRngInRoot(root));\n  };\n  var validate = function (root, bookmark) {\n    return Option.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n  };\n  var bookmarkToNativeRng = function (bookmark) {\n    var rng = document.createRange();\n    try {\n      rng.setStart(bookmark.start().dom(), bookmark.soffset());\n      rng.setEnd(bookmark.finish().dom(), bookmark.foffset());\n      return Option.some(rng);\n    } catch (_) {\n      return Option.none();\n    }\n  };\n  var store = function (editor) {\n    var newBookmark = shouldStore(editor) ? getBookmark$2(Element$$1.fromDom(editor.getBody())) : Option.none();\n    editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n  };\n  var storeNative = function (editor, rng) {\n    var root = Element$$1.fromDom(editor.getBody());\n    var range = shouldStore(editor) ? Option.from(rng) : Option.none();\n    var newBookmark = range.map(nativeRangeToSelectionRange).filter(isRngInRoot(root));\n    editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n  };\n  var getRng = function (editor) {\n    var bookmark = editor.bookmark ? editor.bookmark : Option.none();\n    return bookmark.bind(curry(validate, Element$$1.fromDom(editor.getBody()))).bind(bookmarkToNativeRng);\n  };\n  var restore = function (editor) {\n    getRng(editor).each(function (rng) {\n      editor.selection.setRng(rng);\n    });\n  };\n  var $_13pqgk4ojnlpaxqr = {\n    store: store,\n    storeNative: storeNative,\n    readRange: readRange,\n    restore: restore,\n    getRng: getRng,\n    getBookmark: getBookmark$2,\n    validate: validate\n  };\n\n  var indentElement = function (dom, command, useMargin, value, unit, element) {\n    if (dom.getContentEditable(element) === 'false') {\n      return;\n    }\n    if (element.nodeName !== 'LI') {\n      var indentStyleName = useMargin ? 'margin' : 'padding';\n      indentStyleName = element.nodeName === 'TABLE' ? 'margin' : indentStyleName;\n      indentStyleName += dom.getStyle(element, 'direction', true) === 'rtl' ? 'Right' : 'Left';\n      if (command === 'outdent') {\n        var styleValue = Math.max(0, parseInt(element.style[indentStyleName] || 0, 10) - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        var styleValue = parseInt(element.style[indentStyleName] || 0, 10) + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    }\n  };\n  var handle = function (editor, command) {\n    var settings = editor.settings, dom = editor.dom, selection = editor.selection, formatter = editor.formatter;\n    var indentUnit = /[a-z%]+$/i.exec(settings.indentation)[0];\n    var indentValue = parseInt(settings.indentation, 10);\n    var useMargin = editor.getParam('indent_use_margin', false);\n    if (!editor.queryCommandState('InsertUnorderedList') && !editor.queryCommandState('InsertOrderedList')) {\n      if (!settings.forced_root_block && !dom.getParent(selection.getNode(), dom.isBlock)) {\n        formatter.apply('div');\n      }\n      each(selection.getSelectedBlocks(), function (element) {\n        return indentElement(dom, command, useMargin, indentValue, indentUnit, element);\n      });\n    }\n  };\n\n  var each$10 = $_1q1txeljnlpawsa.each;\n  var extend$2 = $_1q1txeljnlpawsa.extend;\n  var map$3 = $_1q1txeljnlpawsa.map;\n  var inArray$2 = $_1q1txeljnlpawsa.inArray;\n  function EditorCommands (editor) {\n    var dom, selection, formatter;\n    var commands = {\n      state: {},\n      exec: {},\n      value: {}\n    };\n    var settings = editor.settings, bookmark;\n    editor.on('PreInit', function () {\n      dom = editor.dom;\n      selection = editor.selection;\n      settings = editor.settings;\n      formatter = editor.formatter;\n    });\n    var execCommand = function (command, ui, value, args) {\n      var func, customCommand, state = false;\n      if (editor.removed) {\n        return;\n      }\n      if (!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(command) && (!args || !args.skip_focus)) {\n        editor.focus();\n      } else {\n        $_13pqgk4ojnlpaxqr.restore(editor);\n      }\n      args = editor.fire('BeforeExecCommand', {\n        command: command,\n        ui: ui,\n        value: value\n      });\n      if (args.isDefaultPrevented()) {\n        return false;\n      }\n      customCommand = command.toLowerCase();\n      if (func = commands.exec[customCommand]) {\n        func(customCommand, ui, value);\n        editor.fire('ExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        return true;\n      }\n      each$10(editor.plugins, function (p) {\n        if (p.execCommand && p.execCommand(command, ui, value)) {\n          editor.fire('ExecCommand', {\n            command: command,\n            ui: ui,\n            value: value\n          });\n          state = true;\n          return false;\n        }\n      });\n      if (state) {\n        return state;\n      }\n      if (editor.theme && editor.theme.execCommand && editor.theme.execCommand(command, ui, value)) {\n        editor.fire('ExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        return true;\n      }\n      try {\n        state = editor.getDoc().execCommand(command, ui, value);\n      } catch (ex) {\n      }\n      if (state) {\n        editor.fire('ExecCommand', {\n          command: command,\n          ui: ui,\n          value: value\n        });\n        return true;\n      }\n      return false;\n    };\n    var queryCommandState = function (command) {\n      var func;\n      if (editor.quirks.isHidden() || editor.removed) {\n        return;\n      }\n      command = command.toLowerCase();\n      if (func = commands.state[command]) {\n        return func(command);\n      }\n      try {\n        return editor.getDoc().queryCommandState(command);\n      } catch (ex) {\n      }\n      return false;\n    };\n    var queryCommandValue = function (command) {\n      var func;\n      if (editor.quirks.isHidden() || editor.removed) {\n        return;\n      }\n      command = command.toLowerCase();\n      if (func = commands.value[command]) {\n        return func(command);\n      }\n      try {\n        return editor.getDoc().queryCommandValue(command);\n      } catch (ex) {\n      }\n    };\n    var addCommands = function (commandList, type) {\n      type = type || 'exec';\n      each$10(commandList, function (callback, command) {\n        each$10(command.toLowerCase().split(','), function (command) {\n          commands[type][command] = callback;\n        });\n      });\n    };\n    var addCommand = function (command, callback, scope) {\n      command = command.toLowerCase();\n      commands.exec[command] = function (command, ui, value, args) {\n        return callback.call(scope || editor, ui, value, args);\n      };\n    };\n    var queryCommandSupported = function (command) {\n      command = command.toLowerCase();\n      if (commands.exec[command]) {\n        return true;\n      }\n      try {\n        return editor.getDoc().queryCommandSupported(command);\n      } catch (ex) {\n      }\n      return false;\n    };\n    var addQueryStateHandler = function (command, callback, scope) {\n      command = command.toLowerCase();\n      commands.state[command] = function () {\n        return callback.call(scope || editor);\n      };\n    };\n    var addQueryValueHandler = function (command, callback, scope) {\n      command = command.toLowerCase();\n      commands.value[command] = function () {\n        return callback.call(scope || editor);\n      };\n    };\n    var hasCustomCommand = function (command) {\n      command = command.toLowerCase();\n      return !!commands.exec[command];\n    };\n    extend$2(this, {\n      execCommand: execCommand,\n      queryCommandState: queryCommandState,\n      queryCommandValue: queryCommandValue,\n      queryCommandSupported: queryCommandSupported,\n      addCommands: addCommands,\n      addCommand: addCommand,\n      addQueryStateHandler: addQueryStateHandler,\n      addQueryValueHandler: addQueryValueHandler,\n      hasCustomCommand: hasCustomCommand\n    });\n    var execNativeCommand = function (command, ui, value) {\n      if (ui === undefined) {\n        ui = false;\n      }\n      if (value === undefined) {\n        value = null;\n      }\n      return editor.getDoc().execCommand(command, ui, value);\n    };\n    var isFormatMatch = function (name) {\n      return formatter.match(name);\n    };\n    var toggleFormat = function (name, value) {\n      formatter.toggle(name, value ? { value: value } : undefined);\n      editor.nodeChanged();\n    };\n    var storeSelection = function (type) {\n      bookmark = selection.getBookmark(type);\n    };\n    var restoreSelection = function () {\n      selection.moveToBookmark(bookmark);\n    };\n    addCommands({\n      'mceResetDesignMode,mceBeginUndoLevel': function () {\n      },\n      'mceEndUndoLevel,mceAddUndoLevel': function () {\n        editor.undoManager.add();\n      },\n      'Cut,Copy,Paste': function (command) {\n        var doc = editor.getDoc();\n        var failed;\n        try {\n          execNativeCommand(command);\n        } catch (ex) {\n          failed = true;\n        }\n        if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n          failed = true;\n        }\n        if (failed || !doc.queryCommandSupported(command)) {\n          var msg = editor.translate('Your browser doesn\\'t support direct access to the clipboard. ' + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n          if ($_cseqobajnlpawll.mac) {\n            msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n          }\n          editor.notificationManager.open({\n            text: msg,\n            type: 'error'\n          });\n        }\n      },\n      'unlink': function () {\n        if (selection.isCollapsed()) {\n          var elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n          if (elm) {\n            editor.dom.remove(elm, true);\n          }\n          return;\n        }\n        formatter.remove('link');\n      },\n      'JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone': function (command) {\n        var align = command.substring(7);\n        if (align === 'full') {\n          align = 'justify';\n        }\n        each$10('left,center,right,justify'.split(','), function (name) {\n          if (align !== name) {\n            formatter.remove('align' + name);\n          }\n        });\n        if (align !== 'none') {\n          toggleFormat('align' + align);\n        }\n      },\n      'InsertUnorderedList,InsertOrderedList': function (command) {\n        var listElm, listParent;\n        execNativeCommand(command);\n        listElm = dom.getParent(selection.getNode(), 'ol,ul');\n        if (listElm) {\n          listParent = listElm.parentNode;\n          if (/^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n            storeSelection();\n            dom.split(listParent, listElm);\n            restoreSelection();\n          }\n        }\n      },\n      'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n        toggleFormat(command);\n      },\n      'ForeColor,HiliteColor': function (command, ui, value) {\n        toggleFormat(command, value);\n      },\n      'FontName': function (command, ui, value) {\n        fontNameAction(editor, value);\n      },\n      'FontSize': function (command, ui, value) {\n        fontSizeAction(editor, value);\n      },\n      'RemoveFormat': function (command) {\n        formatter.remove(command);\n      },\n      'mceBlockQuote': function () {\n        toggleFormat('blockquote');\n      },\n      'FormatBlock': function (command, ui, value) {\n        return toggleFormat(value || 'p');\n      },\n      'mceCleanup': function () {\n        var bookmark = selection.getBookmark();\n        editor.setContent(editor.getContent());\n        selection.moveToBookmark(bookmark);\n      },\n      'mceRemoveNode': function (command, ui, value) {\n        var node = value || selection.getNode();\n        if (node !== editor.getBody()) {\n          storeSelection();\n          editor.dom.remove(node, true);\n          restoreSelection();\n        }\n      },\n      'mceSelectNodeDepth': function (command, ui, value) {\n        var counter = 0;\n        dom.getParent(selection.getNode(), function (node) {\n          if (node.nodeType === 1 && counter++ === value) {\n            selection.select(node);\n            return false;\n          }\n        }, editor.getBody());\n      },\n      'mceSelectNode': function (command, ui, value) {\n        selection.select(value);\n      },\n      'mceInsertContent': function (command, ui, value) {\n        $_f55bk53kjnlpaxge.insertAtCaret(editor, value);\n      },\n      'mceInsertRawHTML': function (command, ui, value) {\n        selection.setContent('tiny_mce_marker');\n        var content = editor.getContent();\n        editor.setContent(content.replace(/tiny_mce_marker/g, function () {\n          return value;\n        }));\n      },\n      'mceToggleFormat': function (command, ui, value) {\n        toggleFormat(value);\n      },\n      'mceSetContent': function (command, ui, value) {\n        editor.setContent(value);\n      },\n      'Indent,Outdent': function (command) {\n        handle(editor, command);\n      },\n      'mceRepaint': function () {\n      },\n      'InsertHorizontalRule': function () {\n        editor.execCommand('mceInsertContent', false, '<hr />');\n      },\n      'mceToggleVisualAid': function () {\n        editor.hasVisual = !editor.hasVisual;\n        editor.addVisual();\n      },\n      'mceReplaceContent': function (command, ui, value) {\n        editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, selection.getContent({ format: 'text' })));\n      },\n      'mceInsertLink': function (command, ui, value) {\n        var anchor;\n        if (typeof value === 'string') {\n          value = { href: value };\n        }\n        anchor = dom.getParent(selection.getNode(), 'a');\n        value.href = value.href.replace(' ', '%20');\n        if (!anchor || !value.href) {\n          formatter.remove('link');\n        }\n        if (value.href) {\n          formatter.apply('link', value, anchor);\n        }\n      },\n      'selectAll': function () {\n        var editingHost = dom.getParent(selection.getStart(), $_fy28ei1rjnlpax2o.isContentEditableTrue);\n        if (editingHost) {\n          var rng = dom.createRng();\n          rng.selectNodeContents(editingHost);\n          selection.setRng(rng);\n        }\n      },\n      'delete': function () {\n        $_7ms0593sjnlpaxht.deleteCommand(editor);\n      },\n      'forwardDelete': function () {\n        $_7ms0593sjnlpaxht.forwardDeleteCommand(editor);\n      },\n      'mceNewDocument': function () {\n        editor.setContent('');\n      },\n      'InsertLineBreak': function (command, ui, value) {\n        $_ejrlhl4ljnlpaxpg.insert(editor, value);\n        return true;\n      }\n    });\n    var alignStates = function (name) {\n      return function () {\n        var nodes = selection.isCollapsed() ? [dom.getParent(selection.getNode(), dom.isBlock)] : selection.getSelectedBlocks();\n        var matches = map$3(nodes, function (node) {\n          return !!formatter.matchNode(node, name);\n        });\n        return inArray$2(matches, true) !== -1;\n      };\n    };\n    addCommands({\n      'JustifyLeft': alignStates('alignleft'),\n      'JustifyCenter': alignStates('aligncenter'),\n      'JustifyRight': alignStates('alignright'),\n      'JustifyFull': alignStates('alignjustify'),\n      'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': function (command) {\n        return isFormatMatch(command);\n      },\n      'mceBlockQuote': function () {\n        return isFormatMatch('blockquote');\n      },\n      'Outdent': function () {\n        var node;\n        if (settings.inline_styles) {\n          if ((node = dom.getParent(selection.getStart(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\n            return true;\n          }\n          if ((node = dom.getParent(selection.getEnd(), dom.isBlock)) && parseInt(node.style.paddingLeft, 10) > 0) {\n            return true;\n          }\n        }\n        return queryCommandState('InsertUnorderedList') || queryCommandState('InsertOrderedList') || !settings.inline_styles && !!dom.getParent(selection.getNode(), 'BLOCKQUOTE');\n      },\n      'InsertUnorderedList,InsertOrderedList': function (command) {\n        var list = dom.getParent(selection.getNode(), 'ul,ol');\n        return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n      }\n    }, 'state');\n    addCommands({\n      Undo: function () {\n        editor.undoManager.undo();\n      },\n      Redo: function () {\n        editor.undoManager.redo();\n      }\n    });\n    addQueryValueHandler('FontName', function () {\n      return fontNameQuery(editor);\n    }, this);\n    addQueryValueHandler('FontSize', function () {\n      return fontSizeQuery(editor);\n    }, this);\n  }\n\n  var nativeEvents = $_1q1txeljnlpawsa.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend', ' ');\n  var Dispatcher = function (settings) {\n    var self = this;\n    var scope, bindings = {}, toggleEvent;\n    var returnFalse = function () {\n      return false;\n    };\n    var returnTrue = function () {\n      return true;\n    };\n    settings = settings || {};\n    scope = settings.scope || self;\n    toggleEvent = settings.toggleEvent || returnFalse;\n    var fire = function (name, args) {\n      var handlers, i, l, callback;\n      name = name.toLowerCase();\n      args = args || {};\n      args.type = name;\n      if (!args.target) {\n        args.target = scope;\n      }\n      if (!args.preventDefault) {\n        args.preventDefault = function () {\n          args.isDefaultPrevented = returnTrue;\n        };\n        args.stopPropagation = function () {\n          args.isPropagationStopped = returnTrue;\n        };\n        args.stopImmediatePropagation = function () {\n          args.isImmediatePropagationStopped = returnTrue;\n        };\n        args.isDefaultPrevented = returnFalse;\n        args.isPropagationStopped = returnFalse;\n        args.isImmediatePropagationStopped = returnFalse;\n      }\n      if (settings.beforeFire) {\n        settings.beforeFire(args);\n      }\n      handlers = bindings[name];\n      if (handlers) {\n        for (i = 0, l = handlers.length; i < l; i++) {\n          callback = handlers[i];\n          if (callback.once) {\n            off(name, callback.func);\n          }\n          if (args.isImmediatePropagationStopped()) {\n            args.stopPropagation();\n            return args;\n          }\n          if (callback.func.call(scope, args) === false) {\n            args.preventDefault();\n            return args;\n          }\n        }\n      }\n      return args;\n    };\n    var on = function (name, callback, prepend, extra) {\n      var handlers, names, i;\n      if (callback === false) {\n        callback = returnFalse;\n      }\n      if (callback) {\n        callback = { func: callback };\n        if (extra) {\n          $_1q1txeljnlpawsa.extend(callback, extra);\n        }\n        names = name.toLowerCase().split(' ');\n        i = names.length;\n        while (i--) {\n          name = names[i];\n          handlers = bindings[name];\n          if (!handlers) {\n            handlers = bindings[name] = [];\n            toggleEvent(name, true);\n          }\n          if (prepend) {\n            handlers.unshift(callback);\n          } else {\n            handlers.push(callback);\n          }\n        }\n      }\n      return self;\n    };\n    var off = function (name, callback) {\n      var i, handlers, bindingName, names, hi;\n      if (name) {\n        names = name.toLowerCase().split(' ');\n        i = names.length;\n        while (i--) {\n          name = names[i];\n          handlers = bindings[name];\n          if (!name) {\n            for (bindingName in bindings) {\n              toggleEvent(bindingName, false);\n              delete bindings[bindingName];\n            }\n            return self;\n          }\n          if (handlers) {\n            if (!callback) {\n              handlers.length = 0;\n            } else {\n              hi = handlers.length;\n              while (hi--) {\n                if (handlers[hi].func === callback) {\n                  handlers = handlers.slice(0, hi).concat(handlers.slice(hi + 1));\n                  bindings[name] = handlers;\n                }\n              }\n            }\n            if (!handlers.length) {\n              toggleEvent(name, false);\n              delete bindings[name];\n            }\n          }\n        }\n      } else {\n        for (name in bindings) {\n          toggleEvent(name, false);\n        }\n        bindings = {};\n      }\n      return self;\n    };\n    var once = function (name, callback, prepend) {\n      return on(name, callback, prepend, { once: true });\n    };\n    var has = function (name) {\n      name = name.toLowerCase();\n      return !(!bindings[name] || bindings[name].length === 0);\n    };\n    self.fire = fire;\n    self.on = on;\n    self.off = off;\n    self.once = once;\n    self.has = has;\n  };\n  Dispatcher.isNative = function (name) {\n    return !!nativeEvents[name.toLowerCase()];\n  };\n\n  var getEventDispatcher = function (obj) {\n    if (!obj._eventDispatcher) {\n      obj._eventDispatcher = new Dispatcher({\n        scope: obj,\n        toggleEvent: function (name, state) {\n          if (Dispatcher.isNative(name) && obj.toggleNativeEvent) {\n            obj.toggleNativeEvent(name, state);\n          }\n        }\n      });\n    }\n    return obj._eventDispatcher;\n  };\n  var $_c8v03c4tjnlpaxrw = {\n    fire: function (name, args, bubble) {\n      var self = this;\n      if (self.removed && name !== 'remove') {\n        return args;\n      }\n      args = getEventDispatcher(self).fire(name, args, bubble);\n      if (bubble !== false && self.parent) {\n        var parent = self.parent();\n        while (parent && !args.isPropagationStopped()) {\n          parent.fire(name, args, false);\n          parent = parent.parent();\n        }\n      }\n      return args;\n    },\n    on: function (name, callback, prepend) {\n      return getEventDispatcher(this).on(name, callback, prepend);\n    },\n    off: function (name, callback) {\n      return getEventDispatcher(this).off(name, callback);\n    },\n    once: function (name, callback) {\n      return getEventDispatcher(this).once(name, callback);\n    },\n    hasEventListeners: function (name) {\n      return getEventDispatcher(this).has(name);\n    }\n  };\n\n  var firePreProcess = function (editor, args) {\n    return editor.fire('PreProcess', args);\n  };\n  var firePostProcess = function (editor, args) {\n    return editor.fire('PostProcess', args);\n  };\n  var fireRemove = function (editor) {\n    return editor.fire('remove');\n  };\n  var fireSwitchMode = function (editor, mode) {\n    return editor.fire('SwitchMode', { mode: mode });\n  };\n  var fireObjectResizeStart = function (editor, target, width, height) {\n    editor.fire('ObjectResizeStart', {\n      target: target,\n      width: width,\n      height: height\n    });\n  };\n  var fireObjectResized = function (editor, target, width, height) {\n    editor.fire('ObjectResized', {\n      target: target,\n      width: width,\n      height: height\n    });\n  };\n  var $_5atig84wjnlpaxs7 = {\n    firePreProcess: firePreProcess,\n    firePostProcess: firePostProcess,\n    fireRemove: fireRemove,\n    fireSwitchMode: fireSwitchMode,\n    fireObjectResizeStart: fireObjectResizeStart,\n    fireObjectResized: fireObjectResized\n  };\n\n  var setEditorCommandState = function (editor, cmd, state) {\n    try {\n      editor.getDoc().execCommand(cmd, false, state);\n    } catch (ex) {\n    }\n  };\n  var toggleClass = function (elm, cls, state) {\n    if ($_fes8i223jnlpax5z.has(elm, cls) && state === false) {\n      $_fes8i223jnlpax5z.remove(elm, cls);\n    } else if (state) {\n      $_fes8i223jnlpax5z.add(elm, cls);\n    }\n  };\n  var toggleReadOnly = function (editor, state) {\n    toggleClass(Element$$1.fromDom(editor.getBody()), 'mce-content-readonly', state);\n    if (state) {\n      editor.selection.controlSelection.hideResizeRect();\n      editor.readonly = true;\n      editor.getBody().contentEditable = 'false';\n    } else {\n      editor.readonly = false;\n      editor.getBody().contentEditable = 'true';\n      setEditorCommandState(editor, 'StyleWithCSS', false);\n      setEditorCommandState(editor, 'enableInlineTableEditing', false);\n      setEditorCommandState(editor, 'enableObjectResizing', false);\n      editor.focus();\n      editor.nodeChanged();\n    }\n  };\n  var setMode = function (editor, mode) {\n    if (mode === getMode(editor)) {\n      return;\n    }\n    if (editor.initialized) {\n      toggleReadOnly(editor, mode === 'readonly');\n    } else {\n      editor.on('init', function () {\n        toggleReadOnly(editor, mode === 'readonly');\n      });\n    }\n    $_5atig84wjnlpaxs7.fireSwitchMode(editor, mode);\n  };\n  var getMode = function (editor) {\n    return editor.readonly ? 'readonly' : 'design';\n  };\n  var isReadOnly = function (editor) {\n    return editor.readonly === true;\n  };\n\n  var DOM$1 = DOMUtils$1.DOM;\n  var customEventRootDelegates;\n  var getEventTarget = function (editor, eventName) {\n    if (eventName === 'selectionchange') {\n      return editor.getDoc();\n    }\n    if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n      return editor.getDoc().documentElement;\n    }\n    if (editor.settings.event_root) {\n      if (!editor.eventRoot) {\n        editor.eventRoot = DOM$1.select(editor.settings.event_root)[0];\n      }\n      return editor.eventRoot;\n    }\n    return editor.getBody();\n  };\n  var isListening = function (editor) {\n    return !editor.hidden && !editor.readonly;\n  };\n  var fireEvent = function (editor, eventName, e) {\n    if (isListening(editor)) {\n      editor.fire(eventName, e);\n    } else if (isReadOnly(editor)) {\n      e.preventDefault();\n    }\n  };\n  var bindEventDelegate = function (editor, eventName) {\n    var eventRootElm, delegate;\n    if (!editor.delegates) {\n      editor.delegates = {};\n    }\n    if (editor.delegates[eventName] || editor.removed) {\n      return;\n    }\n    eventRootElm = getEventTarget(editor, eventName);\n    if (editor.settings.event_root) {\n      if (!customEventRootDelegates) {\n        customEventRootDelegates = {};\n        editor.editorManager.on('removeEditor', function () {\n          var name;\n          if (!editor.editorManager.activeEditor) {\n            if (customEventRootDelegates) {\n              for (name in customEventRootDelegates) {\n                editor.dom.unbind(getEventTarget(editor, name));\n              }\n              customEventRootDelegates = null;\n            }\n          }\n        });\n      }\n      if (customEventRootDelegates[eventName]) {\n        return;\n      }\n      delegate = function (e) {\n        var target = e.target;\n        var editors = editor.editorManager.get();\n        var i = editors.length;\n        while (i--) {\n          var body = editors[i].getBody();\n          if (body === target || DOM$1.isChildOf(target, body)) {\n            fireEvent(editors[i], eventName, e);\n          }\n        }\n      };\n      customEventRootDelegates[eventName] = delegate;\n      DOM$1.bind(eventRootElm, eventName, delegate);\n    } else {\n      delegate = function (e) {\n        fireEvent(editor, eventName, e);\n      };\n      DOM$1.bind(eventRootElm, eventName, delegate);\n      editor.delegates[eventName] = delegate;\n    }\n  };\n  var EditorObservable = {\n    bindPendingEventDelegates: function () {\n      var self = this;\n      $_1q1txeljnlpawsa.each(self._pendingNativeEvents, function (name) {\n        bindEventDelegate(self, name);\n      });\n    },\n    toggleNativeEvent: function (name, state) {\n      var self = this;\n      if (name === 'focus' || name === 'blur') {\n        return;\n      }\n      if (state) {\n        if (self.initialized) {\n          bindEventDelegate(self, name);\n        } else {\n          if (!self._pendingNativeEvents) {\n            self._pendingNativeEvents = [name];\n          } else {\n            self._pendingNativeEvents.push(name);\n          }\n        }\n      } else if (self.initialized) {\n        self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n        delete self.delegates[name];\n      }\n    },\n    unbindAllNativeEvents: function () {\n      var self = this;\n      var body = self.getBody();\n      var dom = self.dom;\n      var name;\n      if (self.delegates) {\n        for (name in self.delegates) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n        }\n        delete self.delegates;\n      }\n      if (!self.inline && body && dom) {\n        body.onload = null;\n        dom.unbind(self.getWin());\n        dom.unbind(self.getDoc());\n      }\n      if (dom) {\n        dom.unbind(body);\n        dom.unbind(self.getContainer());\n      }\n    }\n  };\n  EditorObservable = $_1q1txeljnlpawsa.extend({}, $_c8v03c4tjnlpaxrw, EditorObservable);\n  var EditorObservable$1 = EditorObservable;\n\n  var each$11 = $_1q1txeljnlpawsa.each;\n  var explode$2 = $_1q1txeljnlpawsa.explode;\n  var keyCodeLookup = {\n    f9: 120,\n    f10: 121,\n    f11: 122\n  };\n  var modifierNames = $_1q1txeljnlpawsa.makeMap('alt,ctrl,shift,meta,access');\n  function Shortcuts (editor) {\n    var self = this;\n    var shortcuts = {};\n    var pendingPatterns = [];\n    var parseShortcut = function (pattern) {\n      var id, key;\n      var shortcut = {};\n      each$11(explode$2(pattern, '+'), function (value) {\n        if (value in modifierNames) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      id = [shortcut.keyCode];\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if ($_cseqobajnlpawll.mac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if ($_cseqobajnlpawll.mac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    var createShortcut = function (pattern, desc, cmdFunc, scope) {\n      var shortcuts;\n      shortcuts = $_1q1txeljnlpawsa.map(explode$2(pattern, '>'), parseShortcut);\n      shortcuts[shortcuts.length - 1] = $_1q1txeljnlpawsa.extend(shortcuts[shortcuts.length - 1], {\n        func: cmdFunc,\n        scope: scope || editor\n      });\n      return $_1q1txeljnlpawsa.extend(shortcuts[0], {\n        desc: editor.translate(desc),\n        subpatterns: shortcuts.slice(1)\n      });\n    };\n    var hasModifier = function (e) {\n      return e.altKey || e.ctrlKey || e.metaKey;\n    };\n    var isFunctionKey = function (e) {\n      return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n    };\n    var matchShortcut = function (e, shortcut) {\n      if (!shortcut) {\n        return false;\n      }\n      if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n        return false;\n      }\n      if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n        return false;\n      }\n      if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n        e.preventDefault();\n        return true;\n      }\n      return false;\n    };\n    var executeShortcutAction = function (shortcut) {\n      return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n    };\n    editor.on('keyup keypress keydown', function (e) {\n      if ((hasModifier(e) || isFunctionKey(e)) && !e.isDefaultPrevented()) {\n        each$11(shortcuts, function (shortcut) {\n          if (matchShortcut(e, shortcut)) {\n            pendingPatterns = shortcut.subpatterns.slice(0);\n            if (e.type === 'keydown') {\n              executeShortcutAction(shortcut);\n            }\n            return true;\n          }\n        });\n        if (matchShortcut(e, pendingPatterns[0])) {\n          if (pendingPatterns.length === 1) {\n            if (e.type === 'keydown') {\n              executeShortcutAction(pendingPatterns[0]);\n            }\n          }\n          pendingPatterns.shift();\n        }\n      }\n    });\n    self.add = function (pattern, desc, cmdFunc, scope) {\n      var cmd;\n      cmd = cmdFunc;\n      if (typeof cmdFunc === 'string') {\n        cmdFunc = function () {\n          editor.execCommand(cmd, false, null);\n        };\n      } else if ($_1q1txeljnlpawsa.isArray(cmd)) {\n        cmdFunc = function () {\n          editor.execCommand(cmd[0], cmd[1], cmd[2]);\n        };\n      }\n      each$11(explode$2($_1q1txeljnlpawsa.trim(pattern.toLowerCase())), function (pattern) {\n        var shortcut = createShortcut(pattern, desc, cmdFunc, scope);\n        shortcuts[shortcut.id] = shortcut;\n      });\n      return true;\n    };\n    self.remove = function (pattern) {\n      var shortcut = createShortcut(pattern);\n      if (shortcuts[shortcut.id]) {\n        delete shortcuts[shortcut.id];\n        return true;\n      }\n      return false;\n    };\n  }\n\n  var any$1 = function (predicate) {\n    return $_cs5qmd2ajnlpax6v.first(predicate).isSome();\n  };\n  var ancestor$3 = function (scope, predicate, isRoot) {\n    return $_cs5qmd2ajnlpax6v.ancestor(scope, predicate, isRoot).isSome();\n  };\n  var closest$3 = function (scope, predicate, isRoot) {\n    return $_cs5qmd2ajnlpax6v.closest(scope, predicate, isRoot).isSome();\n  };\n  var sibling$4 = function (scope, predicate) {\n    return $_cs5qmd2ajnlpax6v.sibling(scope, predicate).isSome();\n  };\n  var child$4 = function (scope, predicate) {\n    return $_cs5qmd2ajnlpax6v.child(scope, predicate).isSome();\n  };\n  var descendant$3 = function (scope, predicate) {\n    return $_cs5qmd2ajnlpax6v.descendant(scope, predicate).isSome();\n  };\n  var $_f7rq0y50jnlpaxt3 = {\n    any: any$1,\n    ancestor: ancestor$3,\n    closest: closest$3,\n    sibling: sibling$4,\n    child: child$4,\n    descendant: descendant$3\n  };\n\n  var focus$$1 = function (element) {\n    element.dom().focus();\n  };\n  var blur$$1 = function (element) {\n    element.dom().blur();\n  };\n  var hasFocus = function (element) {\n    var doc = $_dr4ybh18jnlpawzt.owner(element).dom();\n    return element.dom() === doc.activeElement;\n  };\n  var active = function (_doc) {\n    var doc = _doc !== undefined ? _doc.dom() : document;\n    return Option.from(doc.activeElement).map(Element$$1.fromDom);\n  };\n  var focusInside = function (element) {\n    var doc = $_dr4ybh18jnlpawzt.owner(element);\n    var inside = active(doc).filter(function (a) {\n      return $_f7rq0y50jnlpaxt3.closest(a, curry($_5h7cor1ejnlpax0k.eq, element));\n    });\n    inside.fold(function () {\n      focus$$1(element);\n    }, noop);\n  };\n  var search = function (element) {\n    return active($_dr4ybh18jnlpawzt.owner(element)).filter(function (e) {\n      return element.dom().contains(e.dom());\n    });\n  };\n  var $_9bj08p4zjnlpaxsp = {\n    hasFocus: hasFocus,\n    focus: focus$$1,\n    blur: blur$$1,\n    active: active,\n    search: search,\n    focusInside: focusInside\n  };\n\n  var getContentEditableHost = function (editor, node) {\n    return editor.dom.getParent(node, function (node) {\n      return editor.dom.getContentEditable(node) === 'true';\n    });\n  };\n  var getCollapsedNode = function (rng) {\n    return rng.collapsed ? Option.from(getNode(rng.startContainer, rng.startOffset)).map(Element$$1.fromDom) : Option.none();\n  };\n  var getFocusInElement = function (root, rng) {\n    return getCollapsedNode(rng).bind(function (node) {\n      if (isTableSection(node)) {\n        return Option.some(node);\n      } else if ($_5h7cor1ejnlpax0k.contains(root, node) === false) {\n        return Option.some(root);\n      } else {\n        return Option.none();\n      }\n    });\n  };\n  var normalizeSelection = function (editor, rng) {\n    getFocusInElement(Element$$1.fromDom(editor.getBody()), rng).bind(function (elm) {\n      return $_32xcvk30jnlpaxbn.firstPositionIn(elm.dom());\n    }).fold(function () {\n      editor.selection.normalize();\n      return;\n    }, function (caretPos) {\n      return editor.selection.setRng(caretPos.toRange());\n    });\n  };\n  var focusBody = function (body) {\n    if (body.setActive) {\n      try {\n        body.setActive();\n      } catch (ex) {\n        body.focus();\n      }\n    } else {\n      body.focus();\n    }\n  };\n  var hasElementFocus = function (elm) {\n    return $_9bj08p4zjnlpaxsp.hasFocus(elm) || $_9bj08p4zjnlpaxsp.search(elm).isSome();\n  };\n  var hasIframeFocus = function (editor) {\n    return editor.iframeElement && $_9bj08p4zjnlpaxsp.hasFocus(Element$$1.fromDom(editor.iframeElement));\n  };\n  var hasInlineFocus = function (editor) {\n    var rawBody = editor.getBody();\n    return rawBody && hasElementFocus(Element$$1.fromDom(rawBody));\n  };\n  var hasFocus$1 = function (editor) {\n    return editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n  };\n  var focusEditor = function (editor) {\n    var selection = editor.selection, contentEditable = editor.settings.content_editable;\n    var body = editor.getBody();\n    var rng = selection.getRng();\n    editor.quirks.refreshContentEditable();\n    var contentEditableHost = getContentEditableHost(editor, selection.getNode());\n    if (editor.$.contains(body, contentEditableHost)) {\n      focusBody(contentEditableHost);\n      normalizeSelection(editor, rng);\n      activateEditor(editor);\n      return;\n    }\n    if (editor.bookmark !== undefined && hasFocus$1(editor) === false) {\n      $_13pqgk4ojnlpaxqr.getRng(editor).each(function (bookmarkRng) {\n        editor.selection.setRng(bookmarkRng);\n        rng = bookmarkRng;\n      });\n    }\n    if (!contentEditable) {\n      if (!$_cseqobajnlpawll.opera) {\n        focusBody(body);\n      }\n      editor.getWin().focus();\n    }\n    if ($_cseqobajnlpawll.gecko || contentEditable) {\n      focusBody(body);\n      normalizeSelection(editor, rng);\n    }\n    activateEditor(editor);\n  };\n  var activateEditor = function (editor) {\n    return editor.editorManager.setActive(editor);\n  };\n  var focus$1 = function (editor, skipFocus) {\n    if (editor.removed) {\n      return;\n    }\n    skipFocus ? activateEditor(editor) : focusEditor(editor);\n  };\n  var $_8odu5n4yjnlpaxsg = {\n    focus: focus$1,\n    hasFocus: hasFocus$1\n  };\n\n  var getProp = function (propName, elm) {\n    var rawElm = elm.dom();\n    return rawElm[propName];\n  };\n  var getComputedSizeProp = function (propName, elm) {\n    return parseInt($_asiuhf13jnlpawvc.get(elm, propName), 10);\n  };\n  var getClientWidth = curry(getProp, 'clientWidth');\n  var getClientHeight = curry(getProp, 'clientHeight');\n  var getMarginTop = curry(getComputedSizeProp, 'margin-top');\n  var getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n  var getBoundingClientRect$1 = function (elm) {\n    return elm.dom().getBoundingClientRect();\n  };\n  var isInsideElementContentArea = function (bodyElm, clientX, clientY) {\n    var clientWidth = getClientWidth(bodyElm);\n    var clientHeight = getClientHeight(bodyElm);\n    return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n  };\n  var transpose = function (inline, elm, clientX, clientY) {\n    var clientRect = getBoundingClientRect$1(elm);\n    var deltaX = inline ? clientRect.left + elm.dom().clientLeft + getMarginLeft(elm) : 0;\n    var deltaY = inline ? clientRect.top + elm.dom().clientTop + getMarginTop(elm) : 0;\n    var x = clientX - deltaX;\n    var y = clientY - deltaY;\n    return {\n      x: x,\n      y: y\n    };\n  };\n  var isXYInContentArea = function (editor, clientX, clientY) {\n    var bodyElm = Element$$1.fromDom(editor.getBody());\n    var targetElm = editor.inline ? bodyElm : $_dr4ybh18jnlpawzt.documentElement(bodyElm);\n    var transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n    return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n  };\n  var fromDomSafe = function (node) {\n    return Option.from(node).map(Element$$1.fromDom);\n  };\n  var isEditorAttachedToDom = function (editor) {\n    var rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n    return fromDomSafe(rawContainer).map(function (container) {\n      return $_5h7cor1ejnlpax0k.contains($_dr4ybh18jnlpawzt.owner(container), container);\n    }).getOr(false);\n  };\n  var $_wem7o53jnlpaxtk = {\n    isXYInContentArea: isXYInContentArea,\n    isEditorAttachedToDom: isEditorAttachedToDom\n  };\n\n  function NotificationManagerImpl () {\n    var unimplemented = function () {\n      throw new Error('Theme did not provide a NotificationManager implementation.');\n    };\n    return {\n      open: unimplemented,\n      close: unimplemented,\n      reposition: unimplemented,\n      getArgs: unimplemented\n    };\n  }\n\n  function NotificationManager (editor) {\n    var notifications = [];\n    var getImplementation = function () {\n      var theme = editor.theme;\n      return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n    };\n    var getTopNotification = function () {\n      return Option.from(notifications[0]);\n    };\n    var isEqual = function (a, b) {\n      return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n    };\n    var reposition = function () {\n      if (notifications.length > 0) {\n        getImplementation().reposition(notifications);\n      }\n    };\n    var addNotification = function (notification) {\n      notifications.push(notification);\n    };\n    var closeNotification = function (notification) {\n      findIndex(notifications, function (otherNotification) {\n        return otherNotification === notification;\n      }).each(function (index) {\n        notifications.splice(index, 1);\n      });\n    };\n    var open = function (args) {\n      if (editor.removed || !$_wem7o53jnlpaxtk.isEditorAttachedToDom(editor)) {\n        return;\n      }\n      return find(notifications, function (notification) {\n        return isEqual(getImplementation().getArgs(notification), args);\n      }).getOrThunk(function () {\n        editor.editorManager.setActive(editor);\n        var notification = getImplementation().open(args, function () {\n          closeNotification(notification);\n          reposition();\n        });\n        addNotification(notification);\n        reposition();\n        return notification;\n      });\n    };\n    var close = function () {\n      getTopNotification().each(function (notification) {\n        getImplementation().close(notification);\n        closeNotification(notification);\n        reposition();\n      });\n    };\n    var getNotifications = function () {\n      return notifications;\n    };\n    var registerEvents = function (editor) {\n      editor.on('SkinLoaded', function () {\n        var serviceMessage = editor.settings.service_message;\n        if (serviceMessage) {\n          open({\n            text: serviceMessage,\n            type: 'warning',\n            timeout: 0,\n            icon: ''\n          });\n        }\n      });\n      editor.on('ResizeEditor ResizeWindow', function () {\n        $_2nbnh1ijnlpawpi.requestAnimationFrame(reposition);\n      });\n      editor.on('remove', function () {\n        each(notifications.slice(), function (notification) {\n          getImplementation().close(notification);\n        });\n      });\n    };\n    registerEvents(editor);\n    return {\n      open: open,\n      close: close,\n      getNotifications: getNotifications\n    };\n  }\n\n  function WindowManagerImpl () {\n    var unimplemented = function () {\n      throw new Error('Theme did not provide a WindowManager implementation.');\n    };\n    return {\n      open: unimplemented,\n      alert: unimplemented,\n      confirm: unimplemented,\n      close: unimplemented,\n      getParams: unimplemented,\n      setParams: unimplemented\n    };\n  }\n\n  function WindowManager (editor) {\n    var windows = [];\n    var getImplementation = function () {\n      var theme = editor.theme;\n      return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n    };\n    var funcBind = function (scope, f) {\n      return function () {\n        return f ? f.apply(scope, arguments) : undefined;\n      };\n    };\n    var fireOpenEvent = function (win) {\n      editor.fire('OpenWindow', { win: win });\n    };\n    var fireCloseEvent = function (win) {\n      editor.fire('CloseWindow', { win: win });\n    };\n    var addWindow = function (win) {\n      windows.push(win);\n      fireOpenEvent(win);\n    };\n    var closeWindow = function (win) {\n      findIndex(windows, function (otherWindow) {\n        return otherWindow === win;\n      }).each(function (index) {\n        windows.splice(index, 1);\n        fireCloseEvent(win);\n        if (windows.length === 0) {\n          editor.focus();\n        }\n      });\n    };\n    var getTopWindow = function () {\n      return Option.from(windows[windows.length - 1]);\n    };\n    var open = function (args, params) {\n      editor.editorManager.setActive(editor);\n      $_13pqgk4ojnlpaxqr.store(editor);\n      var win = getImplementation().open(args, params, closeWindow);\n      addWindow(win);\n      return win;\n    };\n    var alert = function (message, callback, scope) {\n      var win = getImplementation().alert(message, funcBind(scope ? scope : this, callback), closeWindow);\n      addWindow(win);\n    };\n    var confirm = function (message, callback, scope) {\n      var win = getImplementation().confirm(message, funcBind(scope ? scope : this, callback), closeWindow);\n      addWindow(win);\n    };\n    var close = function () {\n      getTopWindow().each(function (win) {\n        getImplementation().close(win);\n        closeWindow(win);\n      });\n    };\n    var getParams = function () {\n      return getTopWindow().map(getImplementation().getParams).getOr(null);\n    };\n    var setParams = function (params) {\n      getTopWindow().each(function (win) {\n        getImplementation().setParams(win, params);\n      });\n    };\n    var getWindows = function () {\n      return windows;\n    };\n    editor.on('remove', function () {\n      each(windows.slice(0), function (win) {\n        getImplementation().close(win);\n      });\n    });\n    return {\n      windows: windows,\n      open: open,\n      alert: alert,\n      confirm: confirm,\n      close: close,\n      getParams: getParams,\n      setParams: setParams,\n      getWindows: getWindows\n    };\n  }\n\n  var PluginManager = AddOnManager.PluginManager;\n  var resolvePluginName = function (targetUrl, suffix) {\n    for (var name$$1 in PluginManager.urls) {\n      var matchUrl = PluginManager.urls[name$$1] + '/plugin' + suffix + '.js';\n      if (matchUrl === targetUrl) {\n        return name$$1;\n      }\n    }\n    return null;\n  };\n  var pluginUrlToMessage = function (editor, url) {\n    var plugin = resolvePluginName(url, editor.suffix);\n    return plugin ? 'Failed to load plugin: ' + plugin + ' from url ' + url : 'Failed to load plugin url: ' + url;\n  };\n  var displayNotification = function (editor, message) {\n    editor.notificationManager.open({\n      type: 'error',\n      text: message\n    });\n  };\n  var displayError = function (editor, message) {\n    if (editor._skinLoaded) {\n      displayNotification(editor, message);\n    } else {\n      editor.on('SkinLoaded', function () {\n        displayNotification(editor, message);\n      });\n    }\n  };\n  var uploadError = function (editor, message) {\n    displayError(editor, 'Failed to upload image: ' + message);\n  };\n  var pluginLoadError = function (editor, url) {\n    displayError(editor, pluginUrlToMessage(editor, url));\n  };\n  var initError = function (message) {\n    var x = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n    var console$$1 = window.console;\n    if (console$$1) {\n      if (console$$1.error) {\n        console$$1.error.apply(console$$1, arguments);\n      } else {\n        console$$1.log.apply(console$$1, arguments);\n      }\n    }\n  };\n  var $_2xhw4u57jnlpaxu1 = {\n    pluginLoadError: pluginLoadError,\n    uploadError: uploadError,\n    displayError: displayError,\n    initError: initError\n  };\n\n  var PluginManager$1 = AddOnManager.PluginManager;\n\n  var ThemeManager = AddOnManager.ThemeManager;\n\n  function XMLHttpRequest () {\n    var f = $_3b2dlgcjnlpawlt.getOrDie('XMLHttpRequest');\n    return new f();\n  }\n\n  function Uploader (uploadStatus, settings) {\n    var pendingPromises = {};\n    var pathJoin = function (path1, path2) {\n      if (path1) {\n        return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n      }\n      return path2;\n    };\n    var defaultHandler = function (blobInfo, success, failure, progress) {\n      var xhr, formData;\n      xhr = XMLHttpRequest();\n      xhr.open('POST', settings.url);\n      xhr.withCredentials = settings.credentials;\n      xhr.upload.onprogress = function (e) {\n        progress(e.loaded / e.total * 100);\n      };\n      xhr.onerror = function () {\n        failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n      };\n      xhr.onload = function () {\n        var json;\n        if (xhr.status < 200 || xhr.status >= 300) {\n          failure('HTTP Error: ' + xhr.status);\n          return;\n        }\n        json = JSON.parse(xhr.responseText);\n        if (!json || typeof json.location !== 'string') {\n          failure('Invalid JSON: ' + xhr.responseText);\n          return;\n        }\n        success(pathJoin(settings.basePath, json.location));\n      };\n      formData = new FormData();\n      formData.append('file', blobInfo.blob(), blobInfo.filename());\n      xhr.send(formData);\n    };\n    var noUpload = function () {\n      return new promiseObj(function (resolve) {\n        resolve([]);\n      });\n    };\n    var handlerSuccess = function (blobInfo, url) {\n      return {\n        url: url,\n        blobInfo: blobInfo,\n        status: true\n      };\n    };\n    var handlerFailure = function (blobInfo, error) {\n      return {\n        url: '',\n        blobInfo: blobInfo,\n        status: false,\n        error: error\n      };\n    };\n    var resolvePending = function (blobUri, result) {\n      $_1q1txeljnlpawsa.each(pendingPromises[blobUri], function (resolve) {\n        resolve(result);\n      });\n      delete pendingPromises[blobUri];\n    };\n    var uploadBlobInfo = function (blobInfo, handler, openNotification) {\n      uploadStatus.markPending(blobInfo.blobUri());\n      return new promiseObj(function (resolve) {\n        var notification, progress;\n        var noop = function () {\n        };\n        try {\n          var closeNotification_1 = function () {\n            if (notification) {\n              notification.close();\n              progress = noop;\n            }\n          };\n          var success = function (url) {\n            closeNotification_1();\n            uploadStatus.markUploaded(blobInfo.blobUri(), url);\n            resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n            resolve(handlerSuccess(blobInfo, url));\n          };\n          var failure = function (error) {\n            closeNotification_1();\n            uploadStatus.removeFailed(blobInfo.blobUri());\n            resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\n            resolve(handlerFailure(blobInfo, error));\n          };\n          progress = function (percent) {\n            if (percent < 0 || percent > 100) {\n              return;\n            }\n            if (!notification) {\n              notification = openNotification();\n            }\n            notification.progressBar.value(percent);\n          };\n          handler(blobInfo, success, failure, progress);\n        } catch (ex) {\n          resolve(handlerFailure(blobInfo, ex.message));\n        }\n      });\n    };\n    var isDefaultHandler = function (handler) {\n      return handler === defaultHandler;\n    };\n    var pendingUploadBlobInfo = function (blobInfo) {\n      var blobUri = blobInfo.blobUri();\n      return new promiseObj(function (resolve) {\n        pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n        pendingPromises[blobUri].push(resolve);\n      });\n    };\n    var uploadBlobs = function (blobInfos, openNotification) {\n      blobInfos = $_1q1txeljnlpawsa.grep(blobInfos, function (blobInfo) {\n        return !uploadStatus.isUploaded(blobInfo.blobUri());\n      });\n      return promiseObj.all($_1q1txeljnlpawsa.map(blobInfos, function (blobInfo) {\n        return uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, settings.handler, openNotification);\n      }));\n    };\n    var upload = function (blobInfos, openNotification) {\n      return !settings.url && isDefaultHandler(settings.handler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n    };\n    if (isFunction(settings.handler) === false) {\n      settings.handler = defaultHandler;\n    }\n    return { upload: upload };\n  }\n\n  function FileReader () {\n    var f = $_3b2dlgcjnlpawlt.getOrDie('FileReader');\n    return new f();\n  }\n\n  function Uint8Array (arr) {\n    var f = $_3b2dlgcjnlpawlt.getOrDie('Uint8Array');\n    return new f(arr);\n  }\n\n  var requestAnimationFrame$1 = function (callback) {\n    var f = $_3b2dlgcjnlpawlt.getOrDie('requestAnimationFrame');\n    f(callback);\n  };\n  var atob = function (base64) {\n    var f = $_3b2dlgcjnlpawlt.getOrDie('atob');\n    return f(base64);\n  };\n  var $_7fz2a15jjnlpaxvr = {\n    atob: atob,\n    requestAnimationFrame: requestAnimationFrame$1\n  };\n\n  var blobUriToBlob = function (url) {\n    return new promiseObj(function (resolve, reject) {\n      var rejectWithError = function () {\n        reject('Cannot convert ' + url + ' to Blob. Resource might not exist or is inaccessible.');\n      };\n      try {\n        var xhr = XMLHttpRequest();\n        xhr.open('GET', url, true);\n        xhr.responseType = 'blob';\n        xhr.onload = function () {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            rejectWithError();\n          }\n        };\n        xhr.onerror = rejectWithError;\n        xhr.send();\n      } catch (ex) {\n        rejectWithError();\n      }\n    });\n  };\n  var parseDataUri = function (uri) {\n    var type, matches;\n    var uriParts = decodeURIComponent(uri).split(',');\n    matches = /data:([^;]+)/.exec(uriParts[0]);\n    if (matches) {\n      type = matches[1];\n    }\n    return {\n      type: type,\n      data: uriParts[1]\n    };\n  };\n  var dataUriToBlob = function (uri) {\n    return new promiseObj(function (resolve) {\n      var str, arr, i;\n      var uriParts = parseDataUri(uri);\n      try {\n        str = $_7fz2a15jjnlpaxvr.atob(uriParts.data);\n      } catch (e) {\n        resolve(new Blob([]));\n        return;\n      }\n      arr = Uint8Array(str.length);\n      for (i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      resolve(new Blob([arr], { type: uriParts.type }));\n    });\n  };\n  var uriToBlob = function (url) {\n    if (url.indexOf('blob:') === 0) {\n      return blobUriToBlob(url);\n    }\n    if (url.indexOf('data:') === 0) {\n      return dataUriToBlob(url);\n    }\n    return null;\n  };\n  var blobToDataUri = function (blob) {\n    return new promiseObj(function (resolve) {\n      var reader = FileReader();\n      reader.onloadend = function () {\n        resolve(reader.result);\n      };\n      reader.readAsDataURL(blob);\n    });\n  };\n  var $_4ygjjg5gjnlpaxvh = {\n    uriToBlob: uriToBlob,\n    blobToDataUri: blobToDataUri,\n    parseDataUri: parseDataUri\n  };\n\n  var count = 0;\n  var uniqueId = function (prefix) {\n    return (prefix || 'blobid') + count++;\n  };\n  var imageToBlobInfo = function (blobCache, img, resolve, reject) {\n    var base64, blobInfo;\n    if (img.src.indexOf('blob:') === 0) {\n      blobInfo = blobCache.getByUri(img.src);\n      if (blobInfo) {\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      } else {\n        $_4ygjjg5gjnlpaxvh.uriToBlob(img.src).then(function (blob) {\n          $_4ygjjg5gjnlpaxvh.blobToDataUri(blob).then(function (dataUri) {\n            base64 = $_4ygjjg5gjnlpaxvh.parseDataUri(dataUri).data;\n            blobInfo = blobCache.create(uniqueId(), blob, base64);\n            blobCache.add(blobInfo);\n            resolve({\n              image: img,\n              blobInfo: blobInfo\n            });\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n      return;\n    }\n    base64 = $_4ygjjg5gjnlpaxvh.parseDataUri(img.src).data;\n    blobInfo = blobCache.findFirst(function (cachedBlobInfo) {\n      return cachedBlobInfo.base64() === base64;\n    });\n    if (blobInfo) {\n      resolve({\n        image: img,\n        blobInfo: blobInfo\n      });\n    } else {\n      $_4ygjjg5gjnlpaxvh.uriToBlob(img.src).then(function (blob) {\n        blobInfo = blobCache.create(uniqueId(), blob, base64);\n        blobCache.add(blobInfo);\n        resolve({\n          image: img,\n          blobInfo: blobInfo\n        });\n      }, function (err) {\n        reject(err);\n      });\n    }\n  };\n  var getAllImages = function (elm) {\n    return elm ? elm.getElementsByTagName('img') : [];\n  };\n  function ImageScanner (uploadStatus, blobCache) {\n    var cachedPromises = {};\n    var findAll = function (elm, predicate) {\n      var images;\n      if (!predicate) {\n        predicate = $_dv6bef2njnlpax9l.constant(true);\n      }\n      images = $_n452lmjnlpawsj.filter(getAllImages(elm), function (img) {\n        var src = img.src;\n        if (!$_cseqobajnlpawll.fileApi) {\n          return false;\n        }\n        if (img.hasAttribute('data-mce-bogus')) {\n          return false;\n        }\n        if (img.hasAttribute('data-mce-placeholder')) {\n          return false;\n        }\n        if (!src || src === $_cseqobajnlpawll.transparentSrc) {\n          return false;\n        }\n        if (src.indexOf('blob:') === 0) {\n          return !uploadStatus.isUploaded(src) && predicate(img);\n        }\n        if (src.indexOf('data:') === 0) {\n          return predicate(img);\n        }\n        return false;\n      });\n      var promises = $_n452lmjnlpawsj.map(images, function (img) {\n        if (cachedPromises[img.src]) {\n          return new promiseObj(function (resolve) {\n            cachedPromises[img.src].then(function (imageInfo) {\n              if (typeof imageInfo === 'string') {\n                return imageInfo;\n              }\n              resolve({\n                image: img,\n                blobInfo: imageInfo.blobInfo\n              });\n            });\n          });\n        }\n        var newPromise = new promiseObj(function (resolve, reject) {\n          imageToBlobInfo(blobCache, img, resolve, reject);\n        }).then(function (result) {\n          delete cachedPromises[result.image.src];\n          return result;\n        }).catch(function (error) {\n          delete cachedPromises[img.src];\n          return error;\n        });\n        cachedPromises[img.src] = newPromise;\n        return newPromise;\n      });\n      return promiseObj.all(promises);\n    };\n    return { findAll: findAll };\n  }\n\n  var count$1 = 0;\n  var seed = function () {\n    var rnd = function () {\n      return Math.round(Math.random() * 4294967295).toString(36);\n    };\n    var now = new Date().getTime();\n    return 's' + now.toString(36) + rnd() + rnd() + rnd();\n  };\n  var uuid = function (prefix) {\n    return prefix + count$1++ + seed();\n  };\n  var $_cb5mec5ljnlpaxvz = { uuid: uuid };\n\n  function BlobCache () {\n    var cache = [];\n    var constant = $_dv6bef2njnlpax9l.constant;\n    var mimeToExt = function (mime) {\n      var mimes = {\n        'image/jpeg': 'jpg',\n        'image/jpg': 'jpg',\n        'image/gif': 'gif',\n        'image/png': 'png'\n      };\n      return mimes[mime.toLowerCase()] || 'dat';\n    };\n    var create = function (o, blob, base64, filename) {\n      if (isString(o)) {\n        var id = o;\n        return toBlobInfo({\n          id: id,\n          name: filename,\n          blob: blob,\n          base64: base64\n        });\n      } else if (isObject(o)) {\n        return toBlobInfo(o);\n      } else {\n        throw new Error('Unknown input type');\n      }\n    };\n    var toBlobInfo = function (o) {\n      var id, name;\n      if (!o.blob || !o.base64) {\n        throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n      }\n      id = o.id || $_cb5mec5ljnlpaxvz.uuid('blobid');\n      name = o.name || id;\n      return {\n        id: constant(id),\n        name: constant(name),\n        filename: constant(name + '.' + mimeToExt(o.blob.type)),\n        blob: constant(o.blob),\n        base64: constant(o.base64),\n        blobUri: constant(o.blobUri || $_9khkh7bjnlpawls.createObjectURL(o.blob)),\n        uri: constant(o.uri)\n      };\n    };\n    var add = function (blobInfo) {\n      if (!get(blobInfo.id())) {\n        cache.push(blobInfo);\n      }\n    };\n    var get = function (id) {\n      return findFirst(function (cachedBlobInfo) {\n        return cachedBlobInfo.id() === id;\n      });\n    };\n    var findFirst = function (predicate) {\n      return $_n452lmjnlpawsj.filter(cache, predicate)[0];\n    };\n    var getByUri = function (blobUri) {\n      return findFirst(function (blobInfo) {\n        return blobInfo.blobUri() === blobUri;\n      });\n    };\n    var removeByUri = function (blobUri) {\n      cache = $_n452lmjnlpawsj.filter(cache, function (blobInfo) {\n        if (blobInfo.blobUri() === blobUri) {\n          $_9khkh7bjnlpawls.revokeObjectURL(blobInfo.blobUri());\n          return false;\n        }\n        return true;\n      });\n    };\n    var destroy = function () {\n      $_n452lmjnlpawsj.each(cache, function (cachedBlobInfo) {\n        $_9khkh7bjnlpawls.revokeObjectURL(cachedBlobInfo.blobUri());\n      });\n      cache = [];\n    };\n    return {\n      create: create,\n      add: add,\n      get: get,\n      getByUri: getByUri,\n      findFirst: findFirst,\n      removeByUri: removeByUri,\n      destroy: destroy\n    };\n  }\n\n  function UploadStatus () {\n    var PENDING = 1, UPLOADED = 2;\n    var blobUriStatuses = {};\n    var createStatus = function (status, resultUri) {\n      return {\n        status: status,\n        resultUri: resultUri\n      };\n    };\n    var hasBlobUri = function (blobUri) {\n      return blobUri in blobUriStatuses;\n    };\n    var getResultUri = function (blobUri) {\n      var result = blobUriStatuses[blobUri];\n      return result ? result.resultUri : null;\n    };\n    var isPending = function (blobUri) {\n      return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n    };\n    var isUploaded = function (blobUri) {\n      return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n    };\n    var markPending = function (blobUri) {\n      blobUriStatuses[blobUri] = createStatus(PENDING, null);\n    };\n    var markUploaded = function (blobUri, resultUri) {\n      blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n    };\n    var removeFailed = function (blobUri) {\n      delete blobUriStatuses[blobUri];\n    };\n    var destroy = function () {\n      blobUriStatuses = {};\n    };\n    return {\n      hasBlobUri: hasBlobUri,\n      getResultUri: getResultUri,\n      isPending: isPending,\n      isUploaded: isUploaded,\n      markPending: markPending,\n      markUploaded: markUploaded,\n      removeFailed: removeFailed,\n      destroy: destroy\n    };\n  }\n\n  function EditorUpload (editor) {\n    var blobCache = BlobCache();\n    var uploader, imageScanner;\n    var uploadStatus = UploadStatus();\n    var urlFilters = [];\n    var aliveGuard = function (callback) {\n      return function (result) {\n        if (editor.selection) {\n          return callback(result);\n        }\n        return [];\n      };\n    };\n    var cacheInvalidator = function () {\n      return '?' + new Date().getTime();\n    };\n    var replaceString = function (content, search, replace) {\n      var index = 0;\n      do {\n        index = content.indexOf(search, index);\n        if (index !== -1) {\n          content = content.substring(0, index) + replace + content.substr(index + search.length);\n          index += replace.length - search.length + 1;\n        }\n      } while (index !== -1);\n      return content;\n    };\n    var replaceImageUrl = function (content, targetUrl, replacementUrl) {\n      content = replaceString(content, 'src=\"' + targetUrl + '\"', 'src=\"' + replacementUrl + '\"');\n      content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n      return content;\n    };\n    var replaceUrlInUndoStack = function (targetUrl, replacementUrl) {\n      each(editor.undoManager.data, function (level) {\n        if (level.type === 'fragmented') {\n          level.fragments = map(level.fragments, function (fragment) {\n            return replaceImageUrl(fragment, targetUrl, replacementUrl);\n          });\n        } else {\n          level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n        }\n      });\n    };\n    var openNotification = function () {\n      return editor.notificationManager.open({\n        text: editor.translate('Image uploading...'),\n        type: 'info',\n        timeout: -1,\n        progressBar: true\n      });\n    };\n    var replaceImageUri = function (image, resultUri) {\n      blobCache.removeByUri(image.src);\n      replaceUrlInUndoStack(image.src, resultUri);\n      editor.$(image).attr({\n        'src': $_c6e09z3ajnlpaxek.shouldReuseFileName(editor) ? resultUri + cacheInvalidator() : resultUri,\n        'data-mce-src': editor.convertURL(resultUri, 'src')\n      });\n    };\n    var uploadImages = function (callback) {\n      if (!uploader) {\n        uploader = Uploader(uploadStatus, {\n          url: $_c6e09z3ajnlpaxek.getImageUploadUrl(editor),\n          basePath: $_c6e09z3ajnlpaxek.getImageUploadBasePath(editor),\n          credentials: $_c6e09z3ajnlpaxek.getImagesUploadCredentials(editor),\n          handler: $_c6e09z3ajnlpaxek.getImagesUploadHandler(editor)\n        });\n      }\n      return scanForImages().then(aliveGuard(function (imageInfos) {\n        var blobInfos;\n        blobInfos = map(imageInfos, function (imageInfo) {\n          return imageInfo.blobInfo;\n        });\n        return uploader.upload(blobInfos, openNotification).then(aliveGuard(function (result) {\n          var filteredResult = map(result, function (uploadInfo, index) {\n            var image = imageInfos[index].image;\n            if (uploadInfo.status && $_c6e09z3ajnlpaxek.shouldReplaceBlobUris(editor)) {\n              replaceImageUri(image, uploadInfo.url);\n            } else if (uploadInfo.error) {\n              $_2xhw4u57jnlpaxu1.uploadError(editor, uploadInfo.error);\n            }\n            return {\n              element: image,\n              status: uploadInfo.status\n            };\n          });\n          if (callback) {\n            callback(filteredResult);\n          }\n          return filteredResult;\n        }));\n      }));\n    };\n    var uploadImagesAuto = function (callback) {\n      if ($_c6e09z3ajnlpaxek.isAutomaticUploadsEnabled(editor)) {\n        return uploadImages(callback);\n      }\n    };\n    var isValidDataUriImage = function (imgElm) {\n      if (forall(urlFilters, function (filter$$1) {\n          return filter$$1(imgElm);\n        }) === false) {\n        return false;\n      }\n      if (imgElm.getAttribute('src').indexOf('data:') === 0) {\n        var dataImgFilter = $_c6e09z3ajnlpaxek.getImagesDataImgFilter(editor);\n        return dataImgFilter(imgElm);\n      }\n      return true;\n    };\n    var addFilter = function (filter$$1) {\n      urlFilters.push(filter$$1);\n    };\n    var scanForImages = function () {\n      if (!imageScanner) {\n        imageScanner = ImageScanner(uploadStatus, blobCache);\n      }\n      return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(function (result) {\n        result = filter(result, function (resultItem) {\n          if (typeof resultItem === 'string') {\n            $_2xhw4u57jnlpaxu1.displayError(editor, resultItem);\n            return false;\n          }\n          return true;\n        });\n        each(result, function (resultItem) {\n          replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n          resultItem.image.src = resultItem.blobInfo.blobUri();\n          resultItem.image.removeAttribute('data-mce-src');\n        });\n        return result;\n      }));\n    };\n    var destroy = function () {\n      blobCache.destroy();\n      uploadStatus.destroy();\n      imageScanner = uploader = null;\n    };\n    var replaceBlobUris = function (content) {\n      return content.replace(/src=\"(blob:[^\"]+)\"/g, function (match, blobUri) {\n        var resultUri = uploadStatus.getResultUri(blobUri);\n        if (resultUri) {\n          return 'src=\"' + resultUri + '\"';\n        }\n        var blobInfo = blobCache.getByUri(blobUri);\n        if (!blobInfo) {\n          blobInfo = foldl(editor.editorManager.get(), function (result, editor) {\n            return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n          }, null);\n        }\n        if (blobInfo) {\n          var blob = blobInfo.blob();\n          return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n        }\n        return match;\n      });\n    };\n    editor.on('setContent', function () {\n      if ($_c6e09z3ajnlpaxek.isAutomaticUploadsEnabled(editor)) {\n        uploadImagesAuto();\n      } else {\n        scanForImages();\n      }\n    });\n    editor.on('RawSaveContent', function (e) {\n      e.content = replaceBlobUris(e.content);\n    });\n    editor.on('getContent', function (e) {\n      if (e.source_view || e.format === 'raw') {\n        return;\n      }\n      e.content = replaceBlobUris(e.content);\n    });\n    editor.on('PostRender', function () {\n      editor.parser.addNodeFilter('img', function (images) {\n        each(images, function (img) {\n          var src = img.attr('src');\n          if (blobCache.getByUri(src)) {\n            return;\n          }\n          var resultUri = uploadStatus.getResultUri(src);\n          if (resultUri) {\n            img.attr('src', resultUri);\n          }\n        });\n      });\n    });\n    return {\n      blobCache: blobCache,\n      addFilter: addFilter,\n      uploadImages: uploadImages,\n      uploadImagesAuto: uploadImagesAuto,\n      scanForImages: scanForImages,\n      destroy: destroy\n    };\n  }\n\n  var isBlockElement = function (blockElements, node) {\n    return blockElements.hasOwnProperty(node.nodeName);\n  };\n  var isValidTarget = function (blockElements, node) {\n    if ($_fy28ei1rjnlpax2o.isText(node)) {\n      return true;\n    } else if ($_fy28ei1rjnlpax2o.isElement(node)) {\n      return !isBlockElement(blockElements, node) && !$_43l8qj2xjnlpaxb1.isBookmarkNode(node);\n    } else {\n      return false;\n    }\n  };\n  var hasBlockParent = function (blockElements, root, node) {\n    return exists($_4b88sj42jnlpaxkd.parents(Element$$1.fromDom(node), Element$$1.fromDom(root)), function (elm) {\n      return isBlockElement(blockElements, elm.dom());\n    });\n  };\n  var shouldRemoveTextNode = function (blockElements, node) {\n    if ($_fy28ei1rjnlpax2o.isText(node)) {\n      if (node.nodeValue.length === 0) {\n        return true;\n      } else if (/^\\s+$/.test(node.nodeValue) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n        return true;\n      }\n    }\n    return false;\n  };\n  var addRootBlocks = function (editor) {\n    var settings = editor.settings, dom = editor.dom, selection = editor.selection;\n    var schema = editor.schema, blockElements = schema.getBlockElements();\n    var node = selection.getStart();\n    var rootNode = editor.getBody();\n    var rng;\n    var startContainer, startOffset, endContainer, endOffset, rootBlockNode;\n    var tempNode, wrapped, restoreSelection;\n    var rootNodeName, forcedRootBlock;\n    forcedRootBlock = settings.forced_root_block;\n    if (!node || !$_fy28ei1rjnlpax2o.isElement(node) || !forcedRootBlock) {\n      return;\n    }\n    rootNodeName = rootNode.nodeName.toLowerCase();\n    if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, node)) {\n      return;\n    }\n    rng = selection.getRng();\n    startContainer = rng.startContainer;\n    startOffset = rng.startOffset;\n    endContainer = rng.endContainer;\n    endOffset = rng.endOffset;\n    restoreSelection = $_8odu5n4yjnlpaxsg.hasFocus(editor);\n    node = rootNode.firstChild;\n    while (node) {\n      if (isValidTarget(blockElements, node)) {\n        if (shouldRemoveTextNode(blockElements, node)) {\n          tempNode = node;\n          node = node.nextSibling;\n          dom.remove(tempNode);\n          continue;\n        }\n        if (!rootBlockNode) {\n          rootBlockNode = dom.create(forcedRootBlock, editor.settings.forced_root_block_attrs);\n          node.parentNode.insertBefore(rootBlockNode, node);\n          wrapped = true;\n        }\n        tempNode = node;\n        node = node.nextSibling;\n        rootBlockNode.appendChild(tempNode);\n      } else {\n        rootBlockNode = null;\n        node = node.nextSibling;\n      }\n    }\n    if (wrapped && restoreSelection) {\n      rng.setStart(startContainer, startOffset);\n      rng.setEnd(endContainer, endOffset);\n      selection.setRng(rng);\n      editor.nodeChanged();\n    }\n  };\n  var setup$2 = function (editor) {\n    if (editor.settings.forced_root_block) {\n      editor.on('NodeChange', curry(addRootBlocks, editor));\n    }\n  };\n  var $_cjqvqq5njnlpaxw3 = { setup: setup$2 };\n\n  var getStartNode = function (rng) {\n    var sc = rng.startContainer, so = rng.startOffset;\n    if ($_fy28ei1rjnlpax2o.isText(sc)) {\n      return so === 0 ? Option.some(Element$$1.fromDom(sc)) : Option.none();\n    } else {\n      return Option.from(sc.childNodes[so]).map(Element$$1.fromDom);\n    }\n  };\n  var getEndNode = function (rng) {\n    var ec = rng.endContainer, eo = rng.endOffset;\n    if ($_fy28ei1rjnlpax2o.isText(ec)) {\n      return eo === ec.data.length ? Option.some(Element$$1.fromDom(ec)) : Option.none();\n    } else {\n      return Option.from(ec.childNodes[eo - 1]).map(Element$$1.fromDom);\n    }\n  };\n  var getFirstChildren = function (node) {\n    return $_dr4ybh18jnlpawzt.firstChild(node).fold(constant([node]), function (child) {\n      return [node].concat(getFirstChildren(child));\n    });\n  };\n  var getLastChildren$1 = function (node) {\n    return $_dr4ybh18jnlpawzt.lastChild(node).fold(constant([node]), function (child) {\n      if ($_7u5fzs11jnlpawv6.name(child) === 'br') {\n        return $_dr4ybh18jnlpawzt.prevSibling(child).map(function (sibling) {\n          return [node].concat(getLastChildren$1(sibling));\n        }).getOr([]);\n      } else {\n        return [node].concat(getLastChildren$1(child));\n      }\n    });\n  };\n  var hasAllContentsSelected = function (elm, rng) {\n    return liftN([\n      getStartNode(rng),\n      getEndNode(rng)\n    ], function (startNode, endNode) {\n      var start = find(getFirstChildren(elm), curry($_5h7cor1ejnlpax0k.eq, startNode));\n      var end = find(getLastChildren$1(elm), curry($_5h7cor1ejnlpax0k.eq, endNode));\n      return start.isSome() && end.isSome();\n    }).getOr(false);\n  };\n  var moveEndPoint$1 = function (dom, rng, node, start) {\n    var root = node, walker = new TreeWalker(node, root);\n    var nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n    do {\n      if (node.nodeType === 3 && $_1q1txeljnlpawsa.trim(node.nodeValue).length !== 0) {\n        if (start) {\n          rng.setStart(node, 0);\n        } else {\n          rng.setEnd(node, node.nodeValue.length);\n        }\n        return;\n      }\n      if (nonEmptyElementsMap[node.nodeName] && !/^(TD|TH)$/.test(node.nodeName)) {\n        if (start) {\n          rng.setStartBefore(node);\n        } else {\n          if (node.nodeName === 'BR') {\n            rng.setEndBefore(node);\n          } else {\n            rng.setEndAfter(node);\n          }\n        }\n        return;\n      }\n      if ($_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie < 11 && dom.isBlock(node) && dom.isEmpty(node)) {\n        if (start) {\n          rng.setStart(node, 0);\n        } else {\n          rng.setEnd(node, 0);\n        }\n        return;\n      }\n    } while (node = start ? walker.next() : walker.prev());\n    if (root.nodeName === 'BODY') {\n      if (start) {\n        rng.setStart(root, 0);\n      } else {\n        rng.setEnd(root, root.childNodes.length);\n      }\n    }\n  };\n  var hasAnyRanges = function (editor) {\n    var sel = editor.selection.getSel();\n    return sel && sel.rangeCount > 0;\n  };\n\n  function NodeChange (editor) {\n    var lastRng, lastPath = [];\n    var isSameElementPath = function (startElm) {\n      var i, currentPath;\n      currentPath = editor.$(startElm).parentsUntil(editor.getBody()).add(startElm);\n      if (currentPath.length === lastPath.length) {\n        for (i = currentPath.length; i >= 0; i--) {\n          if (currentPath[i] !== lastPath[i]) {\n            break;\n          }\n        }\n        if (i === -1) {\n          lastPath = currentPath;\n          return true;\n        }\n      }\n      lastPath = currentPath;\n      return false;\n    };\n    if (!('onselectionchange' in editor.getDoc())) {\n      editor.on('NodeChange Click MouseUp KeyUp Focus', function (e) {\n        var nativeRng, fakeRng;\n        nativeRng = editor.selection.getRng();\n        fakeRng = {\n          startContainer: nativeRng.startContainer,\n          startOffset: nativeRng.startOffset,\n          endContainer: nativeRng.endContainer,\n          endOffset: nativeRng.endOffset\n        };\n        if (e.type === 'nodechange' || !$_3s8g9y4njnlpaxqj.isEq(fakeRng, lastRng)) {\n          editor.fire('SelectionChange');\n        }\n        lastRng = fakeRng;\n      });\n    }\n    editor.on('contextmenu', function () {\n      editor.fire('SelectionChange');\n    });\n    editor.on('SelectionChange', function () {\n      var startElm = editor.selection.getStart(true);\n      if (!startElm || !$_cseqobajnlpawll.range && editor.selection.isCollapsed()) {\n        return;\n      }\n      if (hasAnyRanges(editor) && !isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n        editor.nodeChanged({ selectionChange: true });\n      }\n    });\n    editor.on('MouseUp', function (e) {\n      if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n        if (editor.selection.getNode().nodeName === 'IMG') {\n          $_2nbnh1ijnlpawpi.setEditorTimeout(editor, function () {\n            editor.nodeChanged();\n          });\n        } else {\n          editor.nodeChanged();\n        }\n      }\n    });\n    this.nodeChanged = function (args) {\n      var selection = editor.selection;\n      var node, parents, root;\n      if (editor.initialized && selection && !editor.settings.disable_nodechange && !editor.readonly) {\n        root = editor.getBody();\n        node = selection.getStart(true) || root;\n        if (node.ownerDocument !== editor.getDoc() || !editor.dom.isChildOf(node, root)) {\n          node = root;\n        }\n        parents = [];\n        editor.dom.getParent(node, function (node) {\n          if (node === root) {\n            return true;\n          }\n          parents.push(node);\n        });\n        args = args || {};\n        args.element = node;\n        args.parents = parents;\n        editor.fire('NodeChange', args);\n      }\n    };\n  }\n\n  var getAbsolutePosition = function (elm) {\n    var doc, docElem, win, clientRect;\n    clientRect = elm.getBoundingClientRect();\n    doc = elm.ownerDocument;\n    docElem = doc.documentElement;\n    win = doc.defaultView;\n    return {\n      top: clientRect.top + win.pageYOffset - docElem.clientTop,\n      left: clientRect.left + win.pageXOffset - docElem.clientLeft\n    };\n  };\n  var getBodyPosition = function (editor) {\n    return editor.inline ? getAbsolutePosition(editor.getBody()) : {\n      left: 0,\n      top: 0\n    };\n  };\n  var getScrollPosition = function (editor) {\n    var body = editor.getBody();\n    return editor.inline ? {\n      left: body.scrollLeft,\n      top: body.scrollTop\n    } : {\n      left: 0,\n      top: 0\n    };\n  };\n  var getBodyScroll = function (editor) {\n    var body = editor.getBody(), docElm = editor.getDoc().documentElement;\n    var inlineScroll = {\n      left: body.scrollLeft,\n      top: body.scrollTop\n    };\n    var iframeScroll = {\n      left: body.scrollLeft || docElm.scrollLeft,\n      top: body.scrollTop || docElm.scrollTop\n    };\n    return editor.inline ? inlineScroll : iframeScroll;\n  };\n  var getMousePosition = function (editor, event) {\n    if (event.target.ownerDocument !== editor.getDoc()) {\n      var iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n      var scrollPosition = getBodyScroll(editor);\n      return {\n        left: event.pageX - iframePosition.left + scrollPosition.left,\n        top: event.pageY - iframePosition.top + scrollPosition.top\n      };\n    }\n    return {\n      left: event.pageX,\n      top: event.pageY\n    };\n  };\n  var calculatePosition = function (bodyPosition, scrollPosition, mousePosition) {\n    return {\n      pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n      pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n    };\n  };\n  var calc = function (editor, event) {\n    return calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n  };\n  var $_d639a65sjnlpaxxw = { calc: calc };\n\n  var isContentEditableFalse$7 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var isContentEditableTrue$4 = $_fy28ei1rjnlpax2o.isContentEditableTrue;\n  var isDraggable = function (rootElm, elm) {\n    return isContentEditableFalse$7(elm) && elm !== rootElm;\n  };\n  var isValidDropTarget = function (editor, targetElement, dragElement) {\n    if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n      return false;\n    }\n    if (isContentEditableFalse$7(targetElement)) {\n      return false;\n    }\n    return true;\n  };\n  var cloneElement = function (elm) {\n    var cloneElm = elm.cloneNode(true);\n    cloneElm.removeAttribute('data-mce-selected');\n    return cloneElm;\n  };\n  var createGhost = function (editor, elm, width, height) {\n    var clonedElm = elm.cloneNode(true);\n    editor.dom.setStyles(clonedElm, {\n      width: width,\n      height: height\n    });\n    editor.dom.setAttrib(clonedElm, 'data-mce-selected', null);\n    var ghostElm = editor.dom.create('div', {\n      'class': 'mce-drag-container',\n      'data-mce-bogus': 'all',\n      'unselectable': 'on',\n      'contenteditable': 'false'\n    });\n    editor.dom.setStyles(ghostElm, {\n      position: 'absolute',\n      opacity: 0.5,\n      overflow: 'hidden',\n      border: 0,\n      padding: 0,\n      margin: 0,\n      width: width,\n      height: height\n    });\n    editor.dom.setStyles(clonedElm, {\n      margin: 0,\n      boxSizing: 'border-box'\n    });\n    ghostElm.appendChild(clonedElm);\n    return ghostElm;\n  };\n  var appendGhostToBody = function (ghostElm, bodyElm) {\n    if (ghostElm.parentNode !== bodyElm) {\n      bodyElm.appendChild(ghostElm);\n    }\n  };\n  var moveGhost = function (ghostElm, position, width, height, maxX, maxY) {\n    var overflowX = 0, overflowY = 0;\n    ghostElm.style.left = position.pageX + 'px';\n    ghostElm.style.top = position.pageY + 'px';\n    if (position.pageX + width > maxX) {\n      overflowX = position.pageX + width - maxX;\n    }\n    if (position.pageY + height > maxY) {\n      overflowY = position.pageY + height - maxY;\n    }\n    ghostElm.style.width = width - overflowX + 'px';\n    ghostElm.style.height = height - overflowY + 'px';\n  };\n  var removeElement = function (elm) {\n    if (elm && elm.parentNode) {\n      elm.parentNode.removeChild(elm);\n    }\n  };\n  var isLeftMouseButtonPressed = function (e) {\n    return e.button === 0;\n  };\n  var hasDraggableElement = function (state) {\n    return state.element;\n  };\n  var applyRelPos = function (state, position) {\n    return {\n      pageX: position.pageX - state.relX,\n      pageY: position.pageY + 5\n    };\n  };\n  var start$1 = function (state, editor) {\n    return function (e) {\n      if (isLeftMouseButtonPressed(e)) {\n        var ceElm = $_n452lmjnlpawsj.find(editor.dom.getParents(e.target), $_dv6bef2njnlpax9l.or(isContentEditableFalse$7, isContentEditableTrue$4));\n        if (isDraggable(editor.getBody(), ceElm)) {\n          var elmPos = editor.dom.getPos(ceElm);\n          var bodyElm = editor.getBody();\n          var docElm = editor.getDoc().documentElement;\n          state.element = ceElm;\n          state.screenX = e.screenX;\n          state.screenY = e.screenY;\n          state.maxX = (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2;\n          state.maxY = (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2;\n          state.relX = e.pageX - elmPos.x;\n          state.relY = e.pageY - elmPos.y;\n          state.width = ceElm.offsetWidth;\n          state.height = ceElm.offsetHeight;\n          state.ghost = createGhost(editor, ceElm, state.width, state.height);\n        }\n      }\n    };\n  };\n  var move$1 = function (state, editor) {\n    var throttledPlaceCaretAt = $_2nbnh1ijnlpawpi.throttle(function (clientX, clientY) {\n      editor._selectionOverrides.hideFakeCaret();\n      editor.selection.placeCaretAt(clientX, clientY);\n    }, 0);\n    return function (e) {\n      var movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n      if (hasDraggableElement(state) && !state.dragging && movement > 10) {\n        var args = editor.fire('dragstart', { target: state.element });\n        if (args.isDefaultPrevented()) {\n          return;\n        }\n        state.dragging = true;\n        editor.focus();\n      }\n      if (state.dragging) {\n        var targetPos = applyRelPos(state, $_d639a65sjnlpaxxw.calc(editor, e));\n        appendGhostToBody(state.ghost, editor.getBody());\n        moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY);\n        throttledPlaceCaretAt(e.clientX, e.clientY);\n      }\n    };\n  };\n  var getRawTarget = function (selection) {\n    var rng = selection.getSel().getRangeAt(0);\n    var startContainer = rng.startContainer;\n    return startContainer.nodeType === 3 ? startContainer.parentNode : startContainer;\n  };\n  var drop = function (state, editor) {\n    return function (e) {\n      if (state.dragging) {\n        if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n          var targetClone_1 = cloneElement(state.element);\n          var args = editor.fire('drop', {\n            targetClone: targetClone_1,\n            clientX: e.clientX,\n            clientY: e.clientY\n          });\n          if (!args.isDefaultPrevented()) {\n            targetClone_1 = args.targetClone;\n            editor.undoManager.transact(function () {\n              removeElement(state.element);\n              editor.insertContent(editor.dom.getOuterHTML(targetClone_1));\n              editor._selectionOverrides.hideFakeCaret();\n            });\n          }\n        }\n      }\n      removeDragState(state);\n    };\n  };\n  var stop$$1 = function (state, editor) {\n    return function () {\n      if (state.dragging) {\n        editor.fire('dragend');\n      }\n      removeDragState(state);\n    };\n  };\n  var removeDragState = function (state) {\n    state.dragging = false;\n    state.element = null;\n    removeElement(state.ghost);\n  };\n  var bindFakeDragEvents = function (editor) {\n    var state = {};\n    var pageDom, dragStartHandler, dragHandler, dropHandler, dragEndHandler, rootDocument;\n    pageDom = DOMUtils$1.DOM;\n    rootDocument = document;\n    dragStartHandler = start$1(state, editor);\n    dragHandler = move$1(state, editor);\n    dropHandler = drop(state, editor);\n    dragEndHandler = stop$$1(state, editor);\n    editor.on('mousedown', dragStartHandler);\n    editor.on('mousemove', dragHandler);\n    editor.on('mouseup', dropHandler);\n    pageDom.bind(rootDocument, 'mousemove', dragHandler);\n    pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n    editor.on('remove', function () {\n      pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n      pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n    });\n  };\n  var blockIeDrop = function (editor) {\n    editor.on('drop', function (e) {\n      var realTarget = typeof e.clientX !== 'undefined' ? editor.getDoc().elementFromPoint(e.clientX, e.clientY) : null;\n      if (isContentEditableFalse$7(realTarget) || isContentEditableFalse$7(editor.dom.getContentEditableParent(realTarget))) {\n        e.preventDefault();\n      }\n    });\n  };\n  var init = function (editor) {\n    bindFakeDragEvents(editor);\n    blockIeDrop(editor);\n  };\n  var $_5gate55rjnlpaxxq = { init: init };\n\n  var getNodeClientRects = function (node) {\n    var toArrayWithNode = function (clientRects) {\n      return $_n452lmjnlpawsj.map(clientRects, function (clientRect) {\n        clientRect = clone$2(clientRect);\n        clientRect.node = node;\n        return clientRect;\n      });\n    };\n    if ($_fy28ei1rjnlpax2o.isElement(node)) {\n      return toArrayWithNode(node.getClientRects());\n    }\n    if ($_fy28ei1rjnlpax2o.isText(node)) {\n      var rng = node.ownerDocument.createRange();\n      rng.setStart(node, 0);\n      rng.setEnd(node, node.data.length);\n      return toArrayWithNode(rng.getClientRects());\n    }\n  };\n  var getClientRects = function (node) {\n    return $_n452lmjnlpawsj.reduce(node, function (result, node) {\n      return result.concat(getNodeClientRects(node));\n    }, []);\n  };\n\n  var VDirection;\n  (function (VDirection) {\n    VDirection[VDirection['Up'] = -1] = 'Up';\n    VDirection[VDirection['Down'] = 1] = 'Down';\n  }(VDirection || (VDirection = {})));\n  var findUntil = function (direction, root, predicateFn, node) {\n    while (node = findNode(node, direction, isEditableCaretCandidate, root)) {\n      if (predicateFn(node)) {\n        return;\n      }\n    }\n  };\n  var walkUntil = function (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) {\n    var line = 0, node;\n    var result = [];\n    var targetClientRect;\n    var add = function (node) {\n      var i, clientRect, clientRects;\n      clientRects = getClientRects([node]);\n      if (direction === -1) {\n        clientRects = clientRects.reverse();\n      }\n      for (i = 0; i < clientRects.length; i++) {\n        clientRect = clientRects[i];\n        if (isBeflowFn(clientRect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isAboveFn(clientRect, $_n452lmjnlpawsj.last(result))) {\n          line++;\n        }\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return true;\n        }\n        result.push(clientRect);\n      }\n    };\n    targetClientRect = $_n452lmjnlpawsj.last(caretPosition.getClientRects());\n    if (!targetClientRect) {\n      return result;\n    }\n    node = caretPosition.getNode();\n    add(node);\n    findUntil(direction, root, add, node);\n    return result;\n  };\n  var aboveLineNumber = function (lineNumber, clientRect) {\n    return clientRect.line > lineNumber;\n  };\n  var isLineNumber = function (lineNumber, clientRect) {\n    return clientRect.line === lineNumber;\n  };\n  var upUntil = curry(walkUntil, VDirection.Up, isAbove, isBelow);\n  var downUntil = curry(walkUntil, VDirection.Down, isBelow, isAbove);\n  var positionsUntil = function (direction, root, predicateFn, node) {\n    var caretWalker = CaretWalker(root);\n    var walkFn, isBelowFn, isAboveFn, caretPosition;\n    var result = [];\n    var line = 0, clientRect, targetClientRect;\n    var getClientRect = function (caretPosition) {\n      if (direction === 1) {\n        return $_n452lmjnlpawsj.last(caretPosition.getClientRects());\n      }\n      return $_n452lmjnlpawsj.last(caretPosition.getClientRects());\n    };\n    if (direction === 1) {\n      walkFn = caretWalker.next;\n      isBelowFn = isBelow;\n      isAboveFn = isAbove;\n      caretPosition = CaretPosition$1.after(node);\n    } else {\n      walkFn = caretWalker.prev;\n      isBelowFn = isAbove;\n      isAboveFn = isBelow;\n      caretPosition = CaretPosition$1.before(node);\n    }\n    targetClientRect = getClientRect(caretPosition);\n    do {\n      if (!caretPosition.isVisible()) {\n        continue;\n      }\n      clientRect = getClientRect(caretPosition);\n      if (isAboveFn(clientRect, targetClientRect)) {\n        continue;\n      }\n      if (result.length > 0 && isBelowFn(clientRect, $_n452lmjnlpawsj.last(result))) {\n        line++;\n      }\n      clientRect = clone$2(clientRect);\n      clientRect.position = caretPosition;\n      clientRect.line = line;\n      if (predicateFn(clientRect)) {\n        return result;\n      }\n      result.push(clientRect);\n    } while (caretPosition = walkFn(caretPosition));\n    return result;\n  };\n  var isAboveLine = function (lineNumber) {\n    return function (clientRect) {\n      return aboveLineNumber(lineNumber, clientRect);\n    };\n  };\n  var isLine = function (lineNumber) {\n    return function (clientRect) {\n      return isLineNumber(lineNumber, clientRect);\n    };\n  };\n\n  var isContentEditableFalse$8 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var findNode$1 = findNode;\n  var distanceToRectLeft = function (clientRect, clientX) {\n    return Math.abs(clientRect.left - clientX);\n  };\n  var distanceToRectRight = function (clientRect, clientX) {\n    return Math.abs(clientRect.right - clientX);\n  };\n  var isInside = function (clientX, clientRect) {\n    return clientX >= clientRect.left && clientX <= clientRect.right;\n  };\n  var findClosestClientRect = function (clientRects, clientX) {\n    return $_n452lmjnlpawsj.reduce(clientRects, function (oldClientRect, clientRect) {\n      var oldDistance, newDistance;\n      oldDistance = Math.min(distanceToRectLeft(oldClientRect, clientX), distanceToRectRight(oldClientRect, clientX));\n      newDistance = Math.min(distanceToRectLeft(clientRect, clientX), distanceToRectRight(clientRect, clientX));\n      if (isInside(clientX, clientRect)) {\n        return clientRect;\n      }\n      if (isInside(clientX, oldClientRect)) {\n        return oldClientRect;\n      }\n      if (newDistance === oldDistance && isContentEditableFalse$8(clientRect.node)) {\n        return clientRect;\n      }\n      if (newDistance < oldDistance) {\n        return clientRect;\n      }\n      return oldClientRect;\n    });\n  };\n  var walkUntil$1 = function (direction, root, predicateFn, node) {\n    while (node = findNode$1(node, direction, isEditableCaretCandidate, root)) {\n      if (predicateFn(node)) {\n        return;\n      }\n    }\n  };\n  var findLineNodeRects = function (root, targetNodeRect) {\n    var clientRects = [];\n    var collect = function (checkPosFn, node) {\n      var lineRects;\n      lineRects = $_n452lmjnlpawsj.filter(getClientRects([node]), function (clientRect) {\n        return !checkPosFn(clientRect, targetNodeRect);\n      });\n      clientRects = clientRects.concat(lineRects);\n      return lineRects.length === 0;\n    };\n    clientRects.push(targetNodeRect);\n    walkUntil$1(VDirection.Up, root, curry(collect, isAbove), targetNodeRect.node);\n    walkUntil$1(VDirection.Down, root, curry(collect, isBelow), targetNodeRect.node);\n    return clientRects;\n  };\n  var getFakeCaretTargets = function (root) {\n    return $_n452lmjnlpawsj.filter($_n452lmjnlpawsj.toArray(root.getElementsByTagName('*')), isFakeCaretTarget);\n  };\n  var caretInfo = function (clientRect, clientX) {\n    return {\n      node: clientRect.node,\n      before: distanceToRectLeft(clientRect, clientX) < distanceToRectRight(clientRect, clientX)\n    };\n  };\n  var closestCaret = function (root, clientX, clientY) {\n    var closestNodeRect;\n    var contentEditableFalseNodeRects = getClientRects(getFakeCaretTargets(root));\n    var targetNodeRects = $_n452lmjnlpawsj.filter(contentEditableFalseNodeRects, function (rect) {\n      return clientY >= rect.top && clientY <= rect.bottom;\n    });\n    closestNodeRect = findClosestClientRect(targetNodeRects, clientX);\n    if (closestNodeRect) {\n      closestNodeRect = findClosestClientRect(findLineNodeRects(root, closestNodeRect), clientX);\n      if (closestNodeRect && isFakeCaretTarget(closestNodeRect.node)) {\n        return caretInfo(closestNodeRect, clientX);\n      }\n    }\n    return null;\n  };\n\n  var isXYWithinRange = function (clientX, clientY, range$$1) {\n    if (range$$1.collapsed) {\n      return false;\n    }\n    return foldl(range$$1.getClientRects(), function (state, rect) {\n      return state || containsXY(rect, clientX, clientY);\n    }, false);\n  };\n  var $_5xpdav5wjnlpaxyf = { isXYWithinRange: isXYWithinRange };\n\n  var setup$3 = function (editor) {\n    var renderFocusCaret = first$1(function () {\n      if (!editor.removed) {\n        var rng = editor.selection.getRng();\n        if (rng.collapsed) {\n          var caretRange = renderRangeCaret(editor, editor.selection.getRng(), false);\n          editor.selection.setRng(caretRange);\n        }\n      }\n    }, 0);\n    editor.on('focus', function () {\n      renderFocusCaret.throttle();\n    });\n    editor.on('blur', function () {\n      renderFocusCaret.cancel();\n    });\n  };\n  var $_gfh1f95xjnlpaxyi = { setup: setup$3 };\n\n  var $_1qv0695yjnlpaxyk = {\n    BACKSPACE: 8,\n    DELETE: 46,\n    DOWN: 40,\n    ENTER: 13,\n    LEFT: 37,\n    RIGHT: 39,\n    SPACEBAR: 32,\n    TAB: 9,\n    UP: 38,\n    modifierPressed: function (e) {\n      return e.shiftKey || e.ctrlKey || e.altKey || this.metaKeyPressed(e);\n    },\n    metaKeyPressed: function (e) {\n      return $_cseqobajnlpawll.mac ? e.metaKey : e.ctrlKey && !e.altKey;\n    }\n  };\n\n  var isContentEditableTrue$5 = $_fy28ei1rjnlpax2o.isContentEditableTrue;\n  var isContentEditableFalse$9 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var isAfterContentEditableFalse$1 = isAfterContentEditableFalse;\n  var isBeforeContentEditableFalse$1 = isBeforeContentEditableFalse;\n  var getContentEditableRoot$1 = function (editor, node) {\n    var root = editor.getBody();\n    while (node && node !== root) {\n      if (isContentEditableTrue$5(node) || isContentEditableFalse$9(node)) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n  var SelectionOverrides = function (editor) {\n    var isBlock = function (node) {\n      return editor.dom.isBlock(node);\n    };\n    var rootNode = editor.getBody();\n    var fakeCaret = FakeCaret(editor.getBody(), isBlock, function () {\n      return $_8odu5n4yjnlpaxsg.hasFocus(editor);\n    });\n    var realSelectionId = 'sel-' + editor.dom.uniqueId();\n    var selectedContentEditableNode;\n    var isFakeSelectionElement = function (elm) {\n      return editor.dom.hasClass(elm, 'mce-offscreen-selection');\n    };\n    var getRealSelectionElement = function () {\n      var container = editor.dom.get(realSelectionId);\n      return container ? container.getElementsByTagName('*')[0] : container;\n    };\n    var setRange = function (range$$1) {\n      if (range$$1) {\n        editor.selection.setRng(range$$1);\n      }\n    };\n    var getRange = function () {\n      return editor.selection.getRng();\n    };\n    var showCaret$$1 = function (direction, node, before, scrollIntoView) {\n      if (scrollIntoView === void 0) {\n        scrollIntoView = true;\n      }\n      var e;\n      e = editor.fire('ShowCaret', {\n        target: node,\n        direction: direction,\n        before: before\n      });\n      if (e.isDefaultPrevented()) {\n        return null;\n      }\n      if (scrollIntoView) {\n        editor.selection.scrollIntoView(node, direction === -1);\n      }\n      return fakeCaret.show(before, node);\n    };\n    var getNormalizedRangeEndPoint$$1 = function (direction, range$$1) {\n      range$$1 = normalizeRange(direction, rootNode, range$$1);\n      if (direction === -1) {\n        return CaretPosition$1.fromRangeStart(range$$1);\n      }\n      return CaretPosition$1.fromRangeEnd(range$$1);\n    };\n    var showBlockCaretContainer = function (blockCaretContainer) {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        setRange(getRange());\n        editor.selection.scrollIntoView(blockCaretContainer[0]);\n      }\n    };\n    var registerEvents = function () {\n      editor.on('mouseup', function (e) {\n        var range$$1 = getRange();\n        if (range$$1.collapsed && $_wem7o53jnlpaxtk.isXYInContentArea(editor, e.clientX, e.clientY)) {\n          setRange(renderCaretAtRange(editor, range$$1, false));\n        }\n      });\n      editor.on('click', function (e) {\n        var contentEditableRoot;\n        contentEditableRoot = getContentEditableRoot$1(editor, e.target);\n        if (contentEditableRoot) {\n          if (isContentEditableFalse$9(contentEditableRoot)) {\n            e.preventDefault();\n            editor.focus();\n          }\n          if (isContentEditableTrue$5(contentEditableRoot)) {\n            if (editor.dom.isChildOf(contentEditableRoot, editor.selection.getNode())) {\n              removeContentEditableSelection();\n            }\n          }\n        }\n      });\n      editor.on('blur NewBlock', function () {\n        removeContentEditableSelection();\n      });\n      editor.on('ResizeWindow FullscreenStateChanged', function () {\n        return fakeCaret.reposition();\n      });\n      var handleTouchSelect = function (editor) {\n        var moved = false;\n        editor.on('touchstart', function () {\n          moved = false;\n        });\n        editor.on('touchmove', function () {\n          moved = true;\n        });\n        editor.on('touchend', function (e) {\n          var contentEditableRoot = getContentEditableRoot$1(editor, e.target);\n          if (isContentEditableFalse$9(contentEditableRoot)) {\n            if (!moved) {\n              e.preventDefault();\n              setContentEditableSelection(selectNode(editor, contentEditableRoot));\n            }\n          }\n        });\n      };\n      var hasNormalCaretPosition = function (elm) {\n        var caretWalker = CaretWalker(elm);\n        if (!elm.firstChild) {\n          return false;\n        }\n        var startPos = CaretPosition$1.before(elm.firstChild);\n        var newPos = caretWalker.next(startPos);\n        return newPos && !isBeforeContentEditableFalse$1(newPos) && !isAfterContentEditableFalse$1(newPos);\n      };\n      var isInSameBlock$$1 = function (node1, node2) {\n        var block1 = editor.dom.getParent(node1, editor.dom.isBlock);\n        var block2 = editor.dom.getParent(node2, editor.dom.isBlock);\n        return block1 === block2;\n      };\n      var hasBetterMouseTarget = function (targetNode, caretNode) {\n        var targetBlock = editor.dom.getParent(targetNode, editor.dom.isBlock);\n        var caretBlock = editor.dom.getParent(caretNode, editor.dom.isBlock);\n        if (targetBlock && editor.dom.isChildOf(targetBlock, caretBlock) && isContentEditableFalse$9(getContentEditableRoot$1(editor, targetBlock)) === false) {\n          return true;\n        }\n        return targetBlock && !isInSameBlock$$1(targetBlock, caretBlock) && hasNormalCaretPosition(targetBlock);\n      };\n      handleTouchSelect(editor);\n      editor.on('mousedown', function (e) {\n        var contentEditableRoot;\n        var targetElm = e.target;\n        if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !editor.dom.isChildOf(targetElm, rootNode)) {\n          return;\n        }\n        if ($_wem7o53jnlpaxtk.isXYInContentArea(editor, e.clientX, e.clientY) === false) {\n          return;\n        }\n        contentEditableRoot = getContentEditableRoot$1(editor, targetElm);\n        if (contentEditableRoot) {\n          if (isContentEditableFalse$9(contentEditableRoot)) {\n            e.preventDefault();\n            setContentEditableSelection(selectNode(editor, contentEditableRoot));\n          } else {\n            removeContentEditableSelection();\n            if (!(isContentEditableTrue$5(contentEditableRoot) && e.shiftKey) && !$_5xpdav5wjnlpaxyf.isXYWithinRange(e.clientX, e.clientY, editor.selection.getRng())) {\n              hideFakeCaret();\n              editor.selection.placeCaretAt(e.clientX, e.clientY);\n            }\n          }\n        } else if (isFakeCaretTarget(targetElm) === false) {\n          removeContentEditableSelection();\n          hideFakeCaret();\n          var caretInfo = closestCaret(rootNode, e.clientX, e.clientY);\n          if (caretInfo) {\n            if (!hasBetterMouseTarget(e.target, caretInfo.node)) {\n              e.preventDefault();\n              var range$$1 = showCaret$$1(1, caretInfo.node, caretInfo.before, false);\n              editor.getBody().focus();\n              setRange(range$$1);\n            }\n          }\n        }\n      });\n      editor.on('keypress', function (e) {\n        if ($_1qv0695yjnlpaxyk.modifierPressed(e)) {\n          return;\n        }\n        switch (e.keyCode) {\n        default:\n          if (isContentEditableFalse$9(editor.selection.getNode())) {\n            e.preventDefault();\n          }\n          break;\n        }\n      });\n      editor.on('getSelectionRange', function (e) {\n        var rng = e.range;\n        if (selectedContentEditableNode) {\n          if (!selectedContentEditableNode.parentNode) {\n            selectedContentEditableNode = null;\n            return;\n          }\n          rng = rng.cloneRange();\n          rng.selectNode(selectedContentEditableNode);\n          e.range = rng;\n        }\n      });\n      editor.on('setSelectionRange', function (e) {\n        var rng;\n        rng = setContentEditableSelection(e.range, e.forward);\n        if (rng) {\n          e.range = rng;\n        }\n      });\n      var isPasteBin = function (node) {\n        return node.id === 'mcepastebin';\n      };\n      editor.on('AfterSetSelectionRange', function (e) {\n        var rng = e.range;\n        if (!isRangeInCaretContainer(rng) && !isPasteBin(rng.startContainer.parentNode)) {\n          hideFakeCaret();\n        }\n        if (!isFakeSelectionElement(rng.startContainer.parentNode)) {\n          removeContentEditableSelection();\n        }\n      });\n      editor.on('copy', function (e) {\n        var clipboardData = e.clipboardData;\n        if (!e.isDefaultPrevented() && e.clipboardData && !$_cseqobajnlpawll.ie) {\n          var realSelectionElement = getRealSelectionElement();\n          if (realSelectionElement) {\n            e.preventDefault();\n            clipboardData.clearData();\n            clipboardData.setData('text/html', realSelectionElement.outerHTML);\n            clipboardData.setData('text/plain', realSelectionElement.outerText);\n          }\n        }\n      });\n      $_5gate55rjnlpaxxq.init(editor);\n      $_gfh1f95xjnlpaxyi.setup(editor);\n    };\n    var addCss = function () {\n      var styles = editor.contentStyles, rootClass = '.mce-content-body';\n      styles.push(fakeCaret.getCss());\n      styles.push(rootClass + ' .mce-offscreen-selection {' + 'position: absolute;' + 'left: -9999999999px;' + 'max-width: 1000000px;' + '}' + rootClass + ' *[contentEditable=false] {' + 'cursor: default;' + '}' + rootClass + ' *[contentEditable=true] {' + 'cursor: text;' + '}');\n    };\n    var isWithinCaretContainer = function (node) {\n      return isCaretContainer(node) || startsWithCaretContainer(node) || endsWithCaretContainer(node);\n    };\n    var isRangeInCaretContainer = function (rng) {\n      return isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n    };\n    var setContentEditableSelection = function (range$$1, forward) {\n      var node;\n      var $ = editor.$;\n      var dom = editor.dom;\n      var $realSelectionContainer, sel, startContainer, startOffset, endOffset, e, caretPosition, targetClone, origTargetClone;\n      if (!range$$1) {\n        return null;\n      }\n      if (range$$1.collapsed) {\n        if (!isRangeInCaretContainer(range$$1)) {\n          if (forward === false) {\n            caretPosition = getNormalizedRangeEndPoint$$1(-1, range$$1);\n            if (isFakeCaretTarget(caretPosition.getNode(true))) {\n              return showCaret$$1(-1, caretPosition.getNode(true), false, false);\n            }\n            if (isFakeCaretTarget(caretPosition.getNode())) {\n              return showCaret$$1(-1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n            }\n          } else {\n            caretPosition = getNormalizedRangeEndPoint$$1(1, range$$1);\n            if (isFakeCaretTarget(caretPosition.getNode())) {\n              return showCaret$$1(1, caretPosition.getNode(), !caretPosition.isAtEnd(), false);\n            }\n            if (isFakeCaretTarget(caretPosition.getNode(true))) {\n              return showCaret$$1(1, caretPosition.getNode(true), false, false);\n            }\n          }\n        }\n        return null;\n      }\n      startContainer = range$$1.startContainer;\n      startOffset = range$$1.startOffset;\n      endOffset = range$$1.endOffset;\n      if (startContainer.nodeType === 3 && startOffset === 0 && isContentEditableFalse$9(startContainer.parentNode)) {\n        startContainer = startContainer.parentNode;\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (startContainer.nodeType !== 1) {\n        return null;\n      }\n      if (endOffset === startOffset + 1) {\n        node = startContainer.childNodes[startOffset];\n      }\n      if (!isContentEditableFalse$9(node)) {\n        return null;\n      }\n      targetClone = origTargetClone = node.cloneNode(true);\n      e = editor.fire('ObjectSelected', {\n        target: node,\n        targetClone: targetClone\n      });\n      if (e.isDefaultPrevented()) {\n        return null;\n      }\n      $realSelectionContainer = $_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()), '#' + realSelectionId).fold(function () {\n        return $([]);\n      }, function (elm) {\n        return $([elm.dom()]);\n      });\n      targetClone = e.targetClone;\n      if ($realSelectionContainer.length === 0) {\n        $realSelectionContainer = $('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr('id', realSelectionId);\n        $realSelectionContainer.appendTo(editor.getBody());\n      }\n      range$$1 = editor.dom.createRng();\n      if (targetClone === origTargetClone && $_cseqobajnlpawll.ie) {\n        $realSelectionContainer.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xA0</p>').append(targetClone);\n        range$$1.setStartAfter($realSelectionContainer[0].firstChild.firstChild);\n        range$$1.setEndAfter(targetClone);\n      } else {\n        $realSelectionContainer.empty().append('\\xA0').append(targetClone).append('\\xA0');\n        range$$1.setStart($realSelectionContainer[0].firstChild, 1);\n        range$$1.setEnd($realSelectionContainer[0].lastChild, 0);\n      }\n      $realSelectionContainer.css({ top: dom.getPos(node, editor.getBody()).y });\n      $realSelectionContainer[0].focus();\n      sel = editor.selection.getSel();\n      sel.removeAllRanges();\n      sel.addRange(range$$1);\n      each($_cmitir27jnlpax6e.descendants(Element$$1.fromDom(editor.getBody()), '*[data-mce-selected]'), function (elm) {\n        $_521j8z15jnlpawz7.remove(elm, 'data-mce-selected');\n      });\n      node.setAttribute('data-mce-selected', '1');\n      selectedContentEditableNode = node;\n      hideFakeCaret();\n      return range$$1;\n    };\n    var removeContentEditableSelection = function () {\n      if (selectedContentEditableNode) {\n        selectedContentEditableNode.removeAttribute('data-mce-selected');\n        $_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()), '#' + realSelectionId).each($_azq8zm1wjnlpax4n.remove);\n        selectedContentEditableNode = null;\n      }\n      $_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()), '#' + realSelectionId).each($_azq8zm1wjnlpax4n.remove);\n      selectedContentEditableNode = null;\n    };\n    var destroy = function () {\n      fakeCaret.destroy();\n      selectedContentEditableNode = null;\n    };\n    var hideFakeCaret = function () {\n      fakeCaret.hide();\n    };\n    if ($_cseqobajnlpawll.ceFalse) {\n      registerEvents();\n      addCss();\n    }\n    return {\n      showCaret: showCaret$$1,\n      showBlockCaretContainer: showBlockCaretContainer,\n      hideFakeCaret: hideFakeCaret,\n      destroy: destroy\n    };\n  };\n\n  var isValidPrefixAttrName = function (name) {\n    return name.indexOf('data-') === 0 || name.indexOf('aria-') === 0;\n  };\n  var trimComments = function (text) {\n    return text.replace(/<!--|-->/g, '');\n  };\n  var isInvalidUri = function (settings, uri) {\n    if (settings.allow_html_data_urls) {\n      return false;\n    } else if (/^data:image\\//i.test(uri)) {\n      return settings.allow_svg_data_urls === false && /^data:image\\/svg\\+xml/i.test(uri);\n    } else {\n      return /^data:/i.test(uri);\n    }\n  };\n  var findEndTagIndex = function (schema, html, startIndex) {\n    var count = 1, index, matches, tokenRegExp, shortEndedElements;\n    shortEndedElements = schema.getShortEndedElements();\n    tokenRegExp = /<([!?\\/])?([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\/|\\s+)>/g;\n    tokenRegExp.lastIndex = index = startIndex;\n    while (matches = tokenRegExp.exec(html)) {\n      index = tokenRegExp.lastIndex;\n      if (matches[1] === '/') {\n        count--;\n      } else if (!matches[1]) {\n        if (matches[2] in shortEndedElements) {\n          continue;\n        }\n        count++;\n      }\n      if (count === 0) {\n        break;\n      }\n    }\n    return index;\n  };\n  function SaxParser(settings, schema) {\n    if (schema === void 0) {\n      schema = Schema();\n    }\n    var noop = function () {\n    };\n    settings = settings || {};\n    if (settings.fix_self_closing !== false) {\n      settings.fix_self_closing = true;\n    }\n    var comment = settings.comment ? settings.comment : noop;\n    var cdata = settings.cdata ? settings.cdata : noop;\n    var text = settings.text ? settings.text : noop;\n    var start = settings.start ? settings.start : noop;\n    var end = settings.end ? settings.end : noop;\n    var pi = settings.pi ? settings.pi : noop;\n    var doctype = settings.doctype ? settings.doctype : noop;\n    var parse = function (html) {\n      var matches, index = 0, value, endRegExp;\n      var stack = [];\n      var attrList, i, textData, name;\n      var isInternalElement, removeInternalElements, shortEndedElements, fillAttrsMap, isShortEnded;\n      var validate, elementRule, isValidElement, attr, attribsValue, validAttributesMap, validAttributePatterns;\n      var attributesRequired, attributesDefault, attributesForced, processHtml;\n      var anyAttributesRequired, selfClosing, tokenRegExp, attrRegExp, specialElements, attrValue, idCount = 0;\n      var decode = $_bea7j51sjnlpax2u.decode;\n      var fixSelfClosing;\n      var filteredUrlAttrs = $_1q1txeljnlpawsa.makeMap('src,href,data,background,formaction,poster,xlink:href');\n      var scriptUriRegExp = /((java|vb)script|mhtml):/i;\n      var processEndTag = function (name) {\n        var pos, i;\n        pos = stack.length;\n        while (pos--) {\n          if (stack[pos].name === name) {\n            break;\n          }\n        }\n        if (pos >= 0) {\n          for (i = stack.length - 1; i >= pos; i--) {\n            name = stack[i];\n            if (name.valid) {\n              end(name.name);\n            }\n          }\n          stack.length = pos;\n        }\n      };\n      var parseAttribute = function (match, name, value, val2, val3) {\n        var attrRule, i;\n        var trimRegExp = /[\\s\\u0000-\\u001F]+/g;\n        name = name.toLowerCase();\n        value = name in fillAttrsMap ? name : decode(value || val2 || val3 || '');\n        if (validate && !isInternalElement && isValidPrefixAttrName(name) === false) {\n          attrRule = validAttributesMap[name];\n          if (!attrRule && validAttributePatterns) {\n            i = validAttributePatterns.length;\n            while (i--) {\n              attrRule = validAttributePatterns[i];\n              if (attrRule.pattern.test(name)) {\n                break;\n              }\n            }\n            if (i === -1) {\n              attrRule = null;\n            }\n          }\n          if (!attrRule) {\n            return;\n          }\n          if (attrRule.validValues && !(value in attrRule.validValues)) {\n            return;\n          }\n        }\n        if (filteredUrlAttrs[name] && !settings.allow_script_urls) {\n          var uri = value.replace(trimRegExp, '');\n          try {\n            uri = decodeURIComponent(uri);\n          } catch (ex) {\n            uri = unescape(uri);\n          }\n          if (scriptUriRegExp.test(uri)) {\n            return;\n          }\n          if (isInvalidUri(settings, uri)) {\n            return;\n          }\n        }\n        if (isInternalElement && (name in filteredUrlAttrs || name.indexOf('on') === 0)) {\n          return;\n        }\n        attrList.map[name] = value;\n        attrList.push({\n          name: name,\n          value: value\n        });\n      };\n      tokenRegExp = new RegExp('<(?:' + '(?:!--([\\\\w\\\\W]*?)-->)|' + '(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + '(?:!DOCTYPE([\\\\w\\\\W]*?)>)|' + '(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + '(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|' + '(?:([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)((?:\\\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\\\/|\\\\s+)>)' + ')', 'g');\n      attrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g;\n      shortEndedElements = schema.getShortEndedElements();\n      selfClosing = settings.self_closing_elements || schema.getSelfClosingElements();\n      fillAttrsMap = schema.getBoolAttrs();\n      validate = settings.validate;\n      removeInternalElements = settings.remove_internals;\n      fixSelfClosing = settings.fix_self_closing;\n      specialElements = schema.getSpecialElements();\n      processHtml = html + '>';\n      while (matches = tokenRegExp.exec(processHtml)) {\n        if (index < matches.index) {\n          text(decode(html.substr(index, matches.index - index)));\n        }\n        if (value = matches[6]) {\n          value = value.toLowerCase();\n          if (value.charAt(0) === ':') {\n            value = value.substr(1);\n          }\n          processEndTag(value);\n        } else if (value = matches[7]) {\n          if (matches.index + matches[0].length > html.length) {\n            text(decode(html.substr(matches.index)));\n            index = matches.index + matches[0].length;\n            continue;\n          }\n          value = value.toLowerCase();\n          if (value.charAt(0) === ':') {\n            value = value.substr(1);\n          }\n          isShortEnded = value in shortEndedElements;\n          if (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value) {\n            processEndTag(value);\n          }\n          if (!validate || (elementRule = schema.getElementRule(value))) {\n            isValidElement = true;\n            if (validate) {\n              validAttributesMap = elementRule.attributes;\n              validAttributePatterns = elementRule.attributePatterns;\n            }\n            if (attribsValue = matches[8]) {\n              isInternalElement = attribsValue.indexOf('data-mce-type') !== -1;\n              if (isInternalElement && removeInternalElements) {\n                isValidElement = false;\n              }\n              attrList = [];\n              attrList.map = {};\n              attribsValue.replace(attrRegExp, parseAttribute);\n            } else {\n              attrList = [];\n              attrList.map = {};\n            }\n            if (validate && !isInternalElement) {\n              attributesRequired = elementRule.attributesRequired;\n              attributesDefault = elementRule.attributesDefault;\n              attributesForced = elementRule.attributesForced;\n              anyAttributesRequired = elementRule.removeEmptyAttrs;\n              if (anyAttributesRequired && !attrList.length) {\n                isValidElement = false;\n              }\n              if (attributesForced) {\n                i = attributesForced.length;\n                while (i--) {\n                  attr = attributesForced[i];\n                  name = attr.name;\n                  attrValue = attr.value;\n                  if (attrValue === '{$uid}') {\n                    attrValue = 'mce_' + idCount++;\n                  }\n                  attrList.map[name] = attrValue;\n                  attrList.push({\n                    name: name,\n                    value: attrValue\n                  });\n                }\n              }\n              if (attributesDefault) {\n                i = attributesDefault.length;\n                while (i--) {\n                  attr = attributesDefault[i];\n                  name = attr.name;\n                  if (!(name in attrList.map)) {\n                    attrValue = attr.value;\n                    if (attrValue === '{$uid}') {\n                      attrValue = 'mce_' + idCount++;\n                    }\n                    attrList.map[name] = attrValue;\n                    attrList.push({\n                      name: name,\n                      value: attrValue\n                    });\n                  }\n                }\n              }\n              if (attributesRequired) {\n                i = attributesRequired.length;\n                while (i--) {\n                  if (attributesRequired[i] in attrList.map) {\n                    break;\n                  }\n                }\n                if (i === -1) {\n                  isValidElement = false;\n                }\n              }\n              if (attr = attrList.map['data-mce-bogus']) {\n                if (attr === 'all') {\n                  index = findEndTagIndex(schema, html, tokenRegExp.lastIndex);\n                  tokenRegExp.lastIndex = index;\n                  continue;\n                }\n                isValidElement = false;\n              }\n            }\n            if (isValidElement) {\n              start(value, attrList, isShortEnded);\n            }\n          } else {\n            isValidElement = false;\n          }\n          if (endRegExp = specialElements[value]) {\n            endRegExp.lastIndex = index = matches.index + matches[0].length;\n            if (matches = endRegExp.exec(html)) {\n              if (isValidElement) {\n                textData = html.substr(index, matches.index - index);\n              }\n              index = matches.index + matches[0].length;\n            } else {\n              textData = html.substr(index);\n              index = html.length;\n            }\n            if (isValidElement) {\n              if (textData.length > 0) {\n                text(textData, true);\n              }\n              end(value);\n            }\n            tokenRegExp.lastIndex = index;\n            continue;\n          }\n          if (!isShortEnded) {\n            if (!attribsValue || attribsValue.indexOf('/') !== attribsValue.length - 1) {\n              stack.push({\n                name: value,\n                valid: isValidElement\n              });\n            } else if (isValidElement) {\n              end(value);\n            }\n          }\n        } else if (value = matches[1]) {\n          if (value.charAt(0) === '>') {\n            value = ' ' + value;\n          }\n          if (!settings.allow_conditional_comments && value.substr(0, 3).toLowerCase() === '[if') {\n            value = ' ' + value;\n          }\n          comment(value);\n        } else if (value = matches[2]) {\n          cdata(trimComments(value));\n        } else if (value = matches[3]) {\n          doctype(value);\n        } else if (value = matches[4]) {\n          pi(value, matches[5]);\n        }\n        index = matches.index + matches[0].length;\n      }\n      if (index < html.length) {\n        text(decode(html.substr(index)));\n      }\n      for (i = stack.length - 1; i >= 0; i--) {\n        value = stack[i];\n        if (value.valid) {\n          end(value.name);\n        }\n      }\n    };\n    return { parse: parse };\n  }\n  (function (SaxParser) {\n    SaxParser.findEndTag = findEndTagIndex;\n  }(SaxParser || (SaxParser = {})));\n  var SaxParser$1 = SaxParser;\n\n  var trimHtml = function (tempAttrs, html) {\n    var trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n    return html.replace(trimContentRegExp, '');\n  };\n  var trimInternal = function (serializer, html) {\n    var content = html;\n    var bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n    var endTagIndex, index, matchLength, matches, shortEndedElements;\n    var schema = serializer.schema;\n    content = trimHtml(serializer.getTempAttrs(), content);\n    shortEndedElements = schema.getShortEndedElements();\n    while (matches = bogusAllRegExp.exec(content)) {\n      index = bogusAllRegExp.lastIndex;\n      matchLength = matches[0].length;\n      if (shortEndedElements[matches[1]]) {\n        endTagIndex = index;\n      } else {\n        endTagIndex = SaxParser$1.findEndTag(schema, content, index);\n      }\n      content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n      bogusAllRegExp.lastIndex = index - matchLength;\n    }\n    return $_90hfb72rjnlpaxae.trim(content);\n  };\n  var trimExternal = trimInternal;\n  var $_9cq8vj61jnlpaxzc = {\n    trimExternal: trimExternal,\n    trimInternal: trimInternal\n  };\n\n  var KEEP = 0;\n  var INSERT = 1;\n  var DELETE = 2;\n  var diff = function (left, right) {\n    var size = left.length + right.length + 2;\n    var vDown = new Array(size);\n    var vUp = new Array(size);\n    var snake = function (start, end, diag) {\n      return {\n        start: start,\n        end: end,\n        diag: diag\n      };\n    };\n    var buildScript = function (start1, end1, start2, end2, script) {\n      var middle = getMiddleSnake(start1, end1, start2, end2);\n      if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n        var i = start1;\n        var j = start2;\n        while (i < end1 || j < end2) {\n          if (i < end1 && j < end2 && left[i] === right[j]) {\n            script.push([\n              KEEP,\n              left[i]\n            ]);\n            ++i;\n            ++j;\n          } else {\n            if (end1 - start1 > end2 - start2) {\n              script.push([\n                DELETE,\n                left[i]\n              ]);\n              ++i;\n            } else {\n              script.push([\n                INSERT,\n                right[j]\n              ]);\n              ++j;\n            }\n          }\n        }\n      } else {\n        buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n        for (var i2 = middle.start; i2 < middle.end; ++i2) {\n          script.push([\n            KEEP,\n            left[i2]\n          ]);\n        }\n        buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n      }\n    };\n    var buildSnake = function (start, diag, end1, end2) {\n      var end = start;\n      while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n        ++end;\n      }\n      return snake(start, end, diag);\n    };\n    var getMiddleSnake = function (start1, end1, start2, end2) {\n      var m = end1 - start1;\n      var n = end2 - start2;\n      if (m === 0 || n === 0) {\n        return null;\n      }\n      var delta = m - n;\n      var sum = n + m;\n      var offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n      vDown[1 + offset] = start1;\n      vUp[1 + offset] = end1 + 1;\n      var d, k, i, x, y;\n      for (d = 0; d <= offset; ++d) {\n        for (k = -d; k <= d; k += 2) {\n          i = k + offset;\n          if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n            vDown[i] = vDown[i + 1];\n          } else {\n            vDown[i] = vDown[i - 1] + 1;\n          }\n          x = vDown[i];\n          y = x - start1 + start2 - k;\n          while (x < end1 && y < end2 && left[x] === right[y]) {\n            vDown[i] = ++x;\n            ++y;\n          }\n          if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n            if (vUp[i - delta] <= vDown[i]) {\n              return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n            }\n          }\n        }\n        for (k = delta - d; k <= delta + d; k += 2) {\n          i = k + offset - delta;\n          if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n            vUp[i] = vUp[i + 1] - 1;\n          } else {\n            vUp[i] = vUp[i - 1];\n          }\n          x = vUp[i] - 1;\n          y = x - start1 + start2 - k;\n          while (x >= start1 && y >= start2 && left[x] === right[y]) {\n            vUp[i] = x--;\n            y--;\n          }\n          if (delta % 2 === 0 && -d <= k && k <= d) {\n            if (vUp[i] <= vDown[i + delta]) {\n              return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n            }\n          }\n        }\n      }\n    };\n    var script = [];\n    buildScript(0, left.length, 0, right.length, script);\n    return script;\n  };\n  var $_27o9im64jnlpaxzv = {\n    KEEP: KEEP,\n    DELETE: DELETE,\n    INSERT: INSERT,\n    diff: diff\n  };\n\n  var getOuterHtml = function (elm) {\n    if ($_fy28ei1rjnlpax2o.isElement(elm)) {\n      return elm.outerHTML;\n    } else if ($_fy28ei1rjnlpax2o.isText(elm)) {\n      return $_bea7j51sjnlpax2u.encodeRaw(elm.data, false);\n    } else if ($_fy28ei1rjnlpax2o.isComment(elm)) {\n      return '<!--' + elm.data + '-->';\n    }\n    return '';\n  };\n  var createFragment$1 = function (html) {\n    var frag, node, container;\n    container = document.createElement('div');\n    frag = document.createDocumentFragment();\n    if (html) {\n      container.innerHTML = html;\n    }\n    while (node = container.firstChild) {\n      frag.appendChild(node);\n    }\n    return frag;\n  };\n  var insertAt = function (elm, html, index) {\n    var fragment = createFragment$1(html);\n    if (elm.hasChildNodes() && index < elm.childNodes.length) {\n      var target = elm.childNodes[index];\n      target.parentNode.insertBefore(fragment, target);\n    } else {\n      elm.appendChild(fragment);\n    }\n  };\n  var removeAt = function (elm, index) {\n    if (elm.hasChildNodes() && index < elm.childNodes.length) {\n      var target = elm.childNodes[index];\n      target.parentNode.removeChild(target);\n    }\n  };\n  var applyDiff = function (diff, elm) {\n    var index = 0;\n    $_n452lmjnlpawsj.each(diff, function (action) {\n      if (action[0] === $_27o9im64jnlpaxzv.KEEP) {\n        index++;\n      } else if (action[0] === $_27o9im64jnlpaxzv.INSERT) {\n        insertAt(elm, action[1], index);\n        index++;\n      } else if (action[0] === $_27o9im64jnlpaxzv.DELETE) {\n        removeAt(elm, index);\n      }\n    });\n  };\n  var read$3 = function (elm) {\n    return $_n452lmjnlpawsj.filter($_n452lmjnlpawsj.map(elm.childNodes, getOuterHtml), function (item) {\n      return item.length > 0;\n    });\n  };\n  var write = function (fragments, elm) {\n    var currentFragments = $_n452lmjnlpawsj.map(elm.childNodes, getOuterHtml);\n    applyDiff($_27o9im64jnlpaxzv.diff(currentFragments, fragments), elm);\n    return elm;\n  };\n  var $_12gl6x63jnlpaxzs = {\n    read: read$3,\n    write: write\n  };\n\n  var undoLevelDocument = Cell(Option.none());\n  var lazyTempDocument = function () {\n    return undoLevelDocument.get().getOrThunk(function () {\n      var doc = document.implementation.createHTMLDocument('undo');\n      undoLevelDocument.set(Option.some(doc));\n      return doc;\n    });\n  };\n  var hasIframes = function (html) {\n    return html.indexOf('</iframe>') !== -1;\n  };\n  var createFragmentedLevel = function (fragments) {\n    return {\n      type: 'fragmented',\n      fragments: fragments,\n      content: '',\n      bookmark: null,\n      beforeBookmark: null\n    };\n  };\n  var createCompleteLevel = function (content) {\n    return {\n      type: 'complete',\n      fragments: null,\n      content: content,\n      bookmark: null,\n      beforeBookmark: null\n    };\n  };\n  var createFromEditor = function (editor) {\n    var fragments, content, trimmedFragments;\n    fragments = $_12gl6x63jnlpaxzs.read(editor.getBody());\n    trimmedFragments = bind(fragments, function (html) {\n      var trimmed = $_9cq8vj61jnlpaxzc.trimInternal(editor.serializer, html);\n      return trimmed.length > 0 ? [trimmed] : [];\n    });\n    content = trimmedFragments.join('');\n    return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n  };\n  var applyToEditor = function (editor, level, before) {\n    if (level.type === 'fragmented') {\n      $_12gl6x63jnlpaxzs.write(level.fragments, editor.getBody());\n    } else {\n      editor.setContent(level.content, { format: 'raw' });\n    }\n    editor.selection.moveToBookmark(before ? level.beforeBookmark : level.bookmark);\n  };\n  var getLevelContent = function (level) {\n    return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n  };\n  var getCleanLevelContent = function (level) {\n    var elm = Element$$1.fromTag('body', lazyTempDocument());\n    $_am4twv2jjnlpax8k.set(elm, getLevelContent(level));\n    each($_cmitir27jnlpax6e.descendants(elm, '*[data-mce-bogus]'), $_azq8zm1wjnlpax4n.unwrap);\n    return $_am4twv2jjnlpax8k.get(elm);\n  };\n  var hasEqualContent = function (level1, level2) {\n    return getLevelContent(level1) === getLevelContent(level2);\n  };\n  var hasEqualCleanedContent = function (level1, level2) {\n    return getCleanLevelContent(level1) === getCleanLevelContent(level2);\n  };\n  var isEq$3 = function (level1, level2) {\n    if (!level1 || !level2) {\n      return false;\n    } else if (hasEqualContent(level1, level2)) {\n      return true;\n    } else {\n      return hasEqualCleanedContent(level1, level2);\n    }\n  };\n  var $_4dwaci60jnlpaxyt = {\n    createFragmentedLevel: createFragmentedLevel,\n    createCompleteLevel: createCompleteLevel,\n    createFromEditor: createFromEditor,\n    applyToEditor: applyToEditor,\n    isEq: isEq$3\n  };\n\n  function UndoManager (editor) {\n    var self = this, index = 0, data = [], beforeBookmark, isFirstTypedCharacter, locks = 0;\n    var isUnlocked = function () {\n      return locks === 0;\n    };\n    var setTyping = function (typing) {\n      if (isUnlocked()) {\n        self.typing = typing;\n      }\n    };\n    var setDirty = function (state) {\n      editor.setDirty(state);\n    };\n    var addNonTypingUndoLevel = function (e) {\n      setTyping(false);\n      self.add({}, e);\n    };\n    var endTyping = function () {\n      if (self.typing) {\n        setTyping(false);\n        self.add();\n      }\n    };\n    editor.on('init', function () {\n      self.add();\n    });\n    editor.on('BeforeExecCommand', function (e) {\n      var cmd = e.command;\n      if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n        endTyping();\n        self.beforeChange();\n      }\n    });\n    editor.on('ExecCommand', function (e) {\n      var cmd = e.command;\n      if (cmd !== 'Undo' && cmd !== 'Redo' && cmd !== 'mceRepaint') {\n        addNonTypingUndoLevel(e);\n      }\n    });\n    editor.on('ObjectResizeStart Cut', function () {\n      self.beforeChange();\n    });\n    editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n    editor.on('DragEnd', addNonTypingUndoLevel);\n    editor.on('KeyUp', function (e) {\n      var keyCode = e.keyCode;\n      if (e.isDefaultPrevented()) {\n        return;\n      }\n      if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n        addNonTypingUndoLevel();\n        editor.nodeChanged();\n      }\n      if (keyCode === 46 || keyCode === 8) {\n        editor.nodeChanged();\n      }\n      if (isFirstTypedCharacter && self.typing && $_4dwaci60jnlpaxyt.isEq($_4dwaci60jnlpaxyt.createFromEditor(editor), data[0]) === false) {\n        if (editor.isDirty() === false) {\n          setDirty(true);\n          editor.fire('change', {\n            level: data[0],\n            lastLevel: null\n          });\n        }\n        editor.fire('TypingUndo');\n        isFirstTypedCharacter = false;\n        editor.nodeChanged();\n      }\n    });\n    editor.on('KeyDown', function (e) {\n      var keyCode = e.keyCode;\n      if (e.isDefaultPrevented()) {\n        return;\n      }\n      if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n        if (self.typing) {\n          addNonTypingUndoLevel(e);\n        }\n        return;\n      }\n      var modKey = e.ctrlKey && !e.altKey || e.metaKey;\n      if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !self.typing && !modKey) {\n        self.beforeChange();\n        setTyping(true);\n        self.add({}, e);\n        isFirstTypedCharacter = true;\n      }\n    });\n    editor.on('MouseDown', function (e) {\n      if (self.typing) {\n        addNonTypingUndoLevel(e);\n      }\n    });\n    var isInsertReplacementText = function (event) {\n      return event.inputType === 'insertReplacementText';\n    };\n    var isInsertTextDataNull = function (event) {\n      return event.inputType === 'insertText' && event.data === null;\n    };\n    editor.on('input', function (e) {\n      if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e))) {\n        addNonTypingUndoLevel(e);\n      }\n    });\n    editor.addShortcut('meta+z', '', 'Undo');\n    editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    editor.on('AddUndo Undo Redo ClearUndos', function (e) {\n      if (!e.isDefaultPrevented()) {\n        editor.nodeChanged();\n      }\n    });\n    self = {\n      data: data,\n      typing: false,\n      beforeChange: function () {\n        if (isUnlocked()) {\n          beforeBookmark = $_5l0mu32ljnlpax8x.getUndoBookmark(editor.selection);\n        }\n      },\n      add: function (level, event) {\n        var i;\n        var settings = editor.settings;\n        var lastLevel, currentLevel;\n        currentLevel = $_4dwaci60jnlpaxyt.createFromEditor(editor);\n        level = level || {};\n        level = $_1q1txeljnlpawsa.extend(level, currentLevel);\n        if (isUnlocked() === false || editor.removed) {\n          return null;\n        }\n        lastLevel = data[index];\n        if (editor.fire('BeforeAddUndo', {\n            level: level,\n            lastLevel: lastLevel,\n            originalEvent: event\n          }).isDefaultPrevented()) {\n          return null;\n        }\n        if (lastLevel && $_4dwaci60jnlpaxyt.isEq(lastLevel, level)) {\n          return null;\n        }\n        if (data[index]) {\n          data[index].beforeBookmark = beforeBookmark;\n        }\n        if (settings.custom_undo_redo_levels) {\n          if (data.length > settings.custom_undo_redo_levels) {\n            for (i = 0; i < data.length - 1; i++) {\n              data[i] = data[i + 1];\n            }\n            data.length--;\n            index = data.length;\n          }\n        }\n        level.bookmark = $_5l0mu32ljnlpax8x.getUndoBookmark(editor.selection);\n        if (index < data.length - 1) {\n          data.length = index + 1;\n        }\n        data.push(level);\n        index = data.length - 1;\n        var args = {\n          level: level,\n          lastLevel: lastLevel,\n          originalEvent: event\n        };\n        editor.fire('AddUndo', args);\n        if (index > 0) {\n          setDirty(true);\n          editor.fire('change', args);\n        }\n        return level;\n      },\n      undo: function () {\n        var level;\n        if (self.typing) {\n          self.add();\n          self.typing = false;\n          setTyping(false);\n        }\n        if (index > 0) {\n          level = data[--index];\n          $_4dwaci60jnlpaxyt.applyToEditor(editor, level, true);\n          setDirty(true);\n          editor.fire('undo', { level: level });\n        }\n        return level;\n      },\n      redo: function () {\n        var level;\n        if (index < data.length - 1) {\n          level = data[++index];\n          $_4dwaci60jnlpaxyt.applyToEditor(editor, level, false);\n          setDirty(true);\n          editor.fire('redo', { level: level });\n        }\n        return level;\n      },\n      clear: function () {\n        data = [];\n        index = 0;\n        self.typing = false;\n        self.data = data;\n        editor.fire('ClearUndos');\n      },\n      hasUndo: function () {\n        return index > 0 || self.typing && data[0] && !$_4dwaci60jnlpaxyt.isEq($_4dwaci60jnlpaxyt.createFromEditor(editor), data[0]);\n      },\n      hasRedo: function () {\n        return index < data.length - 1 && !self.typing;\n      },\n      transact: function (callback) {\n        endTyping();\n        self.beforeChange();\n        self.ignore(callback);\n        return self.add();\n      },\n      ignore: function (callback) {\n        try {\n          locks++;\n          callback();\n        } finally {\n          locks--;\n        }\n      },\n      extra: function (callback1, callback2) {\n        var lastLevel, bookmark;\n        if (self.transact(callback1)) {\n          bookmark = data[index].bookmark;\n          lastLevel = data[index - 1];\n          $_4dwaci60jnlpaxyt.applyToEditor(editor, lastLevel, true);\n          if (self.transact(callback2)) {\n            data[index - 1].beforeBookmark = bookmark;\n          }\n        }\n      }\n    };\n    return self;\n  }\n\n  var isEq$4 = $_dlfh233cjnlpaxes.isEq;\n  var matchesUnInheritedFormatSelector = function (ed, node, name) {\n    var formatList = ed.formatter.get(name);\n    if (formatList) {\n      for (var i = 0; i < formatList.length; i++) {\n        if (formatList[i].inherit === false && ed.dom.is(node, formatList[i].selector)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  var matchParents = function (editor, node, name, vars) {\n    var root = editor.dom.getRoot();\n    if (node === root) {\n      return false;\n    }\n    node = editor.dom.getParent(node, function (node) {\n      if (matchesUnInheritedFormatSelector(editor, node, name)) {\n        return true;\n      }\n      return node.parentNode === root || !!matchNode(editor, node, name, vars, true);\n    });\n    return matchNode(editor, node, name, vars);\n  };\n  var matchName = function (dom, node, format) {\n    if (isEq$4(node, format.inline)) {\n      return true;\n    }\n    if (isEq$4(node, format.block)) {\n      return true;\n    }\n    if (format.selector) {\n      return node.nodeType === 1 && dom.is(node, format.selector);\n    }\n  };\n  var matchItems = function (dom, node, format, itemName, similar, vars) {\n    var key, value;\n    var items = format[itemName];\n    var i;\n    if (format.onmatch) {\n      return format.onmatch(node, format, itemName);\n    }\n    if (items) {\n      if (typeof items.length === 'undefined') {\n        for (key in items) {\n          if (items.hasOwnProperty(key)) {\n            if (itemName === 'attributes') {\n              value = dom.getAttrib(node, key);\n            } else {\n              value = $_dlfh233cjnlpaxes.getStyle(dom, node, key);\n            }\n            if (similar && !value && !format.exact) {\n              return;\n            }\n            if ((!similar || format.exact) && !isEq$4(value, $_dlfh233cjnlpaxes.normalizeStyleValue(dom, $_dlfh233cjnlpaxes.replaceVars(items[key], vars), key))) {\n              return;\n            }\n          }\n        }\n      } else {\n        for (i = 0; i < items.length; i++) {\n          if (itemName === 'attributes' ? dom.getAttrib(node, items[i]) : $_dlfh233cjnlpaxes.getStyle(dom, node, items[i])) {\n            return format;\n          }\n        }\n      }\n    }\n    return format;\n  };\n  var matchNode = function (ed, node, name, vars, similar) {\n    var formatList = ed.formatter.get(name);\n    var format, i, x, classes;\n    var dom = ed.dom;\n    if (formatList && node) {\n      for (i = 0; i < formatList.length; i++) {\n        format = formatList[i];\n        if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n          if (classes = format.classes) {\n            for (x = 0; x < classes.length; x++) {\n              if (!ed.dom.hasClass(node, classes[x])) {\n                return;\n              }\n            }\n          }\n          return format;\n        }\n      }\n    }\n  };\n  var match = function (editor, name, vars, node) {\n    var startNode;\n    if (node) {\n      return matchParents(editor, node, name, vars);\n    }\n    node = editor.selection.getNode();\n    if (matchParents(editor, node, name, vars)) {\n      return true;\n    }\n    startNode = editor.selection.getStart();\n    if (startNode !== node) {\n      if (matchParents(editor, startNode, name, vars)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  var matchAll = function (editor, names, vars) {\n    var startElement;\n    var matchedFormatNames = [];\n    var checkedMap = {};\n    startElement = editor.selection.getStart();\n    editor.dom.getParent(startElement, function (node) {\n      var i, name;\n      for (i = 0; i < names.length; i++) {\n        name = names[i];\n        if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\n          checkedMap[name] = true;\n          matchedFormatNames.push(name);\n        }\n      }\n    }, editor.dom.getRoot());\n    return matchedFormatNames;\n  };\n  var canApply = function (editor, name) {\n    var formatList = editor.formatter.get(name);\n    var startNode, parents, i, x, selector;\n    var dom = editor.dom;\n    if (formatList) {\n      startNode = editor.selection.getStart();\n      parents = $_dlfh233cjnlpaxes.getParents(dom, startNode);\n      for (x = formatList.length - 1; x >= 0; x--) {\n        selector = formatList[x].selector;\n        if (!selector || formatList[x].defaultBlock) {\n          return true;\n        }\n        for (i = parents.length - 1; i >= 0; i--) {\n          if (dom.is(parents[i], selector)) {\n            return true;\n          }\n        }\n      }\n    }\n    return false;\n  };\n  var $_706y6v68jnlpay1a = {\n    matchNode: matchNode,\n    matchName: matchName,\n    match: match,\n    matchAll: matchAll,\n    canApply: canApply,\n    matchesUnInheritedFormatSelector: matchesUnInheritedFormatSelector\n  };\n\n  var splitText = function (node, offset) {\n    return node.splitText(offset);\n  };\n  var split$1 = function (rng) {\n    var startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n    if (startContainer === endContainer && $_fy28ei1rjnlpax2o.isText(startContainer)) {\n      if (startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n        endContainer = splitText(startContainer, startOffset);\n        startContainer = endContainer.previousSibling;\n        if (endOffset > startOffset) {\n          endOffset = endOffset - startOffset;\n          startContainer = endContainer = splitText(endContainer, endOffset).previousSibling;\n          endOffset = endContainer.nodeValue.length;\n          startOffset = 0;\n        } else {\n          endOffset = 0;\n        }\n      }\n    } else {\n      if ($_fy28ei1rjnlpax2o.isText(startContainer) && startOffset > 0 && startOffset < startContainer.nodeValue.length) {\n        startContainer = splitText(startContainer, startOffset);\n        startOffset = 0;\n      }\n      if ($_fy28ei1rjnlpax2o.isText(endContainer) && endOffset > 0 && endOffset < endContainer.nodeValue.length) {\n        endContainer = splitText(endContainer, endOffset).previousSibling;\n        endOffset = endContainer.nodeValue.length;\n      }\n    }\n    return {\n      startContainer: startContainer,\n      startOffset: startOffset,\n      endContainer: endContainer,\n      endOffset: endOffset\n    };\n  };\n  var $_fvyfxh69jnlpay1e = { split: split$1 };\n\n  var ZWSP$1 = $_90hfb72rjnlpaxae.ZWSP;\n  var CARET_ID$1 = '_mce_caret';\n  var importNode = function (ownerDocument, node) {\n    return ownerDocument.importNode(node, true);\n  };\n  var getEmptyCaretContainers = function (node) {\n    var nodes = [];\n    while (node) {\n      if (node.nodeType === 3 && node.nodeValue !== ZWSP$1 || node.childNodes.length > 1) {\n        return [];\n      }\n      if (node.nodeType === 1) {\n        nodes.push(node);\n      }\n      node = node.firstChild;\n    }\n    return nodes;\n  };\n  var isCaretContainerEmpty = function (node) {\n    return getEmptyCaretContainers(node).length > 0;\n  };\n  var findFirstTextNode = function (node) {\n    var walker;\n    if (node) {\n      walker = new TreeWalker(node, node);\n      for (node = walker.current(); node; node = walker.next()) {\n        if (node.nodeType === 3) {\n          return node;\n        }\n      }\n    }\n    return null;\n  };\n  var createCaretContainer = function (fill) {\n    var caretContainer = Element$$1.fromTag('span');\n    $_521j8z15jnlpawz7.setAll(caretContainer, {\n      'id': CARET_ID$1,\n      'data-mce-bogus': '1',\n      'data-mce-type': 'format-caret'\n    });\n    if (fill) {\n      $_ag89ax1yjnlpax4x.append(caretContainer, Element$$1.fromText(ZWSP$1));\n    }\n    return caretContainer;\n  };\n  var trimZwspFromCaretContainer = function (caretContainerNode) {\n    var textNode = findFirstTextNode(caretContainerNode);\n    if (textNode && textNode.nodeValue.charAt(0) === ZWSP$1) {\n      textNode.deleteData(0, 1);\n    }\n    return textNode;\n  };\n  var removeCaretContainerNode = function (dom, selection, node, moveCaret) {\n    var rng, block, textNode;\n    rng = selection.getRng(true);\n    block = dom.getParent(node, dom.isBlock);\n    if (isCaretContainerEmpty(node)) {\n      if (moveCaret !== false) {\n        rng.setStartBefore(node);\n        rng.setEndBefore(node);\n      }\n      dom.remove(node);\n    } else {\n      textNode = trimZwspFromCaretContainer(node);\n      if (rng.startContainer === textNode && rng.startOffset > 0) {\n        rng.setStart(textNode, rng.startOffset - 1);\n      }\n      if (rng.endContainer === textNode && rng.endOffset > 0) {\n        rng.setEnd(textNode, rng.endOffset - 1);\n      }\n      dom.remove(node, true);\n    }\n    if (block && dom.isEmpty(block)) {\n      $_azhpc63njnlpaxgw.fillWithPaddingBr(Element$$1.fromDom(block));\n    }\n    selection.setRng(rng);\n  };\n  var removeCaretContainer = function (body, dom, selection, node, moveCaret) {\n    if (!node) {\n      node = getParentCaretContainer(body, selection.getStart());\n      if (!node) {\n        while (node = dom.get(CARET_ID$1)) {\n          removeCaretContainerNode(dom, selection, node, false);\n        }\n      }\n    } else {\n      removeCaretContainerNode(dom, selection, node, moveCaret);\n    }\n  };\n  var insertCaretContainerNode = function (editor, caretContainer, formatNode) {\n    var dom = editor.dom, block = dom.getParent(formatNode, $_dv6bef2njnlpax9l.curry($_dlfh233cjnlpaxes.isTextBlock, editor));\n    if (block && dom.isEmpty(block)) {\n      formatNode.parentNode.replaceChild(caretContainer, formatNode);\n    } else {\n      $_azhpc63njnlpaxgw.removeTrailingBr(Element$$1.fromDom(formatNode));\n      if (dom.isEmpty(formatNode)) {\n        formatNode.parentNode.replaceChild(caretContainer, formatNode);\n      } else {\n        dom.insertAfter(caretContainer, formatNode);\n      }\n    }\n  };\n  var appendNode = function (parentNode, node) {\n    parentNode.appendChild(node);\n    return node;\n  };\n  var insertFormatNodesIntoCaretContainer = function (formatNodes, caretContainer) {\n    var innerMostFormatNode = foldr(formatNodes, function (parentNode, formatNode) {\n      return appendNode(parentNode, formatNode.cloneNode(false));\n    }, caretContainer);\n    return appendNode(innerMostFormatNode, innerMostFormatNode.ownerDocument.createTextNode(ZWSP$1));\n  };\n  var applyCaretFormat = function (editor, name, vars) {\n    var rng, caretContainer, textNode, offset, bookmark, container, text;\n    var selection = editor.selection;\n    rng = selection.getRng(true);\n    offset = rng.startOffset;\n    container = rng.startContainer;\n    text = container.nodeValue;\n    caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n    if (caretContainer) {\n      textNode = findFirstTextNode(caretContainer);\n    }\n    var wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n    if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n      bookmark = selection.getBookmark();\n      rng.collapse(true);\n      rng = $_3cscnj2wjnlpaxau.expandRng(editor, rng, editor.formatter.get(name));\n      rng = $_fvyfxh69jnlpay1e.split(rng);\n      editor.formatter.apply(name, vars, rng);\n      selection.moveToBookmark(bookmark);\n    } else {\n      if (!caretContainer || textNode.nodeValue !== ZWSP$1) {\n        caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom());\n        textNode = caretContainer.firstChild;\n        rng.insertNode(caretContainer);\n        offset = 1;\n        editor.formatter.apply(name, vars, caretContainer);\n      } else {\n        editor.formatter.apply(name, vars, caretContainer);\n      }\n      selection.setCursorLocation(textNode, offset);\n    }\n  };\n  var removeCaretFormat = function (editor, name, vars, similar) {\n    var dom = editor.dom, selection = editor.selection;\n    var container, offset, bookmark;\n    var hasContentAfter, node, formatNode;\n    var parents = [], rng = selection.getRng();\n    var caretContainer;\n    container = rng.startContainer;\n    offset = rng.startOffset;\n    node = container;\n    if (container.nodeType === 3) {\n      if (offset !== container.nodeValue.length) {\n        hasContentAfter = true;\n      }\n      node = node.parentNode;\n    }\n    while (node) {\n      if ($_706y6v68jnlpay1a.matchNode(editor, node, name, vars, similar)) {\n        formatNode = node;\n        break;\n      }\n      if (node.nextSibling) {\n        hasContentAfter = true;\n      }\n      parents.push(node);\n      node = node.parentNode;\n    }\n    if (!formatNode) {\n      return;\n    }\n    if (hasContentAfter) {\n      bookmark = selection.getBookmark();\n      rng.collapse(true);\n      var expandedRng = $_3cscnj2wjnlpaxau.expandRng(editor, rng, editor.formatter.get(name), true);\n      expandedRng = $_fvyfxh69jnlpay1e.split(expandedRng);\n      editor.formatter.remove(name, vars, expandedRng);\n      selection.moveToBookmark(bookmark);\n    } else {\n      caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n      var newCaretContainer = createCaretContainer(false).dom();\n      var caretNode = insertFormatNodesIntoCaretContainer(parents, newCaretContainer);\n      if (caretContainer) {\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer);\n      } else {\n        insertCaretContainerNode(editor, newCaretContainer, formatNode);\n      }\n      removeCaretContainerNode(dom, selection, caretContainer, false);\n      selection.setCursorLocation(caretNode, 1);\n      if (dom.isEmpty(formatNode)) {\n        dom.remove(formatNode);\n      }\n    }\n  };\n  var disableCaretContainer = function (body, dom, selection, keyCode) {\n    removeCaretContainer(body, dom, selection, null, false);\n    if (keyCode === 8 && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP$1) {\n      removeCaretContainer(body, dom, selection, getParentCaretContainer(body, selection.getStart()));\n    }\n    if (keyCode === 37 || keyCode === 39) {\n      removeCaretContainer(body, dom, selection, getParentCaretContainer(body, selection.getStart()));\n    }\n  };\n  var setup$4 = function (editor) {\n    var dom = editor.dom, selection = editor.selection;\n    var body = editor.getBody();\n    editor.on('mouseup keydown', function (e) {\n      disableCaretContainer(body, dom, selection, e.keyCode);\n    });\n  };\n  var replaceWithCaretFormat = function (targetNode, formatNodes) {\n    var caretContainer = createCaretContainer(false);\n    var innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom());\n    $_ag89ax1yjnlpax4x.before(Element$$1.fromDom(targetNode), caretContainer);\n    $_azq8zm1wjnlpax4n.remove(Element$$1.fromDom(targetNode));\n    return CaretPosition$1(innerMost, 0);\n  };\n  var isFormatElement = function (editor, element) {\n    var inlineElements = editor.schema.getTextInlineElements();\n    return inlineElements.hasOwnProperty($_7u5fzs11jnlpawv6.name(element)) && !isCaretNode(element.dom()) && !$_fy28ei1rjnlpax2o.isBogus(element.dom());\n  };\n\n  var postProcessHooks = {};\n  var filter$2 = $_n452lmjnlpawsj.filter;\n  var each$12 = $_n452lmjnlpawsj.each;\n  var addPostProcessHook = function (name, hook) {\n    var hooks = postProcessHooks[name];\n    if (!hooks) {\n      postProcessHooks[name] = hooks = [];\n    }\n    postProcessHooks[name].push(hook);\n  };\n  var postProcess = function (name, editor) {\n    each$12(postProcessHooks[name], function (hook) {\n      hook(editor);\n    });\n  };\n  addPostProcessHook('pre', function (editor) {\n    var rng = editor.selection.getRng();\n    var isPre, blocks;\n    var hasPreSibling = function (pre) {\n      return isPre(pre.previousSibling) && $_n452lmjnlpawsj.indexOf(blocks, pre.previousSibling) !== -1;\n    };\n    var joinPre = function (pre1, pre2) {\n      DomQuery(pre2).remove();\n      DomQuery(pre1).append('<br><br>').append(pre2.childNodes);\n    };\n    isPre = $_fy28ei1rjnlpax2o.matchNodeNames('pre');\n    if (!rng.collapsed) {\n      blocks = editor.selection.getSelectedBlocks();\n      each$12(filter$2(filter$2(blocks, isPre), hasPreSibling), function (pre) {\n        joinPre(pre.previousSibling, pre);\n      });\n    }\n  });\n  var $_48059m6ajnlpay1h = { postProcess: postProcess };\n\n  var MCE_ATTR_RE = /^(src|href|style)$/;\n  var each$13 = $_1q1txeljnlpawsa.each;\n  var isEq$5 = $_dlfh233cjnlpaxes.isEq;\n  var isTableCell$4 = function (node) {\n    return /^(TH|TD)$/.test(node.nodeName);\n  };\n  var getContainer = function (ed, rng, start) {\n    var container, offset, lastIdx;\n    container = rng[start ? 'startContainer' : 'endContainer'];\n    offset = rng[start ? 'startOffset' : 'endOffset'];\n    if ($_fy28ei1rjnlpax2o.isElement(container)) {\n      lastIdx = container.childNodes.length - 1;\n      if (!start && offset) {\n        offset--;\n      }\n      container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n    }\n    if ($_fy28ei1rjnlpax2o.isText(container) && start && offset >= container.nodeValue.length) {\n      container = new TreeWalker(container, ed.getBody()).next() || container;\n    }\n    if ($_fy28ei1rjnlpax2o.isText(container) && !start && offset === 0) {\n      container = new TreeWalker(container, ed.getBody()).prev() || container;\n    }\n    return container;\n  };\n  var wrap$2 = function (dom, node, name, attrs) {\n    var wrapper = dom.create(name, attrs);\n    node.parentNode.insertBefore(wrapper, node);\n    wrapper.appendChild(node);\n    return wrapper;\n  };\n  var wrapWithSiblings = function (dom, startNode, name, next, attrs) {\n    var direction = (next ? 'next' : 'previous') + 'Sibling';\n    var wrapper = dom.create(name, attrs);\n    startNode.parentNode.insertBefore(wrapper, startNode);\n    var nodesToWrap = [startNode];\n    var currNode = startNode;\n    while (currNode = currNode[direction]) {\n      nodesToWrap.push(currNode);\n    }\n    nodesToWrap.forEach(function (node) {\n      return wrapper.appendChild(node);\n    });\n    return wrapper;\n  };\n  var matchName$1 = function (dom, node, format) {\n    if (isEq$5(node, format.inline)) {\n      return true;\n    }\n    if (isEq$5(node, format.block)) {\n      return true;\n    }\n    if (format.selector) {\n      return $_fy28ei1rjnlpax2o.isElement(node) && dom.is(node, format.selector);\n    }\n  };\n  var isColorFormatAndAnchor = function (node, format) {\n    return format.links && node.tagName === 'A';\n  };\n  var find$4 = function (dom, node, next, inc) {\n    node = $_dlfh233cjnlpaxes.getNonWhiteSpaceSibling(node, next, inc);\n    return !node || (node.nodeName === 'BR' || dom.isBlock(node));\n  };\n  var removeNode$1 = function (ed, node, format) {\n    var parentNode = node.parentNode;\n    var rootBlockElm;\n    var dom = ed.dom, forcedRootBlock = ed.settings.forced_root_block;\n    if (format.block) {\n      if (!forcedRootBlock) {\n        if (dom.isBlock(node) && !dom.isBlock(parentNode)) {\n          if (!find$4(dom, node, false) && !find$4(dom, node.firstChild, true, 1)) {\n            node.insertBefore(dom.create('br'), node.firstChild);\n          }\n          if (!find$4(dom, node, true) && !find$4(dom, node.lastChild, false, 1)) {\n            node.appendChild(dom.create('br'));\n          }\n        }\n      } else {\n        if (parentNode === dom.getRoot()) {\n          if (!format.list_block || !isEq$5(node, format.list_block)) {\n            each$13($_1q1txeljnlpawsa.grep(node.childNodes), function (node) {\n              if ($_dlfh233cjnlpaxes.isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                if (!rootBlockElm) {\n                  rootBlockElm = wrap$2(dom, node, forcedRootBlock);\n                  dom.setAttribs(rootBlockElm, ed.settings.forced_root_block_attrs);\n                } else {\n                  rootBlockElm.appendChild(node);\n                }\n              } else {\n                rootBlockElm = 0;\n              }\n            });\n          }\n        }\n      }\n    }\n    if (format.selector && format.inline && !isEq$5(format.inline, node)) {\n      return;\n    }\n    dom.remove(node, 1);\n  };\n  var removeFormat = function (ed, format, vars, node, compareNode) {\n    var i, attrs, stylesModified;\n    var dom = ed.dom;\n    if (!matchName$1(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n      return false;\n    }\n    if (format.remove !== 'all') {\n      each$13(format.styles, function (value, name) {\n        value = $_dlfh233cjnlpaxes.normalizeStyleValue(dom, $_dlfh233cjnlpaxes.replaceVars(value, vars), name);\n        if (typeof name === 'number') {\n          name = value;\n          compareNode = 0;\n        }\n        if (format.remove_similar || (!compareNode || isEq$5($_dlfh233cjnlpaxes.getStyle(dom, compareNode, name), value))) {\n          dom.setStyle(node, name, '');\n        }\n        stylesModified = 1;\n      });\n      if (stylesModified && dom.getAttrib(node, 'style') === '') {\n        node.removeAttribute('style');\n        node.removeAttribute('data-mce-style');\n      }\n      each$13(format.attributes, function (value, name) {\n        var valueOut;\n        value = $_dlfh233cjnlpaxes.replaceVars(value, vars);\n        if (typeof name === 'number') {\n          name = value;\n          compareNode = 0;\n        }\n        if (!compareNode || isEq$5(dom.getAttrib(compareNode, name), value)) {\n          if (name === 'class') {\n            value = dom.getAttrib(node, name);\n            if (value) {\n              valueOut = '';\n              each$13(value.split(/\\s+/), function (cls) {\n                if (/mce\\-\\w+/.test(cls)) {\n                  valueOut += (valueOut ? ' ' : '') + cls;\n                }\n              });\n              if (valueOut) {\n                dom.setAttrib(node, name, valueOut);\n                return;\n              }\n            }\n          }\n          if (name === 'class') {\n            node.removeAttribute('className');\n          }\n          if (MCE_ATTR_RE.test(name)) {\n            node.removeAttribute('data-mce-' + name);\n          }\n          node.removeAttribute(name);\n        }\n      });\n      each$13(format.classes, function (value) {\n        value = $_dlfh233cjnlpaxes.replaceVars(value, vars);\n        if (!compareNode || dom.hasClass(compareNode, value)) {\n          dom.removeClass(node, value);\n        }\n      });\n      attrs = dom.getAttribs(node);\n      for (i = 0; i < attrs.length; i++) {\n        var attrName = attrs[i].nodeName;\n        if (attrName.indexOf('_') !== 0 && attrName.indexOf('data-') !== 0) {\n          return false;\n        }\n      }\n    }\n    if (format.remove !== 'none') {\n      removeNode$1(ed, node, format);\n      return true;\n    }\n  };\n  var findFormatRoot = function (editor, container, name, vars, similar) {\n    var formatRoot;\n    each$13($_dlfh233cjnlpaxes.getParents(editor.dom, container.parentNode).reverse(), function (parent) {\n      var format;\n      if (!formatRoot && parent.id !== '_start' && parent.id !== '_end') {\n        format = $_706y6v68jnlpay1a.matchNode(editor, parent, name, vars, similar);\n        if (format && format.split !== false) {\n          formatRoot = parent;\n        }\n      }\n    });\n    return formatRoot;\n  };\n  var wrapAndSplit = function (editor, formatList, formatRoot, container, target, split, format, vars) {\n    var parent, clone, lastClone, firstClone, i, formatRootParent;\n    var dom = editor.dom;\n    if (formatRoot) {\n      formatRootParent = formatRoot.parentNode;\n      for (parent = container.parentNode; parent && parent !== formatRootParent; parent = parent.parentNode) {\n        clone = dom.clone(parent, false);\n        for (i = 0; i < formatList.length; i++) {\n          if (removeFormat(editor, formatList[i], vars, clone, clone)) {\n            clone = 0;\n            break;\n          }\n        }\n        if (clone) {\n          if (lastClone) {\n            clone.appendChild(lastClone);\n          }\n          if (!firstClone) {\n            firstClone = clone;\n          }\n          lastClone = clone;\n        }\n      }\n      if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n        container = dom.split(formatRoot, container);\n      }\n      if (lastClone) {\n        target.parentNode.insertBefore(lastClone, target);\n        firstClone.appendChild(target);\n      }\n    }\n    return container;\n  };\n  var remove$8 = function (ed, name, vars, node, similar) {\n    var formatList = ed.formatter.get(name), format = formatList[0];\n    var bookmark, rng, contentEditable = true;\n    var dom = ed.dom;\n    var selection = ed.selection;\n    var splitToFormatRoot = function (container) {\n      var formatRoot = findFormatRoot(ed, container, name, vars, similar);\n      return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n    };\n    var process = function (node) {\n      var children, i, l, lastContentEditable, hasContentEditableState;\n      if ($_fy28ei1rjnlpax2o.isElement(node) && dom.getContentEditable(node)) {\n        lastContentEditable = contentEditable;\n        contentEditable = dom.getContentEditable(node) === 'true';\n        hasContentEditableState = true;\n      }\n      children = $_1q1txeljnlpawsa.grep(node.childNodes);\n      if (contentEditable && !hasContentEditableState) {\n        for (i = 0, l = formatList.length; i < l; i++) {\n          if (removeFormat(ed, formatList[i], vars, node, node)) {\n            break;\n          }\n        }\n      }\n      if (format.deep) {\n        if (children.length) {\n          for (i = 0, l = children.length; i < l; i++) {\n            process(children[i]);\n          }\n          if (hasContentEditableState) {\n            contentEditable = lastContentEditable;\n          }\n        }\n      }\n    };\n    var unwrap = function (start) {\n      var node = dom.get(start ? '_start' : '_end');\n      var out = node[start ? 'firstChild' : 'lastChild'];\n      if ($_43l8qj2xjnlpaxb1.isBookmarkNode(out)) {\n        out = out[start ? 'firstChild' : 'lastChild'];\n      }\n      if ($_fy28ei1rjnlpax2o.isText(out) && out.data.length === 0) {\n        out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n      }\n      dom.remove(node, true);\n      return out;\n    };\n    var removeRngStyle = function (rng) {\n      var startContainer, endContainer;\n      var commonAncestorContainer = rng.commonAncestorContainer;\n      rng = $_3cscnj2wjnlpaxau.expandRng(ed, rng, formatList, true);\n      if (format.split) {\n        rng = $_fvyfxh69jnlpay1e.split(rng);\n        startContainer = getContainer(ed, rng, true);\n        endContainer = getContainer(ed, rng);\n        if (startContainer !== endContainer) {\n          if (/^(TR|TH|TD)$/.test(startContainer.nodeName) && startContainer.firstChild) {\n            if (startContainer.nodeName === 'TR') {\n              startContainer = startContainer.firstChild.firstChild || startContainer;\n            } else {\n              startContainer = startContainer.firstChild || startContainer;\n            }\n          }\n          if (commonAncestorContainer && /^T(HEAD|BODY|FOOT|R)$/.test(commonAncestorContainer.nodeName) && isTableCell$4(endContainer) && endContainer.firstChild) {\n            endContainer = endContainer.firstChild || endContainer;\n          }\n          if (dom.isChildOf(startContainer, endContainer) && startContainer !== endContainer && !dom.isBlock(endContainer) && !isTableCell$4(startContainer) && !isTableCell$4(endContainer)) {\n            var wrappedContent = wrapWithSiblings(dom, startContainer, 'span', true, {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            splitToFormatRoot(wrappedContent);\n            startContainer = unwrap(true);\n            return;\n          }\n          startContainer = wrap$2(dom, startContainer, 'span', {\n            'id': '_start',\n            'data-mce-type': 'bookmark'\n          });\n          endContainer = wrap$2(dom, endContainer, 'span', {\n            'id': '_end',\n            'data-mce-type': 'bookmark'\n          });\n          splitToFormatRoot(startContainer);\n          splitToFormatRoot(endContainer);\n          startContainer = unwrap(true);\n          endContainer = unwrap();\n        } else {\n          startContainer = endContainer = splitToFormatRoot(startContainer);\n        }\n        rng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n        rng.startOffset = dom.nodeIndex(startContainer);\n        rng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n        rng.endOffset = dom.nodeIndex(endContainer) + 1;\n      }\n      $_6wozuu3djnlpaxew.walk(dom, rng, function (nodes) {\n        each$13(nodes, function (node) {\n          process(node);\n          if ($_fy28ei1rjnlpax2o.isElement(node) && ed.dom.getStyle(node, 'text-decoration') === 'underline' && node.parentNode && $_dlfh233cjnlpaxes.getTextDecoration(dom, node.parentNode) === 'underline') {\n            removeFormat(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: { textDecoration: 'underline' }\n            }, null, node);\n          }\n        });\n      });\n    };\n    if (node) {\n      if (node.nodeType) {\n        rng = dom.createRng();\n        rng.setStartBefore(node);\n        rng.setEndAfter(node);\n        removeRngStyle(rng);\n      } else {\n        removeRngStyle(node);\n      }\n      return;\n    }\n    if (dom.getContentEditable(selection.getNode()) === 'false') {\n      node = selection.getNode();\n      for (var i = 0, l = formatList.length; i < l; i++) {\n        if (formatList[i].ceFalseOverride) {\n          if (removeFormat(ed, formatList[i], vars, node, node)) {\n            break;\n          }\n        }\n      }\n      return;\n    }\n    if (!selection.isCollapsed() || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n      bookmark = $_5l0mu32ljnlpax8x.getPersistentBookmark(ed.selection, true);\n      removeRngStyle(selection.getRng());\n      selection.moveToBookmark(bookmark);\n      if (format.inline && $_706y6v68jnlpay1a.match(ed, name, vars, selection.getStart())) {\n        $_dlfh233cjnlpaxes.moveStart(dom, selection, selection.getRng());\n      }\n      ed.nodeChanged();\n    } else {\n      removeCaretFormat(ed, name, vars, similar);\n    }\n  };\n  var $_4dimpr6cjnlpay1t = {\n    removeFormat: removeFormat,\n    remove: remove$8\n  };\n\n  var each$14 = $_1q1txeljnlpawsa.each;\n  var isElementNode = function (node) {\n    return node && node.nodeType === 1 && !$_43l8qj2xjnlpaxb1.isBookmarkNode(node) && !isCaretNode(node) && !$_fy28ei1rjnlpax2o.isBogus(node);\n  };\n  var findElementSibling = function (node, siblingName) {\n    var sibling;\n    for (sibling = node; sibling; sibling = sibling[siblingName]) {\n      if (sibling.nodeType === 3 && sibling.nodeValue.length !== 0) {\n        return node;\n      }\n      if (sibling.nodeType === 1 && !$_43l8qj2xjnlpaxb1.isBookmarkNode(sibling)) {\n        return sibling;\n      }\n    }\n    return node;\n  };\n  var mergeSiblingsNodes = function (dom, prev, next) {\n    var sibling, tmpSibling;\n    var elementUtils = new ElementUtils(dom);\n    if (prev && next) {\n      prev = findElementSibling(prev, 'previousSibling');\n      next = findElementSibling(next, 'nextSibling');\n      if (elementUtils.compare(prev, next)) {\n        for (sibling = prev.nextSibling; sibling && sibling !== next;) {\n          tmpSibling = sibling;\n          sibling = sibling.nextSibling;\n          prev.appendChild(tmpSibling);\n        }\n        dom.remove(next);\n        $_1q1txeljnlpawsa.each($_1q1txeljnlpawsa.grep(next.childNodes), function (node) {\n          prev.appendChild(node);\n        });\n        return prev;\n      }\n    }\n    return next;\n  };\n  var processChildElements = function (node, filter, process) {\n    each$14(node.childNodes, function (node) {\n      if (isElementNode(node)) {\n        if (filter(node)) {\n          process(node);\n        }\n        if (node.hasChildNodes()) {\n          processChildElements(node, filter, process);\n        }\n      }\n    });\n  };\n  var hasStyle = function (dom, name) {\n    return curry(function (name, node) {\n      return !!(node && $_dlfh233cjnlpaxes.getStyle(dom, node, name));\n    }, name);\n  };\n  var applyStyle = function (dom, name, value) {\n    return curry(function (name, value, node) {\n      dom.setStyle(node, name, value);\n      if (node.getAttribute('style') === '') {\n        node.removeAttribute('style');\n      }\n      unwrapEmptySpan(dom, node);\n    }, name, value);\n  };\n  var unwrapEmptySpan = function (dom, node) {\n    if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n      dom.remove(node, true);\n    }\n  };\n  var processUnderlineAndColor = function (dom, node) {\n    var textDecoration;\n    if (node.nodeType === 1 && node.parentNode && node.parentNode.nodeType === 1) {\n      textDecoration = $_dlfh233cjnlpaxes.getTextDecoration(dom, node.parentNode);\n      if (dom.getStyle(node, 'color') && textDecoration) {\n        dom.setStyle(node, 'text-decoration', textDecoration);\n      } else if (dom.getStyle(node, 'text-decoration') === textDecoration) {\n        dom.setStyle(node, 'text-decoration', null);\n      }\n    }\n  };\n  var mergeUnderlineAndColor = function (dom, format, vars, node) {\n    if (format.styles.color || format.styles.textDecoration) {\n      $_1q1txeljnlpawsa.walk(node, curry(processUnderlineAndColor, dom), 'childNodes');\n      processUnderlineAndColor(dom, node);\n    }\n  };\n  var mergeBackgroundColorAndFontSize = function (dom, format, vars, node) {\n    if (format.styles && format.styles.backgroundColor) {\n      processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'backgroundColor', $_dlfh233cjnlpaxes.replaceVars(format.styles.backgroundColor, vars)));\n    }\n  };\n  var mergeSubSup = function (dom, format, vars, node) {\n    if (format.inline === 'sub' || format.inline === 'sup') {\n      processChildElements(node, hasStyle(dom, 'fontSize'), applyStyle(dom, 'fontSize', ''));\n      dom.remove(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), true);\n    }\n  };\n  var mergeSiblings = function (dom, format, vars, node) {\n    if (node && format.merge_siblings !== false) {\n      node = mergeSiblingsNodes(dom, $_dlfh233cjnlpaxes.getNonWhiteSpaceSibling(node), node);\n      node = mergeSiblingsNodes(dom, node, $_dlfh233cjnlpaxes.getNonWhiteSpaceSibling(node, true));\n    }\n  };\n  var clearChildStyles = function (dom, format, node) {\n    if (format.clear_child_styles) {\n      var selector = format.links ? '*:not(a)' : '*';\n      each$14(dom.select(selector, node), function (node) {\n        if (isElementNode(node)) {\n          each$14(format.styles, function (value, name) {\n            dom.setStyle(node, name, '');\n          });\n        }\n      });\n    }\n  };\n  var mergeWithChildren = function (editor, formatList, vars, node) {\n    each$14(formatList, function (format) {\n      each$14(editor.dom.select(format.inline, node), function (child) {\n        if (!isElementNode(child)) {\n          return;\n        }\n        $_4dimpr6cjnlpay1t.removeFormat(editor, format, vars, child, format.exact ? child : null);\n      });\n      clearChildStyles(editor.dom, format, node);\n    });\n  };\n  var mergeWithParents = function (editor, format, name, vars, node) {\n    if ($_706y6v68jnlpay1a.matchNode(editor, node.parentNode, name, vars)) {\n      if ($_4dimpr6cjnlpay1t.removeFormat(editor, format, vars, node)) {\n        return;\n      }\n    }\n    if (format.merge_with_parents) {\n      editor.dom.getParent(node.parentNode, function (parent) {\n        if ($_706y6v68jnlpay1a.matchNode(editor, parent, name, vars)) {\n          $_4dimpr6cjnlpay1t.removeFormat(editor, format, vars, node);\n          return true;\n        }\n      });\n    }\n  };\n  var $_4luhzy6bjnlpay1j = {\n    mergeWithChildren: mergeWithChildren,\n    mergeUnderlineAndColor: mergeUnderlineAndColor,\n    mergeBackgroundColorAndFontSize: mergeBackgroundColorAndFontSize,\n    mergeSubSup: mergeSubSup,\n    mergeSiblings: mergeSiblings,\n    mergeWithParents: mergeWithParents\n  };\n\n  var each$15 = $_1q1txeljnlpawsa.each;\n  var isElementNode$1 = function (node) {\n    return node && node.nodeType === 1 && !$_43l8qj2xjnlpaxb1.isBookmarkNode(node) && !isCaretNode(node) && !$_fy28ei1rjnlpax2o.isBogus(node);\n  };\n  var applyFormat = function (ed, name, vars, node) {\n    var formatList = ed.formatter.get(name);\n    var format = formatList[0];\n    var bookmark, rng;\n    var isCollapsed = !node && ed.selection.isCollapsed();\n    var dom = ed.dom, selection = ed.selection;\n    var setElementFormat = function (elm, fmt) {\n      fmt = fmt || format;\n      if (elm) {\n        if (fmt.onformat) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n        each$15(fmt.styles, function (value, name) {\n          dom.setStyle(elm, name, $_dlfh233cjnlpaxes.replaceVars(value, vars));\n        });\n        if (fmt.styles) {\n          var styleVal = dom.getAttrib(elm, 'style');\n          if (styleVal) {\n            elm.setAttribute('data-mce-style', styleVal);\n          }\n        }\n        each$15(fmt.attributes, function (value, name) {\n          dom.setAttrib(elm, name, $_dlfh233cjnlpaxes.replaceVars(value, vars));\n        });\n        each$15(fmt.classes, function (value) {\n          value = $_dlfh233cjnlpaxes.replaceVars(value, vars);\n          if (!dom.hasClass(elm, value)) {\n            dom.addClass(elm, value);\n          }\n        });\n      }\n    };\n    var applyNodeStyle = function (formatList, node) {\n      var found = false;\n      if (!format.selector) {\n        return false;\n      }\n      each$15(formatList, function (format) {\n        if ('collapsed' in format && format.collapsed !== isCollapsed) {\n          return;\n        }\n        if (dom.is(node, format.selector) && !isCaretNode(node)) {\n          setElementFormat(node, format);\n          found = true;\n          return false;\n        }\n      });\n      return found;\n    };\n    var applyRngStyle = function (dom, rng, bookmark, nodeSpecific) {\n      var newWrappers = [];\n      var wrapName, wrapElm, contentEditable = true;\n      wrapName = format.inline || format.block;\n      wrapElm = dom.create(wrapName);\n      setElementFormat(wrapElm);\n      $_6wozuu3djnlpaxew.walk(dom, rng, function (nodes) {\n        var currentWrapElm;\n        var process = function (node) {\n          var nodeName, parentName, hasContentEditableState, lastContentEditable;\n          lastContentEditable = contentEditable;\n          nodeName = node.nodeName.toLowerCase();\n          parentName = node.parentNode.nodeName.toLowerCase();\n          if (node.nodeType === 1 && dom.getContentEditable(node)) {\n            lastContentEditable = contentEditable;\n            contentEditable = dom.getContentEditable(node) === 'true';\n            hasContentEditableState = true;\n          }\n          if ($_dlfh233cjnlpaxes.isEq(nodeName, 'br')) {\n            currentWrapElm = 0;\n            if (format.block) {\n              dom.remove(node);\n            }\n            return;\n          }\n          if (format.wrapper && $_706y6v68jnlpay1a.matchNode(ed, node, name, vars)) {\n            currentWrapElm = 0;\n            return;\n          }\n          if (contentEditable && !hasContentEditableState && format.block && !format.wrapper && $_dlfh233cjnlpaxes.isTextBlock(ed, nodeName) && $_dlfh233cjnlpaxes.isValid(ed, parentName, wrapName)) {\n            node = dom.rename(node, wrapName);\n            setElementFormat(node);\n            newWrappers.push(node);\n            currentWrapElm = 0;\n            return;\n          }\n          if (format.selector) {\n            var found = applyNodeStyle(formatList, node);\n            if (!format.inline || found) {\n              currentWrapElm = 0;\n              return;\n            }\n          }\n          if (contentEditable && !hasContentEditableState && $_dlfh233cjnlpaxes.isValid(ed, wrapName, nodeName) && $_dlfh233cjnlpaxes.isValid(ed, parentName, wrapName) && !(!nodeSpecific && node.nodeType === 3 && node.nodeValue.length === 1 && node.nodeValue.charCodeAt(0) === 65279) && !isCaretNode(node) && (!format.inline || !dom.isBlock(node))) {\n            if (!currentWrapElm) {\n              currentWrapElm = dom.clone(wrapElm, false);\n              node.parentNode.insertBefore(currentWrapElm, node);\n              newWrappers.push(currentWrapElm);\n            }\n            currentWrapElm.appendChild(node);\n          } else {\n            currentWrapElm = 0;\n            each$15($_1q1txeljnlpawsa.grep(node.childNodes), process);\n            if (hasContentEditableState) {\n              contentEditable = lastContentEditable;\n            }\n            currentWrapElm = 0;\n          }\n        };\n        each$15(nodes, process);\n      });\n      if (format.links === true) {\n        each$15(newWrappers, function (node) {\n          var process = function (node) {\n            if (node.nodeName === 'A') {\n              setElementFormat(node, format);\n            }\n            each$15($_1q1txeljnlpawsa.grep(node.childNodes), process);\n          };\n          process(node);\n        });\n      }\n      each$15(newWrappers, function (node) {\n        var childCount;\n        var getChildCount = function (node) {\n          var count = 0;\n          each$15(node.childNodes, function (node) {\n            if (!$_dlfh233cjnlpaxes.isWhiteSpaceNode(node) && !$_43l8qj2xjnlpaxb1.isBookmarkNode(node)) {\n              count++;\n            }\n          });\n          return count;\n        };\n        var getChildElementNode = function (root) {\n          var child = false;\n          each$15(root.childNodes, function (node) {\n            if (isElementNode$1(node)) {\n              child = node;\n              return false;\n            }\n          });\n          return child;\n        };\n        var mergeStyles = function (node) {\n          var child, clone;\n          child = getChildElementNode(node);\n          if (child && !$_43l8qj2xjnlpaxb1.isBookmarkNode(child) && $_706y6v68jnlpay1a.matchName(dom, child, format)) {\n            clone = dom.clone(child, false);\n            setElementFormat(clone);\n            dom.replace(clone, node, true);\n            dom.remove(child, 1);\n          }\n          return clone || node;\n        };\n        childCount = getChildCount(node);\n        if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n          dom.remove(node, 1);\n          return;\n        }\n        if (format.inline || format.wrapper) {\n          if (!format.exact && childCount === 1) {\n            node = mergeStyles(node);\n          }\n          $_4luhzy6bjnlpay1j.mergeWithChildren(ed, formatList, vars, node);\n          $_4luhzy6bjnlpay1j.mergeWithParents(ed, format, name, vars, node);\n          $_4luhzy6bjnlpay1j.mergeBackgroundColorAndFontSize(dom, format, vars, node);\n          $_4luhzy6bjnlpay1j.mergeSubSup(dom, format, vars, node);\n          $_4luhzy6bjnlpay1j.mergeSiblings(dom, format, vars, node);\n        }\n      });\n    };\n    if (dom.getContentEditable(selection.getNode()) === 'false') {\n      node = selection.getNode();\n      for (var i = 0, l = formatList.length; i < l; i++) {\n        if (formatList[i].ceFalseOverride && dom.is(node, formatList[i].selector)) {\n          setElementFormat(node, formatList[i]);\n          return;\n        }\n      }\n      return;\n    }\n    if (format) {\n      if (node) {\n        if (node.nodeType) {\n          if (!applyNodeStyle(formatList, node)) {\n            rng = dom.createRng();\n            rng.setStartBefore(node);\n            rng.setEndAfter(node);\n            applyRngStyle(dom, $_3cscnj2wjnlpaxau.expandRng(ed, rng, formatList), null, true);\n          }\n        } else {\n          applyRngStyle(dom, node, null, true);\n        }\n      } else {\n        if (!isCollapsed || !format.inline || dom.select('td[data-mce-selected],th[data-mce-selected]').length) {\n          var curSelNode = ed.selection.getNode();\n          if (!ed.settings.forced_root_block && formatList[0].defaultBlock && !dom.getParent(curSelNode, dom.isBlock)) {\n            applyFormat(ed, formatList[0].defaultBlock);\n          }\n          ed.selection.setRng($_4fmn0j3qjnlpaxhi.normalize(ed.selection.getRng()));\n          bookmark = $_5l0mu32ljnlpax8x.getPersistentBookmark(ed.selection, true);\n          applyRngStyle(dom, $_3cscnj2wjnlpaxau.expandRng(ed, selection.getRng(), formatList), bookmark);\n          if (format.styles) {\n            $_4luhzy6bjnlpay1j.mergeUnderlineAndColor(dom, format, vars, curSelNode);\n          }\n          selection.moveToBookmark(bookmark);\n          $_dlfh233cjnlpaxes.moveStart(dom, selection, selection.getRng());\n          ed.nodeChanged();\n        } else {\n          applyCaretFormat(ed, name, vars);\n        }\n      }\n      $_48059m6ajnlpay1h.postProcess(name, ed);\n    }\n  };\n  var $_f4ruu466jnlpay08 = { applyFormat: applyFormat };\n\n  var each$16 = $_1q1txeljnlpawsa.each;\n  var setup$5 = function (formatChangeData, editor) {\n    var currentFormats = {};\n    formatChangeData.set({});\n    editor.on('NodeChange', function (e) {\n      var parents = $_dlfh233cjnlpaxes.getParents(editor.dom, e.element);\n      var matchedFormats = {};\n      parents = $_1q1txeljnlpawsa.grep(parents, function (node) {\n        return node.nodeType === 1 && !node.getAttribute('data-mce-bogus');\n      });\n      each$16(formatChangeData.get(), function (callbacks, format) {\n        each$16(parents, function (node) {\n          if (editor.formatter.matchNode(node, format, {}, callbacks.similar)) {\n            if (!currentFormats[format]) {\n              each$16(callbacks, function (callback) {\n                callback(true, {\n                  node: node,\n                  format: format,\n                  parents: parents\n                });\n              });\n              currentFormats[format] = callbacks;\n            }\n            matchedFormats[format] = callbacks;\n            return false;\n          }\n          if ($_706y6v68jnlpay1a.matchesUnInheritedFormatSelector(editor, node, format)) {\n            return false;\n          }\n        });\n      });\n      each$16(currentFormats, function (callbacks, format) {\n        if (!matchedFormats[format]) {\n          delete currentFormats[format];\n          each$16(callbacks, function (callback) {\n            callback(false, {\n              node: e.element,\n              format: format,\n              parents: parents\n            });\n          });\n        }\n      });\n    });\n  };\n  var addListeners = function (formatChangeData, formats, callback, similar) {\n    var formatChangeItems = formatChangeData.get();\n    each$16(formats.split(','), function (format) {\n      if (!formatChangeItems[format]) {\n        formatChangeItems[format] = [];\n        formatChangeItems[format].similar = similar;\n      }\n      formatChangeItems[format].push(callback);\n    });\n    formatChangeData.set(formatChangeItems);\n  };\n  var formatChanged = function (editor, formatChangeState, formats, callback, similar) {\n    if (formatChangeState.get() === null) {\n      setup$5(formatChangeState, editor);\n    }\n    addListeners(formatChangeState, formats, callback, similar);\n  };\n  var $_10ddoa6djnlpay24 = { formatChanged: formatChanged };\n\n  var get$8 = function (dom) {\n    var formats = {\n      valigntop: [{\n          selector: 'td,th',\n          styles: { verticalAlign: 'top' }\n        }],\n      valignmiddle: [{\n          selector: 'td,th',\n          styles: { verticalAlign: 'middle' }\n        }],\n      valignbottom: [{\n          selector: 'td,th',\n          styles: { verticalAlign: 'bottom' }\n        }],\n      alignleft: [\n        {\n          selector: 'figure.image',\n          collapsed: false,\n          classes: 'align-left',\n          ceFalseOverride: true,\n          preview: 'font-family font-size'\n        },\n        {\n          selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n          styles: { textAlign: 'left' },\n          inherit: false,\n          preview: false,\n          defaultBlock: 'div'\n        },\n        {\n          selector: 'img,table',\n          collapsed: false,\n          styles: { float: 'left' },\n          preview: 'font-family font-size'\n        }\n      ],\n      aligncenter: [\n        {\n          selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n          styles: { textAlign: 'center' },\n          inherit: false,\n          preview: 'font-family font-size',\n          defaultBlock: 'div'\n        },\n        {\n          selector: 'figure.image',\n          collapsed: false,\n          classes: 'align-center',\n          ceFalseOverride: true,\n          preview: 'font-family font-size'\n        },\n        {\n          selector: 'img',\n          collapsed: false,\n          styles: {\n            display: 'block',\n            marginLeft: 'auto',\n            marginRight: 'auto'\n          },\n          preview: false\n        },\n        {\n          selector: 'table',\n          collapsed: false,\n          styles: {\n            marginLeft: 'auto',\n            marginRight: 'auto'\n          },\n          preview: 'font-family font-size'\n        }\n      ],\n      alignright: [\n        {\n          selector: 'figure.image',\n          collapsed: false,\n          classes: 'align-right',\n          ceFalseOverride: true,\n          preview: 'font-family font-size'\n        },\n        {\n          selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n          styles: { textAlign: 'right' },\n          inherit: false,\n          preview: 'font-family font-size',\n          defaultBlock: 'div'\n        },\n        {\n          selector: 'img,table',\n          collapsed: false,\n          styles: { float: 'right' },\n          preview: 'font-family font-size'\n        }\n      ],\n      alignjustify: [{\n          selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li',\n          styles: { textAlign: 'justify' },\n          inherit: false,\n          defaultBlock: 'div',\n          preview: 'font-family font-size'\n        }],\n      bold: [\n        {\n          inline: 'strong',\n          remove: 'all'\n        },\n        {\n          inline: 'span',\n          styles: { fontWeight: 'bold' }\n        },\n        {\n          inline: 'b',\n          remove: 'all'\n        }\n      ],\n      italic: [\n        {\n          inline: 'em',\n          remove: 'all'\n        },\n        {\n          inline: 'span',\n          styles: { fontStyle: 'italic' }\n        },\n        {\n          inline: 'i',\n          remove: 'all'\n        }\n      ],\n      underline: [\n        {\n          inline: 'span',\n          styles: { textDecoration: 'underline' },\n          exact: true\n        },\n        {\n          inline: 'u',\n          remove: 'all'\n        }\n      ],\n      strikethrough: [\n        {\n          inline: 'span',\n          styles: { textDecoration: 'line-through' },\n          exact: true\n        },\n        {\n          inline: 'strike',\n          remove: 'all'\n        }\n      ],\n      forecolor: {\n        inline: 'span',\n        styles: { color: '%value' },\n        links: true,\n        remove_similar: true,\n        clear_child_styles: true\n      },\n      hilitecolor: {\n        inline: 'span',\n        styles: { backgroundColor: '%value' },\n        links: true,\n        remove_similar: true,\n        clear_child_styles: true\n      },\n      fontname: {\n        inline: 'span',\n        toggle: false,\n        styles: { fontFamily: '%value' },\n        clear_child_styles: true\n      },\n      fontsize: {\n        inline: 'span',\n        toggle: false,\n        styles: { fontSize: '%value' },\n        clear_child_styles: true\n      },\n      fontsize_class: {\n        inline: 'span',\n        attributes: { class: '%value' }\n      },\n      blockquote: {\n        block: 'blockquote',\n        wrapper: 1,\n        remove: 'all'\n      },\n      subscript: { inline: 'sub' },\n      superscript: { inline: 'sup' },\n      code: { inline: 'code' },\n      link: {\n        inline: 'a',\n        selector: 'a',\n        remove: 'all',\n        split: true,\n        deep: true,\n        onmatch: function () {\n          return true;\n        },\n        onformat: function (elm, fmt, vars) {\n          $_1q1txeljnlpawsa.each(vars, function (value, key) {\n            dom.setAttrib(elm, key, value);\n          });\n        }\n      },\n      removeformat: [\n        {\n          selector: 'b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins',\n          remove: 'all',\n          split: true,\n          expand: false,\n          block_expand: true,\n          deep: true\n        },\n        {\n          selector: 'span',\n          attributes: [\n            'style',\n            'class'\n          ],\n          remove: 'empty',\n          split: true,\n          expand: false,\n          deep: true\n        },\n        {\n          selector: '*',\n          attributes: [\n            'style',\n            'class'\n          ],\n          split: false,\n          expand: false,\n          deep: true\n        }\n      ]\n    };\n    $_1q1txeljnlpawsa.each('p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp'.split(/\\s/), function (name) {\n      formats[name] = {\n        block: name,\n        remove: 'all'\n      };\n    });\n    return formats;\n  };\n  var $_2j3wlv6fjnlpay2d = { get: get$8 };\n\n  function FormatRegistry (editor) {\n    var formats = {};\n    var get = function (name) {\n      return name ? formats[name] : formats;\n    };\n    var register = function (name, format) {\n      if (name) {\n        if (typeof name !== 'string') {\n          $_1q1txeljnlpawsa.each(name, function (format, name) {\n            register(name, format);\n          });\n        } else {\n          format = format.length ? format : [format];\n          $_1q1txeljnlpawsa.each(format, function (format) {\n            if (typeof format.deep === 'undefined') {\n              format.deep = !format.selector;\n            }\n            if (typeof format.split === 'undefined') {\n              format.split = !format.selector || format.inline;\n            }\n            if (typeof format.remove === 'undefined' && format.selector && !format.inline) {\n              format.remove = 'none';\n            }\n            if (format.selector && format.inline) {\n              format.mixed = true;\n              format.block_expand = true;\n            }\n            if (typeof format.classes === 'string') {\n              format.classes = format.classes.split(/\\s+/);\n            }\n          });\n          formats[name] = format;\n        }\n      }\n    };\n    var unregister = function (name) {\n      if (name && formats[name]) {\n        delete formats[name];\n      }\n      return formats;\n    };\n    register($_2j3wlv6fjnlpay2d.get(editor.dom));\n    register(editor.settings.formats);\n    return {\n      get: get,\n      register: register,\n      unregister: unregister\n    };\n  }\n\n  var each$17 = $_1q1txeljnlpawsa.each;\n  var dom = DOMUtils$1.DOM;\n  var parsedSelectorToHtml = function (ancestry, editor) {\n    var elm, item, fragment;\n    var schema = editor && editor.schema || Schema({});\n    var decorate = function (elm, item) {\n      if (item.classes.length) {\n        dom.addClass(elm, item.classes.join(' '));\n      }\n      dom.setAttribs(elm, item.attrs);\n    };\n    var createElement = function (sItem) {\n      var elm;\n      item = typeof sItem === 'string' ? {\n        name: sItem,\n        classes: [],\n        attrs: {}\n      } : sItem;\n      elm = dom.create(item.name);\n      decorate(elm, item);\n      return elm;\n    };\n    var getRequiredParent = function (elm, candidate) {\n      var name = typeof elm !== 'string' ? elm.nodeName.toLowerCase() : elm;\n      var elmRule = schema.getElementRule(name);\n      var parentsRequired = elmRule && elmRule.parentsRequired;\n      if (parentsRequired && parentsRequired.length) {\n        return candidate && $_1q1txeljnlpawsa.inArray(parentsRequired, candidate) !== -1 ? candidate : parentsRequired[0];\n      } else {\n        return false;\n      }\n    };\n    var wrapInHtml = function (elm, ancestry, siblings) {\n      var parent, parentCandidate, parentRequired;\n      var ancestor = ancestry.length > 0 && ancestry[0];\n      var ancestorName = ancestor && ancestor.name;\n      parentRequired = getRequiredParent(elm, ancestorName);\n      if (parentRequired) {\n        if (ancestorName === parentRequired) {\n          parentCandidate = ancestry[0];\n          ancestry = ancestry.slice(1);\n        } else {\n          parentCandidate = parentRequired;\n        }\n      } else if (ancestor) {\n        parentCandidate = ancestry[0];\n        ancestry = ancestry.slice(1);\n      } else if (!siblings) {\n        return elm;\n      }\n      if (parentCandidate) {\n        parent = createElement(parentCandidate);\n        parent.appendChild(elm);\n      }\n      if (siblings) {\n        if (!parent) {\n          parent = dom.create('div');\n          parent.appendChild(elm);\n        }\n        $_1q1txeljnlpawsa.each(siblings, function (sibling) {\n          var siblingElm = createElement(sibling);\n          parent.insertBefore(siblingElm, elm);\n        });\n      }\n      return wrapInHtml(parent, ancestry, parentCandidate && parentCandidate.siblings);\n    };\n    if (ancestry && ancestry.length) {\n      item = ancestry[0];\n      elm = createElement(item);\n      fragment = dom.create('div');\n      fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), item.siblings));\n      return fragment;\n    } else {\n      return '';\n    }\n  };\n  var selectorToHtml = function (selector, editor) {\n    return parsedSelectorToHtml(parseSelector(selector), editor);\n  };\n  var parseSelectorItem = function (item) {\n    var tagName;\n    var obj = {\n      classes: [],\n      attrs: {}\n    };\n    item = obj.selector = $_1q1txeljnlpawsa.trim(item);\n    if (item !== '*') {\n      tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, function ($0, $1, $2, $3, $4) {\n        switch ($1) {\n        case '#':\n          obj.attrs.id = $2;\n          break;\n        case '.':\n          obj.classes.push($2);\n          break;\n        case ':':\n          if ($_1q1txeljnlpawsa.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n            obj.attrs[$2] = $2;\n          }\n          break;\n        }\n        if ($3 === '[') {\n          var m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n          if (m) {\n            obj.attrs[m[1]] = m[2];\n          }\n        }\n        return '';\n      });\n    }\n    obj.name = tagName || 'div';\n    return obj;\n  };\n  var parseSelector = function (selector) {\n    if (!selector || typeof selector !== 'string') {\n      return [];\n    }\n    selector = selector.split(/\\s*,\\s*/)[0];\n    selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n    return $_1q1txeljnlpawsa.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), function (item) {\n      var siblings = $_1q1txeljnlpawsa.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n      var obj = siblings.pop();\n      if (siblings.length) {\n        obj.siblings = siblings;\n      }\n      return obj;\n    }).reverse();\n  };\n  var getCssText = function (editor, format) {\n    var name, previewFrag, previewElm, items;\n    var previewCss = '', parentFontSize, previewStyles;\n    previewStyles = editor.settings.preview_styles;\n    if (previewStyles === false) {\n      return '';\n    }\n    if (typeof previewStyles !== 'string') {\n      previewStyles = 'font-family font-size font-weight font-style text-decoration ' + 'text-transform color background-color border border-radius outline text-shadow';\n    }\n    var removeVars = function (val) {\n      return val.replace(/%(\\w+)/g, '');\n    };\n    if (typeof format === 'string') {\n      format = editor.formatter.get(format);\n      if (!format) {\n        return;\n      }\n      format = format[0];\n    }\n    if ('preview' in format) {\n      previewStyles = format.preview;\n      if (previewStyles === false) {\n        return '';\n      }\n    }\n    name = format.block || format.inline || 'span';\n    items = parseSelector(format.selector);\n    if (items.length) {\n      if (!items[0].name) {\n        items[0].name = name;\n      }\n      name = format.selector;\n      previewFrag = parsedSelectorToHtml(items, editor);\n    } else {\n      previewFrag = parsedSelectorToHtml([name], editor);\n    }\n    previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n    each$17(format.styles, function (value, name) {\n      value = removeVars(value);\n      if (value) {\n        dom.setStyle(previewElm, name, value);\n      }\n    });\n    each$17(format.attributes, function (value, name) {\n      value = removeVars(value);\n      if (value) {\n        dom.setAttrib(previewElm, name, value);\n      }\n    });\n    each$17(format.classes, function (value) {\n      value = removeVars(value);\n      if (!dom.hasClass(previewElm, value)) {\n        dom.addClass(previewElm, value);\n      }\n    });\n    editor.fire('PreviewFormats');\n    dom.setStyles(previewFrag, {\n      position: 'absolute',\n      left: -65535\n    });\n    editor.getBody().appendChild(previewFrag);\n    parentFontSize = dom.getStyle(editor.getBody(), 'fontSize', true);\n    parentFontSize = /px$/.test(parentFontSize) ? parseInt(parentFontSize, 10) : 0;\n    each$17(previewStyles.split(' '), function (name) {\n      var value = dom.getStyle(previewElm, name, true);\n      if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n        value = dom.getStyle(editor.getBody(), name, true);\n        if (dom.toHex(value).toLowerCase() === '#ffffff') {\n          return;\n        }\n      }\n      if (name === 'color') {\n        if (dom.toHex(value).toLowerCase() === '#000000') {\n          return;\n        }\n      }\n      if (name === 'font-size') {\n        if (/em|%$/.test(value)) {\n          if (parentFontSize === 0) {\n            return;\n          }\n          var numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n          value = numValue * parentFontSize + 'px';\n        }\n      }\n      if (name === 'border' && value) {\n        previewCss += 'padding:0 2px;';\n      }\n      previewCss += name + ':' + value + ';';\n    });\n    editor.fire('AfterPreviewFormats');\n    dom.remove(previewFrag);\n    return previewCss;\n  };\n  var $_6yt3d06gjnlpay2j = {\n    getCssText: getCssText,\n    parseSelector: parseSelector,\n    selectorToHtml: selectorToHtml\n  };\n\n  var toggle$3 = function (editor, formats, name, vars, node) {\n    var fmt = formats.get(name);\n    if ($_706y6v68jnlpay1a.match(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n      $_4dimpr6cjnlpay1t.remove(editor, name, vars, node);\n    } else {\n      $_f4ruu466jnlpay08.applyFormat(editor, name, vars, node);\n    }\n  };\n  var $_div70r6hjnlpay2r = { toggle: toggle$3 };\n\n  var setup$6 = function (editor) {\n    editor.addShortcut('meta+b', '', 'Bold');\n    editor.addShortcut('meta+i', '', 'Italic');\n    editor.addShortcut('meta+u', '', 'Underline');\n    for (var i = 1; i <= 6; i++) {\n      editor.addShortcut('access+' + i, '', [\n        'FormatBlock',\n        false,\n        'h' + i\n      ]);\n    }\n    editor.addShortcut('access+7', '', [\n      'FormatBlock',\n      false,\n      'p'\n    ]);\n    editor.addShortcut('access+8', '', [\n      'FormatBlock',\n      false,\n      'div'\n    ]);\n    editor.addShortcut('access+9', '', [\n      'FormatBlock',\n      false,\n      'address'\n    ]);\n  };\n  var $_azkj2d6ijnlpay2t = { setup: setup$6 };\n\n  function Formatter (editor) {\n    var formats = FormatRegistry(editor);\n    var formatChangeState = Cell(null);\n    $_azkj2d6ijnlpay2t.setup(editor);\n    setup$4(editor);\n    return {\n      get: formats.get,\n      register: formats.register,\n      unregister: formats.unregister,\n      apply: curry($_f4ruu466jnlpay08.applyFormat, editor),\n      remove: curry($_4dimpr6cjnlpay1t.remove, editor),\n      toggle: curry($_div70r6hjnlpay2r.toggle, editor, formats),\n      match: curry($_706y6v68jnlpay1a.match, editor),\n      matchAll: curry($_706y6v68jnlpay1a.matchAll, editor),\n      matchNode: curry($_706y6v68jnlpay1a.matchNode, editor),\n      canApply: curry($_706y6v68jnlpay1a.canApply, editor),\n      formatChanged: curry($_10ddoa6djnlpay24.formatChanged, editor, formatChangeState),\n      getCssText: curry($_6yt3d06gjnlpay2j.getCssText, editor)\n    };\n  }\n\n  var hasOwnProperty$2 = Object.prototype.hasOwnProperty;\n  var shallow$1 = function (old, nu) {\n    return nu;\n  };\n  var baseMerge = function (merger) {\n    return function () {\n      var objects = new Array(arguments.length);\n      for (var i = 0; i < objects.length; i++)\n        objects[i] = arguments[i];\n      if (objects.length === 0)\n        throw new Error('Can\\'t merge zero objects');\n      var ret = {};\n      for (var j = 0; j < objects.length; j++) {\n        var curObject = objects[j];\n        for (var key in curObject)\n          if (hasOwnProperty$2.call(curObject, key)) {\n            ret[key] = merger(ret[key], curObject[key]);\n          }\n      }\n      return ret;\n    };\n  };\n\n  var merge = baseMerge(shallow$1);\n\n  var register = function (htmlParser, settings, dom) {\n    htmlParser.addAttributeFilter('data-mce-tabindex', function (nodes, name) {\n      var i = nodes.length, node;\n      while (i--) {\n        node = nodes[i];\n        node.attr('tabindex', node.attributes.map['data-mce-tabindex']);\n        node.attr(name, null);\n      }\n    });\n    htmlParser.addAttributeFilter('src,href,style', function (nodes, name) {\n      var i = nodes.length, node, value;\n      var internalName = 'data-mce-' + name;\n      var urlConverter = settings.url_converter;\n      var urlConverterScope = settings.url_converter_scope;\n      while (i--) {\n        node = nodes[i];\n        value = node.attributes.map[internalName];\n        if (value !== undefined) {\n          node.attr(name, value.length > 0 ? value : null);\n          node.attr(internalName, null);\n        } else {\n          value = node.attributes.map[name];\n          if (name === 'style') {\n            value = dom.serializeStyle(dom.parseStyle(value), node.name);\n          } else if (urlConverter) {\n            value = urlConverter.call(urlConverterScope, value, name, node.name);\n          }\n          node.attr(name, value.length > 0 ? value : null);\n        }\n      }\n    });\n    htmlParser.addAttributeFilter('class', function (nodes) {\n      var i = nodes.length, node, value;\n      while (i--) {\n        node = nodes[i];\n        value = node.attr('class');\n        if (value) {\n          value = node.attr('class').replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n          node.attr('class', value.length > 0 ? value : null);\n        }\n      }\n    });\n    htmlParser.addAttributeFilter('data-mce-type', function (nodes, name, args) {\n      var i = nodes.length, node;\n      while (i--) {\n        node = nodes[i];\n        if (node.attributes.map['data-mce-type'] === 'bookmark' && !args.cleanup) {\n          node.remove();\n        }\n      }\n    });\n    htmlParser.addNodeFilter('noscript', function (nodes) {\n      var i = nodes.length, node;\n      while (i--) {\n        node = nodes[i].firstChild;\n        if (node) {\n          node.value = $_bea7j51sjnlpax2u.decode(node.value);\n        }\n      }\n    });\n    htmlParser.addNodeFilter('script,style', function (nodes, name) {\n      var i = nodes.length, node, value, type;\n      var trim = function (value) {\n        return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n      };\n      while (i--) {\n        node = nodes[i];\n        value = node.firstChild ? node.firstChild.value : '';\n        if (name === 'script') {\n          type = node.attr('type');\n          if (type) {\n            node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n          }\n          if (settings.element_format === 'xhtml' && value.length > 0) {\n            node.firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n          }\n        } else {\n          if (settings.element_format === 'xhtml' && value.length > 0) {\n            node.firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n          }\n        }\n      }\n    });\n    htmlParser.addNodeFilter('#comment', function (nodes) {\n      var i = nodes.length, node;\n      while (i--) {\n        node = nodes[i];\n        if (node.value.indexOf('[CDATA[') === 0) {\n          node.name = '#cdata';\n          node.type = 4;\n          node.value = node.value.replace(/^\\[CDATA\\[|\\]\\]$/g, '');\n        } else if (node.value.indexOf('mce:protected ') === 0) {\n          node.name = '#text';\n          node.type = 3;\n          node.raw = true;\n          node.value = unescape(node.value).substr(14);\n        }\n      }\n    });\n    htmlParser.addNodeFilter('xml:namespace,input', function (nodes, name) {\n      var i = nodes.length, node;\n      while (i--) {\n        node = nodes[i];\n        if (node.type === 7) {\n          node.remove();\n        } else if (node.type === 1) {\n          if (name === 'input' && !('type' in node.attributes.map)) {\n            node.attr('type', 'text');\n          }\n        }\n      }\n    });\n    htmlParser.addAttributeFilter('data-mce-type', function (nodes) {\n      each(nodes, function (node) {\n        if (node.attr('data-mce-type') === 'format-caret') {\n          if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n            node.remove();\n          } else {\n            node.unwrap();\n          }\n        }\n      });\n    });\n    htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,' + 'data-mce-type,data-mce-resize', function (nodes, name) {\n      var i = nodes.length;\n      while (i--) {\n        nodes[i].attr(name, null);\n      }\n    });\n  };\n  var trimTrailingBr = function (rootNode) {\n    var brNode1, brNode2;\n    var isBr = function (node) {\n      return node && node.name === 'br';\n    };\n    brNode1 = rootNode.lastChild;\n    if (isBr(brNode1)) {\n      brNode2 = brNode1.prev;\n      if (isBr(brNode2)) {\n        brNode1.remove();\n        brNode2.remove();\n      }\n    }\n  };\n  var $_bpervq6mjnlpay3i = {\n    register: register,\n    trimTrailingBr: trimTrailingBr\n  };\n\n  var preProcess = function (editor, node, args) {\n    var impl, doc, oldDoc;\n    var dom = editor.dom;\n    node = node.cloneNode(true);\n    impl = document.implementation;\n    if (impl.createHTMLDocument) {\n      doc = impl.createHTMLDocument('');\n      $_1q1txeljnlpawsa.each(node.nodeName === 'BODY' ? node.childNodes : [node], function (node) {\n        doc.body.appendChild(doc.importNode(node, true));\n      });\n      if (node.nodeName !== 'BODY') {\n        node = doc.body.firstChild;\n      } else {\n        node = doc.body;\n      }\n      oldDoc = dom.doc;\n      dom.doc = doc;\n    }\n    $_5atig84wjnlpaxs7.firePreProcess(editor, merge(args, { node: node }));\n    if (oldDoc) {\n      dom.doc = oldDoc;\n    }\n    return node;\n  };\n  var shouldFireEvent = function (editor, args) {\n    return editor && editor.hasEventListeners('PreProcess') && !args.no_events;\n  };\n  var process = function (editor, node, args) {\n    return shouldFireEvent(editor, args) ? preProcess(editor, node, args) : node;\n  };\n  var $_5tjdgs6njnlpay3r = { process: process };\n\n  var removeAttrs = function (node, names) {\n    each(names, function (name) {\n      node.attr(name, null);\n    });\n  };\n  var addFontToSpansFilter = function (domParser, styles, fontSizes) {\n    domParser.addNodeFilter('font', function (nodes) {\n      each(nodes, function (node) {\n        var props = styles.parse(node.attr('style'));\n        var color = node.attr('color');\n        var face = node.attr('face');\n        var size = node.attr('size');\n        if (color) {\n          props.color = color;\n        }\n        if (face) {\n          props['font-family'] = face;\n        }\n        if (size) {\n          props['font-size'] = fontSizes[parseInt(node.attr('size'), 10) - 1];\n        }\n        node.name = 'span';\n        node.attr('style', styles.serialize(props));\n        removeAttrs(node, [\n          'color',\n          'face',\n          'size'\n        ]);\n      });\n    });\n  };\n  var addStrikeToSpanFilter = function (domParser, styles) {\n    domParser.addNodeFilter('strike', function (nodes) {\n      each(nodes, function (node) {\n        var props = styles.parse(node.attr('style'));\n        props['text-decoration'] = 'line-through';\n        node.name = 'span';\n        node.attr('style', styles.serialize(props));\n      });\n    });\n  };\n  var addFilters = function (domParser, settings) {\n    var styles = Styles();\n    if (settings.convert_fonts_to_spans) {\n      addFontToSpansFilter(domParser, styles, $_1q1txeljnlpawsa.explode(settings.font_size_legacy_values));\n    }\n    addStrikeToSpanFilter(domParser, styles);\n  };\n  var register$1 = function (domParser, settings) {\n    if (settings.inline_styles) {\n      addFilters(domParser, settings);\n    }\n  };\n  var $_2wvuyy6pjnlpay4e = { register: register$1 };\n\n  var whiteSpaceRegExp$3 = /^[ \\t\\r\\n]*$/;\n  var typeLookup = {\n    '#text': 3,\n    '#comment': 8,\n    '#cdata': 4,\n    '#pi': 7,\n    '#doctype': 10,\n    '#document-fragment': 11\n  };\n  var walk$3 = function (node, root, prev) {\n    var sibling;\n    var parent;\n    var startName = prev ? 'lastChild' : 'firstChild';\n    var siblingName = prev ? 'prev' : 'next';\n    if (node[startName]) {\n      return node[startName];\n    }\n    if (node !== root) {\n      sibling = node[siblingName];\n      if (sibling) {\n        return sibling;\n      }\n      for (parent = node.parent; parent && parent !== root; parent = parent.parent) {\n        sibling = parent[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n      }\n    }\n  };\n  var Node$2 = function () {\n    function Node(name, type) {\n      this.name = name;\n      this.type = type;\n      if (type === 1) {\n        this.attributes = [];\n        this.attributes.map = {};\n      }\n    }\n    Node.create = function (name, attrs) {\n      var node, attrName;\n      node = new Node(name, typeLookup[name] || 1);\n      if (attrs) {\n        for (attrName in attrs) {\n          node.attr(attrName, attrs[attrName]);\n        }\n      }\n      return node;\n    };\n    Node.prototype.replace = function (node) {\n      var self = this;\n      if (node.parent) {\n        node.remove();\n      }\n      self.insert(node, self);\n      self.remove();\n      return self;\n    };\n    Node.prototype.attr = function (name, value) {\n      var self = this;\n      var attrs, i;\n      if (typeof name !== 'string') {\n        for (i in name) {\n          self.attr(i, name[i]);\n        }\n        return self;\n      }\n      if (attrs = self.attributes) {\n        if (value !== undefined) {\n          if (value === null) {\n            if (name in attrs.map) {\n              delete attrs.map[name];\n              i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs = attrs.splice(i, 1);\n                  return self;\n                }\n              }\n            }\n            return self;\n          }\n          if (name in attrs.map) {\n            i = attrs.length;\n            while (i--) {\n              if (attrs[i].name === name) {\n                attrs[i].value = value;\n                break;\n              }\n            }\n          } else {\n            attrs.push({\n              name: name,\n              value: value\n            });\n          }\n          attrs.map[name] = value;\n          return self;\n        }\n        return attrs.map[name];\n      }\n    };\n    Node.prototype.clone = function () {\n      var self = this;\n      var clone = new Node(self.name, self.type);\n      var i, l, selfAttrs, selfAttr, cloneAttrs;\n      if (selfAttrs = self.attributes) {\n        cloneAttrs = [];\n        cloneAttrs.map = {};\n        for (i = 0, l = selfAttrs.length; i < l; i++) {\n          selfAttr = selfAttrs[i];\n          if (selfAttr.name !== 'id') {\n            cloneAttrs[cloneAttrs.length] = {\n              name: selfAttr.name,\n              value: selfAttr.value\n            };\n            cloneAttrs.map[selfAttr.name] = selfAttr.value;\n          }\n        }\n        clone.attributes = cloneAttrs;\n      }\n      clone.value = self.value;\n      clone.shortEnded = self.shortEnded;\n      return clone;\n    };\n    Node.prototype.wrap = function (wrapper) {\n      var self = this;\n      self.parent.insert(wrapper, self);\n      wrapper.append(self);\n      return self;\n    };\n    Node.prototype.unwrap = function () {\n      var self = this;\n      var node, next;\n      for (node = self.firstChild; node;) {\n        next = node.next;\n        self.insert(node, self, true);\n        node = next;\n      }\n      self.remove();\n    };\n    Node.prototype.remove = function () {\n      var self = this, parent = self.parent, next = self.next, prev = self.prev;\n      if (parent) {\n        if (parent.firstChild === self) {\n          parent.firstChild = next;\n          if (next) {\n            next.prev = null;\n          }\n        } else {\n          prev.next = next;\n        }\n        if (parent.lastChild === self) {\n          parent.lastChild = prev;\n          if (prev) {\n            prev.next = null;\n          }\n        } else {\n          next.prev = prev;\n        }\n        self.parent = self.next = self.prev = null;\n      }\n      return self;\n    };\n    Node.prototype.append = function (node) {\n      var self = this;\n      var last;\n      if (node.parent) {\n        node.remove();\n      }\n      last = self.lastChild;\n      if (last) {\n        last.next = node;\n        node.prev = last;\n        self.lastChild = node;\n      } else {\n        self.lastChild = self.firstChild = node;\n      }\n      node.parent = self;\n      return node;\n    };\n    Node.prototype.insert = function (node, refNode, before) {\n      var parent;\n      if (node.parent) {\n        node.remove();\n      }\n      parent = refNode.parent || this;\n      if (before) {\n        if (refNode === parent.firstChild) {\n          parent.firstChild = node;\n        } else {\n          refNode.prev.next = node;\n        }\n        node.prev = refNode.prev;\n        node.next = refNode;\n        refNode.prev = node;\n      } else {\n        if (refNode === parent.lastChild) {\n          parent.lastChild = node;\n        } else {\n          refNode.next.prev = node;\n        }\n        node.next = refNode.next;\n        node.prev = refNode;\n        refNode.next = node;\n      }\n      node.parent = parent;\n      return node;\n    };\n    Node.prototype.getAll = function (name) {\n      var self = this;\n      var node;\n      var collection = [];\n      for (node = self.firstChild; node; node = walk$3(node, self)) {\n        if (node.name === name) {\n          collection.push(node);\n        }\n      }\n      return collection;\n    };\n    Node.prototype.empty = function () {\n      var self = this;\n      var nodes, i, node;\n      if (self.firstChild) {\n        nodes = [];\n        for (node = self.firstChild; node; node = walk$3(node, self)) {\n          nodes.push(node);\n        }\n        i = nodes.length;\n        while (i--) {\n          node = nodes[i];\n          node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n        }\n      }\n      self.firstChild = self.lastChild = null;\n      return self;\n    };\n    Node.prototype.isEmpty = function (elements, whitespace, predicate) {\n      var self = this;\n      var node = self.firstChild, i, name;\n      whitespace = whitespace || {};\n      if (node) {\n        do {\n          if (node.type === 1) {\n            if (node.attributes.map['data-mce-bogus']) {\n              continue;\n            }\n            if (elements[node.name]) {\n              return false;\n            }\n            i = node.attributes.length;\n            while (i--) {\n              name = node.attributes[i].name;\n              if (name === 'name' || name.indexOf('data-mce-bookmark') === 0) {\n                return false;\n              }\n            }\n          }\n          if (node.type === 8) {\n            return false;\n          }\n          if (node.type === 3 && !whiteSpaceRegExp$3.test(node.value)) {\n            return false;\n          }\n          if (node.type === 3 && node.parent && whitespace[node.parent.name] && whiteSpaceRegExp$3.test(node.value)) {\n            return false;\n          }\n          if (predicate && predicate(node)) {\n            return false;\n          }\n        } while (node = walk$3(node, self));\n      }\n      return true;\n    };\n    Node.prototype.walk = function (prev) {\n      return walk$3(this, null, prev);\n    };\n    return Node;\n  }();\n\n  var paddEmptyNode = function (settings, args, blockElements, node) {\n    var brPreferred = settings.padd_empty_with_br || args.insert;\n    if (brPreferred && blockElements[node.name]) {\n      node.empty().append(new Node$2('br', 1)).shortEnded = true;\n    } else {\n      node.empty().append(new Node$2('#text', 3)).value = '\\xA0';\n    }\n  };\n  var isPaddedWithNbsp = function (node) {\n    return hasOnlyChild(node, '#text') && node.firstChild.value === '\\xA0';\n  };\n  var hasOnlyChild = function (node, name) {\n    return node && node.firstChild && node.firstChild === node.lastChild && node.firstChild.name === name;\n  };\n  var isPadded = function (schema, node) {\n    var rule = schema.getElementRule(node.name);\n    return rule && rule.paddEmpty;\n  };\n  var isEmpty$2 = function (schema, nonEmptyElements, whitespaceElements, node) {\n    return node.isEmpty(nonEmptyElements, whitespaceElements, function (node) {\n      return isPadded(schema, node);\n    });\n  };\n  var isLineBreakNode = function (node, blockElements) {\n    return node && (blockElements[node.name] || node.name === 'br');\n  };\n\n  var register$2 = function (parser, settings) {\n    var schema = parser.schema;\n    if (settings.remove_trailing_brs) {\n      parser.addNodeFilter('br', function (nodes, _, args) {\n        var i;\n        var l = nodes.length;\n        var node;\n        var blockElements = $_1q1txeljnlpawsa.extend({}, schema.getBlockElements());\n        var nonEmptyElements = schema.getNonEmptyElements();\n        var parent, lastParent, prev, prevName;\n        var whiteSpaceElements = schema.getNonEmptyElements();\n        var elementRule, textNode;\n        blockElements.body = 1;\n        for (i = 0; i < l; i++) {\n          node = nodes[i];\n          parent = node.parent;\n          if (blockElements[node.parent.name] && node === parent.lastChild) {\n            prev = node.prev;\n            while (prev) {\n              prevName = prev.name;\n              if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                if (prevName !== 'br') {\n                  break;\n                }\n                if (prevName === 'br') {\n                  node = null;\n                  break;\n                }\n              }\n              prev = prev.prev;\n            }\n            if (node) {\n              node.remove();\n              if (isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, parent)) {\n                elementRule = schema.getElementRule(parent.name);\n                if (elementRule) {\n                  if (elementRule.removeEmpty) {\n                    parent.remove();\n                  } else if (elementRule.paddEmpty) {\n                    paddEmptyNode(settings, args, blockElements, parent);\n                  }\n                }\n              }\n            }\n          } else {\n            lastParent = node;\n            while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n              lastParent = parent;\n              if (blockElements[parent.name]) {\n                break;\n              }\n              parent = parent.parent;\n            }\n            if (lastParent === parent && settings.padd_empty_with_br !== true) {\n              textNode = new Node$2('#text', 3);\n              textNode.value = '\\xA0';\n              node.replace(textNode);\n            }\n          }\n        }\n      });\n    }\n    parser.addAttributeFilter('href', function (nodes) {\n      var i = nodes.length, node;\n      var appendRel = function (rel) {\n        var parts = rel.split(' ').filter(function (p) {\n          return p.length > 0;\n        });\n        return parts.concat(['noopener']).sort().join(' ');\n      };\n      var addNoOpener = function (rel) {\n        var newRel = rel ? $_1q1txeljnlpawsa.trim(rel) : '';\n        if (!/\\b(noopener)\\b/g.test(newRel)) {\n          return appendRel(newRel);\n        } else {\n          return newRel;\n        }\n      };\n      if (!settings.allow_unsafe_link_target) {\n        while (i--) {\n          node = nodes[i];\n          if (node.name === 'a' && node.attr('target') === '_blank') {\n            node.attr('rel', addNoOpener(node.attr('rel')));\n          }\n        }\n      }\n    });\n    if (!settings.allow_html_in_named_anchor) {\n      parser.addAttributeFilter('id,name', function (nodes) {\n        var i = nodes.length, sibling, prevSibling, parent, node;\n        while (i--) {\n          node = nodes[i];\n          if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n            parent = node.parent;\n            sibling = node.lastChild;\n            do {\n              prevSibling = sibling.prev;\n              parent.insert(sibling, node);\n              sibling = prevSibling;\n            } while (sibling);\n          }\n        }\n      });\n    }\n    if (settings.fix_list_elements) {\n      parser.addNodeFilter('ul,ol', function (nodes) {\n        var i = nodes.length, node, parentNode;\n        while (i--) {\n          node = nodes[i];\n          parentNode = node.parent;\n          if (parentNode.name === 'ul' || parentNode.name === 'ol') {\n            if (node.prev && node.prev.name === 'li') {\n              node.prev.append(node);\n            } else {\n              var li = new Node$2('li', 1);\n              li.attr('style', 'list-style-type: none');\n              node.wrap(li);\n            }\n          }\n        }\n      });\n    }\n    if (settings.validate && schema.getValidClasses()) {\n      parser.addAttributeFilter('class', function (nodes) {\n        var i = nodes.length, node, classList, ci, className, classValue;\n        var validClasses = schema.getValidClasses();\n        var validClassesMap, valid;\n        while (i--) {\n          node = nodes[i];\n          classList = node.attr('class').split(' ');\n          classValue = '';\n          for (ci = 0; ci < classList.length; ci++) {\n            className = classList[ci];\n            valid = false;\n            validClassesMap = validClasses['*'];\n            if (validClassesMap && validClassesMap[className]) {\n              valid = true;\n            }\n            validClassesMap = validClasses[node.name];\n            if (!valid && validClassesMap && validClassesMap[className]) {\n              valid = true;\n            }\n            if (valid) {\n              if (classValue) {\n                classValue += ' ';\n              }\n              classValue += className;\n            }\n          }\n          if (!classValue.length) {\n            classValue = null;\n          }\n          node.attr('class', classValue);\n        }\n      });\n    }\n  };\n\n  var makeMap$4 = $_1q1txeljnlpawsa.makeMap;\n  var each$18 = $_1q1txeljnlpawsa.each;\n  var explode$3 = $_1q1txeljnlpawsa.explode;\n  var extend$3 = $_1q1txeljnlpawsa.extend;\n  function DomParser (settings, schema) {\n    if (schema === void 0) {\n      schema = Schema();\n    }\n    var nodeFilters = {};\n    var attributeFilters = [];\n    var matchedNodes = {};\n    var matchedAttributes = {};\n    settings = settings || {};\n    settings.validate = 'validate' in settings ? settings.validate : true;\n    settings.root_name = settings.root_name || 'body';\n    var fixInvalidChildren = function (nodes) {\n      var ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i;\n      var nonEmptyElements, whitespaceElements, nonSplitableElements, textBlockElements, specialElements, sibling, nextNode;\n      nonSplitableElements = makeMap$4('tr,td,th,tbody,thead,tfoot,table');\n      nonEmptyElements = schema.getNonEmptyElements();\n      whitespaceElements = schema.getWhiteSpaceElements();\n      textBlockElements = schema.getTextBlockElements();\n      specialElements = schema.getSpecialElements();\n      for (ni = 0; ni < nodes.length; ni++) {\n        node = nodes[ni];\n        if (!node.parent || node.fixed) {\n          continue;\n        }\n        if (textBlockElements[node.name] && node.parent.name === 'li') {\n          sibling = node.next;\n          while (sibling) {\n            if (textBlockElements[sibling.name]) {\n              sibling.name = 'li';\n              sibling.fixed = true;\n              node.parent.insert(sibling, node.parent);\n            } else {\n              break;\n            }\n            sibling = sibling.next;\n          }\n          node.unwrap(node);\n          continue;\n        }\n        parents = [node];\n        for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplitableElements[parent.name]; parent = parent.parent) {\n          parents.push(parent);\n        }\n        if (parent && parents.length > 1) {\n          parents.reverse();\n          newParent = currentNode = filterNode(parents[0].clone());\n          for (i = 0; i < parents.length - 1; i++) {\n            if (schema.isValidChild(currentNode.name, parents[i].name)) {\n              tempNode = filterNode(parents[i].clone());\n              currentNode.append(tempNode);\n            } else {\n              tempNode = currentNode;\n            }\n            for (childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n              nextNode = childNode.next;\n              tempNode.append(childNode);\n              childNode = nextNode;\n            }\n            currentNode = tempNode;\n          }\n          if (!isEmpty$2(schema, nonEmptyElements, whitespaceElements, newParent)) {\n            parent.insert(newParent, parents[0], true);\n            parent.insert(node, newParent);\n          } else {\n            parent.insert(node, parents[0], true);\n          }\n          parent = parents[0];\n          if (isEmpty$2(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n            parent.empty().remove();\n          }\n        } else if (node.parent) {\n          if (node.name === 'li') {\n            sibling = node.prev;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n              sibling.append(node);\n              continue;\n            }\n            sibling = node.next;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n              sibling.insert(node, sibling.firstChild, true);\n              continue;\n            }\n            node.wrap(filterNode(new Node$2('ul', 1)));\n            continue;\n          }\n          if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n            node.wrap(filterNode(new Node$2('div', 1)));\n          } else {\n            if (specialElements[node.name]) {\n              node.empty().remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        }\n      }\n    };\n    var filterNode = function (node) {\n      var i, name, list;\n      if (name in nodeFilters) {\n        list = matchedNodes[name];\n        if (list) {\n          list.push(node);\n        } else {\n          matchedNodes[name] = [node];\n        }\n      }\n      i = attributeFilters.length;\n      while (i--) {\n        name = attributeFilters[i].name;\n        if (name in node.attributes.map) {\n          list = matchedAttributes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedAttributes[name] = [node];\n          }\n        }\n      }\n      return node;\n    };\n    var addNodeFilter = function (name, callback) {\n      each$18(explode$3(name), function (name) {\n        var list = nodeFilters[name];\n        if (!list) {\n          nodeFilters[name] = list = [];\n        }\n        list.push(callback);\n      });\n    };\n    var getNodeFilters = function () {\n      var out = [];\n      for (var name in nodeFilters) {\n        if (nodeFilters.hasOwnProperty(name)) {\n          out.push({\n            name: name,\n            callbacks: nodeFilters[name]\n          });\n        }\n      }\n      return out;\n    };\n    var addAttributeFilter = function (name, callback) {\n      each$18(explode$3(name), function (name) {\n        var i;\n        for (i = 0; i < attributeFilters.length; i++) {\n          if (attributeFilters[i].name === name) {\n            attributeFilters[i].callbacks.push(callback);\n            return;\n          }\n        }\n        attributeFilters.push({\n          name: name,\n          callbacks: [callback]\n        });\n      });\n    };\n    var getAttributeFilters = function () {\n      return [].concat(attributeFilters);\n    };\n    var parse = function (html, args) {\n      var parser, nodes, i, l, fi, fl, list, name;\n      var blockElements;\n      var invalidChildren = [];\n      var isInWhiteSpacePreservedElement;\n      var node;\n      args = args || {};\n      matchedNodes = {};\n      matchedAttributes = {};\n      blockElements = extend$3(makeMap$4('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n      var nonEmptyElements = schema.getNonEmptyElements();\n      var children = schema.children;\n      var validate = settings.validate;\n      var rootBlockName = 'forced_root_block' in args ? args.forced_root_block : settings.forced_root_block;\n      var whiteSpaceElements = schema.getWhiteSpaceElements();\n      var startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n      var endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n      var allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n      var isAllWhiteSpaceRegExp = /^[ \\t\\r\\n]+$/;\n      isInWhiteSpacePreservedElement = whiteSpaceElements.hasOwnProperty(args.context) || whiteSpaceElements.hasOwnProperty(settings.root_name);\n      var addRootBlocks = function () {\n        var node = rootNode.firstChild, next, rootBlockNode;\n        var trim = function (rootBlockNode) {\n          if (rootBlockNode) {\n            node = rootBlockNode.firstChild;\n            if (node && node.type === 3) {\n              node.value = node.value.replace(startWhiteSpaceRegExp, '');\n            }\n            node = rootBlockNode.lastChild;\n            if (node && node.type === 3) {\n              node.value = node.value.replace(endWhiteSpaceRegExp, '');\n            }\n          }\n        };\n        if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n          return;\n        }\n        while (node) {\n          next = node.next;\n          if (node.type === 3 || node.type === 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type')) {\n            if (!rootBlockNode) {\n              rootBlockNode = createNode(rootBlockName, 1);\n              rootBlockNode.attr(settings.forced_root_block_attrs);\n              rootNode.insert(rootBlockNode, node);\n              rootBlockNode.append(node);\n            } else {\n              rootBlockNode.append(node);\n            }\n          } else {\n            trim(rootBlockNode);\n            rootBlockNode = null;\n          }\n          node = next;\n        }\n        trim(rootBlockNode);\n      };\n      var createNode = function (name, type) {\n        var node = new Node$2(name, type);\n        var list;\n        if (name in nodeFilters) {\n          list = matchedNodes[name];\n          if (list) {\n            list.push(node);\n          } else {\n            matchedNodes[name] = [node];\n          }\n        }\n        return node;\n      };\n      var removeWhitespaceBefore = function (node) {\n        var textNode, textNodeNext, textVal, sibling;\n        var blockElements = schema.getBlockElements();\n        for (textNode = node.prev; textNode && textNode.type === 3;) {\n          textVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n          if (textVal.length > 0) {\n            textNode.value = textVal;\n            return;\n          }\n          textNodeNext = textNode.next;\n          if (textNodeNext) {\n            if (textNodeNext.type === 3 && textNodeNext.value.length) {\n              textNode = textNode.prev;\n              continue;\n            }\n            if (!blockElements[textNodeNext.name] && textNodeNext.name !== 'script' && textNodeNext.name !== 'style') {\n              textNode = textNode.prev;\n              continue;\n            }\n          }\n          sibling = textNode.prev;\n          textNode.remove();\n          textNode = sibling;\n        }\n      };\n      var cloneAndExcludeBlocks = function (input) {\n        var name;\n        var output = {};\n        for (name in input) {\n          if (name !== 'li' && name !== 'p') {\n            output[name] = input[name];\n          }\n        }\n        return output;\n      };\n      parser = SaxParser$1({\n        validate: validate,\n        allow_script_urls: settings.allow_script_urls,\n        allow_conditional_comments: settings.allow_conditional_comments,\n        self_closing_elements: cloneAndExcludeBlocks(schema.getSelfClosingElements()),\n        cdata: function (text) {\n          node.append(createNode('#cdata', 4)).value = text;\n        },\n        text: function (text, raw) {\n          var textNode;\n          if (!isInWhiteSpacePreservedElement) {\n            text = text.replace(allWhiteSpaceRegExp, ' ');\n            if (isLineBreakNode(node.lastChild, blockElements)) {\n              text = text.replace(startWhiteSpaceRegExp, '');\n            }\n          }\n          if (text.length !== 0) {\n            textNode = createNode('#text', 3);\n            textNode.raw = !!raw;\n            node.append(textNode).value = text;\n          }\n        },\n        comment: function (text) {\n          node.append(createNode('#comment', 8)).value = text;\n        },\n        pi: function (name, text) {\n          node.append(createNode(name, 7)).value = text;\n          removeWhitespaceBefore(node);\n        },\n        doctype: function (text) {\n          var newNode;\n          newNode = node.append(createNode('#doctype', 10));\n          newNode.value = text;\n          removeWhitespaceBefore(node);\n        },\n        start: function (name, attrs, empty) {\n          var newNode, attrFiltersLen, elementRule, attrName, parent;\n          elementRule = validate ? schema.getElementRule(name) : {};\n          if (elementRule) {\n            newNode = createNode(elementRule.outputName || name, 1);\n            newNode.attributes = attrs;\n            newNode.shortEnded = empty;\n            node.append(newNode);\n            parent = children[node.name];\n            if (parent && children[newNode.name] && !parent[newNode.name]) {\n              invalidChildren.push(newNode);\n            }\n            attrFiltersLen = attributeFilters.length;\n            while (attrFiltersLen--) {\n              attrName = attributeFilters[attrFiltersLen].name;\n              if (attrName in attrs.map) {\n                list = matchedAttributes[attrName];\n                if (list) {\n                  list.push(newNode);\n                } else {\n                  matchedAttributes[attrName] = [newNode];\n                }\n              }\n            }\n            if (blockElements[name]) {\n              removeWhitespaceBefore(newNode);\n            }\n            if (!empty) {\n              node = newNode;\n            }\n            if (!isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n              isInWhiteSpacePreservedElement = true;\n            }\n          }\n        },\n        end: function (name) {\n          var textNode, elementRule, text, sibling, tempNode;\n          elementRule = validate ? schema.getElementRule(name) : {};\n          if (elementRule) {\n            if (blockElements[name]) {\n              if (!isInWhiteSpacePreservedElement) {\n                textNode = node.firstChild;\n                if (textNode && textNode.type === 3) {\n                  text = textNode.value.replace(startWhiteSpaceRegExp, '');\n                  if (text.length > 0) {\n                    textNode.value = text;\n                    textNode = textNode.next;\n                  } else {\n                    sibling = textNode.next;\n                    textNode.remove();\n                    textNode = sibling;\n                    while (textNode && textNode.type === 3) {\n                      text = textNode.value;\n                      sibling = textNode.next;\n                      if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                        textNode.remove();\n                        textNode = sibling;\n                      }\n                      textNode = sibling;\n                    }\n                  }\n                }\n                textNode = node.lastChild;\n                if (textNode && textNode.type === 3) {\n                  text = textNode.value.replace(endWhiteSpaceRegExp, '');\n                  if (text.length > 0) {\n                    textNode.value = text;\n                    textNode = textNode.prev;\n                  } else {\n                    sibling = textNode.prev;\n                    textNode.remove();\n                    textNode = sibling;\n                    while (textNode && textNode.type === 3) {\n                      text = textNode.value;\n                      sibling = textNode.prev;\n                      if (text.length === 0 || isAllWhiteSpaceRegExp.test(text)) {\n                        textNode.remove();\n                        textNode = sibling;\n                      }\n                      textNode = sibling;\n                    }\n                  }\n                }\n              }\n            }\n            if (isInWhiteSpacePreservedElement && whiteSpaceElements[name]) {\n              isInWhiteSpacePreservedElement = false;\n            }\n            if (elementRule.removeEmpty && isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node)) {\n              if (!node.attributes.map.name && !node.attr('id')) {\n                tempNode = node.parent;\n                if (blockElements[node.name]) {\n                  node.empty().remove();\n                } else {\n                  node.unwrap();\n                }\n                node = tempNode;\n                return;\n              }\n            }\n            if (elementRule.paddEmpty && (isPaddedWithNbsp(node) || isEmpty$2(schema, nonEmptyElements, whiteSpaceElements, node))) {\n              paddEmptyNode(settings, args, blockElements, node);\n            }\n            node = node.parent;\n          }\n        }\n      }, schema);\n      var rootNode = node = new Node$2(args.context || settings.root_name, 11);\n      parser.parse(html);\n      if (validate && invalidChildren.length) {\n        if (!args.context) {\n          fixInvalidChildren(invalidChildren);\n        } else {\n          args.invalid = true;\n        }\n      }\n      if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n        addRootBlocks();\n      }\n      if (!args.invalid) {\n        for (name in matchedNodes) {\n          list = nodeFilters[name];\n          nodes = matchedNodes[name];\n          fi = nodes.length;\n          while (fi--) {\n            if (!nodes[fi].parent) {\n              nodes.splice(fi, 1);\n            }\n          }\n          for (i = 0, l = list.length; i < l; i++) {\n            list[i](nodes, name, args);\n          }\n        }\n        for (i = 0, l = attributeFilters.length; i < l; i++) {\n          list = attributeFilters[i];\n          if (list.name in matchedAttributes) {\n            nodes = matchedAttributes[list.name];\n            fi = nodes.length;\n            while (fi--) {\n              if (!nodes[fi].parent) {\n                nodes.splice(fi, 1);\n              }\n            }\n            for (fi = 0, fl = list.callbacks.length; fi < fl; fi++) {\n              list.callbacks[fi](nodes, list.name, args);\n            }\n          }\n        }\n      }\n      return rootNode;\n    };\n    var exports = {\n      schema: schema,\n      addAttributeFilter: addAttributeFilter,\n      getAttributeFilters: getAttributeFilters,\n      addNodeFilter: addNodeFilter,\n      getNodeFilters: getNodeFilters,\n      filterNode: filterNode,\n      parse: parse\n    };\n    register$2(exports, settings);\n    $_2wvuyy6pjnlpay4e.register(exports, settings);\n    return exports;\n  }\n\n  var addTempAttr = function (htmlParser, tempAttrs, name) {\n    if ($_1q1txeljnlpawsa.inArray(tempAttrs, name) === -1) {\n      htmlParser.addAttributeFilter(name, function (nodes, name) {\n        var i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n      tempAttrs.push(name);\n    }\n  };\n  var postProcess$1 = function (editor, args, content) {\n    if (!args.no_events && editor) {\n      var outArgs = $_5atig84wjnlpaxs7.firePostProcess(editor, merge(args, { content: content }));\n      return outArgs.content;\n    } else {\n      return content;\n    }\n  };\n  var getHtmlFromNode = function (dom, node, args) {\n    var html = $_90hfb72rjnlpaxae.trim(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n    return args.selection || isWsPreserveElement(Element$$1.fromDom(node)) ? html : $_1q1txeljnlpawsa.trim(html);\n  };\n  var parseHtml = function (htmlParser, html, args) {\n    var parserArgs = args.selection ? merge({ forced_root_block: false }, args) : args;\n    var rootNode = htmlParser.parse(html, parserArgs);\n    $_bpervq6mjnlpay3i.trimTrailingBr(rootNode);\n    return rootNode;\n  };\n  var serializeNode = function (settings, schema, node) {\n    var htmlSerializer = HtmlSerializer(settings, schema);\n    return htmlSerializer.serialize(node);\n  };\n  var toHtml = function (editor, settings, schema, rootNode, args) {\n    var content = serializeNode(settings, schema, rootNode);\n    return postProcess$1(editor, args, content);\n  };\n  function DomSerializer (settings, editor) {\n    var dom, schema, htmlParser;\n    var tempAttrs = ['data-mce-selected'];\n    dom = editor && editor.dom ? editor.dom : DOMUtils$1.DOM;\n    schema = editor && editor.schema ? editor.schema : Schema(settings);\n    settings.entity_encoding = settings.entity_encoding || 'named';\n    settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n    htmlParser = DomParser(settings, schema);\n    $_bpervq6mjnlpay3i.register(htmlParser, settings, dom);\n    var serialize = function (node, parserArgs) {\n      var args = merge({ format: 'html' }, parserArgs ? parserArgs : {});\n      var targetNode = $_5tjdgs6njnlpay3r.process(editor, node, args);\n      var html = getHtmlFromNode(dom, targetNode, args);\n      var rootNode = parseHtml(htmlParser, html, args);\n      return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n    };\n    return {\n      schema: schema,\n      addNodeFilter: htmlParser.addNodeFilter,\n      addAttributeFilter: htmlParser.addAttributeFilter,\n      serialize: serialize,\n      addRules: function (rules) {\n        schema.addValidElements(rules);\n      },\n      setRules: function (rules) {\n        schema.setValidElements(rules);\n      },\n      addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n      getTempAttrs: function () {\n        return tempAttrs;\n      }\n    };\n  }\n\n  function DomSerializer$1 (settings, editor) {\n    var domSerializer = DomSerializer(settings, editor);\n    return {\n      schema: domSerializer.schema,\n      addNodeFilter: domSerializer.addNodeFilter,\n      addAttributeFilter: domSerializer.addAttributeFilter,\n      serialize: domSerializer.serialize,\n      addRules: domSerializer.addRules,\n      setRules: domSerializer.setRules,\n      addTempAttr: domSerializer.addTempAttr,\n      getTempAttrs: domSerializer.getTempAttrs\n    };\n  }\n\n  function BookmarkManager(selection) {\n    return {\n      getBookmark: curry($_43l8qj2xjnlpaxb1.getBookmark, selection),\n      moveToBookmark: curry($_43l8qj2xjnlpaxb1.moveToBookmark, selection)\n    };\n  }\n  (function (BookmarkManager) {\n    BookmarkManager.isBookmarkNode = $_43l8qj2xjnlpaxb1.isBookmarkNode;\n  }(BookmarkManager || (BookmarkManager = {})));\n  var BookmarkManager$1 = BookmarkManager;\n\n  var isContentEditableFalse$10 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var isContentEditableTrue$6 = $_fy28ei1rjnlpax2o.isContentEditableTrue;\n  var getContentEditableRoot$2 = function (root, node) {\n    while (node && node !== root) {\n      if (isContentEditableTrue$6(node) || isContentEditableFalse$10(node)) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n  var ControlSelection = function (selection, editor) {\n    var dom = editor.dom, each = $_1q1txeljnlpawsa.each;\n    var selectedElm, selectedElmGhost, resizeHelper, resizeHandles, selectedHandle;\n    var startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n    var width, height;\n    var editableDoc = editor.getDoc(), rootDocument = document;\n    var abs = Math.abs, round = Math.round, rootElement = editor.getBody();\n    var startScrollWidth, startScrollHeight;\n    resizeHandles = {\n      nw: [\n        0,\n        0,\n        -1,\n        -1\n      ],\n      ne: [\n        1,\n        0,\n        1,\n        -1\n      ],\n      se: [\n        1,\n        1,\n        1,\n        1\n      ],\n      sw: [\n        0,\n        1,\n        -1,\n        1\n      ]\n    };\n    var rootClass = '.mce-content-body';\n    editor.contentStyles.push(rootClass + ' div.mce-resizehandle {' + 'position: absolute;' + 'border: 1px solid black;' + 'box-sizing: content-box;' + 'background: #FFF;' + 'width: 7px;' + 'height: 7px;' + 'z-index: 10000' + '}' + rootClass + ' .mce-resizehandle:hover {' + 'background: #000' + '}' + rootClass + ' img[data-mce-selected],' + rootClass + ' hr[data-mce-selected] {' + 'outline: 1px solid black;' + 'resize: none' + '}' + rootClass + ' .mce-clonedresizable {' + 'position: absolute;' + ($_cseqobajnlpawll.gecko ? '' : 'outline: 1px dashed black;') + 'opacity: .5;' + 'filter: alpha(opacity=50);' + 'z-index: 10000' + '}' + rootClass + ' .mce-resize-helper {' + 'background: #555;' + 'background: rgba(0,0,0,0.75);' + 'border-radius: 3px;' + 'border: 1px;' + 'color: white;' + 'display: none;' + 'font-family: sans-serif;' + 'font-size: 12px;' + 'white-space: nowrap;' + 'line-height: 14px;' + 'margin: 5px 10px;' + 'padding: 5px;' + 'position: absolute;' + 'z-index: 10001' + '}');\n    var isImage = function (elm) {\n      return elm && (elm.nodeName === 'IMG' || editor.dom.is(elm, 'figure.image'));\n    };\n    var isEventOnImageOutsideRange = function (evt, range) {\n      return isImage(evt.target) && !$_5xpdav5wjnlpaxyf.isXYWithinRange(evt.clientX, evt.clientY, range);\n    };\n    var contextMenuSelectImage = function (evt) {\n      var target = evt.target;\n      if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n        evt.preventDefault();\n        editor.selection.select(target);\n      }\n    };\n    var getResizeTarget = function (elm) {\n      return editor.dom.is(elm, 'figure.image') ? elm.querySelector('img') : elm;\n    };\n    var isResizable = function (elm) {\n      var selector = editor.settings.object_resizing;\n      if (selector === false || $_cseqobajnlpawll.iOS) {\n        return false;\n      }\n      if (typeof selector !== 'string') {\n        selector = 'table,img,figure.image,div';\n      }\n      if (elm.getAttribute('data-mce-resize') === 'false') {\n        return false;\n      }\n      if (elm === editor.getBody()) {\n        return false;\n      }\n      return $_d8v5lf1gjnlpax0y.is(Element$$1.fromDom(elm), selector);\n    };\n    var resizeGhostElement = function (e) {\n      var deltaX, deltaY, proportional;\n      var resizeHelperX, resizeHelperY;\n      deltaX = e.screenX - startX;\n      deltaY = e.screenY - startY;\n      width = deltaX * selectedHandle[2] + startW;\n      height = deltaY * selectedHandle[3] + startH;\n      width = width < 5 ? 5 : width;\n      height = height < 5 ? 5 : height;\n      if (isImage(selectedElm) && editor.settings.resize_img_proportional !== false) {\n        proportional = !$_1qv0695yjnlpaxyk.modifierPressed(e);\n      } else {\n        proportional = $_1qv0695yjnlpaxyk.modifierPressed(e) || isImage(selectedElm) && selectedHandle[2] * selectedHandle[3] !== 0;\n      }\n      if (proportional) {\n        if (abs(deltaX) > abs(deltaY)) {\n          height = round(width * ratio);\n          width = round(height / ratio);\n        } else {\n          width = round(height / ratio);\n          height = round(width * ratio);\n        }\n      }\n      dom.setStyles(getResizeTarget(selectedElmGhost), {\n        width: width,\n        height: height\n      });\n      resizeHelperX = selectedHandle.startPos.x + deltaX;\n      resizeHelperY = selectedHandle.startPos.y + deltaY;\n      resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n      resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n      dom.setStyles(resizeHelper, {\n        left: resizeHelperX,\n        top: resizeHelperY,\n        display: 'block'\n      });\n      resizeHelper.innerHTML = width + ' &times; ' + height;\n      if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n        dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n      }\n      if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n        dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n      }\n      deltaX = rootElement.scrollWidth - startScrollWidth;\n      deltaY = rootElement.scrollHeight - startScrollHeight;\n      if (deltaX + deltaY !== 0) {\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX - deltaX,\n          top: resizeHelperY - deltaY\n        });\n      }\n      if (!resizeStarted) {\n        $_5atig84wjnlpaxs7.fireObjectResizeStart(editor, selectedElm, startW, startH);\n        resizeStarted = true;\n      }\n    };\n    var endGhostResize = function () {\n      resizeStarted = false;\n      var setSizeProp = function (name$$1, value) {\n        if (value) {\n          if (selectedElm.style[name$$1] || !editor.schema.isValid(selectedElm.nodeName.toLowerCase(), name$$1)) {\n            dom.setStyle(getResizeTarget(selectedElm), name$$1, value);\n          } else {\n            dom.setAttrib(getResizeTarget(selectedElm), name$$1, value);\n          }\n        }\n      };\n      setSizeProp('width', width);\n      setSizeProp('height', height);\n      dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n      dom.unbind(editableDoc, 'mouseup', endGhostResize);\n      if (rootDocument !== editableDoc) {\n        dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n        dom.unbind(rootDocument, 'mouseup', endGhostResize);\n      }\n      dom.remove(selectedElmGhost);\n      dom.remove(resizeHelper);\n      showResizeRect(selectedElm);\n      $_5atig84wjnlpaxs7.fireObjectResized(editor, selectedElm, width, height);\n      dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n      editor.nodeChanged();\n    };\n    var showResizeRect = function (targetElm) {\n      var position, targetWidth, targetHeight, e, rect;\n      hideResizeRect();\n      unbindResizeHandleEvents();\n      position = dom.getPos(targetElm, rootElement);\n      selectedElmX = position.x;\n      selectedElmY = position.y;\n      rect = targetElm.getBoundingClientRect();\n      targetWidth = rect.width || rect.right - rect.left;\n      targetHeight = rect.height || rect.bottom - rect.top;\n      if (selectedElm !== targetElm) {\n        selectedElm = targetElm;\n        width = height = 0;\n      }\n      e = editor.fire('ObjectSelected', { target: targetElm });\n      if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n        each(resizeHandles, function (handle, name$$1) {\n          var handleElm;\n          var startDrag = function (e) {\n            startX = e.screenX;\n            startY = e.screenY;\n            startW = getResizeTarget(selectedElm).clientWidth;\n            startH = getResizeTarget(selectedElm).clientHeight;\n            ratio = startH / startW;\n            selectedHandle = handle;\n            handle.startPos = {\n              x: targetWidth * handle[0] + selectedElmX,\n              y: targetHeight * handle[1] + selectedElmY\n            };\n            startScrollWidth = rootElement.scrollWidth;\n            startScrollHeight = rootElement.scrollHeight;\n            selectedElmGhost = selectedElm.cloneNode(true);\n            dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n            dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n            selectedElmGhost.contentEditable = false;\n            selectedElmGhost.unSelectabe = true;\n            dom.setStyles(selectedElmGhost, {\n              left: selectedElmX,\n              top: selectedElmY,\n              margin: 0\n            });\n            selectedElmGhost.removeAttribute('data-mce-selected');\n            rootElement.appendChild(selectedElmGhost);\n            dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n            dom.bind(editableDoc, 'mouseup', endGhostResize);\n            if (rootDocument !== editableDoc) {\n              dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n              dom.bind(rootDocument, 'mouseup', endGhostResize);\n            }\n            resizeHelper = dom.add(rootElement, 'div', {\n              'class': 'mce-resize-helper',\n              'data-mce-bogus': 'all'\n            }, startW + ' &times; ' + startH);\n          };\n          handleElm = dom.get('mceResizeHandle' + name$$1);\n          if (handleElm) {\n            dom.remove(handleElm);\n          }\n          handleElm = dom.add(rootElement, 'div', {\n            'id': 'mceResizeHandle' + name$$1,\n            'data-mce-bogus': 'all',\n            'class': 'mce-resizehandle',\n            'unselectable': true,\n            'style': 'cursor:' + name$$1 + '-resize; margin:0; padding:0'\n          });\n          if ($_cseqobajnlpawll.ie === 11) {\n            handleElm.contentEditable = false;\n          }\n          dom.bind(handleElm, 'mousedown', function (e) {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            startDrag(e);\n          });\n          handle.elm = handleElm;\n          dom.setStyles(handleElm, {\n            left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n            top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n          });\n        });\n      } else {\n        hideResizeRect();\n      }\n      selectedElm.setAttribute('data-mce-selected', '1');\n    };\n    var hideResizeRect = function () {\n      var name$$1, handleElm;\n      unbindResizeHandleEvents();\n      if (selectedElm) {\n        selectedElm.removeAttribute('data-mce-selected');\n      }\n      for (name$$1 in resizeHandles) {\n        handleElm = dom.get('mceResizeHandle' + name$$1);\n        if (handleElm) {\n          dom.unbind(handleElm);\n          dom.remove(handleElm);\n        }\n      }\n    };\n    var updateResizeRect = function (e) {\n      var startElm, controlElm;\n      var isChildOrEqual = function (node, parent$$1) {\n        if (node) {\n          do {\n            if (node === parent$$1) {\n              return true;\n            }\n          } while (node = node.parentNode);\n        }\n      };\n      if (resizeStarted || editor.removed) {\n        return;\n      }\n      each(dom.select('img[data-mce-selected],hr[data-mce-selected]'), function (img) {\n        img.removeAttribute('data-mce-selected');\n      });\n      controlElm = e.type === 'mousedown' ? e.target : selection.getNode();\n      controlElm = dom.$(controlElm).closest('table,img,figure.image,hr')[0];\n      if (isChildOrEqual(controlElm, rootElement)) {\n        disableGeckoResize();\n        startElm = selection.getStart(true);\n        if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n          showResizeRect(controlElm);\n          return;\n        }\n      }\n      hideResizeRect();\n    };\n    var isWithinContentEditableFalse = function (elm) {\n      return isContentEditableFalse$10(getContentEditableRoot$2(editor.getBody(), elm));\n    };\n    var unbindResizeHandleEvents = function () {\n      for (var name$$1 in resizeHandles) {\n        var handle = resizeHandles[name$$1];\n        if (handle.elm) {\n          dom.unbind(handle.elm);\n          delete handle.elm;\n        }\n      }\n    };\n    var disableGeckoResize = function () {\n      try {\n        editor.getDoc().execCommand('enableObjectResizing', false, false);\n      } catch (ex) {\n      }\n    };\n    editor.on('init', function () {\n      disableGeckoResize();\n      if ($_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie >= 11) {\n        editor.on('mousedown click', function (e) {\n          var target = e.target, nodeName = target.nodeName;\n          if (!resizeStarted && /^(TABLE|IMG|HR)$/.test(nodeName) && !isWithinContentEditableFalse(target)) {\n            if (e.button !== 2) {\n              editor.selection.select(target, nodeName === 'TABLE');\n            }\n            if (e.type === 'mousedown') {\n              editor.nodeChanged();\n            }\n          }\n        });\n        editor.dom.bind(rootElement, 'mscontrolselect', function (e) {\n          var delayedSelect = function (node) {\n            $_2nbnh1ijnlpawpi.setEditorTimeout(editor, function () {\n              editor.selection.select(node);\n            });\n          };\n          if (isWithinContentEditableFalse(e.target)) {\n            e.preventDefault();\n            delayedSelect(e.target);\n            return;\n          }\n          if (/^(TABLE|IMG|HR)$/.test(e.target.nodeName)) {\n            e.preventDefault();\n            if (e.target.tagName === 'IMG') {\n              delayedSelect(e.target);\n            }\n          }\n        });\n      }\n      var throttledUpdateResizeRect = $_2nbnh1ijnlpawpi.throttle(function (e) {\n        if (!editor.composing) {\n          updateResizeRect(e);\n        }\n      });\n      editor.on('nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged', throttledUpdateResizeRect);\n      editor.on('keyup compositionend', function (e) {\n        if (selectedElm && selectedElm.nodeName === 'TABLE') {\n          throttledUpdateResizeRect(e);\n        }\n      });\n      editor.on('hide blur', hideResizeRect);\n      editor.on('contextmenu', contextMenuSelectImage);\n    });\n    editor.on('remove', unbindResizeHandleEvents);\n    var destroy = function () {\n      selectedElm = selectedElmGhost = null;\n    };\n    return {\n      isResizable: isResizable,\n      showResizeRect: showResizeRect,\n      hideResizeRect: hideResizeRect,\n      updateResizeRect: updateResizeRect,\n      destroy: destroy\n    };\n  };\n\n  var hasCeProperty = function (node) {\n    return $_fy28ei1rjnlpax2o.isContentEditableTrue(node) || $_fy28ei1rjnlpax2o.isContentEditableFalse(node);\n  };\n  var findParent$1 = function (node, rootNode, predicate) {\n    while (node && node !== rootNode) {\n      if (predicate(node)) {\n        return node;\n      }\n      node = node.parentNode;\n    }\n    return null;\n  };\n  var findClosestIeRange = function (clientX, clientY, doc) {\n    var element, rng, rects;\n    element = doc.elementFromPoint(clientX, clientY);\n    rng = doc.body.createTextRange();\n    if (!element || element.tagName === 'HTML') {\n      element = doc.body;\n    }\n    rng.moveToElementText(element);\n    rects = $_1q1txeljnlpawsa.toArray(rng.getClientRects());\n    rects = rects.sort(function (a, b) {\n      a = Math.abs(Math.max(a.top - clientY, a.bottom - clientY));\n      b = Math.abs(Math.max(b.top - clientY, b.bottom - clientY));\n      return a - b;\n    });\n    if (rects.length > 0) {\n      clientY = (rects[0].bottom + rects[0].top) / 2;\n      try {\n        rng.moveToPoint(clientX, clientY);\n        rng.collapse(true);\n        return rng;\n      } catch (ex) {\n      }\n    }\n    return null;\n  };\n  var moveOutOfContentEditableFalse = function (rng, rootNode) {\n    var parentElement = rng && rng.parentElement ? rng.parentElement() : null;\n    return $_fy28ei1rjnlpax2o.isContentEditableFalse(findParent$1(parentElement, rootNode, hasCeProperty)) ? null : rng;\n  };\n  var fromPoint$1 = function (clientX, clientY, doc) {\n    var rng, point;\n    var pointDoc = doc;\n    if (pointDoc.caretPositionFromPoint) {\n      point = pointDoc.caretPositionFromPoint(clientX, clientY);\n      if (point) {\n        rng = doc.createRange();\n        rng.setStart(point.offsetNode, point.offset);\n        rng.collapse(true);\n      }\n    } else if (doc.caretRangeFromPoint) {\n      rng = doc.caretRangeFromPoint(clientX, clientY);\n    } else if (pointDoc.body.createTextRange) {\n      rng = pointDoc.body.createTextRange();\n      try {\n        rng.moveToPoint(clientX, clientY);\n        rng.collapse(true);\n      } catch (ex) {\n        rng = findClosestIeRange(clientX, clientY, doc);\n      }\n      return moveOutOfContentEditableFalse(rng, doc.body);\n    }\n    return rng;\n  };\n  var $_445zg66wjnlpay63 = { fromPoint: fromPoint$1 };\n\n  var processRanges = function (editor, ranges) {\n    return map(ranges, function (range$$1) {\n      var evt = editor.fire('GetSelectionRange', { range: range$$1 });\n      return evt.range !== range$$1 ? evt.range : range$$1;\n    });\n  };\n  var $_76ma076xjnlpay65 = { processRanges: processRanges };\n\n  var fromElements = function (elements, scope) {\n    var doc = scope || document;\n    var fragment = doc.createDocumentFragment();\n    each(elements, function (element) {\n      fragment.appendChild(element.dom());\n    });\n    return Element$$1.fromDom(fragment);\n  };\n  var $_8n4csb70jnlpay6p = { fromElements: fromElements };\n\n  var tableModel = Immutable('element', 'width', 'rows');\n  var tableRow = Immutable('element', 'cells');\n  var cellPosition = Immutable('x', 'y');\n  var getSpan = function (td, key) {\n    var value = parseInt($_521j8z15jnlpawz7.get(td, key), 10);\n    return isNaN(value) ? 1 : value;\n  };\n  var fillout = function (table, x, y, tr, td) {\n    var rowspan = getSpan(td, 'rowspan');\n    var colspan = getSpan(td, 'colspan');\n    var rows = table.rows();\n    for (var y2 = y; y2 < y + rowspan; y2++) {\n      if (!rows[y2]) {\n        rows[y2] = tableRow($_5sdpl92ijnlpax8h.deep(tr), []);\n      }\n      for (var x2 = x; x2 < x + colspan; x2++) {\n        var cells = rows[y2].cells();\n        cells[x2] = y2 === y && x2 === x ? td : $_5sdpl92ijnlpax8h.shallow(td);\n      }\n    }\n  };\n  var cellExists = function (table, x, y) {\n    var rows = table.rows();\n    var cells = rows[y] ? rows[y].cells() : [];\n    return !!cells[x];\n  };\n  var skipCellsX = function (table, x, y) {\n    while (cellExists(table, x, y)) {\n      x++;\n    }\n    return x;\n  };\n  var getWidth = function (rows) {\n    return foldl(rows, function (acc, row) {\n      return row.cells().length > acc ? row.cells().length : acc;\n    }, 0);\n  };\n  var findElementPos = function (table, element) {\n    var rows = table.rows();\n    for (var y = 0; y < rows.length; y++) {\n      var cells = rows[y].cells();\n      for (var x = 0; x < cells.length; x++) {\n        if ($_5h7cor1ejnlpax0k.eq(cells[x], element)) {\n          return Option.some(cellPosition(x, y));\n        }\n      }\n    }\n    return Option.none();\n  };\n  var extractRows = function (table, sx, sy, ex, ey) {\n    var newRows = [];\n    var rows = table.rows();\n    for (var y = sy; y <= ey; y++) {\n      var cells = rows[y].cells();\n      var slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n      newRows.push(tableRow(rows[y].element(), slice));\n    }\n    return newRows;\n  };\n  var subTable = function (table, startPos, endPos) {\n    var sx = startPos.x(), sy = startPos.y();\n    var ex = endPos.x(), ey = endPos.y();\n    var newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n    return tableModel(table.element(), getWidth(newRows), newRows);\n  };\n  var createDomTable = function (table, rows) {\n    var tableElement = $_5sdpl92ijnlpax8h.shallow(table.element());\n    var tableBody = Element$$1.fromTag('tbody');\n    $_9vd3j51xjnlpax4s.append(tableBody, rows);\n    $_ag89ax1yjnlpax4x.append(tableElement, tableBody);\n    return tableElement;\n  };\n  var modelRowsToDomRows = function (table) {\n    return map(table.rows(), function (row) {\n      var cells = map(row.cells(), function (cell) {\n        var td = $_5sdpl92ijnlpax8h.deep(cell);\n        $_521j8z15jnlpawz7.remove(td, 'colspan');\n        $_521j8z15jnlpawz7.remove(td, 'rowspan');\n        return td;\n      });\n      var tr = $_5sdpl92ijnlpax8h.shallow(row.element());\n      $_9vd3j51xjnlpax4s.append(tr, cells);\n      return tr;\n    });\n  };\n  var fromDom$2 = function (tableElm) {\n    var table = tableModel($_5sdpl92ijnlpax8h.shallow(tableElm), 0, []);\n    each($_cmitir27jnlpax6e.descendants(tableElm, 'tr'), function (tr, y) {\n      each($_cmitir27jnlpax6e.descendants(tr, 'td,th'), function (td, x) {\n        fillout(table, skipCellsX(table, x, y), y, tr, td);\n      });\n    });\n    return tableModel(table.element(), getWidth(table.rows()), table.rows());\n  };\n  var toDom = function (table) {\n    return createDomTable(table, modelRowsToDomRows(table));\n  };\n  var subsection = function (table, startElement, endElement) {\n    return findElementPos(table, startElement).bind(function (startPos) {\n      return findElementPos(table, endElement).map(function (endPos) {\n        return subTable(table, startPos, endPos);\n      });\n    });\n  };\n  var $_7mbdap71jnlpay6v = {\n    fromDom: fromDom$2,\n    toDom: toDom,\n    subsection: subsection\n  };\n\n  var findParentListContainer = function (parents) {\n    return find(parents, function (elm) {\n      return $_7u5fzs11jnlpawv6.name(elm) === 'ul' || $_7u5fzs11jnlpawv6.name(elm) === 'ol';\n    });\n  };\n  var getFullySelectedListWrappers = function (parents, rng) {\n    return find(parents, function (elm) {\n      return $_7u5fzs11jnlpawv6.name(elm) === 'li' && hasAllContentsSelected(elm, rng);\n    }).fold(constant([]), function (li) {\n      return findParentListContainer(parents).map(function (listCont) {\n        return [\n          Element$$1.fromTag('li'),\n          Element$$1.fromTag($_7u5fzs11jnlpawv6.name(listCont))\n        ];\n      }).getOr([]);\n    });\n  };\n  var wrap$3 = function (innerElm, elms) {\n    var wrapped = foldl(elms, function (acc, elm) {\n      $_ag89ax1yjnlpax4x.append(elm, acc);\n      return elm;\n    }, innerElm);\n    return elms.length > 0 ? $_8n4csb70jnlpay6p.fromElements([wrapped]) : wrapped;\n  };\n  var directListWrappers = function (commonAnchorContainer) {\n    if (isListItem(commonAnchorContainer)) {\n      return $_dr4ybh18jnlpawzt.parent(commonAnchorContainer).filter(isList).fold(constant([]), function (listElm) {\n        return [\n          commonAnchorContainer,\n          listElm\n        ];\n      });\n    } else {\n      return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n    }\n  };\n  var getWrapElements = function (rootNode, rng) {\n    var commonAnchorContainer = Element$$1.fromDom(rng.commonAncestorContainer);\n    var parents = $_4b88sj42jnlpaxkd.parentsAndSelf(commonAnchorContainer, rootNode);\n    var wrapElements = filter(parents, function (elm) {\n      return isInline(elm) || isHeading(elm);\n    });\n    var listWrappers = getFullySelectedListWrappers(parents, rng);\n    var allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n    return map(allWrappers, $_5sdpl92ijnlpax8h.shallow);\n  };\n  var emptyFragment = function () {\n    return $_8n4csb70jnlpay6p.fromElements([]);\n  };\n  var getFragmentFromRange = function (rootNode, rng) {\n    return wrap$3(Element$$1.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n  };\n  var getParentTable = function (rootElm, cell) {\n    return $_2kbu29jnlpax6t.ancestor(cell, 'table', curry($_5h7cor1ejnlpax0k.eq, rootElm));\n  };\n  var getTableFragment = function (rootNode, selectedTableCells) {\n    return getParentTable(rootNode, selectedTableCells[0]).bind(function (tableElm) {\n      var firstCell = selectedTableCells[0];\n      var lastCell = selectedTableCells[selectedTableCells.length - 1];\n      var fullTableModel = $_7mbdap71jnlpay6v.fromDom(tableElm);\n      return $_7mbdap71jnlpay6v.subsection(fullTableModel, firstCell, lastCell).map(function (sectionedTableModel) {\n        return $_8n4csb70jnlpay6p.fromElements([$_7mbdap71jnlpay6v.toDom(sectionedTableModel)]);\n      });\n    }).getOrThunk(emptyFragment);\n  };\n  var getSelectionFragment = function (rootNode, ranges) {\n    return ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n  };\n  var read$4 = function (rootNode, ranges) {\n    var selectedCells = $_1yq8wz4hjnlpaxo7.getCellsFromElementOrRanges(ranges, rootNode);\n    return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n  };\n  var $_7ki6146zjnlpay6b = { read: read$4 };\n\n  var getContent = function (editor, args) {\n    var rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n    var sel = editor.selection.getSel();\n    var fragment;\n    var ranges = $_76ma076xjnlpay65.processRanges(editor, $_533sn84ijnlpaxoe.getRanges(sel));\n    args = args || {};\n    args.get = true;\n    args.format = args.format || 'html';\n    args.selection = true;\n    args = editor.fire('BeforeGetContent', args);\n    if (args.isDefaultPrevented()) {\n      editor.fire('GetContent', args);\n      return args.content;\n    }\n    if (args.format === 'text') {\n      return editor.selection.isCollapsed() ? '' : $_90hfb72rjnlpaxae.trim(rng.text || (sel.toString ? sel.toString() : ''));\n    }\n    if (rng.cloneContents) {\n      fragment = args.contextual ? $_7ki6146zjnlpay6b.read(Element$$1.fromDom(editor.getBody()), ranges).dom() : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n    } else if (rng.item !== undefined || rng.htmlText !== undefined) {\n      tmpElm.innerHTML = '<br>' + (rng.item ? rng.item(0).outerHTML : rng.htmlText);\n      tmpElm.removeChild(tmpElm.firstChild);\n    } else {\n      tmpElm.innerHTML = rng.toString();\n    }\n    args.getInner = true;\n    var content = editor.selection.serializer.serialize(tmpElm, args);\n    if (args.format === 'tree') {\n      return content;\n    }\n    args.content = editor.selection.isCollapsed() ? '' : content;\n    editor.fire('GetContent', args);\n    return args.content;\n  };\n  var $_d9gs4y6yjnlpay67 = { getContent: getContent };\n\n  var setContent = function (editor, content, args) {\n    var rng = editor.selection.getRng(), caretNode;\n    var doc = editor.getDoc();\n    var frag, temp;\n    args = args || { format: 'html' };\n    args.set = true;\n    args.selection = true;\n    args.content = content;\n    if (!args.no_events) {\n      args = editor.fire('BeforeSetContent', args);\n      if (args.isDefaultPrevented()) {\n        editor.fire('SetContent', args);\n        return;\n      }\n    }\n    content = args.content;\n    if (rng.insertNode) {\n      content += '<span id=\"__caret\">_</span>';\n      if (rng.startContainer === doc && rng.endContainer === doc) {\n        doc.body.innerHTML = content;\n      } else {\n        rng.deleteContents();\n        if (doc.body.childNodes.length === 0) {\n          doc.body.innerHTML = content;\n        } else {\n          if (rng.createContextualFragment) {\n            rng.insertNode(rng.createContextualFragment(content));\n          } else {\n            frag = doc.createDocumentFragment();\n            temp = doc.createElement('div');\n            frag.appendChild(temp);\n            temp.outerHTML = content;\n            rng.insertNode(frag);\n          }\n        }\n      }\n      caretNode = editor.dom.get('__caret');\n      rng = doc.createRange();\n      rng.setStartBefore(caretNode);\n      rng.setEndBefore(caretNode);\n      editor.selection.setRng(rng);\n      editor.dom.remove('__caret');\n      try {\n        editor.selection.setRng(rng);\n      } catch (ex) {\n      }\n    } else {\n      if (rng.item) {\n        doc.execCommand('Delete', false, null);\n        rng = editor.getRng();\n      }\n      if (/^\\s+/.test(content)) {\n        rng.pasteHTML('<span id=\"__mce_tmp\">_</span>' + content);\n        editor.dom.remove('__mce_tmp');\n      } else {\n        rng.pasteHTML(content);\n      }\n    }\n    if (!args.no_events) {\n      editor.fire('SetContent', args);\n    }\n  };\n  var $_b3j7u072jnlpaybw = { setContent: setContent };\n\n  var getEndpointElement = function (root, rng, start, real, resolve) {\n    var container = start ? rng.startContainer : rng.endContainer;\n    var offset = start ? rng.startOffset : rng.endOffset;\n    return Option.from(container).map(Element$$1.fromDom).map(function (elm) {\n      return !real || !rng.collapsed ? $_dr4ybh18jnlpawzt.child(elm, resolve(elm, offset)).getOr(elm) : elm;\n    }).bind(function (elm) {\n      return $_7u5fzs11jnlpawv6.isElement(elm) ? Option.some(elm) : $_dr4ybh18jnlpawzt.parent(elm);\n    }).map(function (elm) {\n      return elm.dom();\n    }).getOr(root);\n  };\n  var getStart$2 = function (root, rng, real) {\n    return getEndpointElement(root, rng, true, real, function (elm, offset) {\n      return Math.min($_dr4ybh18jnlpawzt.childNodesCount(elm), offset);\n    });\n  };\n  var getEnd = function (root, rng, real) {\n    return getEndpointElement(root, rng, false, real, function (elm, offset) {\n      return offset > 0 ? offset - 1 : offset;\n    });\n  };\n  var skipEmptyTextNodes = function (node, forwards) {\n    var orig = node;\n    while (node && $_fy28ei1rjnlpax2o.isText(node) && node.length === 0) {\n      node = forwards ? node.nextSibling : node.previousSibling;\n    }\n    return node || orig;\n  };\n  var getNode$1 = function (root, rng) {\n    var elm, startContainer, endContainer, startOffset, endOffset;\n    if (!rng) {\n      return root;\n    }\n    startContainer = rng.startContainer;\n    endContainer = rng.endContainer;\n    startOffset = rng.startOffset;\n    endOffset = rng.endOffset;\n    elm = rng.commonAncestorContainer;\n    if (!rng.collapsed) {\n      if (startContainer === endContainer) {\n        if (endOffset - startOffset < 2) {\n          if (startContainer.hasChildNodes()) {\n            elm = startContainer.childNodes[startOffset];\n          }\n        }\n      }\n      if (startContainer.nodeType === 3 && endContainer.nodeType === 3) {\n        if (startContainer.length === startOffset) {\n          startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n        } else {\n          startContainer = startContainer.parentNode;\n        }\n        if (endOffset === 0) {\n          endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n        } else {\n          endContainer = endContainer.parentNode;\n        }\n        if (startContainer && startContainer === endContainer) {\n          return startContainer;\n        }\n      }\n    }\n    if (elm && elm.nodeType === 3) {\n      return elm.parentNode;\n    }\n    return elm;\n  };\n  var getSelectedBlocks = function (dom, rng, startElm, endElm) {\n    var node, root;\n    var selectedBlocks = [];\n    root = dom.getRoot();\n    startElm = dom.getParent(startElm || getStart$2(root, rng, rng.collapsed), dom.isBlock);\n    endElm = dom.getParent(endElm || getEnd(root, rng, rng.collapsed), dom.isBlock);\n    if (startElm && startElm !== root) {\n      selectedBlocks.push(startElm);\n    }\n    if (startElm && endElm && startElm !== endElm) {\n      node = startElm;\n      var walker = new TreeWalker(startElm, root);\n      while ((node = walker.next()) && node !== endElm) {\n        if (dom.isBlock(node)) {\n          selectedBlocks.push(node);\n        }\n      }\n    }\n    if (endElm && startElm !== endElm && endElm !== root) {\n      selectedBlocks.push(endElm);\n    }\n    return selectedBlocks;\n  };\n  var select$1 = function (dom, node, content) {\n    return Option.from(node).map(function (node) {\n      var idx = dom.nodeIndex(node);\n      var rng = dom.createRng();\n      rng.setStart(node.parentNode, idx);\n      rng.setEnd(node.parentNode, idx + 1);\n      if (content) {\n        moveEndPoint$1(dom, rng, node, true);\n        moveEndPoint$1(dom, rng, node, false);\n      }\n      return rng;\n    });\n  };\n\n  var each$19 = $_1q1txeljnlpawsa.each;\n  var isNativeIeSelection = function (rng) {\n    return !!rng.select;\n  };\n  var isAttachedToDom = function (node) {\n    return !!(node && node.ownerDocument) && $_5h7cor1ejnlpax0k.contains(Element$$1.fromDom(node.ownerDocument), Element$$1.fromDom(node));\n  };\n  var isValidRange = function (rng) {\n    if (!rng) {\n      return false;\n    } else if (isNativeIeSelection(rng)) {\n      return true;\n    } else {\n      return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n    }\n  };\n  var Selection$1 = function (dom, win, serializer, editor) {\n    var bookmarkManager, controlSelection;\n    var selectedRange, explicitRange, selectorChangedData;\n    var setCursorLocation = function (node, offset) {\n      var rng = dom.createRng();\n      if (!node) {\n        moveEndPoint$1(dom, rng, editor.getBody(), true);\n        setRng(rng);\n      } else {\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        setRng(rng);\n        collapse(false);\n      }\n    };\n    var getContent = function (args) {\n      return $_d9gs4y6yjnlpay67.getContent(editor, args);\n    };\n    var setContent = function (content, args) {\n      return $_b3j7u072jnlpaybw.setContent(editor, content, args);\n    };\n    var getStart = function (real) {\n      return getStart$2(editor.getBody(), getRng(), real);\n    };\n    var getEnd$$1 = function (real) {\n      return getEnd(editor.getBody(), getRng(), real);\n    };\n    var getBookmark = function (type, normalized) {\n      return bookmarkManager.getBookmark(type, normalized);\n    };\n    var moveToBookmark = function (bookmark) {\n      return bookmarkManager.moveToBookmark(bookmark);\n    };\n    var select = function (node, content) {\n      select$1(dom, node, content).each(setRng);\n      return node;\n    };\n    var isCollapsed = function () {\n      var rng = getRng(), sel = getSel();\n      if (!rng || rng.item) {\n        return false;\n      }\n      if (rng.compareEndPoints) {\n        return rng.compareEndPoints('StartToEnd', rng) === 0;\n      }\n      return !sel || rng.collapsed;\n    };\n    var collapse = function (toStart) {\n      var rng = getRng();\n      rng.collapse(!!toStart);\n      setRng(rng);\n    };\n    var getSel = function () {\n      return win.getSelection ? win.getSelection() : win.document.selection;\n    };\n    var getRng = function () {\n      var selection, rng, elm, doc;\n      var tryCompareBoundaryPoints = function (how, sourceRange, destinationRange) {\n        try {\n          return sourceRange.compareBoundaryPoints(how, destinationRange);\n        } catch (ex) {\n          return -1;\n        }\n      };\n      if (!win) {\n        return null;\n      }\n      doc = win.document;\n      if (typeof doc === 'undefined' || doc === null) {\n        return null;\n      }\n      if (editor.bookmark !== undefined && $_8odu5n4yjnlpaxsg.hasFocus(editor) === false) {\n        var bookmark = $_13pqgk4ojnlpaxqr.getRng(editor);\n        if (bookmark.isSome()) {\n          return bookmark.map(function (r) {\n            return $_76ma076xjnlpay65.processRanges(editor, [r])[0];\n          }).getOr(doc.createRange());\n        }\n      }\n      try {\n        if (selection = getSel()) {\n          if (selection.rangeCount > 0) {\n            rng = selection.getRangeAt(0);\n          } else {\n            rng = selection.createRange ? selection.createRange() : doc.createRange();\n          }\n        }\n      } catch (ex) {\n      }\n      rng = $_76ma076xjnlpay65.processRanges(editor, [rng])[0];\n      if (!rng) {\n        rng = doc.createRange ? doc.createRange() : doc.body.createTextRange();\n      }\n      if (rng.setStart && rng.startContainer.nodeType === 9 && rng.collapsed) {\n        elm = dom.getRoot();\n        rng.setStart(elm, 0);\n        rng.setEnd(elm, 0);\n      }\n      if (selectedRange && explicitRange) {\n        if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n          rng = explicitRange;\n        } else {\n          selectedRange = null;\n          explicitRange = null;\n        }\n      }\n      return rng;\n    };\n    var setRng = function (rng, forward) {\n      var sel, node, evt;\n      if (!isValidRange(rng)) {\n        return;\n      }\n      var ieRange = isNativeIeSelection(rng) ? rng : null;\n      if (ieRange) {\n        explicitRange = null;\n        try {\n          ieRange.select();\n        } catch (ex) {\n        }\n        return;\n      }\n      sel = getSel();\n      evt = editor.fire('SetSelectionRange', {\n        range: rng,\n        forward: forward\n      });\n      rng = evt.range;\n      if (sel) {\n        explicitRange = rng;\n        try {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        } catch (ex) {\n        }\n        if (forward === false && sel.extend) {\n          sel.collapse(rng.endContainer, rng.endOffset);\n          sel.extend(rng.startContainer, rng.startOffset);\n        }\n        selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n      }\n      if (!rng.collapsed && rng.startContainer === rng.endContainer && sel.setBaseAndExtent && !$_cseqobajnlpawll.ie) {\n        if (rng.endOffset - rng.startOffset < 2) {\n          if (rng.startContainer.hasChildNodes()) {\n            node = rng.startContainer.childNodes[rng.startOffset];\n            if (node && node.tagName === 'IMG') {\n              sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n              if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                sel.setBaseAndExtent(node, 0, node, 1);\n              }\n            }\n          }\n        }\n      }\n      editor.fire('AfterSetSelectionRange', {\n        range: rng,\n        forward: forward\n      });\n    };\n    var setNode = function (elm) {\n      setContent(dom.getOuterHTML(elm));\n      return elm;\n    };\n    var getNode = function () {\n      return getNode$1(editor.getBody(), getRng());\n    };\n    var getSelectedBlocks$$1 = function (startElm, endElm) {\n      return getSelectedBlocks(dom, getRng(), startElm, endElm);\n    };\n    var isForward = function () {\n      var sel = getSel();\n      var anchorRange, focusRange;\n      if (!sel || !sel.anchorNode || !sel.focusNode) {\n        return true;\n      }\n      anchorRange = dom.createRng();\n      anchorRange.setStart(sel.anchorNode, sel.anchorOffset);\n      anchorRange.collapse(true);\n      focusRange = dom.createRng();\n      focusRange.setStart(sel.focusNode, sel.focusOffset);\n      focusRange.collapse(true);\n      return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n    };\n    var normalize = function () {\n      var rng = getRng();\n      var sel = getSel();\n      if (!$_533sn84ijnlpaxoe.hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n        var normRng = $_afh56j4mjnlpaxpx.normalize(dom, rng);\n        normRng.each(function (normRng) {\n          setRng(normRng, isForward());\n        });\n        return normRng.getOr(rng);\n      }\n      return rng;\n    };\n    var selectorChanged = function (selector, callback) {\n      var currentSelectors;\n      if (!selectorChangedData) {\n        selectorChangedData = {};\n        currentSelectors = {};\n        editor.on('NodeChange', function (e) {\n          var node = e.element, parents = dom.getParents(node, null, dom.getRoot()), matchedSelectors = {};\n          each$19(selectorChangedData, function (callbacks, selector) {\n            each$19(parents, function (node) {\n              if (dom.is(node, selector)) {\n                if (!currentSelectors[selector]) {\n                  each$19(callbacks, function (callback) {\n                    callback(true, {\n                      node: node,\n                      selector: selector,\n                      parents: parents\n                    });\n                  });\n                  currentSelectors[selector] = callbacks;\n                }\n                matchedSelectors[selector] = callbacks;\n                return false;\n              }\n            });\n          });\n          each$19(currentSelectors, function (callbacks, selector) {\n            if (!matchedSelectors[selector]) {\n              delete currentSelectors[selector];\n              each$19(callbacks, function (callback) {\n                callback(false, {\n                  node: node,\n                  selector: selector,\n                  parents: parents\n                });\n              });\n            }\n          });\n        });\n      }\n      if (!selectorChangedData[selector]) {\n        selectorChangedData[selector] = [];\n      }\n      selectorChangedData[selector].push(callback);\n      return exports;\n    };\n    var getScrollContainer = function () {\n      var scrollContainer;\n      var node = dom.getRoot();\n      while (node && node.nodeName !== 'BODY') {\n        if (node.scrollHeight > node.clientHeight) {\n          scrollContainer = node;\n          break;\n        }\n        node = node.parentNode;\n      }\n      return scrollContainer;\n    };\n    var scrollIntoView = function (elm, alignToTop) {\n      return $_av60ug39jnlpaxee.scrollElementIntoView(editor, elm, alignToTop);\n    };\n    var placeCaretAt = function (clientX, clientY) {\n      return setRng($_445zg66wjnlpay63.fromPoint(clientX, clientY, editor.getDoc()));\n    };\n    var getBoundingClientRect = function () {\n      var rng = getRng();\n      return rng.collapsed ? CaretPosition$1.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n    };\n    var destroy = function () {\n      win = selectedRange = explicitRange = null;\n      controlSelection.destroy();\n    };\n    var exports = {\n      bookmarkManager: null,\n      controlSelection: null,\n      dom: dom,\n      win: win,\n      serializer: serializer,\n      editor: editor,\n      collapse: collapse,\n      setCursorLocation: setCursorLocation,\n      getContent: getContent,\n      setContent: setContent,\n      getBookmark: getBookmark,\n      moveToBookmark: moveToBookmark,\n      select: select,\n      isCollapsed: isCollapsed,\n      isForward: isForward,\n      setNode: setNode,\n      getNode: getNode,\n      getSel: getSel,\n      setRng: setRng,\n      getRng: getRng,\n      getStart: getStart,\n      getEnd: getEnd$$1,\n      getSelectedBlocks: getSelectedBlocks$$1,\n      normalize: normalize,\n      selectorChanged: selectorChanged,\n      getScrollContainer: getScrollContainer,\n      scrollIntoView: scrollIntoView,\n      placeCaretAt: placeCaretAt,\n      getBoundingClientRect: getBoundingClientRect,\n      destroy: destroy\n    };\n    bookmarkManager = BookmarkManager$1(exports);\n    controlSelection = ControlSelection(exports, editor);\n    exports.bookmarkManager = bookmarkManager;\n    exports.controlSelection = controlSelection;\n    return exports;\n  };\n\n  var isContentEditableFalse$11 = $_fy28ei1rjnlpax2o.isContentEditableFalse;\n  var getSelectedNode$1 = getSelectedNode;\n  var isAfterContentEditableFalse$2 = isAfterContentEditableFalse;\n  var isBeforeContentEditableFalse$2 = isBeforeContentEditableFalse;\n  var getVisualCaretPosition = function (walkFn, caretPosition) {\n    while (caretPosition = walkFn(caretPosition)) {\n      if (caretPosition.isVisible()) {\n        return caretPosition;\n      }\n    }\n    return caretPosition;\n  };\n  var isMoveInsideSameBlock = function (from, to) {\n    var inSameBlock = isInSameBlock(from, to);\n    if (!inSameBlock && $_fy28ei1rjnlpax2o.isBr(from.getNode())) {\n      return true;\n    }\n    return inSameBlock;\n  };\n  var moveToCeFalseHorizontally = function (direction, editor, getNextPosFn, range) {\n    var node, caretPosition, peekCaretPosition, rangeIsInContainerBlock;\n    var forwards = direction === HDirection.Forwards;\n    var isBeforeContentEditableFalseFn = forwards ? isBeforeContentEditableFalse$2 : isAfterContentEditableFalse$2;\n    if (!range.collapsed) {\n      node = getSelectedNode$1(range);\n      if (isContentEditableFalse$11(node)) {\n        return showCaret(direction, editor, node, direction === HDirection.Backwards, true);\n      }\n    }\n    rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n    caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n    if (isBeforeContentEditableFalseFn(caretPosition)) {\n      return selectNode(editor, caretPosition.getNode(!forwards));\n    }\n    caretPosition = getNextPosFn(caretPosition);\n    if (!caretPosition) {\n      if (rangeIsInContainerBlock) {\n        return range;\n      }\n      return null;\n    }\n    if (isBeforeContentEditableFalseFn(caretPosition)) {\n      return showCaret(direction, editor, caretPosition.getNode(!forwards), forwards, true);\n    }\n    peekCaretPosition = getNextPosFn(caretPosition);\n    if (isBeforeContentEditableFalseFn(peekCaretPosition)) {\n      if (isMoveInsideSameBlock(caretPosition, peekCaretPosition)) {\n        return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, true);\n      }\n    }\n    if (rangeIsInContainerBlock) {\n      return renderRangeCaret(editor, caretPosition.toRange(), true);\n    }\n    return null;\n  };\n  var moveToCeFalseVertically = function (direction, editor, walkerFn, range) {\n    var caretPosition, linePositions, nextLinePositions;\n    var closestNextLineRect, caretClientRect, clientX;\n    var dist1, dist2, contentEditableFalseNode;\n    contentEditableFalseNode = getSelectedNode$1(range);\n    caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n    linePositions = walkerFn(editor.getBody(), isAboveLine(1), caretPosition);\n    nextLinePositions = $_n452lmjnlpawsj.filter(linePositions, isLine(1));\n    caretClientRect = $_n452lmjnlpawsj.last(caretPosition.getClientRects());\n    if (isBeforeContentEditableFalse$2(caretPosition) || isBeforeTable(caretPosition)) {\n      contentEditableFalseNode = caretPosition.getNode();\n    }\n    if (isAfterContentEditableFalse$2(caretPosition) || isAfterTable(caretPosition)) {\n      contentEditableFalseNode = caretPosition.getNode(true);\n    }\n    if (!caretClientRect) {\n      return null;\n    }\n    clientX = caretClientRect.left;\n    closestNextLineRect = findClosestClientRect(nextLinePositions, clientX);\n    if (closestNextLineRect) {\n      if (isContentEditableFalse$11(closestNextLineRect.node)) {\n        dist1 = Math.abs(clientX - closestNextLineRect.left);\n        dist2 = Math.abs(clientX - closestNextLineRect.right);\n        return showCaret(direction, editor, closestNextLineRect.node, dist1 < dist2, true);\n      }\n    }\n    if (contentEditableFalseNode) {\n      var caretPositions = positionsUntil(direction, editor.getBody(), isAboveLine(1), contentEditableFalseNode);\n      closestNextLineRect = findClosestClientRect($_n452lmjnlpawsj.filter(caretPositions, isLine(1)), clientX);\n      if (closestNextLineRect) {\n        return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n      }\n      closestNextLineRect = $_n452lmjnlpawsj.last($_n452lmjnlpawsj.filter(caretPositions, isLine(0)));\n      if (closestNextLineRect) {\n        return renderRangeCaret(editor, closestNextLineRect.position.toRange(), true);\n      }\n    }\n  };\n  var createTextBlock = function (editor) {\n    var textBlock = editor.dom.create(editor.settings.forced_root_block);\n    if (!$_cseqobajnlpawll.ie || $_cseqobajnlpawll.ie >= 11) {\n      textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n    }\n    return textBlock;\n  };\n  var exitPreBlock = function (editor, direction, range) {\n    var pre, caretPos, newBlock;\n    var caretWalker = CaretWalker(editor.getBody());\n    var getNextVisualCaretPosition = $_dv6bef2njnlpax9l.curry(getVisualCaretPosition, caretWalker.next);\n    var getPrevVisualCaretPosition = $_dv6bef2njnlpax9l.curry(getVisualCaretPosition, caretWalker.prev);\n    if (range.collapsed && editor.settings.forced_root_block) {\n      pre = editor.dom.getParent(range.startContainer, 'PRE');\n      if (!pre) {\n        return;\n      }\n      if (direction === 1) {\n        caretPos = getNextVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n      } else {\n        caretPos = getPrevVisualCaretPosition(CaretPosition$1.fromRangeStart(range));\n      }\n      if (!caretPos) {\n        newBlock = createTextBlock(editor);\n        if (direction === 1) {\n          editor.$(pre).after(newBlock);\n        } else {\n          editor.$(pre).before(newBlock);\n        }\n        editor.selection.select(newBlock, true);\n        editor.selection.collapse();\n      }\n    }\n  };\n  var getHorizontalRange = function (editor, forward) {\n    var caretWalker = CaretWalker(editor.getBody());\n    var getNextVisualCaretPosition = $_dv6bef2njnlpax9l.curry(getVisualCaretPosition, caretWalker.next);\n    var getPrevVisualCaretPosition = $_dv6bef2njnlpax9l.curry(getVisualCaretPosition, caretWalker.prev);\n    var newRange;\n    var direction = forward ? HDirection.Forwards : HDirection.Backwards;\n    var getNextPosFn = forward ? getNextVisualCaretPosition : getPrevVisualCaretPosition;\n    var range = editor.selection.getRng();\n    newRange = moveToCeFalseHorizontally(direction, editor, getNextPosFn, range);\n    if (newRange) {\n      return newRange;\n    }\n    newRange = exitPreBlock(editor, direction, range);\n    if (newRange) {\n      return newRange;\n    }\n    return null;\n  };\n  var getVerticalRange = function (editor, down) {\n    var newRange;\n    var direction = down ? 1 : -1;\n    var walkerFn = down ? downUntil : upUntil;\n    var range = editor.selection.getRng();\n    newRange = moveToCeFalseVertically(direction, editor, walkerFn, range);\n    if (newRange) {\n      return newRange;\n    }\n    newRange = exitPreBlock(editor, direction, range);\n    if (newRange) {\n      return newRange;\n    }\n    return null;\n  };\n  var moveH$1 = function (editor, forward) {\n    return function () {\n      var newRng = getHorizontalRange(editor, forward);\n      if (newRng) {\n        editor.selection.setRng(newRng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n  };\n  var moveV$1 = function (editor, down) {\n    return function () {\n      var newRng = getVerticalRange(editor, down);\n      if (newRng) {\n        editor.selection.setRng(newRng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n  };\n\n  var defaultPatterns = function (patterns) {\n    return map(patterns, function (pattern) {\n      return merge({\n        shiftKey: false,\n        altKey: false,\n        ctrlKey: false,\n        metaKey: false,\n        keyCode: 0,\n        action: noop\n      }, pattern);\n    });\n  };\n  var matchesEvent = function (pattern, evt) {\n    return evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n  };\n  var match$1 = function (patterns, evt) {\n    return bind(defaultPatterns(patterns), function (pattern) {\n      return matchesEvent(pattern, evt) ? [pattern] : [];\n    });\n  };\n  var action = function (f) {\n    var x = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n      x[_i - 1] = arguments[_i];\n    }\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      return f.apply(null, args);\n    };\n  };\n  var execute = function (patterns, evt) {\n    return find(match$1(patterns, evt), function (pattern) {\n      return pattern.action();\n    });\n  };\n  var $_4wmttl77jnlpaycu = {\n    match: match$1,\n    action: action,\n    execute: execute\n  };\n\n  var executeKeydownOverride = function (editor, caret, evt) {\n    var os = $_766rx4ojnlpawtd.detect().os;\n    $_4wmttl77jnlpaycu.execute([\n      {\n        keyCode: $_1qv0695yjnlpaxyk.RIGHT,\n        action: moveH$1(editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.LEFT,\n        action: moveH$1(editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.UP,\n        action: moveV$1(editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DOWN,\n        action: moveV$1(editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.RIGHT,\n        action: moveH(editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.LEFT,\n        action: moveH(editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.UP,\n        action: moveV(editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DOWN,\n        action: moveV(editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.RIGHT,\n        action: $_1971nm4djnlpaxmv.move(editor, caret, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.LEFT,\n        action: $_1971nm4djnlpaxmv.move(editor, caret, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.RIGHT,\n        ctrlKey: !os.isOSX(),\n        altKey: os.isOSX(),\n        action: $_1971nm4djnlpaxmv.moveNextWord(editor, caret)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.LEFT,\n        ctrlKey: !os.isOSX(),\n        altKey: os.isOSX(),\n        action: $_1971nm4djnlpaxmv.movePrevWord(editor, caret)\n      }\n    ], evt).each(function (_) {\n      evt.preventDefault();\n    });\n  };\n  var setup$7 = function (editor, caret) {\n    editor.on('keydown', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeydownOverride(editor, caret, evt);\n      }\n    });\n  };\n  var $_61j8yg75jnlpayck = { setup: setup$7 };\n\n  var getParentInlines = function (rootElm, startElm) {\n    var parents = $_4b88sj42jnlpaxkd.parentsAndSelf(startElm, rootElm);\n    return findIndex(parents, isBlock).fold(constant(parents), function (index) {\n      return parents.slice(0, index);\n    });\n  };\n  var hasOnlyOneChild$1 = function (elm) {\n    return $_dr4ybh18jnlpawzt.children(elm).length === 1;\n  };\n  var deleteLastPosition = function (forward, editor, target, parentInlines) {\n    var isFormatElement$$1 = curry(isFormatElement, editor);\n    var formatNodes = map(filter(parentInlines, isFormatElement$$1), function (elm) {\n      return elm.dom();\n    });\n    if (formatNodes.length === 0) {\n      $_ezizyx47jnlpaxle.deleteElement(editor, forward, target);\n    } else {\n      var pos = replaceWithCaretFormat(target.dom(), formatNodes);\n      editor.selection.setRng(pos.toRange());\n    }\n  };\n  var deleteCaret$1 = function (editor, forward) {\n    var rootElm = Element$$1.fromDom(editor.getBody());\n    var startElm = Element$$1.fromDom(editor.selection.getStart());\n    var parentInlines = filter(getParentInlines(rootElm, startElm), hasOnlyOneChild$1);\n    return last(parentInlines).map(function (target) {\n      var fromPos = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n      if ($_dfzzw73vjnlpaxik.willDeleteLastPositionInElement(forward, fromPos, target.dom())) {\n        deleteLastPosition(forward, editor, target, parentInlines);\n        return true;\n      } else {\n        return false;\n      }\n    }).getOr(false);\n  };\n  var backspaceDelete$5 = function (editor, forward) {\n    return editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : false;\n  };\n  var $_7joyou79jnlpayd3 = { backspaceDelete: backspaceDelete$5 };\n\n  var executeKeydownOverride$1 = function (editor, caret, evt) {\n    $_4wmttl77jnlpaycu.execute([\n      {\n        keyCode: $_1qv0695yjnlpaxyk.BACKSPACE,\n        action: $_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.backspaceDelete, editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DELETE,\n        action: $_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.backspaceDelete, editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.BACKSPACE,\n        action: $_4wmttl77jnlpaycu.action($_5d7kmb48jnlpaxm1.backspaceDelete, editor, caret, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DELETE,\n        action: $_4wmttl77jnlpaycu.action($_5d7kmb48jnlpaxm1.backspaceDelete, editor, caret, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.BACKSPACE,\n        action: $_4wmttl77jnlpaycu.action($_3apnm14fjnlpaxn8.backspaceDelete, editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DELETE,\n        action: $_4wmttl77jnlpaycu.action($_3apnm14fjnlpaxn8.backspaceDelete, editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.BACKSPACE,\n        action: $_4wmttl77jnlpaycu.action($_f5evyu43jnlpaxki.backspaceDelete, editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DELETE,\n        action: $_4wmttl77jnlpaycu.action($_f5evyu43jnlpaxki.backspaceDelete, editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.BACKSPACE,\n        action: $_4wmttl77jnlpaycu.action($_3n8adg3tjnlpaxi5.backspaceDelete, editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DELETE,\n        action: $_4wmttl77jnlpaycu.action($_3n8adg3tjnlpaxi5.backspaceDelete, editor, true)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.BACKSPACE,\n        action: $_4wmttl77jnlpaycu.action($_7joyou79jnlpayd3.backspaceDelete, editor, false)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DELETE,\n        action: $_4wmttl77jnlpaycu.action($_7joyou79jnlpayd3.backspaceDelete, editor, true)\n      }\n    ], evt).each(function (_) {\n      evt.preventDefault();\n    });\n  };\n  var executeKeyupOverride = function (editor, evt) {\n    $_4wmttl77jnlpaycu.execute([\n      {\n        keyCode: $_1qv0695yjnlpaxyk.BACKSPACE,\n        action: $_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.paddEmptyElement, editor)\n      },\n      {\n        keyCode: $_1qv0695yjnlpaxyk.DELETE,\n        action: $_4wmttl77jnlpaycu.action($_jcgv344jnlpaxks.paddEmptyElement, editor)\n      }\n    ], evt);\n  };\n  var setup$8 = function (editor, caret) {\n    editor.on('keydown', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeydownOverride$1(editor, caret, evt);\n      }\n    });\n    editor.on('keyup', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeyupOverride(editor, evt);\n      }\n    });\n  };\n  var $_7bt40278jnlpayd0 = { setup: setup$8 };\n\n  var firstNonWhiteSpaceNodeSibling = function (node) {\n    while (node) {\n      if (node.nodeType === 1 || node.nodeType === 3 && node.data && /[\\r\\n\\s]/.test(node.data)) {\n        return node;\n      }\n      node = node.nextSibling;\n    }\n  };\n  var moveToCaretPosition = function (editor, root) {\n    var walker, node, rng, lastNode = root, tempElm;\n    var dom = editor.dom;\n    var moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n    if (!root) {\n      return;\n    }\n    if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n      var firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n      if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n        root.insertBefore(dom.doc.createTextNode('\\xA0'), root.firstChild);\n      }\n    }\n    rng = dom.createRng();\n    root.normalize();\n    if (root.hasChildNodes()) {\n      walker = new TreeWalker(root, root);\n      while (node = walker.current()) {\n        if ($_fy28ei1rjnlpax2o.isText(node)) {\n          rng.setStart(node, 0);\n          rng.setEnd(node, 0);\n          break;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n          rng.setStartBefore(node);\n          rng.setEndBefore(node);\n          break;\n        }\n        lastNode = node;\n        node = walker.next();\n      }\n      if (!node) {\n        rng.setStart(lastNode, 0);\n        rng.setEnd(lastNode, 0);\n      }\n    } else {\n      if ($_fy28ei1rjnlpax2o.isBr(root)) {\n        if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n          rng.setStartBefore(root);\n          rng.setEndBefore(root);\n        } else {\n          rng.setStartAfter(root);\n          rng.setEndAfter(root);\n        }\n      } else {\n        rng.setStart(root, 0);\n        rng.setEnd(root, 0);\n      }\n    }\n    editor.selection.setRng(rng);\n    dom.remove(tempElm);\n    editor.selection.scrollIntoView(root);\n  };\n  var getEditableRoot = function (dom, node) {\n    var root = dom.getRoot();\n    var parent, editableRoot;\n    parent = node;\n    while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n      if (dom.getContentEditable(parent) === 'true') {\n        editableRoot = parent;\n      }\n      parent = parent.parentNode;\n    }\n    return parent !== root ? editableRoot : root;\n  };\n  var getParentBlock$2 = function (editor) {\n    return Option.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n  };\n  var getParentBlockName = function (editor) {\n    return getParentBlock$2(editor).fold(constant(''), function (parentBlock) {\n      return parentBlock.nodeName.toUpperCase();\n    });\n  };\n  var isListItemParentBlock = function (editor) {\n    return getParentBlock$2(editor).filter(function (elm) {\n      return isListItem(Element$$1.fromDom(elm));\n    }).isSome();\n  };\n  var $_f5kh147ejnlpaye2 = {\n    moveToCaretPosition: moveToCaretPosition,\n    getEditableRoot: getEditableRoot,\n    getParentBlock: getParentBlock$2,\n    getParentBlockName: getParentBlockName,\n    isListItemParentBlock: isListItemParentBlock\n  };\n\n  var hasFirstChild = function (elm, name) {\n    return elm.firstChild && elm.firstChild.nodeName === name;\n  };\n  var hasParent$1 = function (elm, parentName) {\n    return elm && elm.parentNode && elm.parentNode.nodeName === parentName;\n  };\n  var isListBlock = function (elm) {\n    return elm && /^(OL|UL|LI)$/.test(elm.nodeName);\n  };\n  var isNestedList = function (elm) {\n    return isListBlock(elm) && isListBlock(elm.parentNode);\n  };\n  var getContainerBlock = function (containerBlock) {\n    var containerBlockParent = containerBlock.parentNode;\n    if (/^(LI|DT|DD)$/.test(containerBlockParent.nodeName)) {\n      return containerBlockParent;\n    }\n    return containerBlock;\n  };\n  var isFirstOrLastLi = function (containerBlock, parentBlock, first) {\n    var node = containerBlock[first ? 'firstChild' : 'lastChild'];\n    while (node) {\n      if ($_fy28ei1rjnlpax2o.isElement(node)) {\n        break;\n      }\n      node = node[first ? 'nextSibling' : 'previousSibling'];\n    }\n    return node === parentBlock;\n  };\n  var insert$1 = function (editor, createNewBlock, containerBlock, parentBlock, newBlockName) {\n    var dom = editor.dom;\n    var rng = editor.selection.getRng();\n    if (containerBlock === editor.getBody()) {\n      return;\n    }\n    if (isNestedList(containerBlock)) {\n      newBlockName = 'LI';\n    }\n    var newBlock = newBlockName ? createNewBlock(newBlockName) : dom.create('BR');\n    if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n      if (hasParent$1(containerBlock, 'LI')) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n      } else {\n        dom.replace(newBlock, containerBlock);\n      }\n    } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n      if (hasParent$1(containerBlock, 'LI')) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        newBlock.appendChild(dom.doc.createTextNode(' '));\n        newBlock.appendChild(containerBlock);\n      } else {\n        containerBlock.parentNode.insertBefore(newBlock, containerBlock);\n      }\n    } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n      dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n    } else {\n      containerBlock = getContainerBlock(containerBlock);\n      var tmpRng = rng.cloneRange();\n      tmpRng.setStartAfter(parentBlock);\n      tmpRng.setEndAfter(containerBlock);\n      var fragment = tmpRng.extractContents();\n      if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, containerBlock);\n      } else {\n        dom.insertAfter(fragment, containerBlock);\n        dom.insertAfter(newBlock, containerBlock);\n      }\n    }\n    dom.remove(parentBlock);\n    $_f5kh147ejnlpaye2.moveToCaretPosition(editor, newBlock);\n  };\n  var $_ejp82b7djnlpaydz = { insert: insert$1 };\n\n  var isEmptyAnchor = function (elm) {\n    return elm && elm.nodeName === 'A' && $_1q1txeljnlpawsa.trim($_90hfb72rjnlpaxae.trim(elm.innerText || elm.textContent)).length === 0;\n  };\n  var isTableCell$5 = function (node) {\n    return node && /^(TD|TH|CAPTION)$/.test(node.nodeName);\n  };\n  var emptyBlock = function (elm) {\n    elm.innerHTML = '<br data-mce-bogus=\"1\">';\n  };\n  var containerAndSiblingName = function (container, nodeName) {\n    return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n  };\n  var canSplitBlock = function (dom, node) {\n    return node && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n  };\n  var trimInlineElementsOnLeftSideOfBlock = function (dom, nonEmptyElementsMap, block) {\n    var node = block;\n    var firstChilds = [];\n    var i;\n    if (!node) {\n      return;\n    }\n    while (node = node.firstChild) {\n      if (dom.isBlock(node)) {\n        return;\n      }\n      if ($_fy28ei1rjnlpax2o.isElement(node) && !nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n        firstChilds.push(node);\n      }\n    }\n    i = firstChilds.length;\n    while (i--) {\n      node = firstChilds[i];\n      if (!node.hasChildNodes() || node.firstChild === node.lastChild && node.firstChild.nodeValue === '') {\n        dom.remove(node);\n      } else {\n        if (isEmptyAnchor(node)) {\n          dom.remove(node);\n        }\n      }\n    }\n  };\n  var normalizeZwspOffset = function (start, container, offset) {\n    if ($_fy28ei1rjnlpax2o.isText(container) === false) {\n      return offset;\n    } else if (start) {\n      return offset === 1 && container.data.charAt(offset - 1) === $_90hfb72rjnlpaxae.ZWSP ? 0 : offset;\n    } else {\n      return offset === container.data.length - 1 && container.data.charAt(offset) === $_90hfb72rjnlpaxae.ZWSP ? container.data.length : offset;\n    }\n  };\n  var includeZwspInRange = function (rng) {\n    var newRng = rng.cloneRange();\n    newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n    newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n    return newRng;\n  };\n  var trimLeadingLineBreaks = function (node) {\n    do {\n      if ($_fy28ei1rjnlpax2o.isText(node)) {\n        node.nodeValue = node.nodeValue.replace(/^[\\r\\n]+/, '');\n      }\n      node = node.firstChild;\n    } while (node);\n  };\n  var getEditableRoot$1 = function (dom, node) {\n    var root = dom.getRoot();\n    var parent, editableRoot;\n    parent = node;\n    while (parent !== root && dom.getContentEditable(parent) !== 'false') {\n      if (dom.getContentEditable(parent) === 'true') {\n        editableRoot = parent;\n      }\n      parent = parent.parentNode;\n    }\n    return parent !== root ? editableRoot : root;\n  };\n  var setForcedBlockAttrs = function (editor, node) {\n    var forcedRootBlockName = $_c6e09z3ajnlpaxek.getForcedRootBlock(editor);\n    if (forcedRootBlockName && forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n      editor.dom.setAttribs(node, $_c6e09z3ajnlpaxek.getForcedRootBlockAttrs(editor));\n    }\n  };\n  var wrapSelfAndSiblingsInDefaultBlock = function (editor, newBlockName, rng, container, offset) {\n    var newBlock, parentBlock, startNode, node, next, rootBlockName;\n    var blockName = newBlockName || 'P';\n    var dom = editor.dom, editableRoot = getEditableRoot$1(dom, container);\n    parentBlock = dom.getParent(container, dom.isBlock);\n    if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n      parentBlock = parentBlock || editableRoot;\n      if (parentBlock === editor.getBody() || isTableCell$5(parentBlock)) {\n        rootBlockName = parentBlock.nodeName.toLowerCase();\n      } else {\n        rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n      }\n      if (!parentBlock.hasChildNodes()) {\n        newBlock = dom.create(blockName);\n        setForcedBlockAttrs(editor, newBlock);\n        parentBlock.appendChild(newBlock);\n        rng.setStart(newBlock, 0);\n        rng.setEnd(newBlock, 0);\n        return newBlock;\n      }\n      node = container;\n      while (node.parentNode !== parentBlock) {\n        node = node.parentNode;\n      }\n      while (node && !dom.isBlock(node)) {\n        startNode = node;\n        node = node.previousSibling;\n      }\n      if (startNode && editor.schema.isValidChild(rootBlockName, blockName.toLowerCase())) {\n        newBlock = dom.create(blockName);\n        setForcedBlockAttrs(editor, newBlock);\n        startNode.parentNode.insertBefore(newBlock, startNode);\n        node = startNode;\n        while (node && !dom.isBlock(node)) {\n          next = node.nextSibling;\n          newBlock.appendChild(node);\n          node = next;\n        }\n        rng.setStart(container, offset);\n        rng.setEnd(container, offset);\n      }\n    }\n    return container;\n  };\n  var addBrToBlockIfNeeded = function (dom, block) {\n    var lastChild;\n    block.normalize();\n    lastChild = block.lastChild;\n    if (!lastChild || /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n      dom.add(block, 'br');\n    }\n  };\n  var insert$2 = function (editor, evt) {\n    var tmpRng, editableRoot, container, offset, parentBlock, shiftKey;\n    var newBlock, fragment, containerBlock, parentBlockName, containerBlockName, newBlockName, isAfterLastNodeInContainer;\n    var dom = editor.dom;\n    var schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n    var rng = editor.selection.getRng();\n    var createNewBlock = function (name) {\n      var node = container, block, clonedNode, caretNode;\n      var textInlineElements = schema.getTextInlineElements();\n      if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n        block = dom.create(name || newBlockName);\n        setForcedBlockAttrs(editor, block);\n      } else {\n        block = parentBlock.cloneNode(false);\n      }\n      caretNode = block;\n      if ($_c6e09z3ajnlpaxek.shouldKeepStyles(editor) === false) {\n        dom.setAttrib(block, 'style', null);\n        dom.setAttrib(block, 'class', null);\n      } else {\n        do {\n          if (textInlineElements[node.nodeName]) {\n            if (isCaretNode(node)) {\n              continue;\n            }\n            clonedNode = node.cloneNode(false);\n            dom.setAttrib(clonedNode, 'id', '');\n            if (block.hasChildNodes()) {\n              clonedNode.appendChild(block.firstChild);\n              block.appendChild(clonedNode);\n            } else {\n              caretNode = clonedNode;\n              block.appendChild(clonedNode);\n            }\n          }\n        } while ((node = node.parentNode) && node !== editableRoot);\n      }\n      emptyBlock(caretNode);\n      return block;\n    };\n    var isCaretAtStartOrEndOfBlock = function (start) {\n      var walker, node, name, normalizedOffset;\n      normalizedOffset = normalizeZwspOffset(start, container, offset);\n      if ($_fy28ei1rjnlpax2o.isText(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.nodeValue.length)) {\n        return false;\n      }\n      if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n        return true;\n      }\n      if (start && $_fy28ei1rjnlpax2o.isElement(container) && container === parentBlock.firstChild) {\n        return true;\n      }\n      if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n        return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n      }\n      walker = new TreeWalker(container, parentBlock);\n      if ($_fy28ei1rjnlpax2o.isText(container)) {\n        if (start && normalizedOffset === 0) {\n          walker.prev();\n        } else if (!start && normalizedOffset === container.nodeValue.length) {\n          walker.next();\n        }\n      }\n      while (node = walker.current()) {\n        if ($_fy28ei1rjnlpax2o.isElement(node)) {\n          if (!node.getAttribute('data-mce-bogus')) {\n            name = node.nodeName.toLowerCase();\n            if (nonEmptyElementsMap[name] && name !== 'br') {\n              return false;\n            }\n          }\n        } else if ($_fy28ei1rjnlpax2o.isText(node) && !/^[ \\t\\r\\n]*$/.test(node.nodeValue)) {\n          return false;\n        }\n        if (start) {\n          walker.prev();\n        } else {\n          walker.next();\n        }\n      }\n      return true;\n    };\n    var insertNewBlockAfter = function () {\n      if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n        newBlock = createNewBlock(newBlockName);\n      } else {\n        newBlock = createNewBlock();\n      }\n      if ($_c6e09z3ajnlpaxek.shouldEndContainerOnEmptyBlock(editor) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n        newBlock = dom.split(containerBlock, parentBlock);\n      } else {\n        dom.insertAfter(newBlock, parentBlock);\n      }\n      $_f5kh147ejnlpaye2.moveToCaretPosition(editor, newBlock);\n    };\n    $_afh56j4mjnlpaxpx.normalize(dom, rng).each(function (normRng) {\n      rng.setStart(normRng.startContainer, normRng.startOffset);\n      rng.setEnd(normRng.endContainer, normRng.endOffset);\n    });\n    container = rng.startContainer;\n    offset = rng.startOffset;\n    newBlockName = $_c6e09z3ajnlpaxek.getForcedRootBlock(editor);\n    shiftKey = evt.shiftKey;\n    if ($_fy28ei1rjnlpax2o.isElement(container) && container.hasChildNodes()) {\n      isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n      container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n      if (isAfterLastNodeInContainer && $_fy28ei1rjnlpax2o.isText(container)) {\n        offset = container.nodeValue.length;\n      } else {\n        offset = 0;\n      }\n    }\n    editableRoot = getEditableRoot$1(dom, container);\n    if (!editableRoot) {\n      return;\n    }\n    if (newBlockName && !shiftKey || !newBlockName && shiftKey) {\n      container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n    }\n    parentBlock = dom.getParent(container, dom.isBlock);\n    containerBlock = parentBlock ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n    parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n    containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n    if (containerBlockName === 'LI' && !evt.ctrlKey) {\n      parentBlock = containerBlock;\n      containerBlock = containerBlock.parentNode;\n      parentBlockName = containerBlockName;\n    }\n    if (/^(LI|DT|DD)$/.test(parentBlockName)) {\n      if (dom.isEmpty(parentBlock)) {\n        $_ejp82b7djnlpaydz.insert(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n        return;\n      }\n    }\n    if (newBlockName && parentBlock === editor.getBody()) {\n      return;\n    }\n    newBlockName = newBlockName || 'P';\n    if (isCaretContainerBlock(parentBlock)) {\n      newBlock = showCaretContainerBlock(parentBlock);\n      if (dom.isEmpty(parentBlock)) {\n        emptyBlock(parentBlock);\n      }\n      $_f5kh147ejnlpaye2.moveToCaretPosition(editor, newBlock);\n    } else if (isCaretAtStartOrEndOfBlock()) {\n      insertNewBlockAfter();\n    } else if (isCaretAtStartOrEndOfBlock(true)) {\n      newBlock = parentBlock.parentNode.insertBefore(createNewBlock(), parentBlock);\n      $_f5kh147ejnlpaye2.moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n    } else {\n      tmpRng = includeZwspInRange(rng).cloneRange();\n      tmpRng.setEndAfter(parentBlock);\n      fragment = tmpRng.extractContents();\n      trimLeadingLineBreaks(fragment);\n      newBlock = fragment.firstChild;\n      dom.insertAfter(fragment, parentBlock);\n      trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n      addBrToBlockIfNeeded(dom, parentBlock);\n      if (dom.isEmpty(parentBlock)) {\n        emptyBlock(parentBlock);\n      }\n      newBlock.normalize();\n      if (dom.isEmpty(newBlock)) {\n        dom.remove(newBlock);\n        insertNewBlockAfter();\n      } else {\n        $_f5kh147ejnlpaye2.moveToCaretPosition(editor, newBlock);\n      }\n    }\n    dom.setAttrib(newBlock, 'id', '');\n    editor.fire('NewBlock', { newBlock: newBlock });\n  };\n  var $_dytumn7cjnlpaydl = { insert: insert$2 };\n\n  var matchesSelector = function (editor, selector) {\n    return $_f5kh147ejnlpaye2.getParentBlock(editor).filter(function (parentBlock) {\n      return selector.length > 0 && $_d8v5lf1gjnlpax0y.is(Element$$1.fromDom(parentBlock), selector);\n    }).isSome();\n  };\n  var shouldInsertBr = function (editor) {\n    return matchesSelector(editor, $_c6e09z3ajnlpaxek.getBrNewLineSelector(editor));\n  };\n  var shouldBlockNewLine = function (editor) {\n    return matchesSelector(editor, $_c6e09z3ajnlpaxek.getNoNewLineSelector(editor));\n  };\n  var $_8nqlsa7gjnlpayev = {\n    shouldInsertBr: shouldInsertBr,\n    shouldBlockNewLine: shouldBlockNewLine\n  };\n\n  var newLineAction = Adt.generate([\n    { br: [] },\n    { block: [] },\n    { none: [] }\n  ]);\n  var shouldBlockNewLine$1 = function (editor, shiftKey) {\n    return $_8nqlsa7gjnlpayev.shouldBlockNewLine(editor);\n  };\n  var isBrMode = function (requiredState) {\n    return function (editor, shiftKey) {\n      var brMode = $_c6e09z3ajnlpaxek.getForcedRootBlock(editor) === '';\n      return brMode === requiredState;\n    };\n  };\n  var inListBlock = function (requiredState) {\n    return function (editor, shiftKey) {\n      return $_f5kh147ejnlpaye2.isListItemParentBlock(editor) === requiredState;\n    };\n  };\n  var inBlock = function (blockName, requiredState) {\n    return function (editor, shiftKey) {\n      var state = $_f5kh147ejnlpaye2.getParentBlockName(editor) === blockName.toUpperCase();\n      return state === requiredState;\n    };\n  };\n  var inPreBlock = function (requiredState) {\n    return inBlock('pre', requiredState);\n  };\n  var inSummaryBlock = function () {\n    return inBlock('summary', true);\n  };\n  var shouldPutBrInPre$1 = function (requiredState) {\n    return function (editor, shiftKey) {\n      return $_c6e09z3ajnlpaxek.shouldPutBrInPre(editor) === requiredState;\n    };\n  };\n  var inBrContext = function (editor, shiftKey) {\n    return $_8nqlsa7gjnlpayev.shouldInsertBr(editor);\n  };\n  var hasShiftKey = function (editor, shiftKey) {\n    return shiftKey;\n  };\n  var canInsertIntoEditableRoot = function (editor) {\n    var forcedRootBlock = $_c6e09z3ajnlpaxek.getForcedRootBlock(editor);\n    var rootEditable = $_f5kh147ejnlpaye2.getEditableRoot(editor.dom, editor.selection.getStart());\n    return rootEditable && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock ? forcedRootBlock : 'P');\n  };\n  var match$2 = function (predicates, action) {\n    return function (editor, shiftKey) {\n      var isMatch = foldl(predicates, function (res, p) {\n        return res && p(editor, shiftKey);\n      }, true);\n      return isMatch ? Option.some(action) : Option.none();\n    };\n  };\n  var getAction$1 = function (editor, evt) {\n    return $_3eehvl4cjnlpaxms.evaluateUntil([\n      match$2([shouldBlockNewLine$1], newLineAction.none()),\n      match$2([inSummaryBlock()], newLineAction.br()),\n      match$2([\n        inPreBlock(true),\n        shouldPutBrInPre$1(false),\n        hasShiftKey\n      ], newLineAction.br()),\n      match$2([\n        inPreBlock(true),\n        shouldPutBrInPre$1(false)\n      ], newLineAction.block()),\n      match$2([\n        inPreBlock(true),\n        shouldPutBrInPre$1(true),\n        hasShiftKey\n      ], newLineAction.block()),\n      match$2([\n        inPreBlock(true),\n        shouldPutBrInPre$1(true)\n      ], newLineAction.br()),\n      match$2([\n        inListBlock(true),\n        hasShiftKey\n      ], newLineAction.br()),\n      match$2([inListBlock(true)], newLineAction.block()),\n      match$2([\n        isBrMode(true),\n        hasShiftKey,\n        canInsertIntoEditableRoot\n      ], newLineAction.block()),\n      match$2([isBrMode(true)], newLineAction.br()),\n      match$2([inBrContext], newLineAction.br()),\n      match$2([\n        isBrMode(false),\n        hasShiftKey\n      ], newLineAction.br()),\n      match$2([canInsertIntoEditableRoot], newLineAction.block())\n    ], [\n      editor,\n      evt.shiftKey\n    ]).getOr(newLineAction.none());\n  };\n  var $_5478lv7fjnlpayeb = { getAction: getAction$1 };\n\n  var insert$3 = function (editor, evt) {\n    $_5478lv7fjnlpayeb.getAction(editor, evt).fold(function () {\n      $_ejrlhl4ljnlpaxpg.insert(editor, evt);\n    }, function () {\n      $_dytumn7cjnlpaydl.insert(editor, evt);\n    }, noop);\n  };\n  var $_en8mkp7bjnlpaydc = { insert: insert$3 };\n\n  var endTypingLevel = function (undoManager) {\n    if (undoManager.typing) {\n      undoManager.typing = false;\n      undoManager.add();\n    }\n  };\n  var handleEnterKeyEvent = function (editor, event) {\n    if (event.isDefaultPrevented()) {\n      return;\n    }\n    event.preventDefault();\n    endTypingLevel(editor.undoManager);\n    editor.undoManager.transact(function () {\n      if (editor.selection.isCollapsed() === false) {\n        editor.execCommand('Delete');\n      }\n      $_en8mkp7bjnlpaydc.insert(editor, event);\n    });\n  };\n  var setup$9 = function (editor) {\n    editor.on('keydown', function (event) {\n      if (event.keyCode === $_1qv0695yjnlpaxyk.ENTER) {\n        handleEnterKeyEvent(editor, event);\n      }\n    });\n  };\n  var $_39dxqo7ajnlpaydb = { setup: setup$9 };\n\n  var isValidInsertPoint = function (location, caretPosition) {\n    return isAtStartOrEnd(location) && $_fy28ei1rjnlpax2o.isText(caretPosition.container());\n  };\n  var insertNbspAtPosition = function (editor, caretPosition) {\n    var container = caretPosition.container();\n    var offset = caretPosition.offset();\n    container.insertData(offset, '\\xA0');\n    editor.selection.setCursorLocation(container, offset + 1);\n  };\n  var insertAtLocation = function (editor, caretPosition, location) {\n    if (isValidInsertPoint(location, caretPosition)) {\n      insertNbspAtPosition(editor, caretPosition);\n      return true;\n    } else {\n      return false;\n    }\n  };\n  var insertAtCaret$2 = function (editor) {\n    var isInlineTarget = curry($_955v2u3wjnlpaxit.isInlineTarget, editor);\n    var caretPosition = CaretPosition$1.fromRangeStart(editor.selection.getRng());\n    var boundaryLocation = $_1wxx4j4bjnlpaxmj.readLocation(isInlineTarget, editor.getBody(), caretPosition);\n    return boundaryLocation.map(curry(insertAtLocation, editor, caretPosition)).getOr(false);\n  };\n  var isAtStartOrEnd = function (location) {\n    return location.fold(constant(false), constant(true), constant(true), constant(false));\n  };\n  var insertAtSelection = function (editor) {\n    return editor.selection.isCollapsed() ? insertAtCaret$2(editor) : false;\n  };\n  var $_55jipx7ijnlpayf1 = { insertAtSelection: insertAtSelection };\n\n  var executeKeydownOverride$2 = function (editor, evt) {\n    $_4wmttl77jnlpaycu.execute([{\n        keyCode: $_1qv0695yjnlpaxyk.SPACEBAR,\n        action: $_4wmttl77jnlpaycu.action($_55jipx7ijnlpayf1.insertAtSelection, editor)\n      }], evt).each(function (_) {\n      evt.preventDefault();\n    });\n  };\n  var setup$10 = function (editor) {\n    editor.on('keydown', function (evt) {\n      if (evt.isDefaultPrevented() === false) {\n        executeKeydownOverride$2(editor, evt);\n      }\n    });\n  };\n  var $_4zpmte7hjnlpayez = { setup: setup$10 };\n\n  var findBlockCaretContainer = function (editor) {\n    return $_2kbu29jnlpax6t.descendant(Element$$1.fromDom(editor.getBody()), '*[data-mce-caret]').fold(constant(null), function (elm) {\n      return elm.dom();\n    });\n  };\n  var removeIeControlRect = function (editor) {\n    editor.selection.setRng(editor.selection.getRng());\n  };\n  var showBlockCaretContainer = function (editor, blockCaretContainer) {\n    if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n      showCaretContainerBlock(blockCaretContainer);\n      removeIeControlRect(editor);\n      editor.selection.scrollIntoView(blockCaretContainer);\n    }\n  };\n  var handleBlockContainer = function (editor, e) {\n    var blockCaretContainer = findBlockCaretContainer(editor);\n    if (!blockCaretContainer) {\n      return;\n    }\n    if (e.type === 'compositionstart') {\n      e.preventDefault();\n      e.stopPropagation();\n      showBlockCaretContainer(editor, blockCaretContainer);\n      return;\n    }\n    if (hasContent(blockCaretContainer)) {\n      showBlockCaretContainer(editor, blockCaretContainer);\n      editor.undoManager.add();\n    }\n  };\n  var setup$11 = function (editor) {\n    editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n  };\n  var $_fb76tn7jjnlpayf4 = { setup: setup$11 };\n\n  var setup$12 = function (editor) {\n    var caret = $_1971nm4djnlpaxmv.setupSelectedState(editor);\n    $_fb76tn7jjnlpayf4.setup(editor);\n    $_61j8yg75jnlpayck.setup(editor, caret);\n    $_7bt40278jnlpayd0.setup(editor, caret);\n    $_39dxqo7ajnlpaydb.setup(editor);\n    $_4zpmte7hjnlpayez.setup(editor);\n  };\n  var $_cvby1r74jnlpayci = { setup: setup$12 };\n\n  function Quirks (editor) {\n    var each = $_1q1txeljnlpawsa.each;\n    var BACKSPACE = $_1qv0695yjnlpaxyk.BACKSPACE, DELETE = $_1qv0695yjnlpaxyk.DELETE, dom = editor.dom, selection = editor.selection, settings = editor.settings, parser = editor.parser;\n    var isGecko = $_cseqobajnlpawll.gecko, isIE = $_cseqobajnlpawll.ie, isWebKit = $_cseqobajnlpawll.webkit;\n    var mceInternalUrlPrefix = 'data:text/mce-internal,';\n    var mceInternalDataType = isIE ? 'Text' : 'URL';\n    var setEditorCommandState = function (cmd, state) {\n      try {\n        editor.getDoc().execCommand(cmd, false, state);\n      } catch (ex) {\n      }\n    };\n    var isDefaultPrevented = function (e) {\n      return e.isDefaultPrevented();\n    };\n    var setMceInternalContent = function (e) {\n      var selectionHtml, internalContent;\n      if (e.dataTransfer) {\n        if (editor.selection.isCollapsed() && e.target.tagName === 'IMG') {\n          selection.select(e.target);\n        }\n        selectionHtml = editor.selection.getContent();\n        if (selectionHtml.length > 0) {\n          internalContent = mceInternalUrlPrefix + escape(editor.id) + ',' + escape(selectionHtml);\n          e.dataTransfer.setData(mceInternalDataType, internalContent);\n        }\n      }\n    };\n    var getMceInternalContent = function (e) {\n      var internalContent;\n      if (e.dataTransfer) {\n        internalContent = e.dataTransfer.getData(mceInternalDataType);\n        if (internalContent && internalContent.indexOf(mceInternalUrlPrefix) >= 0) {\n          internalContent = internalContent.substr(mceInternalUrlPrefix.length).split(',');\n          return {\n            id: unescape(internalContent[0]),\n            html: unescape(internalContent[1])\n          };\n        }\n      }\n      return null;\n    };\n    var insertClipboardContents = function (content, internal) {\n      if (editor.queryCommandSupported('mceInsertClipboardContent')) {\n        editor.execCommand('mceInsertClipboardContent', false, {\n          content: content,\n          internal: internal\n        });\n      } else {\n        editor.execCommand('mceInsertContent', false, content);\n      }\n    };\n    var emptyEditorWhenDeleting = function () {\n      var serializeRng = function (rng) {\n        var body = dom.create('body');\n        var contents = rng.cloneContents();\n        body.appendChild(contents);\n        return selection.serializer.serialize(body, { format: 'html' });\n      };\n      var allContentsSelected = function (rng) {\n        var selection = serializeRng(rng);\n        var allRng = dom.createRng();\n        allRng.selectNode(editor.getBody());\n        var allSelection = serializeRng(allRng);\n        return selection === allSelection;\n      };\n      editor.on('keydown', function (e) {\n        var keyCode = e.keyCode;\n        var isCollapsed, body;\n        if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n          isCollapsed = editor.selection.isCollapsed();\n          body = editor.getBody();\n          if (isCollapsed && !dom.isEmpty(body)) {\n            return;\n          }\n          if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n            return;\n          }\n          e.preventDefault();\n          editor.setContent('');\n          if (body.firstChild && dom.isBlock(body.firstChild)) {\n            editor.selection.setCursorLocation(body.firstChild, 0);\n          } else {\n            editor.selection.setCursorLocation(body, 0);\n          }\n          editor.nodeChanged();\n        }\n      });\n    };\n    var selectAll = function () {\n      editor.shortcuts.add('meta+a', null, 'SelectAll');\n    };\n    var inputMethodFocus = function () {\n      if (!editor.settings.content_editable) {\n        dom.bind(editor.getDoc(), 'mousedown mouseup', function (e) {\n          var rng;\n          if (e.target === editor.getDoc().documentElement) {\n            rng = selection.getRng();\n            editor.getBody().focus();\n            if (e.type === 'mousedown') {\n              if (isCaretContainer(rng.startContainer)) {\n                return;\n              }\n              selection.placeCaretAt(e.clientX, e.clientY);\n            } else {\n              selection.setRng(rng);\n            }\n          }\n        });\n      }\n    };\n    var removeHrOnBackspace = function () {\n      editor.on('keydown', function (e) {\n        if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n          if (!editor.getBody().getElementsByTagName('hr').length) {\n            return;\n          }\n          if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n            var node = selection.getNode();\n            var previousSibling = node.previousSibling;\n            if (node.nodeName === 'HR') {\n              dom.remove(node);\n              e.preventDefault();\n              return;\n            }\n            if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n              dom.remove(previousSibling);\n              e.preventDefault();\n            }\n          }\n        }\n      });\n    };\n    var focusBody = function () {\n      if (!Range.prototype.getClientRects) {\n        editor.on('mousedown', function (e) {\n          if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n            var body_1 = editor.getBody();\n            body_1.blur();\n            $_2nbnh1ijnlpawpi.setEditorTimeout(editor, function () {\n              body_1.focus();\n            });\n          }\n        });\n      }\n    };\n    var selectControlElements = function () {\n      editor.on('click', function (e) {\n        var target = e.target;\n        if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n          e.preventDefault();\n          editor.selection.select(target);\n          editor.nodeChanged();\n        }\n        if (target.nodeName === 'A' && dom.hasClass(target, 'mce-item-anchor')) {\n          e.preventDefault();\n          selection.select(target);\n        }\n      });\n    };\n    var removeStylesWhenDeletingAcrossBlockElements = function () {\n      var getAttributeApplyFunction = function () {\n        var template = dom.getAttribs(selection.getStart().cloneNode(false));\n        return function () {\n          var target = selection.getStart();\n          if (target !== editor.getBody()) {\n            dom.setAttrib(target, 'style', null);\n            each(template, function (attr) {\n              target.setAttributeNode(attr.cloneNode(true));\n            });\n          }\n        };\n      };\n      var isSelectionAcrossElements = function () {\n        return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n      };\n      editor.on('keypress', function (e) {\n        var applyAttributes;\n        if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n          applyAttributes = getAttributeApplyFunction();\n          editor.getDoc().execCommand('delete', false, null);\n          applyAttributes();\n          e.preventDefault();\n          return false;\n        }\n      });\n      dom.bind(editor.getDoc(), 'cut', function (e) {\n        var applyAttributes;\n        if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n          applyAttributes = getAttributeApplyFunction();\n          $_2nbnh1ijnlpawpi.setEditorTimeout(editor, function () {\n            applyAttributes();\n          });\n        }\n      });\n    };\n    var disableBackspaceIntoATable = function () {\n      editor.on('keydown', function (e) {\n        if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n          if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n            var previousSibling = selection.getNode().previousSibling;\n            if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n              e.preventDefault();\n              return false;\n            }\n          }\n        }\n      });\n    };\n    var removeBlockQuoteOnBackSpace = function () {\n      editor.on('keydown', function (e) {\n        var rng, container, offset, root, parent$$1;\n        if (isDefaultPrevented(e) || e.keyCode !== $_1qv0695yjnlpaxyk.BACKSPACE) {\n          return;\n        }\n        rng = selection.getRng();\n        container = rng.startContainer;\n        offset = rng.startOffset;\n        root = dom.getRoot();\n        parent$$1 = container;\n        if (!rng.collapsed || offset !== 0) {\n          return;\n        }\n        while (parent$$1 && parent$$1.parentNode && parent$$1.parentNode.firstChild === parent$$1 && parent$$1.parentNode !== root) {\n          parent$$1 = parent$$1.parentNode;\n        }\n        if (parent$$1.tagName === 'BLOCKQUOTE') {\n          editor.formatter.toggle('blockquote', null, parent$$1);\n          rng = dom.createRng();\n          rng.setStart(container, 0);\n          rng.setEnd(container, 0);\n          selection.setRng(rng);\n        }\n      });\n    };\n    var setGeckoEditingOptions = function () {\n      var setOpts = function () {\n        setEditorCommandState('StyleWithCSS', false);\n        setEditorCommandState('enableInlineTableEditing', false);\n        if (!settings.object_resizing) {\n          setEditorCommandState('enableObjectResizing', false);\n        }\n      };\n      if (!settings.readonly) {\n        editor.on('BeforeExecCommand MouseDown', setOpts);\n      }\n    };\n    var addBrAfterLastLinks = function () {\n      var fixLinks = function () {\n        each(dom.select('a'), function (node) {\n          var parentNode = node.parentNode;\n          var root = dom.getRoot();\n          if (parentNode.lastChild === node) {\n            while (parentNode && !dom.isBlock(parentNode)) {\n              if (parentNode.parentNode.lastChild !== parentNode || parentNode === root) {\n                return;\n              }\n              parentNode = parentNode.parentNode;\n            }\n            dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n          }\n        });\n      };\n      editor.on('SetContent ExecCommand', function (e) {\n        if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n          fixLinks();\n        }\n      });\n    };\n    var setDefaultBlockType = function () {\n      if (settings.forced_root_block) {\n        editor.on('init', function () {\n          setEditorCommandState('DefaultParagraphSeparator', settings.forced_root_block);\n        });\n      }\n    };\n    var normalizeSelection = function () {\n      editor.on('keyup focusin mouseup', function (e) {\n        if (!$_1qv0695yjnlpaxyk.modifierPressed(e)) {\n          selection.normalize();\n        }\n      }, true);\n    };\n    var showBrokenImageIcon = function () {\n      editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n    };\n    var restoreFocusOnKeyDown = function () {\n      if (!editor.inline) {\n        editor.on('keydown', function () {\n          if (document.activeElement === document.body) {\n            editor.getWin().focus();\n          }\n        });\n      }\n    };\n    var bodyHeight = function () {\n      if (!editor.inline) {\n        editor.contentStyles.push('body {min-height: 150px}');\n        editor.on('click', function (e) {\n          var rng;\n          if (e.target.nodeName === 'HTML') {\n            if ($_cseqobajnlpawll.ie > 11) {\n              editor.getBody().focus();\n              return;\n            }\n            rng = editor.selection.getRng();\n            editor.getBody().focus();\n            editor.selection.setRng(rng);\n            editor.selection.normalize();\n            editor.nodeChanged();\n          }\n        });\n      }\n    };\n    var blockCmdArrowNavigation = function () {\n      if ($_cseqobajnlpawll.mac) {\n        editor.on('keydown', function (e) {\n          if ($_1qv0695yjnlpaxyk.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n            e.preventDefault();\n            editor.selection.getSel().modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n          }\n        });\n      }\n    };\n    var disableAutoUrlDetect = function () {\n      setEditorCommandState('AutoUrlDetect', false);\n    };\n    var tapLinksAndImages = function () {\n      editor.on('click', function (e) {\n        var elm = e.target;\n        do {\n          if (elm.tagName === 'A') {\n            e.preventDefault();\n            return;\n          }\n        } while (elm = elm.parentNode);\n      });\n      editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n    };\n    var blockFormSubmitInsideEditor = function () {\n      editor.on('init', function () {\n        editor.dom.bind(editor.getBody(), 'submit', function (e) {\n          e.preventDefault();\n        });\n      });\n    };\n    var removeAppleInterchangeBrs = function () {\n      parser.addNodeFilter('br', function (nodes) {\n        var i = nodes.length;\n        while (i--) {\n          if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n            nodes[i].remove();\n          }\n        }\n      });\n    };\n    var ieInternalDragAndDrop = function () {\n      editor.on('dragstart', function (e) {\n        setMceInternalContent(e);\n      });\n      editor.on('drop', function (e) {\n        if (!isDefaultPrevented(e)) {\n          var internalContent = getMceInternalContent(e);\n          if (internalContent && internalContent.id !== editor.id) {\n            e.preventDefault();\n            var rng = $_445zg66wjnlpay63.fromPoint(e.x, e.y, editor.getDoc());\n            selection.setRng(rng);\n            insertClipboardContents(internalContent.html, true);\n          }\n        }\n      });\n    };\n    var refreshContentEditable = function () {\n    };\n    var isHidden = function () {\n      var sel;\n      if (!isGecko || editor.removed) {\n        return 0;\n      }\n      sel = editor.selection.getSel();\n      return !sel || !sel.rangeCount || sel.rangeCount === 0;\n    };\n    removeBlockQuoteOnBackSpace();\n    emptyEditorWhenDeleting();\n    if (!$_cseqobajnlpawll.windowsPhone) {\n      normalizeSelection();\n    }\n    if (isWebKit) {\n      inputMethodFocus();\n      selectControlElements();\n      setDefaultBlockType();\n      blockFormSubmitInsideEditor();\n      disableBackspaceIntoATable();\n      removeAppleInterchangeBrs();\n      if ($_cseqobajnlpawll.iOS) {\n        restoreFocusOnKeyDown();\n        bodyHeight();\n        tapLinksAndImages();\n      } else {\n        selectAll();\n      }\n    }\n    if ($_cseqobajnlpawll.ie >= 11) {\n      bodyHeight();\n      disableBackspaceIntoATable();\n    }\n    if ($_cseqobajnlpawll.ie) {\n      selectAll();\n      disableAutoUrlDetect();\n      ieInternalDragAndDrop();\n    }\n    if (isGecko) {\n      removeHrOnBackspace();\n      focusBody();\n      removeStylesWhenDeletingAcrossBlockElements();\n      setGeckoEditingOptions();\n      addBrAfterLastLinks();\n      showBrokenImageIcon();\n      blockCmdArrowNavigation();\n      disableBackspaceIntoATable();\n    }\n    return {\n      refreshContentEditable: refreshContentEditable,\n      isHidden: isHidden\n    };\n  }\n\n  var isTextBlockNode = function (node) {\n    return $_fy28ei1rjnlpax2o.isElement(node) && isTextBlock(Element$$1.fromDom(node));\n  };\n  var normalizeSelection$1 = function (editor) {\n    var rng = editor.selection.getRng();\n    var startPos = CaretPosition.fromRangeStart(rng);\n    var endPos = CaretPosition.fromRangeEnd(rng);\n    if (CaretPosition.isElementPosition(startPos)) {\n      var container = startPos.container();\n      if (isTextBlockNode(container)) {\n        $_32xcvk30jnlpaxbn.firstPositionIn(container).each(function (pos) {\n          return rng.setStart(pos.container(), pos.offset());\n        });\n      }\n    }\n    if (CaretPosition.isElementPosition(endPos)) {\n      var container = startPos.container();\n      if (isTextBlockNode(container)) {\n        $_32xcvk30jnlpaxbn.lastPositionIn(container).each(function (pos) {\n          return rng.setEnd(pos.container(), pos.offset());\n        });\n      }\n    }\n    editor.selection.setRng($_4fmn0j3qjnlpaxhi.normalize(rng));\n  };\n  var setup$13 = function (editor) {\n    editor.on('click', function (e) {\n      if (e.detail >= 3) {\n        normalizeSelection$1(editor);\n      }\n    });\n  };\n\n  var preventSummaryToggle = function (editor) {\n    editor.on('click', function (e) {\n      if (editor.dom.getParent(e.target, 'details')) {\n        e.preventDefault();\n      }\n    });\n  };\n  var filterDetails = function (editor) {\n    editor.parser.addNodeFilter('details', function (elms) {\n      each(elms, function (details) {\n        details.attr('data-mce-open', details.attr('open'));\n        details.attr('open', 'open');\n      });\n    });\n    editor.serializer.addNodeFilter('details', function (elms) {\n      each(elms, function (details) {\n        var open = details.attr('data-mce-open');\n        details.attr('open', isString(open) ? open : null);\n        details.attr('data-mce-open', null);\n      });\n    });\n  };\n  var setup$14 = function (editor) {\n    preventSummaryToggle(editor);\n    filterDetails(editor);\n  };\n\n  var DOM$2 = DOMUtils$1.DOM;\n  var appendStyle = function (editor, text) {\n    var head = Element$$1.fromDom(editor.getDoc().head);\n    var tag = Element$$1.fromTag('style');\n    $_521j8z15jnlpawz7.set(tag, 'type', 'text/css');\n    $_ag89ax1yjnlpax4x.append(tag, Element$$1.fromText(text));\n    $_ag89ax1yjnlpax4x.append(head, tag);\n  };\n  var createParser = function (editor) {\n    var parser = DomParser(editor.settings, editor.schema);\n    parser.addAttributeFilter('src,href,style,tabindex', function (nodes, name$$1) {\n      var i = nodes.length, node;\n      var dom = editor.dom;\n      var value, internalName;\n      while (i--) {\n        node = nodes[i];\n        value = node.attr(name$$1);\n        internalName = 'data-mce-' + name$$1;\n        if (!node.attributes.map[internalName]) {\n          if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n            continue;\n          }\n          if (name$$1 === 'style') {\n            value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            if (!value.length) {\n              value = null;\n            }\n            node.attr(internalName, value);\n            node.attr(name$$1, value);\n          } else if (name$$1 === 'tabindex') {\n            node.attr(internalName, value);\n            node.attr(name$$1, null);\n          } else {\n            node.attr(internalName, editor.convertURL(value, name$$1, node.name));\n          }\n        }\n      }\n    });\n    parser.addNodeFilter('script', function (nodes) {\n      var i = nodes.length, node, type;\n      while (i--) {\n        node = nodes[i];\n        type = node.attr('type') || 'no/type';\n        if (type.indexOf('mce-') !== 0) {\n          node.attr('type', 'mce-' + type);\n        }\n      }\n    });\n    parser.addNodeFilter('#cdata', function (nodes) {\n      var i = nodes.length, node;\n      while (i--) {\n        node = nodes[i];\n        node.type = 8;\n        node.name = '#comment';\n        node.value = '[CDATA[' + node.value + ']]';\n      }\n    });\n    parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', function (nodes) {\n      var i = nodes.length, node;\n      var nonEmptyElements = editor.schema.getNonEmptyElements();\n      while (i--) {\n        node = nodes[i];\n        if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n          node.append(new Node$2('br', 1)).shortEnded = true;\n        }\n      }\n    });\n    return parser;\n  };\n  var autoFocus = function (editor) {\n    if (editor.settings.auto_focus) {\n      $_2nbnh1ijnlpawpi.setEditorTimeout(editor, function () {\n        var focusEditor;\n        if (editor.settings.auto_focus === true) {\n          focusEditor = editor;\n        } else {\n          focusEditor = editor.editorManager.get(editor.settings.auto_focus);\n        }\n        if (!focusEditor.destroyed) {\n          focusEditor.focus();\n        }\n      }, 100);\n    }\n  };\n  var initEditor = function (editor) {\n    editor.bindPendingEventDelegates();\n    editor.initialized = true;\n    editor.fire('init');\n    editor.focus(true);\n    editor.nodeChanged({ initial: true });\n    editor.execCallback('init_instance_callback', editor);\n    autoFocus(editor);\n  };\n  var getStyleSheetLoader = function (editor) {\n    return editor.inline ? DOM$2.styleSheetLoader : editor.dom.styleSheetLoader;\n    // return ''\n  };\n  var initContentBody = function (editor, skipWrite) {\n    var settings = editor.settings;\n    var targetElm = editor.getElement();\n    var doc = editor.getDoc(), body, contentCssText;\n    if (!settings.inline) {\n      editor.getElement().style.visibility = editor.orgVisibility;\n    }\n    if (!skipWrite && !settings.content_editable) {\n      doc.open();\n      doc.write(editor.iframeHTML);\n      doc.close();\n    }\n    if (settings.content_editable) {\n      editor.on('remove', function () {\n        var bodyEl = this.getBody();\n        DOM$2.removeClass(bodyEl, 'mce-content-body');\n        DOM$2.removeClass(bodyEl, 'mce-edit-focus');\n        DOM$2.setAttrib(bodyEl, 'contentEditable', null);\n      });\n      DOM$2.addClass(targetElm, 'mce-content-body');\n      editor.contentDocument = doc = settings.content_document || document;\n      editor.contentWindow = settings.content_window || window;\n      editor.bodyElement = targetElm;\n      settings.content_document = settings.content_window = null;\n      settings.root_name = targetElm.nodeName.toLowerCase();\n    }\n    body = editor.getBody();\n    body.disabled = true;\n    editor.readonly = settings.readonly;\n    if (!editor.readonly) {\n      if (editor.inline && DOM$2.getStyle(body, 'position', true) === 'static') {\n        body.style.position = 'relative';\n      }\n      body.contentEditable = editor.getParam('content_editable_state', true);\n    }\n    body.disabled = false;\n    editor.editorUpload = EditorUpload(editor);\n    editor.schema = Schema(settings);\n    editor.dom = DOMUtils$1(doc, {\n      keep_values: true,\n      url_converter: editor.convertURL,\n      url_converter_scope: editor,\n      hex_colors: settings.force_hex_style_colors,\n      class_filter: settings.class_filter,\n      update_styles: true,\n      root_element: editor.inline ? editor.getBody() : null,\n      collect: settings.content_editable,\n      schema: editor.schema,\n      onSetAttrib: function (e) {\n        editor.fire('SetAttrib', e);\n      }\n    });\n    editor.parser = createParser(editor);\n    editor.serializer = DomSerializer$1(settings, editor);\n    editor.selection = Selection$1(editor.dom, editor.getWin(), editor.serializer, editor);\n    editor.annotator = Annotator(editor);\n    editor.formatter = Formatter(editor);\n    editor.undoManager = UndoManager(editor);\n    editor._nodeChangeDispatcher = new NodeChange(editor);\n    editor._selectionOverrides = SelectionOverrides(editor);\n    setup$14(editor);\n    setup$13(editor);\n    $_cvby1r74jnlpayci.setup(editor);\n    $_cjqvqq5njnlpaxw3.setup(editor);\n    editor.fire('PreInit');\n    if (!settings.browser_spellcheck && !settings.gecko_spellcheck) {\n      doc.body.spellcheck = false;\n      DOM$2.setAttrib(body, 'spellcheck', 'false');\n    }\n    editor.quirks = Quirks(editor);\n    editor.fire('PostRender');\n    if (settings.directionality) {\n      body.dir = settings.directionality;\n    }\n    if (settings.nowrap) {\n      body.style.whiteSpace = 'nowrap';\n    }\n    if (settings.protect) {\n      editor.on('BeforeSetContent', function (e) {\n        $_1q1txeljnlpawsa.each(settings.protect, function (pattern) {\n          e.content = e.content.replace(pattern, function (str) {\n            return '<!--mce:protected ' + escape(str) + '-->';\n          });\n        });\n      });\n    }\n    editor.on('SetContent', function () {\n      editor.addVisual(editor.getBody());\n    });\n    editor.load({\n      initial: true,\n      format: 'html'\n    });\n    editor.startContent = editor.getContent({ format: 'raw' });\n    editor.on('compositionstart compositionend', function (e) {\n      editor.composing = e.type === 'compositionstart';\n    });\n    if (editor.contentStyles.length > 0) {\n      contentCssText = '';\n      $_1q1txeljnlpawsa.each(editor.contentStyles, function (style) {\n        contentCssText += style + '\\r\\n';\n      });\n      editor.dom.addStyle(contentCssText);\n    }\n    getStyleSheetLoader(editor).loadAll(editor.contentCSS, function (_) {\n      initEditor(editor);\n    }, function (urls) {\n      initEditor(editor);\n    });\n    if (settings.content_style) {\n      appendStyle(editor, settings.content_style);\n    }\n  };\n  var $_8cqui75bjnlpaxue = { initContentBody: initContentBody };\n\n  var DOM$3 = DOMUtils$1.DOM;\n  var relaxDomain = function (editor, ifr) {\n    if (document.domain !== window.location.hostname && $_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie < 12) {\n      var bodyUuid = $_cb5mec5ljnlpaxvz.uuid('mce');\n      editor[bodyUuid] = function () {\n        $_8cqui75bjnlpaxue.initContentBody(editor);\n      };\n      var domainRelaxUrl = 'javascript:(function(){' + 'document.open();document.domain=\"' + document.domain + '\";' + 'var ed = window.parent.tinymce.get(\"' + editor.id + '\");document.write(ed.iframeHTML);' + 'document.close();ed.' + bodyUuid + '(true);})()';\n      DOM$3.setAttrib(ifr, 'src', domainRelaxUrl);\n      return true;\n    }\n    return false;\n  };\n  var normalizeHeight = function (height) {\n    var normalizedHeight = typeof height === 'number' ? height + 'px' : height;\n    return normalizedHeight ? normalizedHeight : '';\n  };\n  var createIframeElement = function (id, title, height, customAttrs) {\n    var iframe = Element$$1.fromTag('iframe');\n    $_521j8z15jnlpawz7.setAll(iframe, customAttrs);\n    $_521j8z15jnlpawz7.setAll(iframe, {\n      id: id + '_ifr',\n      frameBorder: '0',\n      allowTransparency: 'true',\n      title: title\n    });\n    $_asiuhf13jnlpawvc.setAll(iframe, {\n      width: '100%',\n      height: normalizeHeight(height),\n      display: 'block'\n    });\n    return iframe;\n  };\n  var getIframeHtml = function (editor) {\n    var bodyId, bodyClass, iframeHTML;\n    iframeHTML = $_c6e09z3ajnlpaxek.getDocType(editor) + '<html><head>';\n    if ($_c6e09z3ajnlpaxek.getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n      iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n    }\n    iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n    bodyId = $_c6e09z3ajnlpaxek.getBodyId(editor);\n    bodyClass = $_c6e09z3ajnlpaxek.getBodyClass(editor);\n    if ($_c6e09z3ajnlpaxek.getContentSecurityPolicy(editor)) {\n      iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + $_c6e09z3ajnlpaxek.getContentSecurityPolicy(editor) + '\" />';\n    }\n    iframeHTML += '</head><body id=\"' + bodyId + '\" class=\"mce-content-body ' + bodyClass + '\" data-id=\"' + editor.id + '\"><br></body></html>';\n    return iframeHTML;\n  };\n  var createIframe = function (editor, o) {\n    var title = editor.editorManager.translate('Rich Text Area. Press ALT-F9 for menu. ' + 'Press ALT-F10 for toolbar. Press ALT-0 for help');\n    var ifr = createIframeElement(editor.id, title, o.height, $_c6e09z3ajnlpaxek.getIframeAttrs(editor)).dom();\n    ifr.onload = function () {\n      ifr.onload = null;\n      editor.fire('load');\n    };\n    var isDomainRelaxed = relaxDomain(editor, ifr);\n    editor.contentAreaContainer = o.iframeContainer;\n    editor.iframeElement = ifr;\n    editor.iframeHTML = getIframeHtml(editor);\n    DOM$3.add(o.iframeContainer, ifr);\n    return isDomainRelaxed;\n  };\n  var init$1 = function (editor, boxInfo) {\n    var isDomainRelaxed = createIframe(editor, boxInfo);\n    if (boxInfo.editorContainer) {\n      DOM$3.get(boxInfo.editorContainer).style.display = editor.orgDisplay;\n      editor.hidden = DOM$3.isHidden(boxInfo.editorContainer);\n    }\n    editor.getElement().style.display = 'none';\n    DOM$3.setAttrib(editor.id, 'aria-hidden', 'true');\n    if (!isDomainRelaxed) {\n      $_8cqui75bjnlpaxue.initContentBody(editor);\n    }\n  };\n  var $_aablho7njnlpayfx = { init: init$1 };\n\n  var DOM$4 = DOMUtils$1.DOM;\n  var initPlugin = function (editor, initializedPlugins, plugin) {\n    var Plugin = PluginManager$1.get(plugin);\n    var pluginUrl, pluginInstance;\n    pluginUrl = PluginManager$1.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n    plugin = $_1q1txeljnlpawsa.trim(plugin);\n    if (Plugin && $_1q1txeljnlpawsa.inArray(initializedPlugins, plugin) === -1) {\n      $_1q1txeljnlpawsa.each(PluginManager$1.dependencies(plugin), function (dep) {\n        initPlugin(editor, initializedPlugins, dep);\n      });\n      if (editor.plugins[plugin]) {\n        return;\n      }\n      pluginInstance = new Plugin(editor, pluginUrl, editor.$);\n      editor.plugins[plugin] = pluginInstance;\n      if (pluginInstance.init) {\n        pluginInstance.init(editor, pluginUrl);\n        initializedPlugins.push(plugin);\n      }\n    }\n  };\n  var trimLegacyPrefix = function (name) {\n    return name.replace(/^\\-/, '');\n  };\n  var initPlugins = function (editor) {\n    var initializedPlugins = [];\n    $_1q1txeljnlpawsa.each(editor.settings.plugins.split(/[ ,]/), function (name) {\n      initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n    });\n  };\n  var initTheme = function (editor) {\n    var Theme;\n    var theme = editor.settings.theme;\n    if (isString(theme)) {\n      editor.settings.theme = trimLegacyPrefix(theme);\n      Theme = ThemeManager.get(theme);\n      editor.theme = new Theme(editor, ThemeManager.urls[theme]);\n      if (editor.theme.init) {\n        editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''), editor.$);\n      }\n    } else {\n      editor.theme = {};\n    }\n  };\n  var renderFromLoadedTheme = function (editor) {\n    var w, h, minHeight, re, info;\n    var settings = editor.settings;\n    var elm = editor.getElement();\n    w = settings.width || DOM$4.getStyle(elm, 'width') || '100%';\n    h = settings.height || DOM$4.getStyle(elm, 'height') || elm.offsetHeight;\n    minHeight = settings.min_height || 100;\n    re = /^[0-9\\.]+(|px)$/i;\n    if (re.test('' + w)) {\n      w = Math.max(parseInt(w, 10), 100);\n    }\n    if (re.test('' + h)) {\n      h = Math.max(parseInt(h, 10), minHeight);\n    }\n    info = editor.theme.renderUI({\n      targetNode: elm,\n      width: w,\n      height: h,\n      deltaWidth: settings.delta_width,\n      deltaHeight: settings.delta_height\n    });\n    if (!settings.content_editable) {\n      h = (info.iframeHeight || h) + (typeof h === 'number' ? info.deltaHeight || 0 : '');\n      if (h < minHeight) {\n        h = minHeight;\n      }\n    }\n    info.height = h;\n    return info;\n  };\n  var renderFromThemeFunc = function (editor) {\n    var info;\n    var elm = editor.getElement();\n    info = editor.settings.theme(editor, elm);\n    if (info.editorContainer.nodeType) {\n      info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n    }\n    if (info.iframeContainer && info.iframeContainer.nodeType) {\n      info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n    }\n    info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n    return info;\n  };\n  var createThemeFalseResult = function (element) {\n    return {\n      editorContainer: element,\n      iframeContainer: element\n    };\n  };\n  var renderThemeFalseIframe = function (targetElement) {\n    var iframeContainer = DOM$4.create('div');\n    DOM$4.insertAfter(iframeContainer, targetElement);\n    return createThemeFalseResult(iframeContainer);\n  };\n  var renderThemeFalse = function (editor) {\n    var targetElement = editor.getElement();\n    return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n  };\n  var renderThemeUi = function (editor) {\n    var settings = editor.settings, elm = editor.getElement();\n    editor.orgDisplay = elm.style.display;\n    if (isString(settings.theme)) {\n      return renderFromLoadedTheme(editor);\n    } else if (isFunction(settings.theme)) {\n      return renderFromThemeFunc(editor);\n    } else {\n      return renderThemeFalse(editor);\n    }\n  };\n  var init$2 = function (editor) {\n    var settings = editor.settings;\n    var elm = editor.getElement();\n    var boxInfo;\n    editor.rtl = settings.rtl_ui || editor.editorManager.i18n.rtl;\n    editor.editorManager.i18n.setCode(settings.language);\n    settings.aria_label = settings.aria_label || DOM$4.getAttrib(elm, 'aria-label', editor.getLang('aria.rich_text_area'));\n    editor.fire('ScriptsLoaded');\n    initTheme(editor);\n    initPlugins(editor);\n    boxInfo = renderThemeUi(editor);\n    editor.editorContainer = boxInfo.editorContainer ? boxInfo.editorContainer : null;\n    if (settings.content_css) {\n      $_1q1txeljnlpawsa.each($_1q1txeljnlpawsa.explode(settings.content_css), function (u) {\n        editor.contentCSS.push(editor.documentBaseURI.toAbsolute(u));\n      });\n    }\n    if (settings.content_editable) {\n      return $_8cqui75bjnlpaxue.initContentBody(editor);\n    } else {\n      return $_aablho7njnlpayfx.init(editor, boxInfo);\n    }\n  };\n  var $_99cvli58jnlpaxu5 = { init: init$2 };\n\n  var DOM$5 = DOMUtils$1.DOM;\n  var hasSkipLoadPrefix = function (name$$1) {\n    return name$$1.charAt(0) === '-';\n  };\n  var loadLanguage = function (scriptLoader, editor) {\n    var settings = editor.settings;\n    if (settings.language && settings.language !== 'en' && !settings.language_url) {\n      settings.language_url = editor.editorManager.baseURL + '/langs/' + settings.language + '.js';\n    }\n    if (settings.language_url && !editor.editorManager.i18n.data[settings.language]) {\n      scriptLoader.add(settings.language_url);\n    }\n  };\n  var loadTheme = function (scriptLoader, editor, suffix, callback) {\n    var settings = editor.settings, theme = settings.theme;\n    if (isString(theme)) {\n      if (!hasSkipLoadPrefix(theme) && !ThemeManager.urls.hasOwnProperty(theme)) {\n        var themeUrl = settings.theme_url;\n        if (themeUrl) {\n          ThemeManager.load(theme, editor.documentBaseURI.toAbsolute(themeUrl));\n        } else {\n          ThemeManager.load(theme, 'themes/' + theme + '/theme' + suffix + '.js');\n        }\n      }\n      scriptLoader.loadQueue(function () {\n        ThemeManager.waitFor(theme, callback);\n      });\n    } else {\n      callback();\n    }\n  };\n  var loadPlugins = function (settings, suffix) {\n    if ($_1q1txeljnlpawsa.isArray(settings.plugins)) {\n      settings.plugins = settings.plugins.join(' ');\n    }\n    $_1q1txeljnlpawsa.each(settings.external_plugins, function (url, name$$1) {\n      PluginManager$1.load(name$$1, url);\n      settings.plugins += ' ' + name$$1;\n    });\n    $_1q1txeljnlpawsa.each(settings.plugins.split(/[ ,]/), function (plugin) {\n      plugin = $_1q1txeljnlpawsa.trim(plugin);\n      if (plugin && !PluginManager$1.urls[plugin]) {\n        if (hasSkipLoadPrefix(plugin)) {\n          plugin = plugin.substr(1, plugin.length);\n          var dependencies = PluginManager$1.dependencies(plugin);\n          $_1q1txeljnlpawsa.each(dependencies, function (dep) {\n            var defaultSettings = {\n              prefix: 'plugins/',\n              resource: dep,\n              suffix: '/plugin' + suffix + '.js'\n            };\n            dep = PluginManager$1.createUrl(defaultSettings, dep);\n            PluginManager$1.load(dep.resource, dep);\n          });\n        } else {\n          PluginManager$1.load(plugin, {\n            prefix: 'plugins/',\n            resource: plugin,\n            suffix: '/plugin' + suffix + '.js'\n          });\n        }\n      }\n    });\n  };\n  var loadScripts = function (editor, suffix) {\n    var scriptLoader = ScriptLoader.ScriptLoader;\n    loadTheme(scriptLoader, editor, suffix, function () {\n      loadLanguage(scriptLoader, editor);\n      loadPlugins(editor.settings, suffix);\n      scriptLoader.loadQueue(function () {\n        if (!editor.removed) {\n          $_99cvli58jnlpaxu5.init(editor);\n        }\n      }, editor, function (urls) {\n        $_2xhw4u57jnlpaxu1.pluginLoadError(editor, urls[0]);\n        if (!editor.removed) {\n          $_99cvli58jnlpaxu5.init(editor);\n        }\n      });\n    });\n  };\n  var render = function (editor) {\n    var settings = editor.settings, id = editor.id;\n    var readyHandler = function () {\n      DOM$5.unbind(window, 'ready', readyHandler);\n      editor.render();\n    };\n    if (!EventUtils.Event.domLoaded) {\n      DOM$5.bind(window, 'ready', readyHandler);\n      return;\n    }\n    if (!editor.getElement()) {\n      return;\n    }\n    if (!$_cseqobajnlpawll.contentEditable) {\n      return;\n    }\n    if (!settings.inline) {\n      editor.orgVisibility = editor.getElement().style.visibility;\n      editor.getElement().style.visibility = 'hidden';\n    } else {\n      editor.inline = true;\n    }\n    var form = editor.getElement().form || DOM$5.getParent(id, 'form');\n    if (form) {\n      editor.formElement = form;\n      if (settings.hidden_input && !/TEXTAREA|INPUT/i.test(editor.getElement().nodeName)) {\n        DOM$5.insertAfter(DOM$5.create('input', {\n          type: 'hidden',\n          name: id\n        }), id);\n        editor.hasHiddenInput = true;\n      }\n      editor.formEventDelegate = function (e) {\n        editor.fire(e.type, e);\n      };\n      DOM$5.bind(form, 'submit reset', editor.formEventDelegate);\n      editor.on('reset', function () {\n        editor.setContent(editor.startContent, { format: 'raw' });\n      });\n      if (settings.submit_patch && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n        form._mceOldSubmit = form.submit;\n        form.submit = function () {\n          editor.editorManager.triggerSave();\n          editor.setDirty(false);\n          return form._mceOldSubmit(form);\n        };\n      }\n    }\n    editor.windowManager = WindowManager(editor);\n    editor.notificationManager = NotificationManager(editor);\n    if (settings.encoding === 'xml') {\n      editor.on('GetContent', function (e) {\n        if (e.save) {\n          e.content = DOM$5.encode(e.content);\n        }\n      });\n    }\n    if (settings.add_form_submit_trigger) {\n      editor.on('submit', function () {\n        if (editor.initialized) {\n          editor.save();\n        }\n      });\n    }\n    if (settings.add_unload_trigger) {\n      editor._beforeUnload = function () {\n        if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n          editor.save({\n            format: 'raw',\n            no_events: true,\n            set_dirty: false\n          });\n        }\n      };\n      editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n    }\n    editor.editorManager.add(editor);\n    loadScripts(editor, editor.suffix);\n  };\n  var $_eajmw851jnlpaxt7 = { render: render };\n\n  var add$4 = function (editor, name, settings) {\n    var sidebars = editor.sidebars ? editor.sidebars : [];\n    sidebars.push({\n      name: name,\n      settings: settings\n    });\n    editor.sidebars = sidebars;\n  };\n  var $_g47nm77ojnlpayg6 = { add: add$4 };\n\n  var each$20 = $_1q1txeljnlpawsa.each;\n  var trim$4 = $_1q1txeljnlpawsa.trim;\n  var queryParts = 'source protocol authority userInfo user password host port relative path directory file query anchor'.split(' ');\n  var DEFAULT_PORTS = {\n    ftp: 21,\n    http: 80,\n    https: 443,\n    mailto: 25\n  };\n  var URI = function (url, settings) {\n    var self$$1 = this;\n    var baseUri, baseUrl;\n    url = trim$4(url);\n    settings = self$$1.settings = settings || {};\n    baseUri = settings.base_uri;\n    if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n      self$$1.source = url;\n      return;\n    }\n    var isProtocolRelative = url.indexOf('//') === 0;\n    if (url.indexOf('/') === 0 && !isProtocolRelative) {\n      url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n    }\n    if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n      baseUrl = settings.base_uri ? settings.base_uri.path : new URI(document.location.href).directory;\n      if (settings.base_uri.protocol == '') {\n        url = '//mce_host' + self$$1.toAbsPath(baseUrl, url);\n      } else {\n        url = /([^#?]*)([#?]?.*)/.exec(url);\n        url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self$$1.toAbsPath(baseUrl, url[1]) + url[2];\n      }\n    }\n    url = url.replace(/@@/g, '(mce_at)');\n    url = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n    each$20(queryParts, function (v, i) {\n      var part = url[i];\n      if (part) {\n        part = part.replace(/\\(mce_at\\)/g, '@@');\n      }\n      self$$1[v] = part;\n    });\n    if (baseUri) {\n      if (!self$$1.protocol) {\n        self$$1.protocol = baseUri.protocol;\n      }\n      if (!self$$1.userInfo) {\n        self$$1.userInfo = baseUri.userInfo;\n      }\n      if (!self$$1.port && self$$1.host === 'mce_host') {\n        self$$1.port = baseUri.port;\n      }\n      if (!self$$1.host || self$$1.host === 'mce_host') {\n        self$$1.host = baseUri.host;\n      }\n      self$$1.source = '';\n    }\n    if (isProtocolRelative) {\n      self$$1.protocol = '';\n    }\n  };\n  URI.prototype = {\n    setPath: function (path) {\n      var self$$1 = this;\n      path = /^(.*?)\\/?(\\w+)?$/.exec(path);\n      self$$1.path = path[0];\n      self$$1.directory = path[1];\n      self$$1.file = path[2];\n      self$$1.source = '';\n      self$$1.getURI();\n    },\n    toRelative: function (uri) {\n      var self$$1 = this;\n      var output;\n      if (uri === './') {\n        return uri;\n      }\n      uri = new URI(uri, { base_uri: self$$1 });\n      if (uri.host !== 'mce_host' && self$$1.host !== uri.host && uri.host || self$$1.port !== uri.port || self$$1.protocol !== uri.protocol && uri.protocol !== '') {\n        return uri.getURI();\n      }\n      var tu = self$$1.getURI(), uu = uri.getURI();\n      if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n        return tu;\n      }\n      output = self$$1.toRelPath(self$$1.path, uri.path);\n      if (uri.query) {\n        output += '?' + uri.query;\n      }\n      if (uri.anchor) {\n        output += '#' + uri.anchor;\n      }\n      return output;\n    },\n    toAbsolute: function (uri, noHost) {\n      uri = new URI(uri, { base_uri: this });\n      return uri.getURI(noHost && this.isSameOrigin(uri));\n    },\n    isSameOrigin: function (uri) {\n      if (this.host == uri.host && this.protocol == uri.protocol) {\n        if (this.port == uri.port) {\n          return true;\n        }\n        var defaultPort = DEFAULT_PORTS[this.protocol];\n        if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    toRelPath: function (base, path) {\n      var items, breakPoint = 0, out = '', i, l;\n      base = base.substring(0, base.lastIndexOf('/'));\n      base = base.split('/');\n      items = path.split('/');\n      if (base.length >= items.length) {\n        for (i = 0, l = base.length; i < l; i++) {\n          if (i >= items.length || base[i] !== items[i]) {\n            breakPoint = i + 1;\n            break;\n          }\n        }\n      }\n      if (base.length < items.length) {\n        for (i = 0, l = items.length; i < l; i++) {\n          if (i >= base.length || base[i] !== items[i]) {\n            breakPoint = i + 1;\n            break;\n          }\n        }\n      }\n      if (breakPoint === 1) {\n        return path;\n      }\n      for (i = 0, l = base.length - (breakPoint - 1); i < l; i++) {\n        out += '../';\n      }\n      for (i = breakPoint - 1, l = items.length; i < l; i++) {\n        if (i !== breakPoint - 1) {\n          out += '/' + items[i];\n        } else {\n          out += items[i];\n        }\n      }\n      return out;\n    },\n    toAbsPath: function (base, path) {\n      var i, nb = 0, o = [], tr, outPath;\n      tr = /\\/$/.test(path) ? '/' : '';\n      base = base.split('/');\n      path = path.split('/');\n      each$20(base, function (k) {\n        if (k) {\n          o.push(k);\n        }\n      });\n      base = o;\n      for (i = path.length - 1, o = []; i >= 0; i--) {\n        if (path[i].length === 0 || path[i] === '.') {\n          continue;\n        }\n        if (path[i] === '..') {\n          nb++;\n          continue;\n        }\n        if (nb > 0) {\n          nb--;\n          continue;\n        }\n        o.push(path[i]);\n      }\n      i = base.length - nb;\n      if (i <= 0) {\n        outPath = o.reverse().join('/');\n      } else {\n        outPath = base.slice(0, i).join('/') + '/' + o.reverse().join('/');\n      }\n      if (outPath.indexOf('/') !== 0) {\n        outPath = '/' + outPath;\n      }\n      if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n        outPath += tr;\n      }\n      return outPath;\n    },\n    getURI: function (noProtoHost) {\n      var s;\n      var self$$1 = this;\n      if (!self$$1.source || noProtoHost) {\n        s = '';\n        if (!noProtoHost) {\n          if (self$$1.protocol) {\n            s += self$$1.protocol + '://';\n          } else {\n            s += '//';\n          }\n          if (self$$1.userInfo) {\n            s += self$$1.userInfo + '@';\n          }\n          if (self$$1.host) {\n            s += self$$1.host;\n          }\n          if (self$$1.port) {\n            s += ':' + self$$1.port;\n          }\n        }\n        if (self$$1.path) {\n          s += self$$1.path;\n        }\n        if (self$$1.query) {\n          s += '?' + self$$1.query;\n        }\n        if (self$$1.anchor) {\n          s += '#' + self$$1.anchor;\n        }\n        self$$1.source = s;\n      }\n      return self$$1.source;\n    }\n  };\n  URI.parseDataUri = function (uri) {\n    var type, matches;\n    uri = decodeURIComponent(uri).split(',');\n    matches = /data:([^;]+)/.exec(uri[0]);\n    if (matches) {\n      type = matches[1];\n    }\n    return {\n      type: type,\n      data: uri[1]\n    };\n  };\n  URI.getDocumentBaseUrl = function (loc) {\n    var baseUrl;\n    if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n      baseUrl = loc.href;\n    } else {\n      baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n    }\n    if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n      baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n      if (!/[\\/\\\\]$/.test(baseUrl)) {\n        baseUrl += '/';\n      }\n    }\n    return baseUrl;\n  };\n\n  var defaultFormat = 'html';\n  var trimEmptyContents = function (editor, html) {\n    var blockName = $_c6e09z3ajnlpaxek.getForcedRootBlock(editor);\n    var emptyRegExp = new RegExp('^(<' + blockName + '[^>]*>(&nbsp;|&#160;|\\\\s|\\xA0|<br \\\\/>|)<\\\\/' + blockName + '>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$');\n    return html.replace(emptyRegExp, '');\n  };\n  var getContentFromBody = function (editor, args, body) {\n    var content;\n    args.format = args.format ? args.format : defaultFormat;\n    args.get = true;\n    args.getInner = true;\n    if (!args.no_events) {\n      editor.fire('BeforeGetContent', args);\n    }\n    if (args.format === 'raw') {\n      content = $_1q1txeljnlpawsa.trim($_9cq8vj61jnlpaxzc.trimExternal(editor.serializer, body.innerHTML));\n    } else if (args.format === 'text') {\n      content = $_90hfb72rjnlpaxae.trim(body.innerText || body.textContent);\n    } else if (args.format === 'tree') {\n      return editor.serializer.serialize(body, args);\n    } else {\n      content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n    }\n    if (args.format !== 'text' && !isWsPreserveElement(Element$$1.fromDom(body))) {\n      args.content = $_1q1txeljnlpawsa.trim(content);\n    } else {\n      args.content = content;\n    }\n    if (!args.no_events) {\n      editor.fire('GetContent', args);\n    }\n    return args.content;\n  };\n  var getContent$1 = function (editor, args) {\n    if (args === void 0) {\n      args = {};\n    }\n    return Option.from(editor.getBody()).fold(constant(args.format === 'tree' ? new Node$2('body', 11) : ''), function (body) {\n      return getContentFromBody(editor, args, body);\n    });\n  };\n\n  var traverse = function (node, fn) {\n    fn(node);\n    if (node.firstChild) {\n      traverse(node.firstChild, fn);\n    }\n    if (node.next) {\n      traverse(node.next, fn);\n    }\n  };\n  var findMatchingNodes = function (nodeFilters, attributeFilters, node) {\n    var nodeMatches = {};\n    var attrMatches = {};\n    var matches = [];\n    if (node.firstChild) {\n      traverse(node.firstChild, function (node) {\n        each(nodeFilters, function (filter$$1) {\n          if (filter$$1.name === node.name) {\n            if (nodeMatches[filter$$1.name]) {\n              nodeMatches[filter$$1.name].nodes.push(node);\n            } else {\n              nodeMatches[filter$$1.name] = {\n                filter: filter$$1,\n                nodes: [node]\n              };\n            }\n          }\n        });\n        each(attributeFilters, function (filter$$1) {\n          if (typeof node.attr(filter$$1.name) === 'string') {\n            if (attrMatches[filter$$1.name]) {\n              attrMatches[filter$$1.name].nodes.push(node);\n            } else {\n              attrMatches[filter$$1.name] = {\n                filter: filter$$1,\n                nodes: [node]\n              };\n            }\n          }\n        });\n      });\n    }\n    for (var name in nodeMatches) {\n      if (nodeMatches.hasOwnProperty(name)) {\n        matches.push(nodeMatches[name]);\n      }\n    }\n    for (var name in attrMatches) {\n      if (attrMatches.hasOwnProperty(name)) {\n        matches.push(attrMatches[name]);\n      }\n    }\n    return matches;\n  };\n  var filter$3 = function (nodeFilters, attributeFilters, node) {\n    var matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n    each(matches, function (match) {\n      each(match.filter.callbacks, function (callback) {\n        callback(match.nodes, match.filter.name, {});\n      });\n    });\n  };\n\n  var defaultFormat$1 = 'html';\n  var isTreeNode = function (content) {\n    return content instanceof Node$2;\n  };\n  var moveSelection = function (editor) {\n    if ($_8odu5n4yjnlpaxsg.hasFocus(editor)) {\n      $_32xcvk30jnlpaxbn.firstPositionIn(editor.getBody()).each(function (pos) {\n        var node = pos.getNode();\n        var caretPos = $_fy28ei1rjnlpax2o.isTable(node) ? $_32xcvk30jnlpaxbn.firstPositionIn(node).getOr(pos) : pos;\n        editor.selection.setRng(caretPos.toRange());\n      });\n    }\n  };\n  var setEditorHtml = function (editor, html) {\n    editor.dom.setHTML(editor.getBody(), html);\n    moveSelection(editor);\n  };\n  var setContentString = function (editor, body, content, args) {\n    var forcedRootBlockName, padd;\n    if (content.length === 0 || /^\\s+$/.test(content)) {\n      padd = '<br data-mce-bogus=\"1\">';\n      if (body.nodeName === 'TABLE') {\n        content = '<tr><td>' + padd + '</td></tr>';\n      } else if (/^(UL|OL)$/.test(body.nodeName)) {\n        content = '<li>' + padd + '</li>';\n      }\n      forcedRootBlockName = $_c6e09z3ajnlpaxek.getForcedRootBlock(editor);\n      if (forcedRootBlockName && editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n        content = padd;\n        content = editor.dom.createHTML(forcedRootBlockName, editor.settings.forced_root_block_attrs, content);\n      } else if (!content) {\n        content = '<br data-mce-bogus=\"1\">';\n      }\n      setEditorHtml(editor, content);\n      editor.fire('SetContent', args);\n    } else {\n      if (args.format !== 'raw') {\n        content = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(editor.parser.parse(content, {\n          isRootContent: true,\n          insert: true\n        }));\n      }\n      args.content = isWsPreserveElement(Element$$1.fromDom(body)) ? content : $_1q1txeljnlpawsa.trim(content);\n      setEditorHtml(editor, args.content);\n      if (!args.no_events) {\n        editor.fire('SetContent', args);\n      }\n    }\n    return args.content;\n  };\n  var setContentTree = function (editor, body, content, args) {\n    filter$3(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n    var html = HtmlSerializer({ validate: editor.validate }, editor.schema).serialize(content);\n    args.content = isWsPreserveElement(Element$$1.fromDom(body)) ? html : $_1q1txeljnlpawsa.trim(html);\n    setEditorHtml(editor, args.content);\n    if (!args.no_events) {\n      editor.fire('SetContent', args);\n    }\n    return content;\n  };\n  var setContent$1 = function (editor, content, args) {\n    if (args === void 0) {\n      args = {};\n    }\n    args.format = args.format ? args.format : defaultFormat$1;\n    args.set = true;\n    args.content = isTreeNode(content) ? '' : content;\n    if (!isTreeNode(content) && !args.no_events) {\n      editor.fire('BeforeSetContent', args);\n      content = args.content;\n    }\n    return Option.from(editor.getBody()).fold(constant(content), function (body) {\n      return isTreeNode(content) ? setContentTree(editor, body, content, args) : setContentString(editor, body, content, args);\n    });\n  };\n\n  var DOM$6 = DOMUtils$1.DOM;\n  var restoreOriginalStyles = function (editor) {\n    DOM$6.setStyle(editor.id, 'display', editor.orgDisplay);\n  };\n  var safeDestroy = function (x) {\n    return Option.from(x).each(function (x) {\n      return x.destroy();\n    });\n  };\n  var clearDomReferences = function (editor) {\n    editor.contentAreaContainer = editor.formElement = editor.container = editor.editorContainer = null;\n    editor.bodyElement = editor.contentDocument = editor.contentWindow = null;\n    editor.iframeElement = editor.targetElm = null;\n    if (editor.selection) {\n      editor.selection = editor.selection.win = editor.selection.dom = editor.selection.dom.doc = null;\n    }\n  };\n  var restoreForm = function (editor) {\n    var form = editor.formElement;\n    if (form) {\n      if (form._mceOldSubmit) {\n        form.submit = form._mceOldSubmit;\n        form._mceOldSubmit = null;\n      }\n      DOM$6.unbind(form, 'submit reset', editor.formEventDelegate);\n    }\n  };\n  var remove$9 = function (editor) {\n    if (!editor.removed) {\n      var _selectionOverrides = editor._selectionOverrides, editorUpload = editor.editorUpload;\n      var body = editor.getBody();\n      var element = editor.getElement();\n      if (body) {\n        editor.save({ is_removing: true });\n      }\n      editor.removed = true;\n      editor.unbindAllNativeEvents();\n      if (editor.hasHiddenInput && element) {\n        DOM$6.remove(element.nextSibling);\n      }\n      if (!editor.inline && body) {\n        restoreOriginalStyles(editor);\n      }\n      $_5atig84wjnlpaxs7.fireRemove(editor);\n      editor.editorManager.remove(editor);\n      DOM$6.remove(editor.getContainer());\n      safeDestroy(_selectionOverrides);\n      safeDestroy(editorUpload);\n      editor.destroy();\n    }\n  };\n  var destroy = function (editor, automatic) {\n    var selection = editor.selection, dom = editor.dom;\n    if (editor.destroyed) {\n      return;\n    }\n    if (!automatic && !editor.removed) {\n      editor.remove();\n      return;\n    }\n    if (!automatic) {\n      editor.editorManager.off('beforeunload', editor._beforeUnload);\n      if (editor.theme && editor.theme.destroy) {\n        editor.theme.destroy();\n      }\n      safeDestroy(selection);\n      safeDestroy(dom);\n    }\n    restoreForm(editor);\n    clearDomReferences(editor);\n    editor.destroyed = true;\n  };\n\n  var DOM$7 = DOMUtils$1.DOM;\n  var extend$4 = $_1q1txeljnlpawsa.extend;\n  var each$21 = $_1q1txeljnlpawsa.each;\n  var resolve$4 = $_1q1txeljnlpawsa.resolve;\n  var ie$2 = $_cseqobajnlpawll.ie;\n  var Editor = function (id, settings, editorManager) {\n    var self = this;\n    var documentBaseUrl = self.documentBaseUrl = editorManager.documentBaseURL;\n    var baseUri = editorManager.baseURI;\n    settings = getEditorSettings(self, id, documentBaseUrl, editorManager.defaultSettings, settings);\n    self.settings = settings;\n    AddOnManager.language = settings.language || 'en';\n    AddOnManager.languageLoad = settings.language_load;\n    AddOnManager.baseURL = editorManager.baseURL;\n    self.id = id;\n    self.setDirty(false);\n    self.plugins = {};\n    self.documentBaseURI = new URI(settings.document_base_url, { base_uri: baseUri });\n    self.baseURI = baseUri;\n    self.contentCSS = [];\n    self.contentStyles = [];\n    self.shortcuts = new Shortcuts(self);\n    self.loadedCSS = {};\n    self.editorCommands = new EditorCommands(self);\n    self.suffix = editorManager.suffix;\n    self.editorManager = editorManager;\n    self.inline = settings.inline;\n    self.buttons = {};\n    self.menuItems = {};\n    if (settings.cache_suffix) {\n      $_cseqobajnlpawll.cacheSuffix = settings.cache_suffix.replace(/^[\\?\\&]+/, '');\n    }\n    if (settings.override_viewport === false) {\n      $_cseqobajnlpawll.overrideViewPort = false;\n    }\n    editorManager.fire('SetupEditor', { editor: self });\n    self.execCallback('setup', self);\n    self.$ = DomQuery.overrideDefaults(function () {\n      return {\n        context: self.inline ? self.getBody() : self.getDoc(),\n        element: self.getBody()\n      };\n    });\n  };\n  Editor.prototype = {\n    render: function () {\n      $_eajmw851jnlpaxt7.render(this);\n    },\n    focus: function (skipFocus) {\n      $_8odu5n4yjnlpaxsg.focus(this, skipFocus);\n    },\n    hasFocus: function () {\n      return $_8odu5n4yjnlpaxsg.hasFocus(this);\n    },\n    execCallback: function (name) {\n      var x = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        x[_i - 1] = arguments[_i];\n      }\n      var self = this;\n      var callback = self.settings[name], scope;\n      if (!callback) {\n        return;\n      }\n      if (self.callbackLookup && (scope = self.callbackLookup[name])) {\n        callback = scope.func;\n        scope = scope.scope;\n      }\n      if (typeof callback === 'string') {\n        scope = callback.replace(/\\.\\w+$/, '');\n        scope = scope ? resolve$4(scope) : 0;\n        callback = resolve$4(callback);\n        self.callbackLookup = self.callbackLookup || {};\n        self.callbackLookup[name] = {\n          func: callback,\n          scope: scope\n        };\n      }\n      return callback.apply(scope || self, Array.prototype.slice.call(arguments, 1));\n    },\n    translate: function (text) {\n      if (text && $_1q1txeljnlpawsa.is(text, 'string')) {\n        var lang_1 = this.settings.language || 'en', i18n_1 = this.editorManager.i18n;\n        text = i18n_1.data[lang_1 + '.' + text] || text.replace(/\\{\\#([^\\}]+)\\}/g, function (a, b) {\n          return i18n_1.data[lang_1 + '.' + b] || '{#' + b + '}';\n        });\n      }\n      return this.editorManager.translate(text);\n    },\n    getLang: function (name, defaultVal) {\n      return this.editorManager.i18n.data[(this.settings.language || 'en') + '.' + name] || (defaultVal !== undefined ? defaultVal : '{#' + name + '}');\n    },\n    getParam: function (name, defaultVal, type) {\n      return getParam(this, name, defaultVal, type);\n    },\n    nodeChanged: function (args) {\n      this._nodeChangeDispatcher.nodeChanged(args);\n    },\n    addButton: function (name, settings) {\n      var self = this;\n      if (settings.cmd) {\n        settings.onclick = function () {\n          self.execCommand(settings.cmd);\n        };\n      }\n      if (settings.stateSelector && typeof settings.active === 'undefined') {\n        settings.active = false;\n      }\n      if (!settings.text && !settings.icon) {\n        settings.icon = name;\n      }\n      settings.tooltip = settings.tooltip || settings.title;\n      self.buttons[name] = settings;\n    },\n    addSidebar: function (name, settings) {\n      return $_g47nm77ojnlpayg6.add(this, name, settings);\n    },\n    addMenuItem: function (name, settings) {\n      var self = this;\n      if (settings.cmd) {\n        settings.onclick = function () {\n          self.execCommand(settings.cmd);\n        };\n      }\n      self.menuItems[name] = settings;\n    },\n    addContextToolbar: function (predicate, items) {\n      var self = this;\n      var selector;\n      self.contextToolbars = self.contextToolbars || [];\n      if (typeof predicate === 'string') {\n        selector = predicate;\n        predicate = function (elm) {\n          return self.dom.is(elm, selector);\n        };\n      }\n      self.contextToolbars.push({\n        id: $_cb5mec5ljnlpaxvz.uuid('mcet'),\n        predicate: predicate,\n        items: items\n      });\n    },\n    addCommand: function (name, callback, scope) {\n      this.editorCommands.addCommand(name, callback, scope);\n    },\n    addQueryStateHandler: function (name, callback, scope) {\n      this.editorCommands.addQueryStateHandler(name, callback, scope);\n    },\n    addQueryValueHandler: function (name, callback, scope) {\n      this.editorCommands.addQueryValueHandler(name, callback, scope);\n    },\n    addShortcut: function (pattern, desc, cmdFunc, scope) {\n      this.shortcuts.add(pattern, desc, cmdFunc, scope);\n    },\n    execCommand: function (cmd, ui, value, args) {\n      return this.editorCommands.execCommand(cmd, ui, value, args);\n    },\n    queryCommandState: function (cmd) {\n      return this.editorCommands.queryCommandState(cmd);\n    },\n    queryCommandValue: function (cmd) {\n      return this.editorCommands.queryCommandValue(cmd);\n    },\n    queryCommandSupported: function (cmd) {\n      return this.editorCommands.queryCommandSupported(cmd);\n    },\n    show: function () {\n      var self = this;\n      if (self.hidden) {\n        self.hidden = false;\n        if (self.inline) {\n          self.getBody().contentEditable = true;\n        } else {\n          DOM$7.show(self.getContainer());\n          DOM$7.hide(self.id);\n        }\n        self.load();\n        self.fire('show');\n      }\n    },\n    hide: function () {\n      var self = this, doc = self.getDoc();\n      if (!self.hidden) {\n        if (ie$2 && doc && !self.inline) {\n          doc.execCommand('SelectAll');\n        }\n        self.save();\n        if (self.inline) {\n          self.getBody().contentEditable = false;\n          if (self === self.editorManager.focusedEditor) {\n            self.editorManager.focusedEditor = null;\n          }\n        } else {\n          DOM$7.hide(self.getContainer());\n          DOM$7.setStyle(self.id, 'display', self.orgDisplay);\n        }\n        self.hidden = true;\n        self.fire('hide');\n      }\n    },\n    isHidden: function () {\n      return !!this.hidden;\n    },\n    setProgressState: function (state, time) {\n      this.fire('ProgressState', {\n        state: state,\n        time: time\n      });\n    },\n    load: function (args) {\n      var self = this;\n      var elm = self.getElement(), html;\n      if (self.removed) {\n        return '';\n      }\n      if (elm) {\n        args = args || {};\n        args.load = true;\n        html = self.setContent(elm.value !== undefined ? elm.value : elm.innerHTML, args);\n        args.element = elm;\n        if (!args.no_events) {\n          self.fire('LoadContent', args);\n        }\n        args.element = elm = null;\n        return html;\n      }\n    },\n    save: function (args) {\n      var self = this;\n      var elm = self.getElement(), html, form;\n      if (!elm || !self.initialized || self.removed) {\n        return;\n      }\n      args = args || {};\n      args.save = true;\n      args.element = elm;\n      html = args.content = self.getContent(args);\n      if (!args.no_events) {\n        self.fire('SaveContent', args);\n      }\n      if (args.format === 'raw') {\n        self.fire('RawSaveContent', args);\n      }\n      html = args.content;\n      if (!/TEXTAREA|INPUT/i.test(elm.nodeName)) {\n        if (args.is_removing || !self.inline) {\n          elm.innerHTML = html;\n        }\n        if (form = DOM$7.getParent(self.id, 'form')) {\n          each$21(form.elements, function (elm) {\n            if (elm.name === self.id) {\n              elm.value = html;\n              return false;\n            }\n          });\n        }\n      } else {\n        elm.value = html;\n      }\n      args.element = elm = null;\n      if (args.set_dirty !== false) {\n        self.setDirty(false);\n      }\n      return html;\n    },\n    setContent: function (content, args) {\n      return setContent$1(this, content, args);\n    },\n    getContent: function (args) {\n      return getContent$1(this, args);\n    },\n    insertContent: function (content, args) {\n      if (args) {\n        content = extend$4({ content: content }, args);\n      }\n      this.execCommand('mceInsertContent', false, content);\n    },\n    isDirty: function () {\n      return !this.isNotDirty;\n    },\n    setDirty: function (state) {\n      var oldState = !this.isNotDirty;\n      this.isNotDirty = !state;\n      if (state && state !== oldState) {\n        this.fire('dirty');\n      }\n    },\n    setMode: function (mode) {\n      setMode(this, mode);\n    },\n    getContainer: function () {\n      var self = this;\n      if (!self.container) {\n        self.container = DOM$7.get(self.editorContainer || self.id + '_parent');\n      }\n      return self.container;\n    },\n    getContentAreaContainer: function () {\n      return this.contentAreaContainer;\n    },\n    getElement: function () {\n      if (!this.targetElm) {\n        this.targetElm = DOM$7.get(this.id);\n      }\n      return this.targetElm;\n    },\n    getWin: function () {\n      var self = this;\n      var elm;\n      if (!self.contentWindow) {\n        elm = self.iframeElement;\n        if (elm) {\n          self.contentWindow = elm.contentWindow;\n        }\n      }\n      return self.contentWindow;\n    },\n    getDoc: function () {\n      var self = this;\n      var win;\n      if (!self.contentDocument) {\n        win = self.getWin();\n        if (win) {\n          self.contentDocument = win.document;\n        }\n      }\n      return self.contentDocument;\n    },\n    getBody: function () {\n      var doc = this.getDoc();\n      return this.bodyElement || (doc ? doc.body : null);\n    },\n    convertURL: function (url, name, elm) {\n      var self = this, settings = self.settings;\n      if (settings.urlconverter_callback) {\n        return self.execCallback('urlconverter_callback', url, elm, true, name);\n      }\n      if (!settings.convert_urls || elm && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n        return url;\n      }\n      if (settings.relative_urls) {\n        return self.documentBaseURI.toRelative(url);\n      }\n      url = self.documentBaseURI.toAbsolute(url, settings.remove_script_host);\n      return url;\n    },\n    addVisual: function (elm) {\n      var self = this;\n      var settings = self.settings;\n      var dom = self.dom;\n      var cls;\n      elm = elm || self.getBody();\n      if (self.hasVisual === undefined) {\n        self.hasVisual = settings.visual;\n      }\n      each$21(dom.select('table,a', elm), function (elm) {\n        var value;\n        switch (elm.nodeName) {\n        case 'TABLE':\n          cls = settings.visual_table_class || 'mce-item-table';\n          value = dom.getAttrib(elm, 'border');\n          if ((!value || value === '0') && self.hasVisual) {\n            dom.addClass(elm, cls);\n          } else {\n            dom.removeClass(elm, cls);\n          }\n          return;\n        case 'A':\n          if (!dom.getAttrib(elm, 'href')) {\n            value = dom.getAttrib(elm, 'name') || elm.id;\n            cls = settings.visual_anchor_class || 'mce-item-anchor';\n            if (value && self.hasVisual) {\n              dom.addClass(elm, cls);\n            } else {\n              dom.removeClass(elm, cls);\n            }\n          }\n          return;\n        }\n      });\n      self.fire('VisualAid', {\n        element: elm,\n        hasVisual: self.hasVisual\n      });\n    },\n    remove: function () {\n      remove$9(this);\n    },\n    destroy: function (automatic) {\n      destroy(this, automatic);\n    },\n    uploadImages: function (callback) {\n      return this.editorUpload.uploadImages(callback);\n    },\n    _scanForImages: function () {\n      return this.editorUpload.scanForImages();\n    }\n  };\n  extend$4(Editor.prototype, EditorObservable$1);\n\n  var isEditorUIElement = function (elm) {\n    return elm.className.toString().indexOf('mce-') !== -1;\n  };\n  var $_598dic7xjnlpayi4 = { isEditorUIElement: isEditorUIElement };\n\n  var isManualNodeChange = function (e) {\n    return e.type === 'nodechange' && e.selectionChange;\n  };\n  var registerPageMouseUp = function (editor, throttledStore) {\n    var mouseUpPage = function () {\n      throttledStore.throttle();\n    };\n    DOMUtils$1.DOM.bind(document, 'mouseup', mouseUpPage);\n    editor.on('remove', function () {\n      DOMUtils$1.DOM.unbind(document, 'mouseup', mouseUpPage);\n    });\n  };\n  var registerFocusOut = function (editor) {\n    editor.on('focusout', function () {\n      $_13pqgk4ojnlpaxqr.store(editor);\n    });\n  };\n  var registerMouseUp = function (editor, throttledStore) {\n    editor.on('mouseup touchend', function (e) {\n      throttledStore.throttle();\n    });\n  };\n  var registerEditorEvents = function (editor, throttledStore) {\n    var browser = $_766rx4ojnlpawtd.detect().browser;\n    if (browser.isIE()) {\n      registerFocusOut(editor);\n    } else {\n      registerMouseUp(editor, throttledStore);\n    }\n    editor.on('keyup nodechange', function (e) {\n      if (!isManualNodeChange(e)) {\n        $_13pqgk4ojnlpaxqr.store(editor);\n      }\n    });\n  };\n  var register$3 = function (editor) {\n    var throttledStore = first$1(function () {\n      $_13pqgk4ojnlpaxqr.store(editor);\n    }, 0);\n    if (editor.inline) {\n      registerPageMouseUp(editor, throttledStore);\n    }\n    editor.on('init', function () {\n      registerEditorEvents(editor, throttledStore);\n    });\n    editor.on('remove', function () {\n      throttledStore.cancel();\n    });\n  };\n  var $_8hqfi17yjnlpayi5 = { register: register$3 };\n\n  var documentFocusInHandler;\n  var DOM$8 = DOMUtils$1.DOM;\n  var isEditorUIElement$1 = function (elm) {\n    return $_598dic7xjnlpayi4.isEditorUIElement(elm);\n  };\n  var isUIElement = function (editor, elm) {\n    var customSelector = editor ? editor.settings.custom_ui_selector : '';\n    var parent$$1 = DOM$8.getParent(elm, function (elm) {\n      return isEditorUIElement$1(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n    });\n    return parent$$1 !== null;\n  };\n  var getActiveElement = function () {\n    try {\n      return document.activeElement;\n    } catch (ex) {\n      return document.body;\n    }\n  };\n  var registerEvents = function (editorManager, e) {\n    var editor = e.editor;\n    $_8hqfi17yjnlpayi5.register(editor);\n    editor.on('focusin', function () {\n      var self$$1 = this;\n      var focusedEditor = editorManager.focusedEditor;\n      if (focusedEditor !== self$$1) {\n        if (focusedEditor) {\n          focusedEditor.fire('blur', { focusedEditor: self$$1 });\n        }\n        editorManager.setActive(self$$1);\n        editorManager.focusedEditor = self$$1;\n        self$$1.fire('focus', { blurredEditor: focusedEditor });\n        self$$1.focus(true);\n      }\n    });\n    editor.on('focusout', function () {\n      var self$$1 = this;\n      $_2nbnh1ijnlpawpi.setEditorTimeout(self$$1, function () {\n        var focusedEditor = editorManager.focusedEditor;\n        if (!isUIElement(self$$1, getActiveElement()) && focusedEditor === self$$1) {\n          self$$1.fire('blur', { focusedEditor: null });\n          editorManager.focusedEditor = null;\n        }\n      });\n    });\n    if (!documentFocusInHandler) {\n      documentFocusInHandler = function (e) {\n        var activeEditor = editorManager.activeEditor;\n        var target;\n        target = e.target;\n        if (activeEditor && target.ownerDocument === document) {\n          if (target !== document.body && !isUIElement(activeEditor, target) && editorManager.focusedEditor === activeEditor) {\n            activeEditor.fire('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        }\n      };\n      DOM$8.bind(document, 'focusin', documentFocusInHandler);\n    }\n  };\n  var unregisterDocumentEvents = function (editorManager, e) {\n    if (editorManager.focusedEditor === e.editor) {\n      editorManager.focusedEditor = null;\n    }\n    if (!editorManager.activeEditor) {\n      DOM$8.unbind(document, 'focusin', documentFocusInHandler);\n      documentFocusInHandler = null;\n    }\n  };\n  var setup$15 = function (editorManager) {\n    editorManager.on('AddEditor', curry(registerEvents, editorManager));\n    editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n  };\n  var $_8pld3r7wjnlpayhz = {\n    setup: setup$15,\n    isEditorUIElement: isEditorUIElement$1,\n    isUIElement: isUIElement\n  };\n\n  var data = {};\n  var code = 'en';\n  var $_f6nmn17zjnlpayic = {\n    setCode: function (newCode) {\n      if (newCode) {\n        code = newCode;\n        this.rtl = this.data[newCode] ? this.data[newCode]._dir === 'rtl' : false;\n      }\n    },\n    getCode: function () {\n      return code;\n    },\n    rtl: false,\n    add: function (code, items) {\n      var langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      for (var name in items) {\n        langData[name] = items[name];\n      }\n      this.setCode(code);\n    },\n    translate: function (text) {\n      var langData = data[code] || {};\n      var toString = function (obj) {\n        if ($_1q1txeljnlpawsa.is(obj, 'function')) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      var isEmpty = function (text) {\n        return text === '' || text === null || $_1q1txeljnlpawsa.is(text, 'undefined');\n      };\n      var getLangData = function (text) {\n        text = toString(text);\n        return $_1q1txeljnlpawsa.hasOwn(langData, text) ? toString(langData[text]) : text;\n      };\n      if (isEmpty(text)) {\n        return '';\n      }\n      if ($_1q1txeljnlpawsa.is(text, 'object') && $_1q1txeljnlpawsa.hasOwn(text, 'raw')) {\n        return toString(text.raw);\n      }\n      if ($_1q1txeljnlpawsa.is(text, 'array')) {\n        var values_1 = text.slice(1);\n        text = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, function ($1, $2) {\n          return $_1q1txeljnlpawsa.hasOwn(values_1, $2) ? toString(values_1[$2]) : $1;\n        });\n      }\n      return getLangData(text).replace(/{context:\\w+}$/, '');\n    },\n    data: data\n  };\n\n  var DOM$9 = DOMUtils$1.DOM;\n  var explode$4 = $_1q1txeljnlpawsa.explode;\n  var each$22 = $_1q1txeljnlpawsa.each;\n  var extend$5 = $_1q1txeljnlpawsa.extend;\n  var instanceCounter = 0;\n  var beforeUnloadDelegate;\n  var EditorManager;\n  var boundGlobalEvents = false;\n  var legacyEditors = [];\n  var editors = [];\n  var isValidLegacyKey = function (id) {\n    return id !== 'length';\n  };\n  var globalEventDelegate = function (e) {\n    each$22(EditorManager.get(), function (editor) {\n      if (e.type === 'scroll') {\n        editor.fire('ScrollWindow', e);\n      } else {\n        editor.fire('ResizeWindow', e);\n      }\n    });\n  };\n  var toggleGlobalEvents = function (state) {\n    if (state !== boundGlobalEvents) {\n      if (state) {\n        DomQuery(window).on('resize scroll', globalEventDelegate);\n      } else {\n        DomQuery(window).off('resize scroll', globalEventDelegate);\n      }\n      boundGlobalEvents = state;\n    }\n  };\n  var removeEditorFromList = function (targetEditor) {\n    var oldEditors = editors;\n    delete legacyEditors[targetEditor.id];\n    for (var i = 0; i < legacyEditors.length; i++) {\n      if (legacyEditors[i] === targetEditor) {\n        legacyEditors.splice(i, 1);\n        break;\n      }\n    }\n    editors = filter(editors, function (editor) {\n      return targetEditor !== editor;\n    });\n    if (EditorManager.activeEditor === targetEditor) {\n      EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n    }\n    if (EditorManager.focusedEditor === targetEditor) {\n      EditorManager.focusedEditor = null;\n    }\n    return oldEditors.length !== editors.length;\n  };\n  var purgeDestroyedEditor = function (editor) {\n    if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n      removeEditorFromList(editor);\n      editor.unbindAllNativeEvents();\n      editor.destroy(true);\n      editor.removed = true;\n      editor = null;\n    }\n    return editor;\n  };\n  EditorManager = {\n    defaultSettings: {},\n    $: DomQuery,\n    majorVersion: '4',\n    minorVersion: '8.4',\n    releaseDate: '2018-10-23',\n    editors: legacyEditors,\n    i18n: $_f6nmn17zjnlpayic,\n    activeEditor: null,\n    settings: {},\n    setup: function () {\n      var self$$1 = this;\n      var baseURL, documentBaseURL, suffix = '', preInit, src;\n      documentBaseURL = URI.getDocumentBaseUrl(document.location);\n      if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n        documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n        if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n          documentBaseURL += '/';\n        }\n      }\n      preInit = window.tinymce || window.tinyMCEPreInit;\n      if (preInit) {\n        baseURL = preInit.base || preInit.baseURL;\n        suffix = preInit.suffix;\n      } else {\n        var scripts = document.getElementsByTagName('script');\n        for (var i = 0; i < scripts.length; i++) {\n          src = scripts[i].src;\n          var srcScript = src.substring(src.lastIndexOf('/'));\n          if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n            if (srcScript.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n            break;\n          }\n        }\n        if (!baseURL && document.currentScript) {\n          src = document.currentScript.src;\n          if (src.indexOf('.min') !== -1) {\n            suffix = '.min';\n          }\n          baseURL = src.substring(0, src.lastIndexOf('/'));\n        }\n      }\n      self$$1.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n      self$$1.documentBaseURL = documentBaseURL;\n      self$$1.baseURI = new URI(self$$1.baseURL);\n      self$$1.suffix = suffix;\n      $_8pld3r7wjnlpayhz.setup(self$$1);\n    },\n    overrideDefaults: function (defaultSettings) {\n      var baseUrl, suffix;\n      baseUrl = defaultSettings.base_url;\n      if (baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n      suffix = defaultSettings.suffix;\n      if (defaultSettings.suffix) {\n        this.suffix = suffix;\n      }\n      this.defaultSettings = defaultSettings;\n      var pluginBaseUrls = defaultSettings.plugin_base_urls;\n      for (var name$$1 in pluginBaseUrls) {\n        AddOnManager.PluginManager.urls[name$$1] = pluginBaseUrls[name$$1];\n      }\n    },\n    init: function (settings) {\n      var self$$1 = this;\n      var result, invalidInlineTargets;\n      invalidInlineTargets = $_1q1txeljnlpawsa.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu', ' ');\n      var isInvalidInlineTarget = function (settings, elm) {\n        return settings.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n      };\n      var createId = function (elm) {\n        var id = elm.id;\n        if (!id) {\n          id = elm.name;\n          if (id && !DOM$9.get(id)) {\n            id = elm.name;\n          } else {\n            id = DOM$9.uniqueId();\n          }\n          elm.setAttribute('id', id);\n        }\n        return id;\n      };\n      var execCallback = function (name$$1) {\n        var callback = settings[name$$1];\n        if (!callback) {\n          return;\n        }\n        return callback.apply(self$$1, Array.prototype.slice.call(arguments, 2));\n      };\n      var hasClass = function (elm, className) {\n        return className.constructor === RegExp ? className.test(elm.className) : DOM$9.hasClass(elm, className);\n      };\n      var findTargets = function (settings) {\n        var l, targets = [];\n        if ($_cseqobajnlpawll.ie && $_cseqobajnlpawll.ie < 11) {\n          $_2xhw4u57jnlpaxu1.initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/');\n          return [];\n        }\n        if (settings.types) {\n          each$22(settings.types, function (type) {\n            targets = targets.concat(DOM$9.select(type.selector));\n          });\n          return targets;\n        } else if (settings.selector) {\n          return DOM$9.select(settings.selector);\n        } else if (settings.target) {\n          return [settings.target];\n        }\n        switch (settings.mode) {\n        case 'exact':\n          l = settings.elements || '';\n          if (l.length > 0) {\n            each$22(explode$4(l), function (id) {\n              var elm;\n              if (elm = DOM$9.get(id)) {\n                targets.push(elm);\n              } else {\n                each$22(document.forms, function (f) {\n                  each$22(f.elements, function (e) {\n                    if (e.name === id) {\n                      id = 'mce_editor_' + instanceCounter++;\n                      DOM$9.setAttrib(e, 'id', id);\n                      targets.push(e);\n                    }\n                  });\n                });\n              }\n            });\n          }\n          break;\n        case 'textareas':\n        case 'specific_textareas':\n          each$22(DOM$9.select('textarea'), function (elm) {\n            if (settings.editor_deselector && hasClass(elm, settings.editor_deselector)) {\n              return;\n            }\n            if (!settings.editor_selector || hasClass(elm, settings.editor_selector)) {\n              targets.push(elm);\n            }\n          });\n          break;\n        }\n        return targets;\n      };\n      var provideResults = function (editors) {\n        result = editors;\n      };\n      var initEditors = function () {\n        var initCount = 0;\n        var editors = [];\n        var targets;\n        var createEditor = function (id, settings, targetElm) {\n          var editor = new Editor(id, settings, self$$1);\n          editors.push(editor);\n          editor.on('init', function () {\n            if (++initCount === targets.length) {\n              provideResults(editors);\n            }\n          });\n          editor.targetElm = editor.targetElm || targetElm;\n          editor.render();\n        };\n        DOM$9.unbind(window, 'ready', initEditors);\n        execCallback('onpageload');\n        targets = DomQuery.unique(findTargets(settings));\n        if (settings.types) {\n          each$22(settings.types, function (type) {\n            $_1q1txeljnlpawsa.each(targets, function (elm) {\n              if (DOM$9.is(elm, type.selector)) {\n                createEditor(createId(elm), extend$5({}, settings, type), elm);\n                return false;\n              }\n              return true;\n            });\n          });\n          return;\n        }\n        $_1q1txeljnlpawsa.each(targets, function (elm) {\n          purgeDestroyedEditor(self$$1.get(elm.id));\n        });\n        targets = $_1q1txeljnlpawsa.grep(targets, function (elm) {\n          return !self$$1.get(elm.id);\n        });\n        if (targets.length === 0) {\n          provideResults([]);\n        } else {\n          each$22(targets, function (elm) {\n            if (isInvalidInlineTarget(settings, elm)) {\n              $_2xhw4u57jnlpaxu1.initError('Could not initialize inline editor on invalid inline target element', elm);\n            } else {\n              createEditor(createId(elm), settings, elm);\n            }\n          });\n        }\n      };\n      self$$1.settings = settings;\n      DOM$9.bind(window, 'ready', initEditors);\n      return new promiseObj(function (resolve) {\n        if (result) {\n          resolve(result);\n        } else {\n          provideResults = function (editors) {\n            resolve(editors);\n          };\n        }\n      });\n    },\n    get: function (id) {\n      if (arguments.length === 0) {\n        return editors.slice(0);\n      } else if (isString(id)) {\n        return find(editors, function (editor) {\n          return editor.id === id;\n        }).getOr(null);\n      } else if (isNumber(id)) {\n        return editors[id] ? editors[id] : null;\n      } else {\n        return null;\n      }\n    },\n    add: function (editor) {\n      var self$$1 = this;\n      var existingEditor;\n      existingEditor = legacyEditors[editor.id];\n      if (existingEditor === editor) {\n        return editor;\n      }\n      if (self$$1.get(editor.id) === null) {\n        if (isValidLegacyKey(editor.id)) {\n          legacyEditors[editor.id] = editor;\n        }\n        legacyEditors.push(editor);\n        editors.push(editor);\n      }\n      toggleGlobalEvents(true);\n      self$$1.activeEditor = editor;\n      self$$1.fire('AddEditor', { editor: editor });\n      if (!beforeUnloadDelegate) {\n        beforeUnloadDelegate = function () {\n          self$$1.fire('BeforeUnload');\n        };\n        DOM$9.bind(window, 'beforeunload', beforeUnloadDelegate);\n      }\n      return editor;\n    },\n    createEditor: function (id, settings) {\n      return this.add(new Editor(id, settings, this));\n    },\n    remove: function (selector) {\n      var self$$1 = this;\n      var i, editor;\n      if (!selector) {\n        for (i = editors.length - 1; i >= 0; i--) {\n          self$$1.remove(editors[i]);\n        }\n        return;\n      }\n      if (isString(selector)) {\n        each$22(DOM$9.select(selector), function (elm) {\n          editor = self$$1.get(elm.id);\n          if (editor) {\n            self$$1.remove(editor);\n          }\n        });\n        return;\n      }\n      editor = selector;\n      if (isNull(self$$1.get(editor.id))) {\n        return null;\n      }\n      if (removeEditorFromList(editor)) {\n        self$$1.fire('RemoveEditor', { editor: editor });\n      }\n      if (editors.length === 0) {\n        DOM$9.unbind(window, 'beforeunload', beforeUnloadDelegate);\n      }\n      editor.remove();\n      toggleGlobalEvents(editors.length > 0);\n      return editor;\n    },\n    execCommand: function (cmd, ui, value) {\n      var self$$1 = this, editor = self$$1.get(value);\n      switch (cmd) {\n      case 'mceAddEditor':\n        if (!self$$1.get(value)) {\n          new Editor(value, self$$1.settings, self$$1).render();\n        }\n        return true;\n      case 'mceRemoveEditor':\n        if (editor) {\n          editor.remove();\n        }\n        return true;\n      case 'mceToggleEditor':\n        if (!editor) {\n          self$$1.execCommand('mceAddEditor', 0, value);\n          return true;\n        }\n        if (editor.isHidden()) {\n          editor.show();\n        } else {\n          editor.hide();\n        }\n        return true;\n      }\n      if (self$$1.activeEditor) {\n        return self$$1.activeEditor.execCommand(cmd, ui, value);\n      }\n      return false;\n    },\n    triggerSave: function () {\n      each$22(editors, function (editor) {\n        editor.save();\n      });\n    },\n    addI18n: function (code, items) {\n      $_f6nmn17zjnlpayic.add(code, items);\n    },\n    translate: function (text) {\n      return $_f6nmn17zjnlpayic.translate(text);\n    },\n    setActive: function (editor) {\n      var activeEditor = this.activeEditor;\n      if (this.activeEditor !== editor) {\n        if (activeEditor) {\n          activeEditor.fire('deactivate', { relatedTarget: editor });\n        }\n        editor.fire('activate', { relatedTarget: activeEditor });\n      }\n      this.activeEditor = editor;\n    }\n  };\n  extend$5(EditorManager, $_c8v03c4tjnlpaxrw);\n  EditorManager.setup();\n  var EditorManager$1 = EditorManager;\n\n  function RangeUtils(dom) {\n    var walk = function (rng, callback) {\n      return $_6wozuu3djnlpaxew.walk(dom, rng, callback);\n    };\n    var split = $_fvyfxh69jnlpay1e.split;\n    var normalize = function (rng) {\n      return $_afh56j4mjnlpaxpx.normalize(dom, rng).fold(constant(false), function (normalizedRng) {\n        rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n        rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n        return true;\n      });\n    };\n    return {\n      walk: walk,\n      split: split,\n      normalize: normalize\n    };\n  }\n  (function (RangeUtils) {\n    RangeUtils.compareRanges = $_3s8g9y4njnlpaxqj.isEq;\n    RangeUtils.getCaretRangeFromPoint = $_445zg66wjnlpay63.fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode;\n  }(RangeUtils || (RangeUtils = {})));\n  var RangeUtils$1 = RangeUtils;\n\n  var min = Math.min;\n  var max = Math.max;\n  var round$2 = Math.round;\n  var relativePosition = function (rect, targetRect, rel) {\n    var x, y, w, h, targetW, targetH;\n    x = targetRect.x;\n    y = targetRect.y;\n    w = rect.w;\n    h = rect.h;\n    targetW = targetRect.w;\n    targetH = targetRect.h;\n    rel = (rel || '').split('');\n    if (rel[0] === 'b') {\n      y += targetH;\n    }\n    if (rel[1] === 'r') {\n      x += targetW;\n    }\n    if (rel[0] === 'c') {\n      y += round$2(targetH / 2);\n    }\n    if (rel[1] === 'c') {\n      x += round$2(targetW / 2);\n    }\n    if (rel[3] === 'b') {\n      y -= h;\n    }\n    if (rel[4] === 'r') {\n      x -= w;\n    }\n    if (rel[3] === 'c') {\n      y -= round$2(h / 2);\n    }\n    if (rel[4] === 'c') {\n      x -= round$2(w / 2);\n    }\n    return create$3(x, y, w, h);\n  };\n  var findBestRelativePosition = function (rect, targetRect, constrainRect, rels) {\n    var pos, i;\n    for (i = 0; i < rels.length; i++) {\n      pos = relativePosition(rect, targetRect, rels[i]);\n      if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n        return rels[i];\n      }\n    }\n    return null;\n  };\n  var inflate = function (rect, w, h) {\n    return create$3(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n  };\n  var intersect = function (rect, cropRect) {\n    var x1, y1, x2, y2;\n    x1 = max(rect.x, cropRect.x);\n    y1 = max(rect.y, cropRect.y);\n    x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n    y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n    if (x2 - x1 < 0 || y2 - y1 < 0) {\n      return null;\n    }\n    return create$3(x1, y1, x2 - x1, y2 - y1);\n  };\n  var clamp$1 = function (rect, clampRect, fixedSize) {\n    var underflowX1, underflowY1, overflowX2, overflowY2, x1, y1, x2, y2, cx2, cy2;\n    x1 = rect.x;\n    y1 = rect.y;\n    x2 = rect.x + rect.w;\n    y2 = rect.y + rect.h;\n    cx2 = clampRect.x + clampRect.w;\n    cy2 = clampRect.y + clampRect.h;\n    underflowX1 = max(0, clampRect.x - x1);\n    underflowY1 = max(0, clampRect.y - y1);\n    overflowX2 = max(0, x2 - cx2);\n    overflowY2 = max(0, y2 - cy2);\n    x1 += underflowX1;\n    y1 += underflowY1;\n    if (fixedSize) {\n      x2 += underflowX1;\n      y2 += underflowY1;\n      x1 -= overflowX2;\n      y1 -= overflowY2;\n    }\n    x2 -= overflowX2;\n    y2 -= overflowY2;\n    return create$3(x1, y1, x2 - x1, y2 - y1);\n  };\n  var create$3 = function (x, y, w, h) {\n    return {\n      x: x,\n      y: y,\n      w: w,\n      h: h\n    };\n  };\n  var fromClientRect = function (clientRect) {\n    return create$3(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n  };\n  var $_f1a1rs81jnlpayiu = {\n    inflate: inflate,\n    relativePosition: relativePosition,\n    findBestRelativePosition: findBestRelativePosition,\n    intersect: intersect,\n    clamp: clamp$1,\n    create: create$3,\n    fromClientRect: fromClientRect\n  };\n\n  var types = {};\n  var $_4cmhbp82jnlpayiz = {\n    add: function (type, typeClass) {\n      types[type.toLowerCase()] = typeClass;\n    },\n    has: function (type) {\n      return !!types[type.toLowerCase()];\n    },\n    get: function (type) {\n      var lctype = type.toLowerCase();\n      var controlType = types.hasOwnProperty(lctype) ? types[lctype] : null;\n      if (controlType === null) {\n        throw new Error('Could not find module for type: ' + type);\n      }\n      return controlType;\n    },\n    create: function (type, settings) {\n      var ControlType;\n      if (typeof type === 'string') {\n        settings = settings || {};\n        settings.type = type;\n      } else {\n        settings = type;\n        type = settings.type;\n      }\n      type = type.toLowerCase();\n      ControlType = types[type];\n      if (!ControlType) {\n        throw new Error('Could not find control by type: ' + type);\n      }\n      ControlType = new ControlType(settings);\n      ControlType.type = type;\n      return ControlType;\n    }\n  };\n\n  var each$23 = $_1q1txeljnlpawsa.each;\n  var extend$6 = $_1q1txeljnlpawsa.extend;\n  var extendClass;\n  var initializing;\n  var Class$1 = function () {\n  };\n  Class$1.extend = extendClass = function (prop) {\n    var self = this;\n    var _super = self.prototype;\n    var prototype, name, member;\n    var Class = function () {\n      var i, mixins, mixin;\n      var self = this;\n      if (!initializing) {\n        if (self.init) {\n          self.init.apply(self, arguments);\n        }\n        mixins = self.Mixins;\n        if (mixins) {\n          i = mixins.length;\n          while (i--) {\n            mixin = mixins[i];\n            if (mixin.init) {\n              mixin.init.apply(self, arguments);\n            }\n          }\n        }\n      }\n    };\n    var dummy = function () {\n      return this;\n    };\n    var createMethod = function (name, fn) {\n      return function () {\n        var self = this;\n        var tmp = self._super;\n        var ret;\n        self._super = _super[name];\n        ret = fn.apply(self, arguments);\n        self._super = tmp;\n        return ret;\n      };\n    };\n    initializing = true;\n    prototype = new self();\n    initializing = false;\n    if (prop.Mixins) {\n      each$23(prop.Mixins, function (mixin) {\n        for (var name_1 in mixin) {\n          if (name_1 !== 'init') {\n            prop[name_1] = mixin[name_1];\n          }\n        }\n      });\n      if (_super.Mixins) {\n        prop.Mixins = _super.Mixins.concat(prop.Mixins);\n      }\n    }\n    if (prop.Methods) {\n      each$23(prop.Methods.split(','), function (name) {\n        prop[name] = dummy;\n      });\n    }\n    if (prop.Properties) {\n      each$23(prop.Properties.split(','), function (name) {\n        var fieldName = '_' + name;\n        prop[name] = function (value) {\n          var self = this;\n          if (value !== undefined) {\n            self[fieldName] = value;\n            return self;\n          }\n          return self[fieldName];\n        };\n      });\n    }\n    if (prop.Statics) {\n      each$23(prop.Statics, function (func, name) {\n        Class[name] = func;\n      });\n    }\n    if (prop.Defaults && _super.Defaults) {\n      prop.Defaults = extend$6({}, _super.Defaults, prop.Defaults);\n    }\n    for (name in prop) {\n      member = prop[name];\n      if (typeof member === 'function' && _super[name]) {\n        prototype[name] = createMethod(name, member);\n      } else {\n        prototype[name] = member;\n      }\n    }\n    Class.prototype = prototype;\n    Class.constructor = Class;\n    Class.extend = extendClass;\n    return Class;\n  };\n\n  var min$1 = Math.min;\n  var max$1 = Math.max;\n  var round$3 = Math.round;\n  var Color = function (value) {\n    var self = {};\n    var r = 0, g = 0, b = 0;\n    var rgb2hsv = function (r, g, b) {\n      var h, s, v, d, minRGB, maxRGB;\n      h = 0;\n      s = 0;\n      v = 0;\n      r = r / 255;\n      g = g / 255;\n      b = b / 255;\n      minRGB = min$1(r, min$1(g, b));\n      maxRGB = max$1(r, max$1(g, b));\n      if (minRGB === maxRGB) {\n        v = minRGB;\n        return {\n          h: 0,\n          s: 0,\n          v: v * 100\n        };\n      }\n      d = r === minRGB ? g - b : b === minRGB ? r - g : b - r;\n      h = r === minRGB ? 3 : b === minRGB ? 1 : 5;\n      h = 60 * (h - d / (maxRGB - minRGB));\n      s = (maxRGB - minRGB) / maxRGB;\n      v = maxRGB;\n      return {\n        h: round$3(h),\n        s: round$3(s * 100),\n        v: round$3(v * 100)\n      };\n    };\n    var hsvToRgb = function (hue, saturation, brightness) {\n      var side, chroma, x, match;\n      hue = (parseInt(hue, 10) || 0) % 360;\n      saturation = parseInt(saturation, 10) / 100;\n      brightness = parseInt(brightness, 10) / 100;\n      saturation = max$1(0, min$1(saturation, 1));\n      brightness = max$1(0, min$1(brightness, 1));\n      if (saturation === 0) {\n        r = g = b = round$3(255 * brightness);\n        return;\n      }\n      side = hue / 60;\n      chroma = brightness * saturation;\n      x = chroma * (1 - Math.abs(side % 2 - 1));\n      match = brightness - chroma;\n      switch (Math.floor(side)) {\n      case 0:\n        r = chroma;\n        g = x;\n        b = 0;\n        break;\n      case 1:\n        r = x;\n        g = chroma;\n        b = 0;\n        break;\n      case 2:\n        r = 0;\n        g = chroma;\n        b = x;\n        break;\n      case 3:\n        r = 0;\n        g = x;\n        b = chroma;\n        break;\n      case 4:\n        r = x;\n        g = 0;\n        b = chroma;\n        break;\n      case 5:\n        r = chroma;\n        g = 0;\n        b = x;\n        break;\n      default:\n        r = g = b = 0;\n      }\n      r = round$3(255 * (r + match));\n      g = round$3(255 * (g + match));\n      b = round$3(255 * (b + match));\n    };\n    var toHex = function () {\n      var hex = function (val) {\n        val = parseInt(val, 10).toString(16);\n        return val.length > 1 ? val : '0' + val;\n      };\n      return '#' + hex(r) + hex(g) + hex(b);\n    };\n    var toRgb = function () {\n      return {\n        r: r,\n        g: g,\n        b: b\n      };\n    };\n    var toHsv = function () {\n      return rgb2hsv(r, g, b);\n    };\n    var parse = function (value) {\n      var matches;\n      if (typeof value === 'object') {\n        if ('r' in value) {\n          r = value.r;\n          g = value.g;\n          b = value.b;\n        } else if ('v' in value) {\n          hsvToRgb(value.h, value.s, value.v);\n        }\n      } else {\n        if (matches = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(value)) {\n          r = parseInt(matches[1], 10);\n          g = parseInt(matches[2], 10);\n          b = parseInt(matches[3], 10);\n        } else if (matches = /#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(value)) {\n          r = parseInt(matches[1], 16);\n          g = parseInt(matches[2], 16);\n          b = parseInt(matches[3], 16);\n        } else if (matches = /#([0-F])([0-F])([0-F])/gi.exec(value)) {\n          r = parseInt(matches[1] + matches[1], 16);\n          g = parseInt(matches[2] + matches[2], 16);\n          b = parseInt(matches[3] + matches[3], 16);\n        }\n      }\n      r = r < 0 ? 0 : r > 255 ? 255 : r;\n      g = g < 0 ? 0 : g > 255 ? 255 : g;\n      b = b < 0 ? 0 : b > 255 ? 255 : b;\n      return self;\n    };\n    if (value) {\n      parse(value);\n    }\n    self.toRgb = toRgb;\n    self.toHsv = toHsv;\n    self.toHex = toHex;\n    self.parse = parse;\n    return self;\n  };\n\n  var serialize = function (o, quote) {\n    var i, v, t, name;\n    quote = quote || '\"';\n    if (o === null) {\n      return 'null';\n    }\n    t = typeof o;\n    if (t === 'string') {\n      v = '\\bb\\tt\\nn\\ff\\rr\"\"\\'\\'\\\\\\\\';\n      return quote + o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g, function (a, b) {\n        if (quote === '\"' && a === '\\'') {\n          return a;\n        }\n        i = v.indexOf(b);\n        if (i + 1) {\n          return '\\\\' + v.charAt(i + 1);\n        }\n        a = b.charCodeAt().toString(16);\n        return '\\\\u' + '0000'.substring(a.length) + a;\n      }) + quote;\n    }\n    if (t === 'object') {\n      if (o.hasOwnProperty && Object.prototype.toString.call(o) === '[object Array]') {\n        for (i = 0, v = '['; i < o.length; i++) {\n          v += (i > 0 ? ',' : '') + serialize(o[i], quote);\n        }\n        return v + ']';\n      }\n      v = '{';\n      for (name in o) {\n        if (o.hasOwnProperty(name)) {\n          v += typeof o[name] !== 'function' ? (v.length > 1 ? ',' + quote : quote) + name + quote + ':' + serialize(o[name], quote) : '';\n        }\n      }\n      return v + '}';\n    }\n    return '' + o;\n  };\n  var $_aw5rjw85jnlpayja = {\n    serialize: serialize,\n    parse: function (text) {\n      try {\n        return JSON.parse(text);\n      } catch (ex) {\n      }\n    }\n  };\n\n  var $_oa3la86jnlpayji = {\n    callbacks: {},\n    count: 0,\n    send: function (settings) {\n      var self = this, dom = DOMUtils$1.DOM, count = settings.count !== undefined ? settings.count : self.count;\n      var id = 'tinymce_jsonp_' + count;\n      self.callbacks[count] = function (json) {\n        dom.remove(id);\n        delete self.callbacks[count];\n        settings.callback(json);\n      };\n      dom.add(dom.doc.body, 'script', {\n        id: id,\n        src: settings.url,\n        type: 'text/javascript'\n      });\n      self.count++;\n    }\n  };\n\n  var XHR = {\n    send: function (settings) {\n      var xhr, count = 0;\n      var ready = function () {\n        if (!settings.async || xhr.readyState === 4 || count++ > 10000) {\n          if (settings.success && count < 10000 && xhr.status === 200) {\n            settings.success.call(settings.success_scope, '' + xhr.responseText, xhr, settings);\n          } else if (settings.error) {\n            settings.error.call(settings.error_scope, count > 10000 ? 'TIMED_OUT' : 'GENERAL', xhr, settings);\n          }\n          xhr = null;\n        } else {\n          setTimeout(ready, 10);\n        }\n      };\n      settings.scope = settings.scope || this;\n      settings.success_scope = settings.success_scope || settings.scope;\n      settings.error_scope = settings.error_scope || settings.scope;\n      settings.async = settings.async === false ? false : true;\n      settings.data = settings.data || '';\n      XHR.fire('beforeInitialize', { settings: settings });\n      xhr = XMLHttpRequest();\n      if (xhr) {\n        if (xhr.overrideMimeType) {\n          xhr.overrideMimeType(settings.content_type);\n        }\n        xhr.open(settings.type || (settings.data ? 'POST' : 'GET'), settings.url, settings.async);\n        if (settings.crossDomain) {\n          xhr.withCredentials = true;\n        }\n        if (settings.content_type) {\n          xhr.setRequestHeader('Content-Type', settings.content_type);\n        }\n        if (settings.requestheaders) {\n          $_1q1txeljnlpawsa.each(settings.requestheaders, function (header) {\n            xhr.setRequestHeader(header.key, header.value);\n          });\n        }\n        xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        xhr = XHR.fire('beforeSend', {\n          xhr: xhr,\n          settings: settings\n        }).xhr;\n        xhr.send(settings.data);\n        if (!settings.async) {\n          return ready();\n        }\n        setTimeout(ready, 10);\n      }\n    }\n  };\n  $_1q1txeljnlpawsa.extend(XHR, $_c8v03c4tjnlpaxrw);\n\n  var extend$7 = $_1q1txeljnlpawsa.extend;\n  var JSONRequest = function (settings) {\n    this.settings = extend$7({}, settings);\n    this.count = 0;\n  };\n  JSONRequest.sendRPC = function (o) {\n    return new JSONRequest().send(o);\n  };\n  JSONRequest.prototype = {\n    send: function (args) {\n      var ecb = args.error, scb = args.success;\n      args = extend$7(this.settings, args);\n      args.success = function (c, x) {\n        c = $_aw5rjw85jnlpayja.parse(c);\n        if (typeof c === 'undefined') {\n          c = { error: 'JSON Parse error.' };\n        }\n        if (c.error) {\n          ecb.call(args.error_scope || args.scope, c.error, x);\n        } else {\n          scb.call(args.success_scope || args.scope, c.result);\n        }\n      };\n      args.error = function (ty, x) {\n        if (ecb) {\n          ecb.call(args.error_scope || args.scope, ty, x);\n        }\n      };\n      args.data = $_aw5rjw85jnlpayja.serialize({\n        id: args.id || 'c' + this.count++,\n        method: args.method,\n        params: args.params\n      });\n      args.content_type = 'application/json';\n      XHR.send(args);\n    }\n  };\n\n  var create$4 = function () {\n    return function () {\n      var data = {};\n      var keys = [];\n      var storage = {\n        getItem: function (key) {\n          var item = data[key];\n          return item ? item : null;\n        },\n        setItem: function (key, value) {\n          keys.push(key);\n          data[key] = String(value);\n        },\n        key: function (index) {\n          return keys[index];\n        },\n        removeItem: function (key) {\n          keys = keys.filter(function (k) {\n            return k === key;\n          });\n          delete data[key];\n        },\n        clear: function () {\n          keys = [];\n          data = {};\n        },\n        length: 0\n      };\n      Object.defineProperty(storage, 'length', {\n        get: function () {\n          return keys.length;\n        },\n        configurable: false,\n        enumerable: false\n      });\n      return storage;\n    }();\n  };\n\n  var localStorage$$1;\n  try {\n    localStorage$$1 = window.localStorage;\n  } catch (e) {\n    localStorage$$1 = create$4();\n  }\n  var LocalStorage = localStorage$$1;\n\n  var tinymce = EditorManager$1;\n  var publicApi = {\n    geom: { Rect: $_f1a1rs81jnlpayiu },\n    util: {\n      Promise: promiseObj,\n      Delay: $_2nbnh1ijnlpawpi,\n      Tools: $_1q1txeljnlpawsa,\n      VK: $_1qv0695yjnlpaxyk,\n      URI: URI,\n      Class: Class$1,\n      EventDispatcher: Dispatcher,\n      Observable: $_c8v03c4tjnlpaxrw,\n      I18n: $_f6nmn17zjnlpayic,\n      XHR: XHR,\n      JSON: $_aw5rjw85jnlpayja,\n      JSONRequest: JSONRequest,\n      JSONP: $_oa3la86jnlpayji,\n      LocalStorage: LocalStorage,\n      Color: Color\n    },\n    dom: {\n      EventUtils: EventUtils,\n      Sizzle: Sizzle,\n      DomQuery: DomQuery,\n      TreeWalker: TreeWalker,\n      DOMUtils: DOMUtils$1,\n      ScriptLoader: ScriptLoader,\n      RangeUtils: RangeUtils$1,\n      Serializer: DomSerializer$1,\n      ControlSelection: ControlSelection,\n      BookmarkManager: BookmarkManager$1,\n      Selection: Selection$1,\n      Event: EventUtils.Event\n    },\n    html: {\n      Styles: Styles,\n      Entities: $_bea7j51sjnlpax2u,\n      Node: Node$2,\n      Schema: Schema,\n      SaxParser: SaxParser$1,\n      DomParser: DomParser,\n      Writer: Writer,\n      Serializer: HtmlSerializer\n    },\n    ui: { Factory: $_4cmhbp82jnlpayiz },\n    Env: $_cseqobajnlpawll,\n    AddOnManager: AddOnManager,\n    Annotator: Annotator,\n    Formatter: Formatter,\n    UndoManager: UndoManager,\n    EditorCommands: EditorCommands,\n    WindowManager: WindowManager,\n    NotificationManager: NotificationManager,\n    EditorObservable: EditorObservable$1,\n    Shortcuts: Shortcuts,\n    Editor: Editor,\n    FocusManager: $_598dic7xjnlpayi4,\n    EditorManager: EditorManager$1,\n    DOM: DOMUtils$1.DOM,\n    ScriptLoader: ScriptLoader.ScriptLoader,\n    PluginManager: AddOnManager.PluginManager,\n    ThemeManager: AddOnManager.ThemeManager,\n    trim: $_1q1txeljnlpawsa.trim,\n    isArray: $_1q1txeljnlpawsa.isArray,\n    is: $_1q1txeljnlpawsa.is,\n    toArray: $_1q1txeljnlpawsa.toArray,\n    makeMap: $_1q1txeljnlpawsa.makeMap,\n    each: $_1q1txeljnlpawsa.each,\n    map: $_1q1txeljnlpawsa.map,\n    grep: $_1q1txeljnlpawsa.grep,\n    inArray: $_1q1txeljnlpawsa.inArray,\n    extend: $_1q1txeljnlpawsa.extend,\n    create: $_1q1txeljnlpawsa.create,\n    walk: $_1q1txeljnlpawsa.walk,\n    createNS: $_1q1txeljnlpawsa.createNS,\n    resolve: $_1q1txeljnlpawsa.resolve,\n    explode: $_1q1txeljnlpawsa.explode,\n    _addCacheSuffix: $_1q1txeljnlpawsa._addCacheSuffix,\n    isOpera: $_cseqobajnlpawll.opera,\n    isWebKit: $_cseqobajnlpawll.webkit,\n    isIE: $_cseqobajnlpawll.ie,\n    isGecko: $_cseqobajnlpawll.gecko,\n    isMac: $_cseqobajnlpawll.mac\n  };\n  tinymce = $_1q1txeljnlpawsa.extend(tinymce, publicApi);\n  var Tinymce = tinymce;\n\n  var exportToModuleLoaders = function (tinymce) {\n    if (typeof module === 'object') {\n      try {\n        module.exports = tinymce;\n      } catch (_) {\n      }\n    }\n  };\n  var exportToWindowGlobal = function (tinymce) {\n    window.tinymce = tinymce;\n    window.tinyMCE = tinymce;\n  };\n  exportToWindowGlobal(Tinymce);\n  exportToModuleLoaders(Tinymce);\n\n}());\n})();\n"]}]}