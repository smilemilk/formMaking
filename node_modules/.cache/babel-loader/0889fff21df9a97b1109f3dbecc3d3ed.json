{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/shanliguo/Documents/workstudy/vue-form-making/src/components/Container.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/components/Container.vue","mtime":1557761484109},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/package.json","mtime":1557727773054},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Draggable from 'vuedraggable';\nimport WidgetConfig from \"./WidgetConfig\";\nimport FormConfig from \"./FormConfig\";\nimport WidgetForm from \"./WidgetForm\";\nimport CusDialog from \"./CusDialog\";\nimport GenerateForm from \"./GenerateForm\";\nimport Clipboard from 'clipboard';\nimport { basicComponents, layoutComponents, advanceComponents } from \"./componentsConfig.js\";\nimport { loadJs, loadCss } from \"../util/index.js\";\nimport request from \"../util/request.js\";\nimport generateCode from \"./generateCode.js\";\nexport default {\n  name: 'fm-making-form',\n  components: {\n    Draggable: Draggable,\n    WidgetConfig: WidgetConfig,\n    FormConfig: FormConfig,\n    WidgetForm: WidgetForm,\n    CusDialog: CusDialog,\n    GenerateForm: GenerateForm\n  },\n  props: {\n    preview: {\n      type: Boolean,\n      default: false\n    },\n    generateCode: {\n      type: Boolean,\n      default: false\n    },\n    generateJson: {\n      type: Boolean,\n      default: false\n    },\n    upload: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      basicComponents: basicComponents,\n      layoutComponents: layoutComponents,\n      advanceComponents: advanceComponents,\n      resetJson: false,\n      widgetForm: {\n        list: [],\n        config: {\n          labelWidth: 100,\n          labelPosition: 'top',\n          size: 'small'\n        }\n      },\n      configTab: 'widget',\n      widgetFormSelect: null,\n      previewVisible: false,\n      jsonVisible: false,\n      codeVisible: false,\n      uploadVisible: false,\n      remoteFuncs: {\n        func_test: function func_test(resolve) {\n          setTimeout(function () {\n            var options = [{\n              id: '1',\n              name: '1111'\n            }, {\n              id: '2',\n              name: '2222'\n            }, {\n              id: '3',\n              name: '3333'\n            }];\n            resolve(options);\n          }, 2000);\n        },\n        funcGetToken: function funcGetToken(resolve) {\n          request.get('http://tools-server.xiaoyaoji.cn/api/uptoken').then(function (res) {\n            resolve(res.uptoken);\n          });\n        },\n        func_cascader: function func_cascader(resolve) {\n          var options = [{\n            value: 'zhinan',\n            label: '指南',\n            children: [{\n              value: 'shejiyuanze',\n              label: '设计原则',\n              children: [{\n                value: 'yizhi',\n                label: '一致'\n              }, {\n                value: 'fankui',\n                label: '反馈'\n              }, {\n                value: 'xiaolv',\n                label: '效率'\n              }, {\n                value: 'kekong',\n                label: '可控'\n              }]\n            }, {\n              value: 'daohang',\n              label: '导航',\n              children: [{\n                value: 'cexiangdaohang',\n                label: '侧向导航'\n              }, {\n                value: 'dingbudaohang',\n                label: '顶部导航'\n              }]\n            }]\n          }, {\n            value: 'zujian',\n            label: '组件',\n            children: [{\n              value: 'basic',\n              label: 'Basic',\n              children: [{\n                value: 'layout',\n                label: 'Layout 布局'\n              }, {\n                value: 'color',\n                label: 'Color 色彩'\n              }, {\n                value: 'typography',\n                label: 'Typography 字体'\n              }, {\n                value: 'icon',\n                label: 'Icon 图标'\n              }, {\n                value: 'button',\n                label: 'Button 按钮'\n              }]\n            }, {\n              value: 'form',\n              label: 'Form',\n              children: [{\n                value: 'radio',\n                label: 'Radio 单选框'\n              }, {\n                value: 'checkbox',\n                label: 'Checkbox 多选框'\n              }, {\n                value: 'input',\n                label: 'Input 输入框'\n              }, {\n                value: 'input-number',\n                label: 'InputNumber 计数器'\n              }, {\n                value: 'select',\n                label: 'Select 选择器'\n              }, {\n                value: 'cascader',\n                label: 'Cascader 级联选择器'\n              }, {\n                value: 'switch',\n                label: 'Switch 开关'\n              }, {\n                value: 'slider',\n                label: 'Slider 滑块'\n              }, {\n                value: 'time-picker',\n                label: 'TimePicker 时间选择器'\n              }, {\n                value: 'date-picker',\n                label: 'DatePicker 日期选择器'\n              }, {\n                value: 'datetime-picker',\n                label: 'DateTimePicker 日期时间选择器'\n              }, {\n                value: 'upload',\n                label: 'Upload 上传'\n              }, {\n                value: 'rate',\n                label: 'Rate 评分'\n              }, {\n                value: 'form',\n                label: 'Form 表单'\n              }]\n            }, {\n              value: 'data',\n              label: 'Data',\n              children: [{\n                value: 'table',\n                label: 'Table 表格'\n              }, {\n                value: 'tag',\n                label: 'Tag 标签'\n              }, {\n                value: 'progress',\n                label: 'Progress 进度条'\n              }, {\n                value: 'tree',\n                label: 'Tree 树形控件'\n              }, {\n                value: 'pagination',\n                label: 'Pagination 分页'\n              }, {\n                value: 'badge',\n                label: 'Badge 标记'\n              }]\n            }, {\n              value: 'notice',\n              label: 'Notice',\n              children: [{\n                value: 'alert',\n                label: 'Alert 警告'\n              }, {\n                value: 'loading',\n                label: 'Loading 加载'\n              }, {\n                value: 'message',\n                label: 'Message 消息提示'\n              }, {\n                value: 'message-box',\n                label: 'MessageBox 弹框'\n              }, {\n                value: 'notification',\n                label: 'Notification 通知'\n              }]\n            }, {\n              value: 'navigation',\n              label: 'Navigation',\n              children: [{\n                value: 'menu',\n                label: 'NavMenu 导航菜单'\n              }, {\n                value: 'tabs',\n                label: 'Tabs 标签页'\n              }, {\n                value: 'breadcrumb',\n                label: 'Breadcrumb 面包屑'\n              }, {\n                value: 'dropdown',\n                label: 'Dropdown 下拉菜单'\n              }, {\n                value: 'steps',\n                label: 'Steps 步骤条'\n              }]\n            }, {\n              value: 'others',\n              label: 'Others',\n              children: [{\n                value: 'dialog',\n                label: 'Dialog 对话框'\n              }, {\n                value: 'tooltip',\n                label: 'Tooltip 文字提示'\n              }, {\n                value: 'popover',\n                label: 'Popover 弹出框'\n              }, {\n                value: 'card',\n                label: 'Card 卡片'\n              }, {\n                value: 'carousel',\n                label: 'Carousel 走马灯'\n              }, {\n                value: 'collapse',\n                label: 'Collapse 折叠面板'\n              }]\n            }]\n          }, {\n            value: 'ziyuan',\n            label: '资源',\n            children: [{\n              value: 'axure',\n              label: 'Axure Components'\n            }, {\n              value: 'sketch',\n              label: 'Sketch Templates'\n            }, {\n              value: 'jiaohu',\n              label: '组件交互文档'\n            }]\n          }];\n          resolve(options);\n        },\n        upload_callback: function upload_callback(response, file, fileList) {\n          console.log('callback', response, file, fileList);\n        }\n      },\n      widgetModels: {},\n      blank: '',\n      htmlTemplate: '',\n      jsonTemplate: '',\n      uploadEditor: null,\n      jsonEg: \"{\\n  \\\"list\\\": [\\n    {\\n      \\\"type\\\": \\\"input\\\",\\n      \\\"name\\\": \\\"\\u5355\\u884C\\u6587\\u672C\\\",\\n      \\\"icon\\\": \\\"icon-input\\\",\\n      \\\"options\\\": {\\n        \\\"width\\\": \\\"100%\\\",\\n        \\\"defaultValue\\\": \\\"\\\",\\n        \\\"required\\\": false,\\n        \\\"dataType\\\": \\\"string\\\",\\n        \\\"pattern\\\": \\\"\\\",\\n        \\\"placeholder\\\": \\\"\\\",\\n        \\\"remoteFunc\\\": \\\"func_1540908864000_94322\\\"\\n      },\\n      \\\"key\\\": \\\"1540908864000_94322\\\",\\n      \\\"model\\\": \\\"input_1540908864000_94322\\\",\\n      \\\"rules\\\": [\\n        {\\n          \\\"type\\\": \\\"string\\\",\\n          \\\"message\\\": \\\"\\u5355\\u884C\\u6587\\u672C\\u683C\\u5F0F\\u4E0D\\u6B63\\u786E\\\"\\n        }\\n      ]\\n    },\\n    {\\n      \\\"type\\\": \\\"textarea\\\",\\n      \\\"name\\\": \\\"\\u591A\\u884C\\u6587\\u672C\\\",\\n      \\\"icon\\\": \\\"icon-diy-com-textarea\\\",\\n      \\\"options\\\": {\\n        \\\"width\\\": \\\"100%\\\",\\n        \\\"defaultValue\\\": \\\"\\\",\\n        \\\"required\\\": false,\\n        \\\"pattern\\\": \\\"\\\",\\n        \\\"placeholder\\\": \\\"\\\",\\n        \\\"remoteFunc\\\": \\\"func_1540908876000_19435\\\"\\n      },\\n      \\\"key\\\": \\\"1540908876000_19435\\\",\\n      \\\"model\\\": \\\"textarea_1540908876000_19435\\\",\\n      \\\"rules\\\": []\\n    }\\n  ],\\n  \\\"config\\\": {\\n    \\\"labelWidth\\\": 100,\\n    \\\"labelPosition\\\": \\\"top\\\",\\n    \\\"size\\\": \\\"small\\\"\\n  }\\n}\"\n    };\n  },\n  mounted: function mounted() {},\n  methods: {\n    handleGoGithub: function handleGoGithub() {\n      window.location.href = 'https://github.com/GavinZhuLei/vue-form-making';\n    },\n    handleConfigSelect: function handleConfigSelect(value) {\n      this.configTab = value;\n    },\n    handleMoveEnd: function handleMoveEnd(evt) {\n      console.log('end', evt);\n      console.log(evt);\n    },\n    handleMoveStart: function handleMoveStart(_ref) {\n      var oldIndex = _ref.oldIndex;\n      console.log('start', oldIndex, this.basicComponents);\n    },\n    handleMove: function handleMove() {\n      return true;\n    },\n    handlePreview: function handlePreview() {\n      console.log(this.widgetForm);\n      this.previewVisible = true;\n    },\n    handleTest: function handleTest() {\n      var _this = this;\n\n      this.$refs.generateForm.getData().then(function (data) {\n        _this.$alert(data, '').catch(function (e) {});\n\n        _this.$refs.widgetPreview.end();\n      }).catch(function (e) {\n        _this.$refs.widgetPreview.end();\n      });\n    },\n    handleGenerateJson: function handleGenerateJson() {\n      this.jsonVisible = true;\n      this.jsonTemplate = this.widgetForm;\n      console.log(JSON.stringify(this.widgetForm));\n      this.$nextTick(function () {\n        var editor = ace.edit('jsoneditor');\n        editor.session.setMode(\"ace/mode/json\");\n        var btnCopy = new Clipboard('#copybtn');\n      });\n    },\n    handleGenerateCode: function handleGenerateCode() {\n      this.codeVisible = true;\n      this.htmlTemplate = generateCode(JSON.stringify(this.widgetForm));\n      this.$nextTick(function () {\n        var editor = ace.edit('codeeditor');\n        editor.session.setMode(\"ace/mode/html\");\n      });\n    },\n    handleUpload: function handleUpload() {\n      var _this2 = this;\n\n      this.uploadVisible = true;\n      this.$nextTick(function () {\n        _this2.uploadEditor = ace.edit('uploadeditor');\n\n        _this2.uploadEditor.session.setMode(\"ace/mode/json\");\n      });\n    },\n    handleUploadJson: function handleUploadJson() {\n      try {\n        this.setJSON(JSON.parse(this.uploadEditor.getValue()));\n        this.uploadVisible = false;\n      } catch (e) {\n        this.$message.error(e.message);\n        this.$refs.uploadJson.end();\n      }\n    },\n    getJSON: function getJSON() {\n      return this.widgetForm;\n    },\n    getHtml: function getHtml() {\n      return generateCode(JSON.stringify(this.widgetForm));\n    },\n    setJSON: function setJSON(json) {\n      this.widgetForm = json;\n\n      if (json.list.length > 0) {\n        this.widgetFormSelect = json.list[0];\n      }\n    },\n    handleInput: function handleInput(val) {\n      console.log(val);\n      this.blank = val;\n    }\n  },\n  watch: {\n    widgetForm: {\n      deep: true,\n      handler: function handler(val) {\n        console.log(this.$refs.widgetForm);\n      }\n    }\n  }\n};",{"version":3,"sources":["Container.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-container class=\"fm2-container\">\n    <el-main class=\"fm2-main\">\n      <el-container>\n        <el-aside style=\"wdith: 250px;\">\n\n          <div class=\"components-list\">\n            <div class=\"widget-cate\">基础字段</div>\n            <draggable tag=\"ul\" :list=\"basicComponents\"\n              v-bind=\"{group:{ name:'people', pull:'clone',put:false},sort:false, ghostClass: 'ghost'}\"\n              @end=\"handleMoveEnd\"\n              @start=\"handleMoveStart\"\n              :move=\"handleMove\"\n            >\n\n              <li class=\"form-edit-widget-label\" v-for=\"(item, index) in basicComponents\" :key=\"index\">\n                <a>\n                  <i class=\"icon iconfont\" :class=\"item.icon\"></i>\n                  <span>{{item.name}}</span>\n                </a>\n              </li>\n            </draggable>\n\n            <div class=\"widget-cate\">高级字段</div>\n            <draggable tag=\"ul\" :list=\"advanceComponents\"\n              v-bind=\"{group:{ name:'people', pull:'clone',put:false},sort:false, ghostClass: 'ghost'}\"\n              @end=\"handleMoveEnd\"\n              @start=\"handleMoveStart\"\n              :move=\"handleMove\"\n            >\n\n              <li class=\"form-edit-widget-label\" v-for=\"(item, index) in advanceComponents\" :key=\"index\">\n                <a>\n                  <i class=\"icon iconfont\" :class=\"item.icon\"></i>\n                  <span>{{item.name}}</span>\n                </a>\n              </li>\n            </draggable>\n\n            <div class=\"widget-cate\">布局字段</div>\n            <draggable tag=\"ul\" :list=\"layoutComponents\"\n              v-bind=\"{group:{ name:'people', pull:'clone',put:false},sort:false, ghostClass: 'ghost'}\"\n              @end=\"handleMoveEnd\"\n              @start=\"handleMoveStart\"\n              :move=\"handleMove\"\n            >\n\n              <li class=\"form-edit-widget-label data-grid\" v-for=\"(item, index) in layoutComponents\" :key=\"index\">\n                <a>\n                  <i class=\"icon iconfont\" :class=\"item.icon\"></i>\n                  <span>{{item.name}}</span>\n                </a>\n              </li>\n            </draggable>\n          </div>\n\n        </el-aside>\n        <el-container class=\"center-container\" direction=\"vertical\">\n          <el-header class=\"btn-bar\" style=\"height: 45px;\">\n            <slot name=\"action\">\n            </slot>\n            <el-button v-if=\"upload\" type=\"text\" size=\"medium\" icon=\"el-icon-upload2\" @click=\"handleUpload\">导入JSON</el-button>\n            <el-button v-if=\"preview\" type=\"text\" size=\"medium\" icon=\"el-icon-view\" @click=\"handlePreview\">预览</el-button>\n            <el-button v-if=\"generateJson\" type=\"text\" size=\"medium\" icon=\"el-icon-tickets\" @click=\"handleGenerateJson\">生成JSON</el-button>\n            <el-button v-if=\"generateCode\" type=\"text\" size=\"medium\" icon=\"el-icon-document\" @click=\"handleGenerateCode\">生成代码</el-button>\n          </el-header>\n          <el-main :class=\"{'widget-empty': widgetForm.list.length == 0}\">\n\n            <widget-form v-if=\"!resetJson\"  ref=\"widgetForm\" :data=\"widgetForm\" :select.sync=\"widgetFormSelect\"></widget-form>\n          </el-main>\n        </el-container>\n\n        <el-aside class=\"widget-config-container\">\n          <el-container>\n            <el-header height=\"45px\">\n              <div class=\"config-tab\" :class=\"{active: configTab=='widget'}\" @click=\"handleConfigSelect('widget')\">字段属性</div>\n              <div class=\"config-tab\" :class=\"{active: configTab=='form'}\" @click=\"handleConfigSelect('form')\">表单属性</div>\n            </el-header>\n            <el-main class=\"config-content\">\n              <widget-config v-show=\"configTab=='widget'\" :data=\"widgetFormSelect\"></widget-config>\n              <form-config v-show=\"configTab=='form'\" :data=\"widgetForm.config\"></form-config>\n            </el-main>\n          </el-container>\n\n        </el-aside>\n\n        <cus-dialog\n          :visible=\"previewVisible\"\n          @on-close=\"previewVisible = false\"\n          ref=\"widgetPreview\"\n          @on-submit=\"handleTest\"\n          width=\"1000px\"\n          form\n        >\n          <generate-form insite=\"true\" v-if=\"previewVisible\" :data=\"widgetForm\" :value=\"widgetModels\" :remote=\"remoteFuncs\" ref=\"generateForm\">\n\n            <template v-slot:blank=\"scope\">\n              宽度：<el-input v-model=\"scope.model.blank.width\" style=\"width: 100px\"></el-input>\n              高度：<el-input v-model=\"scope.model.blank.height\" style=\"width: 100px\"></el-input>\n            </template>\n          </generate-form>\n        </cus-dialog>\n\n        <cus-dialog\n          :visible=\"uploadVisible\"\n          @on-close=\"uploadVisible = false\"\n          @on-submit=\"handleUploadJson\"\n          ref=\"uploadJson\"\n          width=\"800px\"\n          form\n        >\n          <el-alert type=\"info\" title=\"JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可\"></el-alert>\n          <div id=\"uploadeditor\" style=\"height: 400px;width: 100%;\">{{jsonEg}}</div>\n        </cus-dialog>\n\n        <cus-dialog\n          :visible=\"jsonVisible\"\n          @on-close=\"jsonVisible = false\"\n          ref=\"jsonPreview\"\n          width=\"800px\"\n          form\n        >\n\n          <div id=\"jsoneditor\" style=\"height: 400px;width: 100%;\">{{jsonTemplate}}</div>\n\n          <template slot=\"action\">\n            <el-button id=\"copybtn\" data-clipboard-target=\".ace_text-input\">双击复制</el-button>\n          </template>\n        </cus-dialog>\n\n        <cus-dialog\n          :visible=\"codeVisible\"\n          @on-close=\"codeVisible = false\"\n          ref=\"codePreview\"\n          width=\"800px\"\n          form\n          :action=\"false\"\n        >\n          <div id=\"codeeditor\" style=\"height: 500px; width: 100%;\">{{htmlTemplate}}</div>\n        </cus-dialog>\n      </el-container>\n    </el-main>\n    <el-footer height=\"30px\">Powered by <a target=\"_blank\" href=\"https://github.com/GavinZhuLei/vue-form-making\">GavinZhuLei</a></el-footer>\n  </el-container>\n\n</template>\n\n<script>\nimport Draggable from 'vuedraggable'\nimport WidgetConfig from './WidgetConfig'\nimport FormConfig from './FormConfig'\nimport WidgetForm from './WidgetForm'\nimport CusDialog from './CusDialog'\nimport GenerateForm from './GenerateForm'\nimport Clipboard from 'clipboard'\nimport {basicComponents, layoutComponents, advanceComponents} from './componentsConfig.js'\nimport {loadJs, loadCss} from '../util/index.js'\nimport request from '../util/request.js'\nimport generateCode from './generateCode.js'\n\nexport default {\n  name: 'fm-making-form',\n  components: {\n    Draggable,\n    WidgetConfig,\n    FormConfig,\n    WidgetForm,\n    CusDialog,\n    GenerateForm\n  },\n  props: {\n    preview: {\n      type: Boolean,\n      default: false\n    },\n    generateCode: {\n      type: Boolean,\n      default: false\n    },\n    generateJson: {\n      type: Boolean,\n      default: false\n    },\n    upload: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      basicComponents,\n      layoutComponents,\n      advanceComponents,\n      resetJson: false,\n      widgetForm: {\n        list: [],\n        config: {\n          labelWidth: 100,\n          labelPosition: 'top',\n          size: 'small'\n        },\n      },\n      configTab: 'widget',\n      widgetFormSelect: null,\n      previewVisible: false,\n      jsonVisible: false,\n      codeVisible: false,\n      uploadVisible: false,\n      remoteFuncs: {\n        func_test (resolve) {\n          setTimeout(() => {\n            const options = [\n              {id: '1', name: '1111'},\n              {id: '2', name: '2222'},\n              {id: '3', name: '3333'}\n            ]\n\n            resolve(options)\n          }, 2000)\n        },\n        funcGetToken (resolve) {\n          request.get('http://tools-server.xiaoyaoji.cn/api/uptoken').then(res => {\n            resolve(res.uptoken)\n          })\n        },\n        func_cascader (resolve) {\n            const options = [{\n              value: 'zhinan',\n              label: '指南',\n              children: [{\n                value: 'shejiyuanze',\n                label: '设计原则',\n                children: [{\n                  value: 'yizhi',\n                  label: '一致'\n                }, {\n                  value: 'fankui',\n                  label: '反馈'\n                }, {\n                  value: 'xiaolv',\n                  label: '效率'\n                }, {\n                  value: 'kekong',\n                  label: '可控'\n                }]\n              }, {\n                value: 'daohang',\n                label: '导航',\n                children: [{\n                  value: 'cexiangdaohang',\n                  label: '侧向导航'\n                }, {\n                  value: 'dingbudaohang',\n                  label: '顶部导航'\n                }]\n              }]\n            }, {\n              value: 'zujian',\n              label: '组件',\n              children: [{\n                value: 'basic',\n                label: 'Basic',\n                children: [{\n                  value: 'layout',\n                  label: 'Layout 布局'\n                }, {\n                  value: 'color',\n                  label: 'Color 色彩'\n                }, {\n                  value: 'typography',\n                  label: 'Typography 字体'\n                }, {\n                  value: 'icon',\n                  label: 'Icon 图标'\n                }, {\n                  value: 'button',\n                  label: 'Button 按钮'\n                }]\n              }, {\n                value: 'form',\n                label: 'Form',\n                children: [{\n                  value: 'radio',\n                  label: 'Radio 单选框'\n                }, {\n                  value: 'checkbox',\n                  label: 'Checkbox 多选框'\n                }, {\n                  value: 'input',\n                  label: 'Input 输入框'\n                }, {\n                  value: 'input-number',\n                  label: 'InputNumber 计数器'\n                }, {\n                  value: 'select',\n                  label: 'Select 选择器'\n                }, {\n                  value: 'cascader',\n                  label: 'Cascader 级联选择器'\n                }, {\n                  value: 'switch',\n                  label: 'Switch 开关'\n                }, {\n                  value: 'slider',\n                  label: 'Slider 滑块'\n                }, {\n                  value: 'time-picker',\n                  label: 'TimePicker 时间选择器'\n                }, {\n                  value: 'date-picker',\n                  label: 'DatePicker 日期选择器'\n                }, {\n                  value: 'datetime-picker',\n                  label: 'DateTimePicker 日期时间选择器'\n                }, {\n                  value: 'upload',\n                  label: 'Upload 上传'\n                }, {\n                  value: 'rate',\n                  label: 'Rate 评分'\n                }, {\n                  value: 'form',\n                  label: 'Form 表单'\n                }]\n              }, {\n                value: 'data',\n                label: 'Data',\n                children: [{\n                  value: 'table',\n                  label: 'Table 表格'\n                }, {\n                  value: 'tag',\n                  label: 'Tag 标签'\n                }, {\n                  value: 'progress',\n                  label: 'Progress 进度条'\n                }, {\n                  value: 'tree',\n                  label: 'Tree 树形控件'\n                }, {\n                  value: 'pagination',\n                  label: 'Pagination 分页'\n                }, {\n                  value: 'badge',\n                  label: 'Badge 标记'\n                }]\n              }, {\n                value: 'notice',\n                label: 'Notice',\n                children: [{\n                  value: 'alert',\n                  label: 'Alert 警告'\n                }, {\n                  value: 'loading',\n                  label: 'Loading 加载'\n                }, {\n                  value: 'message',\n                  label: 'Message 消息提示'\n                }, {\n                  value: 'message-box',\n                  label: 'MessageBox 弹框'\n                }, {\n                  value: 'notification',\n                  label: 'Notification 通知'\n                }]\n              }, {\n                value: 'navigation',\n                label: 'Navigation',\n                children: [{\n                  value: 'menu',\n                  label: 'NavMenu 导航菜单'\n                }, {\n                  value: 'tabs',\n                  label: 'Tabs 标签页'\n                }, {\n                  value: 'breadcrumb',\n                  label: 'Breadcrumb 面包屑'\n                }, {\n                  value: 'dropdown',\n                  label: 'Dropdown 下拉菜单'\n                }, {\n                  value: 'steps',\n                  label: 'Steps 步骤条'\n                }]\n              }, {\n                value: 'others',\n                label: 'Others',\n                children: [{\n                  value: 'dialog',\n                  label: 'Dialog 对话框'\n                }, {\n                  value: 'tooltip',\n                  label: 'Tooltip 文字提示'\n                }, {\n                  value: 'popover',\n                  label: 'Popover 弹出框'\n                }, {\n                  value: 'card',\n                  label: 'Card 卡片'\n                }, {\n                  value: 'carousel',\n                  label: 'Carousel 走马灯'\n                }, {\n                  value: 'collapse',\n                  label: 'Collapse 折叠面板'\n                }]\n              }]\n            }, {\n              value: 'ziyuan',\n              label: '资源',\n              children: [{\n                value: 'axure',\n                label: 'Axure Components'\n              }, {\n                value: 'sketch',\n                label: 'Sketch Templates'\n              }, {\n                value: 'jiaohu',\n                label: '组件交互文档'\n              }]\n            }]\n\n            resolve(options)\n        },\n        upload_callback (response, file, fileList) {\n          console.log('callback', response, file, fileList)\n        }\n      },\n      widgetModels: {\n      },\n      blank: '',\n      htmlTemplate: '',\n      jsonTemplate: '',\n      uploadEditor: null,\n      jsonEg: `{\n  \"list\": [\n    {\n      \"type\": \"input\",\n      \"name\": \"单行文本\",\n      \"icon\": \"icon-input\",\n      \"options\": {\n        \"width\": \"100%\",\n        \"defaultValue\": \"\",\n        \"required\": false,\n        \"dataType\": \"string\",\n        \"pattern\": \"\",\n        \"placeholder\": \"\",\n        \"remoteFunc\": \"func_1540908864000_94322\"\n      },\n      \"key\": \"1540908864000_94322\",\n      \"model\": \"input_1540908864000_94322\",\n      \"rules\": [\n        {\n          \"type\": \"string\",\n          \"message\": \"单行文本格式不正确\"\n        }\n      ]\n    },\n    {\n      \"type\": \"textarea\",\n      \"name\": \"多行文本\",\n      \"icon\": \"icon-diy-com-textarea\",\n      \"options\": {\n        \"width\": \"100%\",\n        \"defaultValue\": \"\",\n        \"required\": false,\n        \"pattern\": \"\",\n        \"placeholder\": \"\",\n        \"remoteFunc\": \"func_1540908876000_19435\"\n      },\n      \"key\": \"1540908876000_19435\",\n      \"model\": \"textarea_1540908876000_19435\",\n      \"rules\": []\n    }\n  ],\n  \"config\": {\n    \"labelWidth\": 100,\n    \"labelPosition\": \"top\",\n    \"size\": \"small\"\n  }\n}`\n    }\n  },\n  mounted () {\n\n  },\n  methods: {\n    handleGoGithub () {\n      window.location.href = 'https://github.com/GavinZhuLei/vue-form-making'\n    },\n    handleConfigSelect (value) {\n      this.configTab = value\n    },\n    handleMoveEnd (evt) {\n      console.log('end', evt)\n        console.log(evt)\n    },\n    handleMoveStart ({oldIndex}) {\n      console.log('start', oldIndex, this.basicComponents)\n    },\n    handleMove () {\n      return true\n    },\n    handlePreview () {\n      console.log(this.widgetForm)\n      this.previewVisible = true\n    },\n    handleTest () {\n      this.$refs.generateForm.getData().then(data => {\n        this.$alert(data, '').catch(e=>{})\n        this.$refs.widgetPreview.end()\n      }).catch(e => {\n        this.$refs.widgetPreview.end()\n      })\n    },\n    handleGenerateJson () {\n      this.jsonVisible = true\n      this.jsonTemplate = this.widgetForm\n      console.log(JSON.stringify(this.widgetForm))\n      this.$nextTick(() => {\n\n        const editor = ace.edit('jsoneditor')\n        editor.session.setMode(\"ace/mode/json\")\n\n        const btnCopy = new Clipboard('#copybtn')\n      })\n    },\n    handleGenerateCode () {\n      this.codeVisible = true\n      this.htmlTemplate = generateCode(JSON.stringify(this.widgetForm))\n      this.$nextTick(() => {\n        const editor = ace.edit('codeeditor')\n        editor.session.setMode(\"ace/mode/html\")\n      })\n    },\n    handleUpload () {\n      this.uploadVisible = true\n      this.$nextTick(() => {\n        this.uploadEditor = ace.edit('uploadeditor')\n        this.uploadEditor.session.setMode(\"ace/mode/json\")\n      })\n    },\n    handleUploadJson () {\n      try {\n        this.setJSON(JSON.parse(this.uploadEditor.getValue()))\n        this.uploadVisible = false\n      } catch (e) {\n        this.$message.error(e.message)\n        this.$refs.uploadJson.end()\n      }\n    },\n    getJSON () {\n      return this.widgetForm\n    },\n    getHtml () {\n      return generateCode(JSON.stringify(this.widgetForm))\n    },\n    setJSON (json) {\n      this.widgetForm = json\n\n      if (json.list.length> 0) {\n        this.widgetFormSelect = json.list[0]\n      }\n    },\n    handleInput (val) {\n      console.log(val)\n      this.blank = val\n    }\n  },\n  watch: {\n    widgetForm: {\n      deep: true,\n      handler: function (val) {\n        console.log(this.$refs.widgetForm)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.widget-empty{\n  background: url('../assets/form_empty.png') no-repeat;\n  background-position: 50%;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}