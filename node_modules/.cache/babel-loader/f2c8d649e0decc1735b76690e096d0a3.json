{"remainingRequest":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js!/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js??ref--13-0!/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/autolink/plugin.js","dependencies":[{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/autolink/plugin.js","mtime":1551936176000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/shanliguo/Documents/workstudy/vue-form-making/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["(function () {\n  var autolink = function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n    var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var getAutoLinkPattern = function (editor) {\n      return editor.getParam('autolink_pattern', /^(https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.|(?:mailto:)?[A-Z0-9._%+\\-]+@)(.+)$/i);\n    };\n\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target', '');\n    };\n\n    var $_3ico058vjnlpb0q4 = {\n      getAutoLinkPattern: getAutoLinkPattern,\n      getDefaultLinkTarget: getDefaultLinkTarget\n    };\n\n    var rangeEqualsDelimiterOrSpace = function (rangeString, delimiter) {\n      return rangeString === delimiter || rangeString === ' ' || rangeString.charCodeAt(0) === 160;\n    };\n\n    var handleEclipse = function (editor) {\n      parseCurrentLine(editor, -1, '(');\n    };\n\n    var handleSpacebar = function (editor) {\n      parseCurrentLine(editor, 0, '');\n    };\n\n    var handleEnter = function (editor) {\n      parseCurrentLine(editor, -1, '');\n    };\n\n    var scopeIndex = function (container, index) {\n      if (index < 0) {\n        index = 0;\n      }\n\n      if (container.nodeType === 3) {\n        var len = container.data.length;\n\n        if (index > len) {\n          index = len;\n        }\n      }\n\n      return index;\n    };\n\n    var setStart = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setStart(container, scopeIndex(container, offset));\n      } else {\n        rng.setStartBefore(container);\n      }\n    };\n\n    var setEnd = function (rng, container, offset) {\n      if (container.nodeType !== 1 || container.hasChildNodes()) {\n        rng.setEnd(container, scopeIndex(container, offset));\n      } else {\n        rng.setEndAfter(container);\n      }\n    };\n\n    var parseCurrentLine = function (editor, endOffset, delimiter) {\n      var rng, end, start, endContainer, bookmark, text, matches, prev, len, rngText;\n      var autoLinkPattern = $_3ico058vjnlpb0q4.getAutoLinkPattern(editor);\n      var defaultLinkTarget = $_3ico058vjnlpb0q4.getDefaultLinkTarget(editor);\n\n      if (editor.selection.getNode().tagName === 'A') {\n        return;\n      }\n\n      rng = editor.selection.getRng(true).cloneRange();\n\n      if (rng.startOffset < 5) {\n        prev = rng.endContainer.previousSibling;\n\n        if (!prev) {\n          if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n            return;\n          }\n\n          prev = rng.endContainer.firstChild.nextSibling;\n        }\n\n        len = prev.length;\n        setStart(rng, prev, len);\n        setEnd(rng, prev, len);\n\n        if (rng.endOffset < 5) {\n          return;\n        }\n\n        end = rng.endOffset;\n        endContainer = prev;\n      } else {\n        endContainer = rng.endContainer;\n\n        if (endContainer.nodeType !== 3 && endContainer.firstChild) {\n          while (endContainer.nodeType !== 3 && endContainer.firstChild) {\n            endContainer = endContainer.firstChild;\n          }\n\n          if (endContainer.nodeType === 3) {\n            setStart(rng, endContainer, 0);\n            setEnd(rng, endContainer, endContainer.nodeValue.length);\n          }\n        }\n\n        if (rng.endOffset === 1) {\n          end = 2;\n        } else {\n          end = rng.endOffset - 1 - endOffset;\n        }\n      }\n\n      start = end;\n\n      do {\n        setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n        setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n        end -= 1;\n        rngText = rng.toString();\n      } while (rngText !== ' ' && rngText !== '' && rngText.charCodeAt(0) !== 160 && end - 2 >= 0 && rngText !== delimiter);\n\n      if (rangeEqualsDelimiterOrSpace(rng.toString(), delimiter)) {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n        end += 1;\n      } else if (rng.startOffset === 0) {\n        setStart(rng, endContainer, 0);\n        setEnd(rng, endContainer, start);\n      } else {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n      }\n\n      text = rng.toString();\n\n      if (text.charAt(text.length - 1) === '.') {\n        setEnd(rng, endContainer, start - 1);\n      }\n\n      text = rng.toString().trim();\n      matches = text.match(autoLinkPattern);\n\n      if (matches) {\n        if (matches[1] === 'www.') {\n          matches[1] = 'http://www.';\n        } else if (/@$/.test(matches[1]) && !/^mailto:/.test(matches[1])) {\n          matches[1] = 'mailto:' + matches[1];\n        }\n\n        bookmark = editor.selection.getBookmark();\n        editor.selection.setRng(rng);\n        editor.execCommand('createlink', false, matches[1] + matches[2]);\n\n        if (defaultLinkTarget) {\n          editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n        }\n\n        editor.selection.moveToBookmark(bookmark);\n        editor.nodeChanged();\n      }\n    };\n\n    var setup = function (editor) {\n      var autoUrlDetectState;\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13) {\n          return handleEnter(editor);\n        }\n      });\n\n      if (global$1.ie) {\n        editor.on('focus', function () {\n          if (!autoUrlDetectState) {\n            autoUrlDetectState = true;\n\n            try {\n              editor.execCommand('AutoUrlDetect', false, true);\n            } catch (ex) {}\n          }\n        });\n        return;\n      }\n\n      editor.on('keypress', function (e) {\n        if (e.keyCode === 41) {\n          return handleEclipse(editor);\n        }\n      });\n      editor.on('keyup', function (e) {\n        if (e.keyCode === 32) {\n          return handleSpacebar(editor);\n        }\n      });\n    };\n\n    var $_d4bfpx8tjnlpb0pz = {\n      setup: setup\n    };\n    global.add('autolink', function (editor) {\n      $_d4bfpx8tjnlpb0pz.setup(editor);\n    });\n\n    function Plugin() {}\n\n    return Plugin;\n  }();\n})();",{"version":3,"sources":["/Users/shanliguo/Documents/workstudy/vue-form-making/src/lib/tinymce/plugins/autolink/plugin.js"],"names":["autolink","global","tinymce","util","Tools","resolve","global$1","getAutoLinkPattern","editor","getParam","getDefaultLinkTarget","$_3ico058vjnlpb0q4","rangeEqualsDelimiterOrSpace","rangeString","delimiter","charCodeAt","handleEclipse","parseCurrentLine","handleSpacebar","handleEnter","scopeIndex","container","index","nodeType","len","data","length","setStart","rng","offset","hasChildNodes","setStartBefore","setEnd","setEndAfter","endOffset","end","start","endContainer","bookmark","text","matches","prev","rngText","autoLinkPattern","defaultLinkTarget","selection","getNode","tagName","getRng","cloneRange","startOffset","previousSibling","firstChild","nextSibling","nodeValue","toString","charAt","trim","match","test","getBookmark","setRng","execCommand","dom","setAttrib","moveToBookmark","nodeChanged","setup","autoUrlDetectState","on","e","keyCode","ie","ex","$_d4bfpx8tjnlpb0pz","add","Plugin"],"mappings":"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","sourcesContent":["(function () {\nvar autolink = (function () {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.Env');\n\n  var getAutoLinkPattern = function (editor) {\n    return editor.getParam('autolink_pattern', /^(https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.|(?:mailto:)?[A-Z0-9._%+\\-]+@)(.+)$/i);\n  };\n  var getDefaultLinkTarget = function (editor) {\n    return editor.getParam('default_link_target', '');\n  };\n  var $_3ico058vjnlpb0q4 = {\n    getAutoLinkPattern: getAutoLinkPattern,\n    getDefaultLinkTarget: getDefaultLinkTarget\n  };\n\n  var rangeEqualsDelimiterOrSpace = function (rangeString, delimiter) {\n    return rangeString === delimiter || rangeString === ' ' || rangeString.charCodeAt(0) === 160;\n  };\n  var handleEclipse = function (editor) {\n    parseCurrentLine(editor, -1, '(');\n  };\n  var handleSpacebar = function (editor) {\n    parseCurrentLine(editor, 0, '');\n  };\n  var handleEnter = function (editor) {\n    parseCurrentLine(editor, -1, '');\n  };\n  var scopeIndex = function (container, index) {\n    if (index < 0) {\n      index = 0;\n    }\n    if (container.nodeType === 3) {\n      var len = container.data.length;\n      if (index > len) {\n        index = len;\n      }\n    }\n    return index;\n  };\n  var setStart = function (rng, container, offset) {\n    if (container.nodeType !== 1 || container.hasChildNodes()) {\n      rng.setStart(container, scopeIndex(container, offset));\n    } else {\n      rng.setStartBefore(container);\n    }\n  };\n  var setEnd = function (rng, container, offset) {\n    if (container.nodeType !== 1 || container.hasChildNodes()) {\n      rng.setEnd(container, scopeIndex(container, offset));\n    } else {\n      rng.setEndAfter(container);\n    }\n  };\n  var parseCurrentLine = function (editor, endOffset, delimiter) {\n    var rng, end, start, endContainer, bookmark, text, matches, prev, len, rngText;\n    var autoLinkPattern = $_3ico058vjnlpb0q4.getAutoLinkPattern(editor);\n    var defaultLinkTarget = $_3ico058vjnlpb0q4.getDefaultLinkTarget(editor);\n    if (editor.selection.getNode().tagName === 'A') {\n      return;\n    }\n    rng = editor.selection.getRng(true).cloneRange();\n    if (rng.startOffset < 5) {\n      prev = rng.endContainer.previousSibling;\n      if (!prev) {\n        if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n          return;\n        }\n        prev = rng.endContainer.firstChild.nextSibling;\n      }\n      len = prev.length;\n      setStart(rng, prev, len);\n      setEnd(rng, prev, len);\n      if (rng.endOffset < 5) {\n        return;\n      }\n      end = rng.endOffset;\n      endContainer = prev;\n    } else {\n      endContainer = rng.endContainer;\n      if (endContainer.nodeType !== 3 && endContainer.firstChild) {\n        while (endContainer.nodeType !== 3 && endContainer.firstChild) {\n          endContainer = endContainer.firstChild;\n        }\n        if (endContainer.nodeType === 3) {\n          setStart(rng, endContainer, 0);\n          setEnd(rng, endContainer, endContainer.nodeValue.length);\n        }\n      }\n      if (rng.endOffset === 1) {\n        end = 2;\n      } else {\n        end = rng.endOffset - 1 - endOffset;\n      }\n    }\n    start = end;\n    do {\n      setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n      setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n      end -= 1;\n      rngText = rng.toString();\n    } while (rngText !== ' ' && rngText !== '' && rngText.charCodeAt(0) !== 160 && end - 2 >= 0 && rngText !== delimiter);\n    if (rangeEqualsDelimiterOrSpace(rng.toString(), delimiter)) {\n      setStart(rng, endContainer, end);\n      setEnd(rng, endContainer, start);\n      end += 1;\n    } else if (rng.startOffset === 0) {\n      setStart(rng, endContainer, 0);\n      setEnd(rng, endContainer, start);\n    } else {\n      setStart(rng, endContainer, end);\n      setEnd(rng, endContainer, start);\n    }\n    text = rng.toString();\n    if (text.charAt(text.length - 1) === '.') {\n      setEnd(rng, endContainer, start - 1);\n    }\n    text = rng.toString().trim();\n    matches = text.match(autoLinkPattern);\n    if (matches) {\n      if (matches[1] === 'www.') {\n        matches[1] = 'http://www.';\n      } else if (/@$/.test(matches[1]) && !/^mailto:/.test(matches[1])) {\n        matches[1] = 'mailto:' + matches[1];\n      }\n      bookmark = editor.selection.getBookmark();\n      editor.selection.setRng(rng);\n      editor.execCommand('createlink', false, matches[1] + matches[2]);\n      if (defaultLinkTarget) {\n        editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n      }\n      editor.selection.moveToBookmark(bookmark);\n      editor.nodeChanged();\n    }\n  };\n  var setup = function (editor) {\n    var autoUrlDetectState;\n    editor.on('keydown', function (e) {\n      if (e.keyCode === 13) {\n        return handleEnter(editor);\n      }\n    });\n    if (global$1.ie) {\n      editor.on('focus', function () {\n        if (!autoUrlDetectState) {\n          autoUrlDetectState = true;\n          try {\n            editor.execCommand('AutoUrlDetect', false, true);\n          } catch (ex) {\n          }\n        }\n      });\n      return;\n    }\n    editor.on('keypress', function (e) {\n      if (e.keyCode === 41) {\n        return handleEclipse(editor);\n      }\n    });\n    editor.on('keyup', function (e) {\n      if (e.keyCode === 32) {\n        return handleSpacebar(editor);\n      }\n    });\n  };\n  var $_d4bfpx8tjnlpb0pz = { setup: setup };\n\n  global.add('autolink', function (editor) {\n    $_d4bfpx8tjnlpb0pz.setup(editor);\n  });\n  function Plugin () {\n  }\n\n  return Plugin;\n\n}());\n})();\n"]}]}